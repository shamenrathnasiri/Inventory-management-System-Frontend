var pL=Object.defineProperty;var gL=(t,s,r)=>s in t?pL(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r;var ds=(t,s,r)=>gL(t,typeof s!="symbol"?s+"":s,r);(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var b0e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fv={exports:{}},vf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H3;function yL(){if(H3)return vf;H3=1;var t=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function r(a,n,i){var o=null;if(i!==void 0&&(o=""+i),n.key!==void 0&&(o=""+n.key),"key"in n){i={};for(var l in n)l!=="key"&&(i[l]=n[l])}else i=n;return n=i.ref,{$$typeof:t,type:a,key:o,ref:n!==void 0?n:null,props:i}}return vf.Fragment=s,vf.jsx=r,vf.jsxs=r,vf}var W3;function bL(){return W3||(W3=1,fv.exports=yL()),fv.exports}var e=bL(),pv={exports:{}},Zs={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G3;function vL(){if(G3)return Zs;G3=1;var t=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function p(ee){return ee===null||typeof ee!="object"?null:(ee=f&&ee[f]||ee["@@iterator"],typeof ee=="function"?ee:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function b(ee,ce,U){this.props=ee,this.context=ce,this.refs=y,this.updater=U||g}b.prototype.isReactComponent={},b.prototype.setState=function(ee,ce){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,ce,"setState")},b.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function _(){}_.prototype=b.prototype;function k(ee,ce,U){this.props=ee,this.context=ce,this.refs=y,this.updater=U||g}var A=k.prototype=new _;A.constructor=k,v(A,b.prototype),A.isPureReactComponent=!0;var R=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},V=Object.prototype.hasOwnProperty;function S(ee,ce,U,O,z,q){return U=q.ref,{$$typeof:t,type:ee,key:ce,ref:U!==void 0?U:null,props:q}}function L(ee,ce){return S(ee.type,ce,void 0,void 0,void 0,ee.props)}function I(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===t}function B(ee){var ce={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(U){return ce[U]})}var T=/\/+/g;function w(ee,ce){return typeof ee=="object"&&ee!==null&&ee.key!=null?B(""+ee.key):ce.toString(36)}function E(){}function D(ee){switch(ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason;default:switch(typeof ee.status=="string"?ee.then(E,E):(ee.status="pending",ee.then(function(ce){ee.status==="pending"&&(ee.status="fulfilled",ee.value=ce)},function(ce){ee.status==="pending"&&(ee.status="rejected",ee.reason=ce)})),ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason}}throw ee}function G(ee,ce,U,O,z){var q=typeof ee;(q==="undefined"||q==="boolean")&&(ee=null);var te=!1;if(ee===null)te=!0;else switch(q){case"bigint":case"string":case"number":te=!0;break;case"object":switch(ee.$$typeof){case t:case s:te=!0;break;case h:return te=ee._init,G(te(ee._payload),ce,U,O,z)}}if(te)return z=z(ee),te=O===""?"."+w(ee,0):O,R(z)?(U="",te!=null&&(U=te.replace(T,"$&/")+"/"),G(z,ce,U,"",function(ue){return ue})):z!=null&&(I(z)&&(z=L(z,U+(z.key==null||ee&&ee.key===z.key?"":(""+z.key).replace(T,"$&/")+"/")+te)),ce.push(z)),1;te=0;var ge=O===""?".":O+":";if(R(ee))for(var Q=0;Q<ee.length;Q++)O=ee[Q],q=ge+w(O,Q),te+=G(O,ce,U,q,z);else if(Q=p(ee),typeof Q=="function")for(ee=Q.call(ee),Q=0;!(O=ee.next()).done;)O=O.value,q=ge+w(O,Q++),te+=G(O,ce,U,q,z);else if(q==="object"){if(typeof ee.then=="function")return G(D(ee),ce,U,O,z);throw ce=String(ee),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return te}function K(ee,ce,U){if(ee==null)return ee;var O=[],z=0;return G(ee,O,"","",function(q){return ce.call(U,q,z++)}),O}function X(ee){if(ee._status===-1){var ce=ee._result;ce=ce(),ce.then(function(U){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=U)},function(U){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=U)}),ee._status===-1&&(ee._status=0,ee._result=ce)}if(ee._status===1)return ee._result.default;throw ee._result}var se=typeof reportError=="function"?reportError:function(ee){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ee=="object"&&ee!==null&&typeof ee.message=="string"?String(ee.message):String(ee),error:ee});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ee);return}console.error(ee)};function Z(){}return Zs.Children={map:K,forEach:function(ee,ce,U){K(ee,function(){ce.apply(this,arguments)},U)},count:function(ee){var ce=0;return K(ee,function(){ce++}),ce},toArray:function(ee){return K(ee,function(ce){return ce})||[]},only:function(ee){if(!I(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}},Zs.Component=b,Zs.Fragment=r,Zs.Profiler=n,Zs.PureComponent=k,Zs.StrictMode=a,Zs.Suspense=d,Zs.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Zs.__COMPILER_RUNTIME={__proto__:null,c:function(ee){return F.H.useMemoCache(ee)}},Zs.cache=function(ee){return function(){return ee.apply(null,arguments)}},Zs.cloneElement=function(ee,ce,U){if(ee==null)throw Error("The argument must be a React element, but you passed "+ee+".");var O=v({},ee.props),z=ee.key,q=void 0;if(ce!=null)for(te in ce.ref!==void 0&&(q=void 0),ce.key!==void 0&&(z=""+ce.key),ce)!V.call(ce,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&ce.ref===void 0||(O[te]=ce[te]);var te=arguments.length-2;if(te===1)O.children=U;else if(1<te){for(var ge=Array(te),Q=0;Q<te;Q++)ge[Q]=arguments[Q+2];O.children=ge}return S(ee.type,z,void 0,void 0,q,O)},Zs.createContext=function(ee){return ee={$$typeof:o,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null},ee.Provider=ee,ee.Consumer={$$typeof:i,_context:ee},ee},Zs.createElement=function(ee,ce,U){var O,z={},q=null;if(ce!=null)for(O in ce.key!==void 0&&(q=""+ce.key),ce)V.call(ce,O)&&O!=="key"&&O!=="__self"&&O!=="__source"&&(z[O]=ce[O]);var te=arguments.length-2;if(te===1)z.children=U;else if(1<te){for(var ge=Array(te),Q=0;Q<te;Q++)ge[Q]=arguments[Q+2];z.children=ge}if(ee&&ee.defaultProps)for(O in te=ee.defaultProps,te)z[O]===void 0&&(z[O]=te[O]);return S(ee,q,void 0,void 0,null,z)},Zs.createRef=function(){return{current:null}},Zs.forwardRef=function(ee){return{$$typeof:l,render:ee}},Zs.isValidElement=I,Zs.lazy=function(ee){return{$$typeof:h,_payload:{_status:-1,_result:ee},_init:X}},Zs.memo=function(ee,ce){return{$$typeof:u,type:ee,compare:ce===void 0?null:ce}},Zs.startTransition=function(ee){var ce=F.T,U={};F.T=U;try{var O=ee(),z=F.S;z!==null&&z(U,O),typeof O=="object"&&O!==null&&typeof O.then=="function"&&O.then(Z,se)}catch(q){se(q)}finally{F.T=ce}},Zs.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Zs.use=function(ee){return F.H.use(ee)},Zs.useActionState=function(ee,ce,U){return F.H.useActionState(ee,ce,U)},Zs.useCallback=function(ee,ce){return F.H.useCallback(ee,ce)},Zs.useContext=function(ee){return F.H.useContext(ee)},Zs.useDebugValue=function(){},Zs.useDeferredValue=function(ee,ce){return F.H.useDeferredValue(ee,ce)},Zs.useEffect=function(ee,ce,U){var O=F.H;if(typeof U=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return O.useEffect(ee,ce)},Zs.useId=function(){return F.H.useId()},Zs.useImperativeHandle=function(ee,ce,U){return F.H.useImperativeHandle(ee,ce,U)},Zs.useInsertionEffect=function(ee,ce){return F.H.useInsertionEffect(ee,ce)},Zs.useLayoutEffect=function(ee,ce){return F.H.useLayoutEffect(ee,ce)},Zs.useMemo=function(ee,ce){return F.H.useMemo(ee,ce)},Zs.useOptimistic=function(ee,ce){return F.H.useOptimistic(ee,ce)},Zs.useReducer=function(ee,ce,U){return F.H.useReducer(ee,ce,U)},Zs.useRef=function(ee){return F.H.useRef(ee)},Zs.useState=function(ee){return F.H.useState(ee)},Zs.useSyncExternalStore=function(ee,ce,U){return F.H.useSyncExternalStore(ee,ce,U)},Zs.useTransition=function(){return F.H.useTransition()},Zs.version="19.1.0",Zs}var Y3;function Hj(){return Y3||(Y3=1,pv.exports=vL()),pv.exports}var N=Hj();const An=jA(N);var gv={exports:{}},wf={},yv={exports:{}},bv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K3;function wL(){return K3||(K3=1,function(t){function s(K,X){var se=K.length;K.push(X);e:for(;0<se;){var Z=se-1>>>1,ee=K[Z];if(0<n(ee,X))K[Z]=X,K[se]=ee,se=Z;else break e}}function r(K){return K.length===0?null:K[0]}function a(K){if(K.length===0)return null;var X=K[0],se=K.pop();if(se!==X){K[0]=se;e:for(var Z=0,ee=K.length,ce=ee>>>1;Z<ce;){var U=2*(Z+1)-1,O=K[U],z=U+1,q=K[z];if(0>n(O,se))z<ee&&0>n(q,O)?(K[Z]=q,K[z]=se,Z=z):(K[Z]=O,K[U]=se,Z=U);else if(z<ee&&0>n(q,se))K[Z]=q,K[z]=se,Z=z;else break e}}return X}function n(K,X){var se=K.sortIndex-X.sortIndex;return se!==0?se:K.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var d=[],u=[],h=1,f=null,p=3,g=!1,v=!1,y=!1,b=!1,_=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function R(K){for(var X=r(u);X!==null;){if(X.callback===null)a(u);else if(X.startTime<=K)a(u),X.sortIndex=X.expirationTime,s(d,X);else break;X=r(u)}}function F(K){if(y=!1,R(K),!v)if(r(d)!==null)v=!0,V||(V=!0,w());else{var X=r(u);X!==null&&G(F,X.startTime-K)}}var V=!1,S=-1,L=5,I=-1;function B(){return b?!0:!(t.unstable_now()-I<L)}function T(){if(b=!1,V){var K=t.unstable_now();I=K;var X=!0;try{e:{v=!1,y&&(y=!1,k(S),S=-1),g=!0;var se=p;try{t:{for(R(K),f=r(d);f!==null&&!(f.expirationTime>K&&B());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,p=f.priorityLevel;var ee=Z(f.expirationTime<=K);if(K=t.unstable_now(),typeof ee=="function"){f.callback=ee,R(K),X=!0;break t}f===r(d)&&a(d),R(K)}else a(d);f=r(d)}if(f!==null)X=!0;else{var ce=r(u);ce!==null&&G(F,ce.startTime-K),X=!1}}break e}finally{f=null,p=se,g=!1}X=void 0}}finally{X?w():V=!1}}}var w;if(typeof A=="function")w=function(){A(T)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,D=E.port2;E.port1.onmessage=T,w=function(){D.postMessage(null)}}else w=function(){_(T,0)};function G(K,X){S=_(function(){K(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(K){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var se=p;p=X;try{return K()}finally{p=se}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(K,X){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var se=p;p=K;try{return X()}finally{p=se}},t.unstable_scheduleCallback=function(K,X,se){var Z=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Z+se:Z):se=Z,K){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=se+ee,K={id:h++,callback:X,priorityLevel:K,startTime:se,expirationTime:ee,sortIndex:-1},se>Z?(K.sortIndex=se,s(u,K),r(d)===null&&K===r(u)&&(y?(k(S),S=-1):y=!0,G(F,se-Z))):(K.sortIndex=ee,s(d,K),v||g||(v=!0,V||(V=!0,w()))),K},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(K){var X=p;return function(){var se=p;p=X;try{return K.apply(this,arguments)}finally{p=se}}}}(bv)),bv}var X3;function jL(){return X3||(X3=1,yv.exports=wL()),yv.exports}var vv={exports:{}},ai={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q3;function NL(){if(Q3)return ai;Q3=1;var t=Hj();function s(d){var u="https://react.dev/errors/"+d;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+d+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(s(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},n=Symbol.for("react.portal");function i(d,u,h){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:f==null?null:""+f,children:d,containerInfo:u,implementation:h}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(d,u){if(d==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return ai.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ai.createPortal=function(d,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(s(299));return i(d,u,null,h)},ai.flushSync=function(d){var u=o.T,h=a.p;try{if(o.T=null,a.p=2,d)return d()}finally{o.T=u,a.p=h,a.d.f()}},ai.preconnect=function(d,u){typeof d=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,a.d.C(d,u))},ai.prefetchDNS=function(d){typeof d=="string"&&a.d.D(d)},ai.preinit=function(d,u){if(typeof d=="string"&&u&&typeof u.as=="string"){var h=u.as,f=l(h,u.crossOrigin),p=typeof u.integrity=="string"?u.integrity:void 0,g=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;h==="style"?a.d.S(d,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:f,integrity:p,fetchPriority:g}):h==="script"&&a.d.X(d,{crossOrigin:f,integrity:p,fetchPriority:g,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},ai.preinitModule=function(d,u){if(typeof d=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var h=l(u.as,u.crossOrigin);a.d.M(d,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&a.d.M(d)},ai.preload=function(d,u){if(typeof d=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var h=u.as,f=l(h,u.crossOrigin);a.d.L(d,h,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},ai.preloadModule=function(d,u){if(typeof d=="string")if(u){var h=l(u.as,u.crossOrigin);a.d.m(d,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else a.d.m(d)},ai.requestFormReset=function(d){a.d.r(d)},ai.unstable_batchedUpdates=function(d,u){return d(u)},ai.useFormState=function(d,u,h){return o.H.useFormState(d,u,h)},ai.useFormStatus=function(){return o.H.useHostTransitionStatus()},ai.version="19.1.0",ai}var J3;function SL(){if(J3)return vv.exports;J3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),vv.exports=NL(),vv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z3;function _L(){if(Z3)return wf;Z3=1;var t=jL(),s=Hj(),r=SL();function a(c){var m="https://react.dev/errors/"+c;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+c+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function i(c){var m=c,x=c;if(c.alternate)for(;m.return;)m=m.return;else{c=m;do m=c,(m.flags&4098)!==0&&(x=m.return),c=m.return;while(c)}return m.tag===3?x:null}function o(c){if(c.tag===13){var m=c.memoizedState;if(m===null&&(c=c.alternate,c!==null&&(m=c.memoizedState)),m!==null)return m.dehydrated}return null}function l(c){if(i(c)!==c)throw Error(a(188))}function d(c){var m=c.alternate;if(!m){if(m=i(c),m===null)throw Error(a(188));return m!==c?null:c}for(var x=c,j=m;;){var P=x.return;if(P===null)break;var H=P.alternate;if(H===null){if(j=P.return,j!==null){x=j;continue}break}if(P.child===H.child){for(H=P.child;H;){if(H===x)return l(P),c;if(H===j)return l(P),m;H=H.sibling}throw Error(a(188))}if(x.return!==j.return)x=P,j=H;else{for(var de=!1,je=P.child;je;){if(je===x){de=!0,x=P,j=H;break}if(je===j){de=!0,j=P,x=H;break}je=je.sibling}if(!de){for(je=H.child;je;){if(je===x){de=!0,x=H,j=P;break}if(je===j){de=!0,j=H,x=P;break}je=je.sibling}if(!de)throw Error(a(189))}}if(x.alternate!==j)throw Error(a(190))}if(x.tag!==3)throw Error(a(188));return x.stateNode.current===x?c:m}function u(c){var m=c.tag;if(m===5||m===26||m===27||m===6)return c;for(c=c.child;c!==null;){if(m=u(c),m!==null)return m;c=c.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),A=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function w(c){return c===null||typeof c!="object"?null:(c=T&&c[T]||c["@@iterator"],typeof c=="function"?c:null)}var E=Symbol.for("react.client.reference");function D(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===E?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case v:return"Fragment";case b:return"Profiler";case y:return"StrictMode";case F:return"Suspense";case V:return"SuspenseList";case I:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case g:return"Portal";case A:return(c.displayName||"Context")+".Provider";case k:return(c._context.displayName||"Context")+".Consumer";case R:var m=c.render;return c=c.displayName,c||(c=m.displayName||m.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case S:return m=c.displayName||null,m!==null?m:D(c.type)||"Memo";case L:m=c._payload,c=c._init;try{return D(c(m))}catch{}}return null}var G=Array.isArray,K=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},Z=[],ee=-1;function ce(c){return{current:c}}function U(c){0>ee||(c.current=Z[ee],Z[ee]=null,ee--)}function O(c,m){ee++,Z[ee]=c.current,c.current=m}var z=ce(null),q=ce(null),te=ce(null),ge=ce(null);function Q(c,m){switch(O(te,m),O(q,c),O(z,null),m.nodeType){case 9:case 11:c=(c=m.documentElement)&&(c=c.namespaceURI)?b3(c):0;break;default:if(c=m.tagName,m=m.namespaceURI)m=b3(m),c=v3(m,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}U(z),O(z,c)}function ue(){U(z),U(q),U(te)}function ie(c){c.memoizedState!==null&&O(ge,c);var m=z.current,x=v3(m,c.type);m!==x&&(O(q,c),O(z,x))}function oe(c){q.current===c&&(U(z),U(q)),ge.current===c&&(U(ge),ff._currentValue=se)}var J=Object.prototype.hasOwnProperty,re=t.unstable_scheduleCallback,ve=t.unstable_cancelCallback,pe=t.unstable_shouldYield,ae=t.unstable_requestPaint,he=t.unstable_now,Te=t.unstable_getCurrentPriorityLevel,Ie=t.unstable_ImmediatePriority,Be=t.unstable_UserBlockingPriority,Le=t.unstable_NormalPriority,Ee=t.unstable_LowPriority,Ve=t.unstable_IdlePriority,mt=t.log,gt=t.unstable_setDisableYieldValue,Pe=null,Ae=null;function We(c){if(typeof mt=="function"&&gt(c),Ae&&typeof Ae.setStrictMode=="function")try{Ae.setStrictMode(Pe,c)}catch{}}var Xe=Math.clz32?Math.clz32:ct,st=Math.log,ke=Math.LN2;function ct(c){return c>>>=0,c===0?32:31-(st(c)/ke|0)|0}var nt=256,Bt=4194304;function Ge(c){var m=c&42;if(m!==0)return m;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function St(c,m,x){var j=c.pendingLanes;if(j===0)return 0;var P=0,H=c.suspendedLanes,de=c.pingedLanes;c=c.warmLanes;var je=j&134217727;return je!==0?(j=je&~H,j!==0?P=Ge(j):(de&=je,de!==0?P=Ge(de):x||(x=je&~c,x!==0&&(P=Ge(x))))):(je=j&~H,je!==0?P=Ge(je):de!==0?P=Ge(de):x||(x=j&~c,x!==0&&(P=Ge(x)))),P===0?0:m!==0&&m!==P&&(m&H)===0&&(H=P&-P,x=m&-m,H>=x||H===32&&(x&4194048)!==0)?m:P}function bt(c,m){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&m)===0}function qe(c,m){switch(c){case 1:case 2:case 4:case 8:case 64:return m+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oe(){var c=nt;return nt<<=1,(nt&4194048)===0&&(nt=256),c}function jt(){var c=Bt;return Bt<<=1,(Bt&62914560)===0&&(Bt=4194304),c}function Et(c){for(var m=[],x=0;31>x;x++)m.push(c);return m}function qt(c,m){c.pendingLanes|=m,m!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Gt(c,m,x,j,P,H){var de=c.pendingLanes;c.pendingLanes=x,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=x,c.entangledLanes&=x,c.errorRecoveryDisabledLanes&=x,c.shellSuspendCounter=0;var je=c.entanglements,He=c.expirationTimes,yt=c.hiddenUpdates;for(x=de&~x;0<x;){var Pt=31-Xe(x),It=1<<Pt;je[Pt]=0,He[Pt]=-1;var wt=yt[Pt];if(wt!==null)for(yt[Pt]=null,Pt=0;Pt<wt.length;Pt++){var Nt=wt[Pt];Nt!==null&&(Nt.lane&=-536870913)}x&=~It}j!==0&&Yt(c,j,0),H!==0&&P===0&&c.tag!==0&&(c.suspendedLanes|=H&~(de&~m))}function Yt(c,m,x){c.pendingLanes|=m,c.suspendedLanes&=~m;var j=31-Xe(m);c.entangledLanes|=m,c.entanglements[j]=c.entanglements[j]|1073741824|x&4194090}function Xt(c,m){var x=c.entangledLanes|=m;for(c=c.entanglements;x;){var j=31-Xe(x),P=1<<j;P&m|c[j]&m&&(c[j]|=m),x&=~P}}function is(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function ws(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function Us(){var c=X.p;return c!==0?c:(c=window.event,c===void 0?32:B3(c.type))}function Zt(c,m){var x=X.p;try{return X.p=c,m()}finally{X.p=x}}var Wt=Math.random().toString(36).slice(2),Es="__reactFiber$"+Wt,Bs="__reactProps$"+Wt,sr="__reactContainer$"+Wt,Ms="__reactEvents$"+Wt,dt="__reactListeners$"+Wt,le="__reactHandles$"+Wt,Se="__reactResources$"+Wt,me="__reactMarker$"+Wt;function _e(c){delete c[Es],delete c[Bs],delete c[Ms],delete c[dt],delete c[le]}function De(c){var m=c[Es];if(m)return m;for(var x=c.parentNode;x;){if(m=x[sr]||x[Es]){if(x=m.alternate,m.child!==null||x!==null&&x.child!==null)for(c=S3(c);c!==null;){if(x=c[Es])return x;c=S3(c)}return m}c=x,x=c.parentNode}return null}function Ne(c){if(c=c[Es]||c[sr]){var m=c.tag;if(m===5||m===6||m===13||m===26||m===27||m===3)return c}return null}function Je(c){var m=c.tag;if(m===5||m===26||m===27||m===6)return c.stateNode;throw Error(a(33))}function $e(c){var m=c[Se];return m||(m=c[Se]={hoistableStyles:new Map,hoistableScripts:new Map}),m}function Ke(c){c[me]=!0}var ot=new Set,Fe={};function Ye(c,m){lt(c,m),lt(c+"Capture",m)}function lt(c,m){for(Fe[c]=m,c=0;c<m.length;c++)ot.add(m[c])}var Mt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dt={},Ht={};function rs(c){return J.call(Ht,c)?!0:J.call(Dt,c)?!1:Mt.test(c)?Ht[c]=!0:(Dt[c]=!0,!1)}function fs(c,m,x){if(rs(m))if(x===null)c.removeAttribute(m);else{switch(typeof x){case"undefined":case"function":case"symbol":c.removeAttribute(m);return;case"boolean":var j=m.toLowerCase().slice(0,5);if(j!=="data-"&&j!=="aria-"){c.removeAttribute(m);return}}c.setAttribute(m,""+x)}}function Ue(c,m,x){if(x===null)c.removeAttribute(m);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(m);return}c.setAttribute(m,""+x)}}function vt(c,m,x,j){if(j===null)c.removeAttribute(x);else{switch(typeof j){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(x);return}c.setAttributeNS(m,x,""+j)}}var Ut,os;function zs(c){if(Ut===void 0)try{throw Error()}catch(x){var m=x.stack.trim().match(/\n( *(at )?)/);Ut=m&&m[1]||"",os=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ut+c+os}var Ls=!1;function Nr(c,m){if(!c||Ls)return"";Ls=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var j={DetermineComponentFrameRoot:function(){try{if(m){var It=function(){throw Error()};if(Object.defineProperty(It.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(It,[])}catch(Nt){var wt=Nt}Reflect.construct(c,[],It)}else{try{It.call()}catch(Nt){wt=Nt}c.call(It.prototype)}}else{try{throw Error()}catch(Nt){wt=Nt}(It=c())&&typeof It.catch=="function"&&It.catch(function(){})}}catch(Nt){if(Nt&&wt&&typeof Nt.stack=="string")return[Nt.stack,wt.stack]}return[null,null]}};j.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var P=Object.getOwnPropertyDescriptor(j.DetermineComponentFrameRoot,"name");P&&P.configurable&&Object.defineProperty(j.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var H=j.DetermineComponentFrameRoot(),de=H[0],je=H[1];if(de&&je){var He=de.split(`
`),yt=je.split(`
`);for(P=j=0;j<He.length&&!He[j].includes("DetermineComponentFrameRoot");)j++;for(;P<yt.length&&!yt[P].includes("DetermineComponentFrameRoot");)P++;if(j===He.length||P===yt.length)for(j=He.length-1,P=yt.length-1;1<=j&&0<=P&&He[j]!==yt[P];)P--;for(;1<=j&&0<=P;j--,P--)if(He[j]!==yt[P]){if(j!==1||P!==1)do if(j--,P--,0>P||He[j]!==yt[P]){var Pt=`
`+He[j].replace(" at new "," at ");return c.displayName&&Pt.includes("<anonymous>")&&(Pt=Pt.replace("<anonymous>",c.displayName)),Pt}while(1<=j&&0<=P);break}}}finally{Ls=!1,Error.prepareStackTrace=x}return(x=c?c.displayName||c.name:"")?zs(x):""}function Pr(c){switch(c.tag){case 26:case 27:case 5:return zs(c.type);case 16:return zs("Lazy");case 13:return zs("Suspense");case 19:return zs("SuspenseList");case 0:case 15:return Nr(c.type,!1);case 11:return Nr(c.type.render,!1);case 1:return Nr(c.type,!0);case 31:return zs("Activity");default:return""}}function lr(c){try{var m="";do m+=Pr(c),c=c.return;while(c);return m}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function xr(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Nn(c){var m=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function Fn(c){var m=Nn(c)?"checked":"value",x=Object.getOwnPropertyDescriptor(c.constructor.prototype,m),j=""+c[m];if(!c.hasOwnProperty(m)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var P=x.get,H=x.set;return Object.defineProperty(c,m,{configurable:!0,get:function(){return P.call(this)},set:function(de){j=""+de,H.call(this,de)}}),Object.defineProperty(c,m,{enumerable:x.enumerable}),{getValue:function(){return j},setValue:function(de){j=""+de},stopTracking:function(){c._valueTracker=null,delete c[m]}}}}function mn(c){c._valueTracker||(c._valueTracker=Fn(c))}function Ci(c){if(!c)return!1;var m=c._valueTracker;if(!m)return!0;var x=m.getValue(),j="";return c&&(j=Nn(c)?c.checked?"true":"false":c.value),c=j,c!==x?(m.setValue(c),!0):!1}function aa(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var Rn=/[\n"\\]/g;function Sr(c){return c.replace(Rn,function(m){return"\\"+m.charCodeAt(0).toString(16)+" "})}function ki(c,m,x,j,P,H,de,je){c.name="",de!=null&&typeof de!="function"&&typeof de!="symbol"&&typeof de!="boolean"?c.type=de:c.removeAttribute("type"),m!=null?de==="number"?(m===0&&c.value===""||c.value!=m)&&(c.value=""+xr(m)):c.value!==""+xr(m)&&(c.value=""+xr(m)):de!=="submit"&&de!=="reset"||c.removeAttribute("value"),m!=null?uo(c,de,xr(m)):x!=null?uo(c,de,xr(x)):j!=null&&c.removeAttribute("value"),P==null&&H!=null&&(c.defaultChecked=!!H),P!=null&&(c.checked=P&&typeof P!="function"&&typeof P!="symbol"),je!=null&&typeof je!="function"&&typeof je!="symbol"&&typeof je!="boolean"?c.name=""+xr(je):c.removeAttribute("name")}function co(c,m,x,j,P,H,de,je){if(H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(c.type=H),m!=null||x!=null){if(!(H!=="submit"&&H!=="reset"||m!=null))return;x=x!=null?""+xr(x):"",m=m!=null?""+xr(m):x,je||m===c.value||(c.value=m),c.defaultValue=m}j=j??P,j=typeof j!="function"&&typeof j!="symbol"&&!!j,c.checked=je?c.checked:!!j,c.defaultChecked=!!j,de!=null&&typeof de!="function"&&typeof de!="symbol"&&typeof de!="boolean"&&(c.name=de)}function uo(c,m,x){m==="number"&&aa(c.ownerDocument)===c||c.defaultValue===""+x||(c.defaultValue=""+x)}function On(c,m,x,j){if(c=c.options,m){m={};for(var P=0;P<x.length;P++)m["$"+x[P]]=!0;for(x=0;x<c.length;x++)P=m.hasOwnProperty("$"+c[x].value),c[x].selected!==P&&(c[x].selected=P),P&&j&&(c[x].defaultSelected=!0)}else{for(x=""+xr(x),m=null,P=0;P<c.length;P++){if(c[P].value===x){c[P].selected=!0,j&&(c[P].defaultSelected=!0);return}m!==null||c[P].disabled||(m=c[P])}m!==null&&(m.selected=!0)}}function zo(c,m,x){if(m!=null&&(m=""+xr(m),m!==c.value&&(c.value=m),x==null)){c.defaultValue!==m&&(c.defaultValue=m);return}c.defaultValue=x!=null?""+xr(x):""}function mo(c,m,x,j){if(m==null){if(j!=null){if(x!=null)throw Error(a(92));if(G(j)){if(1<j.length)throw Error(a(93));j=j[0]}x=j}x==null&&(x=""),m=x}x=xr(m),c.defaultValue=x,j=c.textContent,j===x&&j!==""&&j!==null&&(c.value=j)}function Jn(c,m){if(m){var x=c.firstChild;if(x&&x===c.lastChild&&x.nodeType===3){x.nodeValue=m;return}}c.textContent=m}var ho=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $o(c,m,x){var j=m.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?j?c.setProperty(m,""):m==="float"?c.cssFloat="":c[m]="":j?c.setProperty(m,x):typeof x!="number"||x===0||ho.has(m)?m==="float"?c.cssFloat=x:c[m]=(""+x).trim():c[m]=x+"px"}function Ai(c,m,x){if(m!=null&&typeof m!="object")throw Error(a(62));if(c=c.style,x!=null){for(var j in x)!x.hasOwnProperty(j)||m!=null&&m.hasOwnProperty(j)||(j.indexOf("--")===0?c.setProperty(j,""):j==="float"?c.cssFloat="":c[j]="");for(var P in m)j=m[P],m.hasOwnProperty(P)&&x[P]!==j&&$o(c,P,j)}else for(var H in m)m.hasOwnProperty(H)&&$o(c,H,m[H])}function ic(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qi=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hi(c){return bl.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var vl=null;function pa(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var xo=null,Wi=null;function _s(c){var m=Ne(c);if(m&&(c=m.stateNode)){var x=c[Bs]||null;e:switch(c=m.stateNode,m.type){case"input":if(ki(c,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),m=x.name,x.type==="radio"&&m!=null){for(x=c;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+Sr(""+m)+'"][type="radio"]'),m=0;m<x.length;m++){var j=x[m];if(j!==c&&j.form===c.form){var P=j[Bs]||null;if(!P)throw Error(a(90));ki(j,P.value,P.defaultValue,P.defaultValue,P.checked,P.defaultChecked,P.type,P.name)}}for(m=0;m<x.length;m++)j=x[m],j.form===c.form&&Ci(j)}break e;case"textarea":zo(c,x.value,x.defaultValue);break e;case"select":m=x.value,m!=null&&On(c,!!x.multiple,m,!1)}}}var oc=!1;function cd(c,m,x){if(oc)return c(m,x);oc=!0;try{var j=c(m);return j}finally{if(oc=!1,(xo!==null||Wi!==null)&&(Xg(),xo&&(m=xo,c=Wi,Wi=xo=null,_s(m),c)))for(m=0;m<c.length;m++)_s(c[m])}}function hn(c,m){var x=c.stateNode;if(x===null)return null;var j=x[Bs]||null;if(j===null)return null;x=j[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(c=c.type,j=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!j;break e;default:c=!1}if(c)return null;if(x&&typeof x!="function")throw Error(a(231,m,typeof x));return x}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wl=!1;if(In)try{var Ei={};Object.defineProperty(Ei,"passive",{get:function(){wl=!0}}),window.addEventListener("test",Ei,Ei),window.removeEventListener("test",Ei,Ei)}catch{wl=!1}var Bn=null,lc=null,Kt=null;function iu(){if(Kt)return Kt;var c,m=lc,x=m.length,j,P="value"in Bn?Bn.value:Bn.textContent,H=P.length;for(c=0;c<x&&m[c]===P[c];c++);var de=x-c;for(j=1;j<=de&&m[x-j]===P[H-j];j++);return Kt=P.slice(c,1<j?1-j:void 0)}function Uo(c){var m=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&m===13&&(c=13)):c=m,c===10&&(c=13),32<=c||c===13?c:0}function Gi(){return!0}function fo(){return!1}function Xa(c){function m(x,j,P,H,de){this._reactName=x,this._targetInst=P,this.type=j,this.nativeEvent=H,this.target=de,this.currentTarget=null;for(var je in c)c.hasOwnProperty(je)&&(x=c[je],this[je]=x?x(H):H[je]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?Gi:fo,this.isPropagationStopped=fo,this}return h(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),m}var Ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xn=Xa(Ys),Vo=h({},Ys,{view:0,detail:0}),q0=Xa(Vo),ou,lu,cc,Ti=h({},Vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mu,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==cc&&(cc&&c.type==="mousemove"?(ou=c.screenX-cc.screenX,lu=c.screenY-cc.screenY):lu=ou=0,cc=c),ou)},movementY:function(c){return"movementY"in c?c.movementY:lu}}),qo=Xa(Ti),Dx=h({},Ti,{dataTransfer:0}),dc=Xa(Dx),po=h({},Vo,{relatedTarget:0}),dd=Xa(po),ud=h({},Ys,{animationName:0,elapsedTime:0,pseudoElement:0}),Px=Xa(ud),cu=h({},Ys,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Mx=Xa(cu),Nm=h({},Ys,{data:0}),du=Xa(Nm),H0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _m(c){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(c):(c=Sm[c])?!!m[c]:!1}function mu(){return _m}var Lx=h({},Vo,{key:function(c){if(c.key){var m=H0[c.key]||c.key;if(m!=="Unidentified")return m}return c.type==="keypress"?(c=Uo(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?uu[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mu,charCode:function(c){return c.type==="keypress"?Uo(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Uo(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),hu=Xa(Lx),md=h({},Ti,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xu=Xa(md),uc=h({},Vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mu}),Cm=Xa(uc),W=h({},Ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),fe=Xa(W),ze=h({},Ti,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Qe=Xa(ze),ht=h({},Ys,{newState:0,oldState:0}),At=Xa(ht),$t=[9,13,27,32],ts=In&&"CompositionEvent"in window,ms=null;In&&"documentMode"in document&&(ms=document.documentMode);var qs=In&&"TextEvent"in window&&!ms,$s=In&&(!ts||ms&&8<ms&&11>=ms),ur=" ",Xr=!1;function na(c,m){switch(c){case"keyup":return $t.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ga(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var ya=!1;function Qa(c,m){switch(c){case"compositionend":return ga(m);case"keypress":return m.which!==32?null:(Xr=!0,ur);case"textInput":return c=m.data,c===ur&&Xr?null:c;default:return null}}function go(c,m){if(ya)return c==="compositionend"||!ts&&na(c,m)?(c=iu(),Kt=lc=Bn=null,ya=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return $s&&m.locale!=="ko"?null:m.data;default:return null}}var Di={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yo(c){var m=c&&c.nodeName&&c.nodeName.toLowerCase();return m==="input"?!!Di[c.type]:m==="textarea"}function km(c,m,x,j){xo?Wi?Wi.push(j):Wi=[j]:xo=j,m=sy(m,"onChange"),0<m.length&&(x=new xn("onChange","change",null,x,j),c.push({event:x,listeners:m}))}var jl=null,Nl=null;function fu(c){x3(c,0)}function mc(c){var m=Je(c);if(Ci(m))return c}function pu(c,m){if(c==="change")return m}var hd=!1;if(In){var La;if(In){var hc="oninput"in document;if(!hc){var xd=document.createElement("div");xd.setAttribute("oninput","return;"),hc=typeof xd.oninput=="function"}La=hc}else La=!1;hd=La&&(!document.documentMode||9<document.documentMode)}function fd(){jl&&(jl.detachEvent("onpropertychange",gu),Nl=jl=null)}function gu(c){if(c.propertyName==="value"&&mc(Nl)){var m=[];km(m,Nl,c,pa(c)),cd(fu,m)}}function Zn(c,m,x){c==="focusin"?(fd(),jl=m,Nl=x,jl.attachEvent("onpropertychange",gu)):c==="focusout"&&fd()}function Fx(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return mc(Nl)}function Am(c,m){if(c==="click")return mc(m)}function W0(c,m){if(c==="input"||c==="change")return mc(m)}function Yi(c,m){return c===m&&(c!==0||1/c===1/m)||c!==c&&m!==m}var Ja=typeof Object.is=="function"?Object.is:Yi;function xc(c,m){if(Ja(c,m))return!0;if(typeof c!="object"||c===null||typeof m!="object"||m===null)return!1;var x=Object.keys(c),j=Object.keys(m);if(x.length!==j.length)return!1;for(j=0;j<x.length;j++){var P=x[j];if(!J.call(m,P)||!Ja(c[P],m[P]))return!1}return!0}function Em(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function Sl(c,m){var x=Em(c);c=0;for(var j;x;){if(x.nodeType===3){if(j=c+x.textContent.length,c<=m&&j>=m)return{node:x,offset:m-c};c=j}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=Em(x)}}function fc(c,m){return c&&m?c===m?!0:c&&c.nodeType===3?!1:m&&m.nodeType===3?fc(c,m.parentNode):"contains"in c?c.contains(m):c.compareDocumentPosition?!!(c.compareDocumentPosition(m)&16):!1:!1}function zn(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var m=aa(c.document);m instanceof c.HTMLIFrameElement;){try{var x=typeof m.contentWindow.location.href=="string"}catch{x=!1}if(x)c=m.contentWindow;else break;m=aa(c.document)}return m}function fn(c){var m=c&&c.nodeName&&c.nodeName.toLowerCase();return m&&(m==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||m==="textarea"||c.contentEditable==="true")}var pc=In&&"documentMode"in document&&11>=document.documentMode,ei=null,bo=null,Ho=null,vo=!1;function ca(c,m,x){var j=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;vo||ei==null||ei!==aa(j)||(j=ei,"selectionStart"in j&&fn(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),Ho&&xc(Ho,j)||(Ho=j,j=sy(bo,"onSelect"),0<j.length&&(m=new xn("onSelect","select",null,m,x),c.push({event:m,listeners:j}),m.target=ei)))}function wo(c,m){var x={};return x[c.toLowerCase()]=m.toLowerCase(),x["Webkit"+c]="webkit"+m,x["Moz"+c]="moz"+m,x}var _a={animationend:wo("Animation","AnimationEnd"),animationiteration:wo("Animation","AnimationIteration"),animationstart:wo("Animation","AnimationStart"),transitionrun:wo("Transition","TransitionRun"),transitionstart:wo("Transition","TransitionStart"),transitioncancel:wo("Transition","TransitionCancel"),transitionend:wo("Transition","TransitionEnd")},ti={},pd={};In&&(pd=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function Wo(c){if(ti[c])return ti[c];if(!_a[c])return c;var m=_a[c],x;for(x in m)if(m.hasOwnProperty(x)&&x in pd)return ti[c]=m[x];return c}var yu=Wo("animationend"),gc=Wo("animationiteration"),yc=Wo("animationstart"),bc=Wo("transitionrun"),gd=Wo("transitionstart"),bu=Wo("transitioncancel"),vc=Wo("transitionend"),_l=new Map,yd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yd.push("scrollEnd");function da(c,m){_l.set(c,m),Ye(m,[c])}var Pi=new WeakMap;function nr(c,m){if(typeof c=="object"&&c!==null){var x=Pi.get(c);return x!==void 0?x:(m={value:c,source:m,stack:lr(m)},Pi.set(c,m),m)}return{value:c,source:m,stack:lr(m)}}var ir=[],Hr=0,ba=0;function Ki(){for(var c=Hr,m=ba=Hr=0;m<c;){var x=ir[m];ir[m++]=null;var j=ir[m];ir[m++]=null;var P=ir[m];ir[m++]=null;var H=ir[m];if(ir[m++]=null,j!==null&&P!==null){var de=j.pending;de===null?P.next=P:(P.next=de.next,de.next=P),j.pending=P}H!==0&&G0(x,P,H)}}function wc(c,m,x,j){ir[Hr++]=c,ir[Hr++]=m,ir[Hr++]=x,ir[Hr++]=j,ba|=j,c.lanes|=j,c=c.alternate,c!==null&&(c.lanes|=j)}function jc(c,m,x,j){return wc(c,m,x,j),bd(c)}function Cl(c,m){return wc(c,null,null,m),bd(c)}function G0(c,m,x){c.lanes|=x;var j=c.alternate;j!==null&&(j.lanes|=x);for(var P=!1,H=c.return;H!==null;)H.childLanes|=x,j=H.alternate,j!==null&&(j.childLanes|=x),H.tag===22&&(c=H.stateNode,c===null||c._visibility&1||(P=!0)),c=H,H=H.return;return c.tag===3?(H=c.stateNode,P&&m!==null&&(P=31-Xe(x),c=H.hiddenUpdates,j=c[P],j===null?c[P]=[m]:j.push(m),m.lane=x|536870912),H):null}function bd(c){if(50<of)throw of=0,B2=null,Error(a(185));for(var m=c.return;m!==null;)c=m,m=c.return;return c.tag===3?c.stateNode:null}var Za={};function Xi(c,m,x,j){this.tag=c,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(c,m,x,j){return new Xi(c,m,x,j)}function vu(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Go(c,m){var x=c.alternate;return x===null?(x=Sn(c.tag,m,c.key,c.mode),x.elementType=c.elementType,x.type=c.type,x.stateNode=c.stateNode,x.alternate=c,c.alternate=x):(x.pendingProps=m,x.type=c.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=c.flags&65011712,x.childLanes=c.childLanes,x.lanes=c.lanes,x.child=c.child,x.memoizedProps=c.memoizedProps,x.memoizedState=c.memoizedState,x.updateQueue=c.updateQueue,m=c.dependencies,x.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},x.sibling=c.sibling,x.index=c.index,x.ref=c.ref,x.refCleanup=c.refCleanup,x}function Tm(c,m){c.flags&=65011714;var x=c.alternate;return x===null?(c.childLanes=0,c.lanes=m,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=x.childLanes,c.lanes=x.lanes,c.child=x.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=x.memoizedProps,c.memoizedState=x.memoizedState,c.updateQueue=x.updateQueue,c.type=x.type,m=x.dependencies,c.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),c}function vd(c,m,x,j,P,H){var de=0;if(j=c,typeof c=="function")vu(c)&&(de=1);else if(typeof c=="string")de=rL(c,x,z.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case I:return c=Sn(31,x,m,P),c.elementType=I,c.lanes=H,c;case v:return kl(x.children,P,H,m);case y:de=8,P|=24;break;case b:return c=Sn(12,x,m,P|2),c.elementType=b,c.lanes=H,c;case F:return c=Sn(13,x,m,P),c.elementType=F,c.lanes=H,c;case V:return c=Sn(19,x,m,P),c.elementType=V,c.lanes=H,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case _:case A:de=10;break e;case k:de=9;break e;case R:de=11;break e;case S:de=14;break e;case L:de=16,j=null;break e}de=29,x=Error(a(130,c===null?"null":typeof c,"")),j=null}return m=Sn(de,x,m,P),m.elementType=c,m.type=j,m.lanes=H,m}function kl(c,m,x,j){return c=Sn(7,c,j,m),c.lanes=x,c}function Y0(c,m,x){return c=Sn(6,c,null,m),c.lanes=x,c}function Dm(c,m,x){return m=Sn(4,c.children!==null?c.children:[],c.key,m),m.lanes=x,m.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},m}var Nc=[],Al=0,wu=null,K0=0,Qi=[],Mi=0,wd=null,El=1,Tl="";function jd(c,m){Nc[Al++]=K0,Nc[Al++]=wu,wu=c,K0=m}function vg(c,m,x){Qi[Mi++]=El,Qi[Mi++]=Tl,Qi[Mi++]=wd,wd=c;var j=El;c=Tl;var P=32-Xe(j)-1;j&=~(1<<P),x+=1;var H=32-Xe(m)+P;if(30<H){var de=P-P%5;H=(j&(1<<de)-1).toString(32),j>>=de,P-=de,El=1<<32-Xe(m)+P|x<<P|j,Tl=H+c}else El=1<<H|x<<P|j,Tl=c}function Pm(c){c.return!==null&&(jd(c,1),vg(c,1,0))}function Mm(c){for(;c===wu;)wu=Nc[--Al],Nc[Al]=null,K0=Nc[--Al],Nc[Al]=null;for(;c===wd;)wd=Qi[--Mi],Qi[Mi]=null,Tl=Qi[--Mi],Qi[Mi]=null,El=Qi[--Mi],Qi[Mi]=null}var Fa=null,ua=null,_r=!1,Sc=null,Yo=!1,Rx=Error(a(519));function Nd(c){var m=Error(a(418,""));throw ju(nr(m,c)),Rx}function wg(c){var m=c.stateNode,x=c.type,j=c.memoizedProps;switch(m[Es]=c,m[Bs]=j,x){case"dialog":hr("cancel",m),hr("close",m);break;case"iframe":case"object":case"embed":hr("load",m);break;case"video":case"audio":for(x=0;x<cf.length;x++)hr(cf[x],m);break;case"source":hr("error",m);break;case"img":case"image":case"link":hr("error",m),hr("load",m);break;case"details":hr("toggle",m);break;case"input":hr("invalid",m),co(m,j.value,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name,!0),mn(m);break;case"select":hr("invalid",m);break;case"textarea":hr("invalid",m),mo(m,j.value,j.defaultValue,j.children),mn(m)}x=j.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||m.textContent===""+x||j.suppressHydrationWarning===!0||y3(m.textContent,x)?(j.popover!=null&&(hr("beforetoggle",m),hr("toggle",m)),j.onScroll!=null&&hr("scroll",m),j.onScrollEnd!=null&&hr("scrollend",m),j.onClick!=null&&(m.onclick=ry),m=!0):m=!1,m||Nd(c)}function Dl(c){for(Fa=c.return;Fa;)switch(Fa.tag){case 5:case 13:Yo=!1;return;case 27:case 3:Yo=!0;return;default:Fa=Fa.return}}function $n(c){if(c!==Fa)return!1;if(!_r)return Dl(c),_r=!0,!1;var m=c.tag,x;if((x=m!==3&&m!==27)&&((x=m===5)&&(x=c.type,x=!(x!=="form"&&x!=="button")||tv(c.type,c.memoizedProps)),x=!x),x&&ua&&Nd(c),Dl(c),m===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));e:{for(c=c.nextSibling,m=0;c;){if(c.nodeType===8)if(x=c.data,x==="/$"){if(m===0){ua=Bl(c.nextSibling);break e}m--}else x!=="$"&&x!=="$!"&&x!=="$?"||m++;c=c.nextSibling}ua=null}}else m===27?(m=ua,Bu(c.type)?(c=nv,nv=null,ua=c):ua=m):ua=Fa?Bl(c.stateNode.nextSibling):null;return!0}function Li(){ua=Fa=null,_r=!1}function jg(){var c=Sc;return c!==null&&(eo===null?eo=c:eo.push.apply(eo,c),Sc=null),c}function ju(c){Sc===null?Sc=[c]:Sc.push(c)}var Ko=ce(null),en=null,Pl=null;function _c(c,m,x){O(Ko,m._currentValue),m._currentValue=x}function Xo(c){c._currentValue=Ko.current,U(Ko)}function X0(c,m,x){for(;c!==null;){var j=c.alternate;if((c.childLanes&m)!==m?(c.childLanes|=m,j!==null&&(j.childLanes|=m)):j!==null&&(j.childLanes&m)!==m&&(j.childLanes|=m),c===x)break;c=c.return}}function Q0(c,m,x,j){var P=c.child;for(P!==null&&(P.return=c);P!==null;){var H=P.dependencies;if(H!==null){var de=P.child;H=H.firstContext;e:for(;H!==null;){var je=H;H=P;for(var He=0;He<m.length;He++)if(je.context===m[He]){H.lanes|=x,je=H.alternate,je!==null&&(je.lanes|=x),X0(H.return,x,c),j||(de=null);break e}H=je.next}}else if(P.tag===18){if(de=P.return,de===null)throw Error(a(341));de.lanes|=x,H=de.alternate,H!==null&&(H.lanes|=x),X0(de,x,c),de=null}else de=P.child;if(de!==null)de.return=P;else for(de=P;de!==null;){if(de===c){de=null;break}if(P=de.sibling,P!==null){P.return=de.return,de=P;break}de=de.return}P=de}}function Nu(c,m,x,j){c=null;for(var P=m,H=!1;P!==null;){if(!H){if((P.flags&524288)!==0)H=!0;else if((P.flags&262144)!==0)break}if(P.tag===10){var de=P.alternate;if(de===null)throw Error(a(387));if(de=de.memoizedProps,de!==null){var je=P.type;Ja(P.pendingProps.value,de.value)||(c!==null?c.push(je):c=[je])}}else if(P===ge.current){if(de=P.alternate,de===null)throw Error(a(387));de.memoizedState.memoizedState!==P.memoizedState.memoizedState&&(c!==null?c.push(ff):c=[ff])}P=P.return}c!==null&&Q0(m,c,x,j),m.flags|=262144}function J0(c){for(c=c.firstContext;c!==null;){if(!Ja(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function Qo(c){en=c,Pl=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Ra(c){return Z0(en,c)}function Cc(c,m){return en===null&&Qo(c),Z0(c,m)}function Z0(c,m){var x=m._currentValue;if(m={context:m,memoizedValue:x,next:null},Pl===null){if(c===null)throw Error(a(308));Pl=m,c.dependencies={lanes:0,firstContext:m},c.flags|=524288}else Pl=Pl.next=m;return x}var d2=typeof AbortController<"u"?AbortController:function(){var c=[],m=this.signal={aborted:!1,addEventListener:function(x,j){c.push(j)}};this.abort=function(){m.aborted=!0,c.forEach(function(x){return x()})}},Ng=t.unstable_scheduleCallback,u2=t.unstable_NormalPriority,Oa={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ox(){return{controller:new d2,data:new Map,refCount:0}}function Lm(c){c.refCount--,c.refCount===0&&Ng(u2,function(){c.controller.abort()})}var Fm=null,Ix=0,Sd=0,Ml=null;function m2(c,m){if(Fm===null){var x=Fm=[];Ix=0,Sd=W2(),Ml={status:"pending",value:void 0,then:function(j){x.push(j)}}}return Ix++,m.then(Sg,Sg),m}function Sg(){if(--Ix===0&&Fm!==null){Ml!==null&&(Ml.status="fulfilled");var c=Fm;Fm=null,Sd=0,Ml=null;for(var m=0;m<c.length;m++)(0,c[m])()}}function _g(c,m){var x=[],j={status:"pending",value:null,reason:null,then:function(P){x.push(P)}};return c.then(function(){j.status="fulfilled",j.value=m;for(var P=0;P<x.length;P++)(0,x[P])(m)},function(P){for(j.status="rejected",j.reason=P,P=0;P<x.length;P++)(0,x[P])(void 0)}),j}var C=K.S;K.S=function(c,m){typeof m=="object"&&m!==null&&typeof m.then=="function"&&m2(c,m),C!==null&&C(c,m)};var M=ce(null);function Y(){var c=M.current;return c!==null?c:Jr.pooledCache}function ne(c,m){m===null?O(M,M.current):O(M,m.pool)}function xe(){var c=Y();return c===null?null:{parent:Oa._currentValue,pool:c}}var ye=Error(a(460)),be=Error(a(474)),we=Error(a(542)),Ce={then:function(){}};function Re(c){return c=c.status,c==="fulfilled"||c==="rejected"}function et(){}function pt(c,m,x){switch(x=c[x],x===void 0?c.push(m):x!==m&&(m.then(et,et),m=x),m.status){case"fulfilled":return m.value;case"rejected":throw c=m.reason,Rt(c),c;default:if(typeof m.status=="string")m.then(et,et);else{if(c=Jr,c!==null&&100<c.shellSuspendCounter)throw Error(a(482));c=m,c.status="pending",c.then(function(j){if(m.status==="pending"){var P=m;P.status="fulfilled",P.value=j}},function(j){if(m.status==="pending"){var P=m;P.status="rejected",P.reason=j}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw c=m.reason,Rt(c),c}throw xt=m,ye}}var xt=null;function it(){if(xt===null)throw Error(a(459));var c=xt;return xt=null,c}function Rt(c){if(c===ye||c===we)throw Error(a(483))}var _t=!1;function tt(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function at(c,m){c=c.updateQueue,m.updateQueue===c&&(m.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function Tt(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function Ot(c,m,x){var j=c.updateQueue;if(j===null)return null;if(j=j.shared,(Br&2)!==0){var P=j.pending;return P===null?m.next=m:(m.next=P.next,P.next=m),j.pending=m,m=bd(c),G0(c,null,x),m}return wc(c,j,m,x),bd(c)}function Lt(c,m,x){if(m=m.updateQueue,m!==null&&(m=m.shared,(x&4194048)!==0)){var j=m.lanes;j&=c.pendingLanes,x|=j,m.lanes=x,Xt(c,x)}}function ss(c,m){var x=c.updateQueue,j=c.alternate;if(j!==null&&(j=j.updateQueue,x===j)){var P=null,H=null;if(x=x.firstBaseUpdate,x!==null){do{var de={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};H===null?P=H=de:H=H.next=de,x=x.next}while(x!==null);H===null?P=H=m:H=H.next=m}else P=H=m;x={baseState:j.baseState,firstBaseUpdate:P,lastBaseUpdate:H,shared:j.shared,callbacks:j.callbacks},c.updateQueue=x;return}c=x.lastBaseUpdate,c===null?x.firstBaseUpdate=m:c.next=m,x.lastBaseUpdate=m}var Qt=!1;function ps(){if(Qt){var c=Ml;if(c!==null)throw c}}function Jt(c,m,x,j){Qt=!1;var P=c.updateQueue;_t=!1;var H=P.firstBaseUpdate,de=P.lastBaseUpdate,je=P.shared.pending;if(je!==null){P.shared.pending=null;var He=je,yt=He.next;He.next=null,de===null?H=yt:de.next=yt,de=He;var Pt=c.alternate;Pt!==null&&(Pt=Pt.updateQueue,je=Pt.lastBaseUpdate,je!==de&&(je===null?Pt.firstBaseUpdate=yt:je.next=yt,Pt.lastBaseUpdate=He))}if(H!==null){var It=P.baseState;de=0,Pt=yt=He=null,je=H;do{var wt=je.lane&-536870913,Nt=wt!==je.lane;if(Nt?(vr&wt)===wt:(j&wt)===wt){wt!==0&&wt===Sd&&(Qt=!0),Pt!==null&&(Pt=Pt.next={lane:0,tag:je.tag,payload:je.payload,callback:null,next:null});e:{var Fs=c,Cs=je;wt=m;var Gr=x;switch(Cs.tag){case 1:if(Fs=Cs.payload,typeof Fs=="function"){It=Fs.call(Gr,It,wt);break e}It=Fs;break e;case 3:Fs.flags=Fs.flags&-65537|128;case 0:if(Fs=Cs.payload,wt=typeof Fs=="function"?Fs.call(Gr,It,wt):Fs,wt==null)break e;It=h({},It,wt);break e;case 2:_t=!0}}wt=je.callback,wt!==null&&(c.flags|=64,Nt&&(c.flags|=8192),Nt=P.callbacks,Nt===null?P.callbacks=[wt]:Nt.push(wt))}else Nt={lane:wt,tag:je.tag,payload:je.payload,callback:je.callback,next:null},Pt===null?(yt=Pt=Nt,He=It):Pt=Pt.next=Nt,de|=wt;if(je=je.next,je===null){if(je=P.shared.pending,je===null)break;Nt=je,je=Nt.next,Nt.next=null,P.lastBaseUpdate=Nt,P.shared.pending=null}}while(!0);Pt===null&&(He=It),P.baseState=He,P.firstBaseUpdate=yt,P.lastBaseUpdate=Pt,H===null&&(P.shared.lanes=0),Fu|=de,c.lanes=de,c.memoizedState=It}}function yr(c,m){if(typeof c!="function")throw Error(a(191,c));c.call(m)}function kr(c,m){var x=c.callbacks;if(x!==null)for(c.callbacks=null,c=0;c<x.length;c++)yr(x[c],m)}var rr=ce(null),Js=ce(0);function Lr(c,m){c=Ld,O(Js,c),O(rr,m),Ld=c|m.baseLanes}function Ar(){O(Js,Ld),O(rr,rr.current)}function Vs(){Ld=Js.current,U(rr),U(Js)}var Ir=0,js=null,Ts=null,pr=null,br=!1,tn=!1,Ia=!1,va=0,wa=0,Ca=null,Ji=0;function Er(){throw Error(a(321))}function ka(c,m){if(m===null)return!1;for(var x=0;x<m.length&&x<c.length;x++)if(!Ja(c[x],m[x]))return!1;return!0}function jo(c,m,x,j,P,H){return Ir=H,js=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,K.H=c===null||c.memoizedState===null?J5:Z5,Ia=!1,H=x(j,P),Ia=!1,tn&&(H=_d(m,x,j,P)),kc(c),H}function kc(c){K.H=Og;var m=Ts!==null&&Ts.next!==null;if(Ir=0,pr=Ts=js=null,br=!1,wa=0,Ca=null,m)throw Error(a(300));c===null||_n||(c=c.dependencies,c!==null&&J0(c)&&(_n=!0))}function _d(c,m,x,j){js=c;var P=0;do{if(tn&&(Ca=null),wa=0,tn=!1,25<=P)throw Error(a(301));if(P+=1,pr=Ts=null,c.updateQueue!=null){var H=c.updateQueue;H.lastEffect=null,H.events=null,H.stores=null,H.memoCache!=null&&(H.memoCache.index=0)}K.H=xM,H=m(x,j)}while(tn);return H}function Ac(){var c=K.H,m=c.useState()[0];return m=typeof m.then=="function"?Ec(m):m,c=c.useState()[0],(Ts!==null?Ts.memoizedState:null)!==c&&(js.flags|=1024),m}function Qr(){var c=va!==0;return va=0,c}function Rm(c,m,x){m.updateQueue=c.updateQueue,m.flags&=-2053,c.lanes&=~x}function eh(c){if(br){for(c=c.memoizedState;c!==null;){var m=c.queue;m!==null&&(m.pending=null),c=c.next}br=!1}Ir=0,pr=Ts=js=null,tn=!1,wa=va=0,Ca=null}function Un(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pr===null?js.memoizedState=pr=c:pr=pr.next=c,pr}function ia(){if(Ts===null){var c=js.alternate;c=c!==null?c.memoizedState:null}else c=Ts.next;var m=pr===null?js.memoizedState:pr.next;if(m!==null)pr=m,Ts=c;else{if(c===null)throw js.alternate===null?Error(a(467)):Error(a(310));Ts=c,c={memoizedState:Ts.memoizedState,baseState:Ts.baseState,baseQueue:Ts.baseQueue,queue:Ts.queue,next:null},pr===null?js.memoizedState=pr=c:pr=pr.next=c}return pr}function Cd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ec(c){var m=wa;return wa+=1,Ca===null&&(Ca=[]),c=pt(Ca,c,m),m=js,(pr===null?m.memoizedState:pr.next)===null&&(m=m.alternate,K.H=m===null||m.memoizedState===null?J5:Z5),c}function si(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Ec(c);if(c.$$typeof===A)return Ra(c)}throw Error(a(438,String(c)))}function Tc(c){var m=null,x=js.updateQueue;if(x!==null&&(m=x.memoCache),m==null){var j=js.alternate;j!==null&&(j=j.updateQueue,j!==null&&(j=j.memoCache,j!=null&&(m={data:j.data.map(function(P){return P.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),x===null&&(x=Cd(),js.updateQueue=x),x.memoCache=m,x=m.data[m.index],x===void 0)for(x=m.data[m.index]=Array(c),j=0;j<c;j++)x[j]=B;return m.index++,x}function ri(c,m){return typeof m=="function"?m(c):m}function Om(c){var m=ia();return Su(m,Ts,c)}function Su(c,m,x){var j=c.queue;if(j===null)throw Error(a(311));j.lastRenderedReducer=x;var P=c.baseQueue,H=j.pending;if(H!==null){if(P!==null){var de=P.next;P.next=H.next,H.next=de}m.baseQueue=P=H,j.pending=null}if(H=c.baseState,P===null)c.memoizedState=H;else{m=P.next;var je=de=null,He=null,yt=m,Pt=!1;do{var It=yt.lane&-536870913;if(It!==yt.lane?(vr&It)===It:(Ir&It)===It){var wt=yt.revertLane;if(wt===0)He!==null&&(He=He.next={lane:0,revertLane:0,action:yt.action,hasEagerState:yt.hasEagerState,eagerState:yt.eagerState,next:null}),It===Sd&&(Pt=!0);else if((Ir&wt)===wt){yt=yt.next,wt===Sd&&(Pt=!0);continue}else It={lane:0,revertLane:yt.revertLane,action:yt.action,hasEagerState:yt.hasEagerState,eagerState:yt.eagerState,next:null},He===null?(je=He=It,de=H):He=He.next=It,js.lanes|=wt,Fu|=wt;It=yt.action,Ia&&x(H,It),H=yt.hasEagerState?yt.eagerState:x(H,It)}else wt={lane:It,revertLane:yt.revertLane,action:yt.action,hasEagerState:yt.hasEagerState,eagerState:yt.eagerState,next:null},He===null?(je=He=wt,de=H):He=He.next=wt,js.lanes|=It,Fu|=It;yt=yt.next}while(yt!==null&&yt!==m);if(He===null?de=H:He.next=je,!Ja(H,c.memoizedState)&&(_n=!0,Pt&&(x=Ml,x!==null)))throw x;c.memoizedState=H,c.baseState=de,c.baseQueue=He,j.lastRenderedState=H}return P===null&&(j.lanes=0),[c.memoizedState,j.dispatch]}function th(c){var m=ia(),x=m.queue;if(x===null)throw Error(a(311));x.lastRenderedReducer=c;var j=x.dispatch,P=x.pending,H=m.memoizedState;if(P!==null){x.pending=null;var de=P=P.next;do H=c(H,de.action),de=de.next;while(de!==P);Ja(H,m.memoizedState)||(_n=!0),m.memoizedState=H,m.baseQueue===null&&(m.baseState=H),x.lastRenderedState=H}return[H,j]}function Im(c,m,x){var j=js,P=ia(),H=_r;if(H){if(x===void 0)throw Error(a(407));x=x()}else x=m();var de=!Ja((Ts||P).memoizedState,x);de&&(P.memoizedState=x,_n=!0),P=P.queue;var je=_u.bind(null,j,P,c);if(Au(2048,8,je,[c]),P.getSnapshot!==m||de||pr!==null&&pr.memoizedState.tag&1){if(j.flags|=2048,Fl(9,Um(),Bm.bind(null,j,P,x,m),null),Jr===null)throw Error(a(349));H||(Ir&124)!==0||sh(j,m,x)}return x}function sh(c,m,x){c.flags|=16384,c={getSnapshot:m,value:x},m=js.updateQueue,m===null?(m=Cd(),js.updateQueue=m,m.stores=[c]):(x=m.stores,x===null?m.stores=[c]:x.push(c))}function Bm(c,m,x,j){m.value=x,m.getSnapshot=j,Cg(m)&&kg(c)}function _u(c,m,x){return x(function(){Cg(m)&&kg(c)})}function Cg(c){var m=c.getSnapshot;c=c.value;try{var x=m();return!Ja(c,x)}catch{return!0}}function kg(c){var m=Cl(c,2);m!==null&&Ao(m,c,2)}function zm(c){var m=Un();if(typeof c=="function"){var x=c;if(c=x(),Ia){We(!0);try{x()}finally{We(!1)}}}return m.memoizedState=m.baseState=c,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:c},m}function Ll(c,m,x,j){return c.baseState=x,Su(c,Ts,typeof j=="function"?j:ri)}function h2(c,m,x,j,P){if(Rg(c))throw Error(a(485));if(c=m.action,c!==null){var H={payload:P,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(de){H.listeners.push(de)}};K.T!==null?x(!0):H.isTransition=!1,j(H),x=m.pending,x===null?(H.next=m.pending=H,Ag(m,H)):(H.next=x.next,m.pending=x.next=H)}}function Ag(c,m){var x=m.action,j=m.payload,P=c.state;if(m.isTransition){var H=K.T,de={};K.T=de;try{var je=x(P,j),He=K.S;He!==null&&He(de,je),Eg(c,m,je)}catch(yt){Cu(c,m,yt)}finally{K.T=H}}else try{H=x(P,j),Eg(c,m,H)}catch(yt){Cu(c,m,yt)}}function Eg(c,m,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(j){Bx(c,m,j)},function(j){return Cu(c,m,j)}):Bx(c,m,x)}function Bx(c,m,x){m.status="fulfilled",m.value=x,zx(m),c.state=x,m=c.pending,m!==null&&(x=m.next,x===m?c.pending=null:(x=x.next,m.next=x,Ag(c,x)))}function Cu(c,m,x){var j=c.pending;if(c.pending=null,j!==null){j=j.next;do m.status="rejected",m.reason=x,zx(m),m=m.next;while(m!==j)}c.action=null}function zx(c){c=c.listeners;for(var m=0;m<c.length;m++)(0,c[m])()}function $x(c,m){return m}function $m(c,m){if(_r){var x=Jr.formState;if(x!==null){e:{var j=js;if(_r){if(ua){t:{for(var P=ua,H=Yo;P.nodeType!==8;){if(!H){P=null;break t}if(P=Bl(P.nextSibling),P===null){P=null;break t}}H=P.data,P=H==="F!"||H==="F"?P:null}if(P){ua=Bl(P.nextSibling),j=P.data==="F!";break e}}Nd(j)}j=!1}j&&(m=x[0])}}return x=Un(),x.memoizedState=x.baseState=m,j={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$x,lastRenderedState:m},x.queue=j,x=K5.bind(null,js,j),j.dispatch=x,j=zm(!1),H=x2.bind(null,js,!1,j.queue),j=Un(),P={state:m,dispatch:null,action:c,pending:null},j.queue=P,x=h2.bind(null,js,P,H,x),P.dispatch=x,j.memoizedState=c,[m,x,!1]}function rh(c){var m=ia();return ku(m,Ts,c)}function ku(c,m,x){if(m=Su(c,m,$x)[0],c=Om(ri)[0],typeof m=="object"&&m!==null&&typeof m.then=="function")try{var j=Ec(m)}catch(de){throw de===ye?we:de}else j=m;m=ia();var P=m.queue,H=P.dispatch;return x!==m.memoizedState&&(js.flags|=2048,Fl(9,Um(),Tg.bind(null,P,x),null)),[j,H,c]}function Tg(c,m){c.action=m}function Dg(c){var m=ia(),x=Ts;if(x!==null)return ku(m,x,c);ia(),m=m.memoizedState,x=ia();var j=x.queue.dispatch;return x.memoizedState=c,[m,j,!1]}function Fl(c,m,x,j){return c={tag:c,create:x,deps:j,inst:m,next:null},m=js.updateQueue,m===null&&(m=Cd(),js.updateQueue=m),x=m.lastEffect,x===null?m.lastEffect=c.next=c:(j=x.next,x.next=c,c.next=j,m.lastEffect=c),c}function Um(){return{destroy:void 0,resource:void 0}}function ah(){return ia().memoizedState}function No(c,m,x,j){var P=Un();j=j===void 0?null:j,js.flags|=c,P.memoizedState=Fl(1|m,Um(),x,j)}function Au(c,m,x,j){var P=ia();j=j===void 0?null:j;var H=P.memoizedState.inst;Ts!==null&&j!==null&&ka(j,Ts.memoizedState.deps)?P.memoizedState=Fl(m,H,x,j):(js.flags|=c,P.memoizedState=Fl(1|m,H,x,j))}function Ux(c,m){No(8390656,8,c,m)}function Pg(c,m){Au(2048,8,c,m)}function Vx(c,m){return Au(4,2,c,m)}function kd(c,m){return Au(4,4,c,m)}function Mg(c,m){if(typeof m=="function"){c=c();var x=m(c);return function(){typeof x=="function"?x():m(null)}}if(m!=null)return c=c(),m.current=c,function(){m.current=null}}function qx(c,m,x){x=x!=null?x.concat([c]):null,Au(4,4,Mg.bind(null,m,c),x)}function Hx(){}function Wx(c,m){var x=ia();m=m===void 0?null:m;var j=x.memoizedState;return m!==null&&ka(m,j[1])?j[0]:(x.memoizedState=[c,m],c)}function Lg(c,m){var x=ia();m=m===void 0?null:m;var j=x.memoizedState;if(m!==null&&ka(m,j[1]))return j[0];if(j=c(),Ia){We(!0);try{c()}finally{We(!1)}}return x.memoizedState=[j,m],j}function Ad(c,m,x){return x===void 0||(Ir&1073741824)!==0?c.memoizedState=m:(c.memoizedState=x,c=H4(),js.lanes|=c,Fu|=c,x)}function nh(c,m,x,j){return Ja(x,m)?x:rr.current!==null?(c=Ad(c,x,j),Ja(c,m)||(_n=!0),c):(Ir&42)===0?(_n=!0,c.memoizedState=x):(c=H4(),js.lanes|=c,Fu|=c,m)}function Vm(c,m,x,j,P){var H=X.p;X.p=H!==0&&8>H?H:8;var de=K.T,je={};K.T=je,x2(c,!1,m,x);try{var He=P(),yt=K.S;if(yt!==null&&yt(je,He),He!==null&&typeof He=="object"&&typeof He.then=="function"){var Pt=_g(He,j);Xx(c,m,Pt,ko(c))}else Xx(c,m,j,ko(c))}catch(It){Xx(c,m,{then:function(){},status:"rejected",reason:It},ko())}finally{X.p=H,K.T=de}}function Rl(){}function Jo(c,m,x,j){if(c.tag!==5)throw Error(a(476));var P=Ol(c).queue;Vm(c,P,m,se,x===null?Rl:function(){return qm(c),x(j)})}function Ol(c){var m=c.memoizedState;if(m!==null)return m;m={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:se},next:null};var x={};return m.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:x},next:null},c.memoizedState=m,c=c.alternate,c!==null&&(c.memoizedState=m),m}function qm(c){var m=Ol(c).next.queue;Xx(c,m,{},ko())}function Hm(){return Ra(ff)}function Gx(){return ia().memoizedState}function Fg(){return ia().memoizedState}function Yx(c){for(var m=c.return;m!==null;){switch(m.tag){case 24:case 3:var x=ko();c=Tt(x);var j=Ot(m,c,x);j!==null&&(Ao(j,m,x),Lt(j,m,x)),m={cache:Ox()},c.payload=m;return}m=m.return}}function Kx(c,m,x){var j=ko();x={lane:j,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},Rg(c)?X5(m,x):(x=jc(c,m,x,j),x!==null&&(Ao(x,c,j),Q5(x,m,j)))}function K5(c,m,x){var j=ko();Xx(c,m,x,j)}function Xx(c,m,x,j){var P={lane:j,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(Rg(c))X5(m,P);else{var H=c.alternate;if(c.lanes===0&&(H===null||H.lanes===0)&&(H=m.lastRenderedReducer,H!==null))try{var de=m.lastRenderedState,je=H(de,x);if(P.hasEagerState=!0,P.eagerState=je,Ja(je,de))return wc(c,m,P,0),Jr===null&&Ki(),!1}catch{}finally{}if(x=jc(c,m,P,j),x!==null)return Ao(x,c,j),Q5(x,m,j),!0}return!1}function x2(c,m,x,j){if(j={lane:2,revertLane:W2(),action:j,hasEagerState:!1,eagerState:null,next:null},Rg(c)){if(m)throw Error(a(479))}else m=jc(c,x,j,2),m!==null&&Ao(m,c,2)}function Rg(c){var m=c.alternate;return c===js||m!==null&&m===js}function X5(c,m){tn=br=!0;var x=c.pending;x===null?m.next=m:(m.next=x.next,x.next=m),c.pending=m}function Q5(c,m,x){if((x&4194048)!==0){var j=m.lanes;j&=c.pendingLanes,x|=j,m.lanes=x,Xt(c,x)}}var Og={readContext:Ra,use:si,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useLayoutEffect:Er,useInsertionEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useSyncExternalStore:Er,useId:Er,useHostTransitionStatus:Er,useFormState:Er,useActionState:Er,useOptimistic:Er,useMemoCache:Er,useCacheRefresh:Er},J5={readContext:Ra,use:si,useCallback:function(c,m){return Un().memoizedState=[c,m===void 0?null:m],c},useContext:Ra,useEffect:Ux,useImperativeHandle:function(c,m,x){x=x!=null?x.concat([c]):null,No(4194308,4,Mg.bind(null,m,c),x)},useLayoutEffect:function(c,m){return No(4194308,4,c,m)},useInsertionEffect:function(c,m){No(4,2,c,m)},useMemo:function(c,m){var x=Un();m=m===void 0?null:m;var j=c();if(Ia){We(!0);try{c()}finally{We(!1)}}return x.memoizedState=[j,m],j},useReducer:function(c,m,x){var j=Un();if(x!==void 0){var P=x(m);if(Ia){We(!0);try{x(m)}finally{We(!1)}}}else P=m;return j.memoizedState=j.baseState=P,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:P},j.queue=c,c=c.dispatch=Kx.bind(null,js,c),[j.memoizedState,c]},useRef:function(c){var m=Un();return c={current:c},m.memoizedState=c},useState:function(c){c=zm(c);var m=c.queue,x=K5.bind(null,js,m);return m.dispatch=x,[c.memoizedState,x]},useDebugValue:Hx,useDeferredValue:function(c,m){var x=Un();return Ad(x,c,m)},useTransition:function(){var c=zm(!1);return c=Vm.bind(null,js,c.queue,!0,!1),Un().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,m,x){var j=js,P=Un();if(_r){if(x===void 0)throw Error(a(407));x=x()}else{if(x=m(),Jr===null)throw Error(a(349));(vr&124)!==0||sh(j,m,x)}P.memoizedState=x;var H={value:x,getSnapshot:m};return P.queue=H,Ux(_u.bind(null,j,H,c),[c]),j.flags|=2048,Fl(9,Um(),Bm.bind(null,j,H,x,m),null),x},useId:function(){var c=Un(),m=Jr.identifierPrefix;if(_r){var x=Tl,j=El;x=(j&~(1<<32-Xe(j)-1)).toString(32)+x,m=""+m+"R"+x,x=va++,0<x&&(m+="H"+x.toString(32)),m+=""}else x=Ji++,m=""+m+"r"+x.toString(32)+"";return c.memoizedState=m},useHostTransitionStatus:Hm,useFormState:$m,useActionState:$m,useOptimistic:function(c){var m=Un();m.memoizedState=m.baseState=c;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=x,m=x2.bind(null,js,!0,x),x.dispatch=m,[c,m]},useMemoCache:Tc,useCacheRefresh:function(){return Un().memoizedState=Yx.bind(null,js)}},Z5={readContext:Ra,use:si,useCallback:Wx,useContext:Ra,useEffect:Pg,useImperativeHandle:qx,useInsertionEffect:Vx,useLayoutEffect:kd,useMemo:Lg,useReducer:Om,useRef:ah,useState:function(){return Om(ri)},useDebugValue:Hx,useDeferredValue:function(c,m){var x=ia();return nh(x,Ts.memoizedState,c,m)},useTransition:function(){var c=Om(ri)[0],m=ia().memoizedState;return[typeof c=="boolean"?c:Ec(c),m]},useSyncExternalStore:Im,useId:Gx,useHostTransitionStatus:Hm,useFormState:rh,useActionState:rh,useOptimistic:function(c,m){var x=ia();return Ll(x,Ts,c,m)},useMemoCache:Tc,useCacheRefresh:Fg},xM={readContext:Ra,use:si,useCallback:Wx,useContext:Ra,useEffect:Pg,useImperativeHandle:qx,useInsertionEffect:Vx,useLayoutEffect:kd,useMemo:Lg,useReducer:th,useRef:ah,useState:function(){return th(ri)},useDebugValue:Hx,useDeferredValue:function(c,m){var x=ia();return Ts===null?Ad(x,c,m):nh(x,Ts.memoizedState,c,m)},useTransition:function(){var c=th(ri)[0],m=ia().memoizedState;return[typeof c=="boolean"?c:Ec(c),m]},useSyncExternalStore:Im,useId:Gx,useHostTransitionStatus:Hm,useFormState:Dg,useActionState:Dg,useOptimistic:function(c,m){var x=ia();return Ts!==null?Ll(x,Ts,c,m):(x.baseState=c,[c,x.queue.dispatch])},useMemoCache:Tc,useCacheRefresh:Fg},ih=null,Qx=0;function Ig(c){var m=Qx;return Qx+=1,ih===null&&(ih=[]),pt(ih,c,m)}function Jx(c,m){m=m.props.ref,c.ref=m!==void 0?m:null}function Bg(c,m){throw m.$$typeof===f?Error(a(525)):(c=Object.prototype.toString.call(m),Error(a(31,c==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":c)))}function e4(c){var m=c._init;return m(c._payload)}function t4(c){function m(ut,rt){if(c){var ft=ut.deletions;ft===null?(ut.deletions=[rt],ut.flags|=16):ft.push(rt)}}function x(ut,rt){if(!c)return null;for(;rt!==null;)m(ut,rt),rt=rt.sibling;return null}function j(ut){for(var rt=new Map;ut!==null;)ut.key!==null?rt.set(ut.key,ut):rt.set(ut.index,ut),ut=ut.sibling;return rt}function P(ut,rt){return ut=Go(ut,rt),ut.index=0,ut.sibling=null,ut}function H(ut,rt,ft){return ut.index=ft,c?(ft=ut.alternate,ft!==null?(ft=ft.index,ft<rt?(ut.flags|=67108866,rt):ft):(ut.flags|=67108866,rt)):(ut.flags|=1048576,rt)}function de(ut){return c&&ut.alternate===null&&(ut.flags|=67108866),ut}function je(ut,rt,ft,Ft){return rt===null||rt.tag!==6?(rt=Y0(ft,ut.mode,Ft),rt.return=ut,rt):(rt=P(rt,ft),rt.return=ut,rt)}function He(ut,rt,ft,Ft){var ls=ft.type;return ls===v?Pt(ut,rt,ft.props.children,Ft,ft.key):rt!==null&&(rt.elementType===ls||typeof ls=="object"&&ls!==null&&ls.$$typeof===L&&e4(ls)===rt.type)?(rt=P(rt,ft.props),Jx(rt,ft),rt.return=ut,rt):(rt=vd(ft.type,ft.key,ft.props,null,ut.mode,Ft),Jx(rt,ft),rt.return=ut,rt)}function yt(ut,rt,ft,Ft){return rt===null||rt.tag!==4||rt.stateNode.containerInfo!==ft.containerInfo||rt.stateNode.implementation!==ft.implementation?(rt=Dm(ft,ut.mode,Ft),rt.return=ut,rt):(rt=P(rt,ft.children||[]),rt.return=ut,rt)}function Pt(ut,rt,ft,Ft,ls){return rt===null||rt.tag!==7?(rt=kl(ft,ut.mode,Ft,ls),rt.return=ut,rt):(rt=P(rt,ft),rt.return=ut,rt)}function It(ut,rt,ft){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return rt=Y0(""+rt,ut.mode,ft),rt.return=ut,rt;if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case p:return ft=vd(rt.type,rt.key,rt.props,null,ut.mode,ft),Jx(ft,rt),ft.return=ut,ft;case g:return rt=Dm(rt,ut.mode,ft),rt.return=ut,rt;case L:var Ft=rt._init;return rt=Ft(rt._payload),It(ut,rt,ft)}if(G(rt)||w(rt))return rt=kl(rt,ut.mode,ft,null),rt.return=ut,rt;if(typeof rt.then=="function")return It(ut,Ig(rt),ft);if(rt.$$typeof===A)return It(ut,Cc(ut,rt),ft);Bg(ut,rt)}return null}function wt(ut,rt,ft,Ft){var ls=rt!==null?rt.key:null;if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return ls!==null?null:je(ut,rt,""+ft,Ft);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case p:return ft.key===ls?He(ut,rt,ft,Ft):null;case g:return ft.key===ls?yt(ut,rt,ft,Ft):null;case L:return ls=ft._init,ft=ls(ft._payload),wt(ut,rt,ft,Ft)}if(G(ft)||w(ft))return ls!==null?null:Pt(ut,rt,ft,Ft,null);if(typeof ft.then=="function")return wt(ut,rt,Ig(ft),Ft);if(ft.$$typeof===A)return wt(ut,rt,Cc(ut,ft),Ft);Bg(ut,ft)}return null}function Nt(ut,rt,ft,Ft,ls){if(typeof Ft=="string"&&Ft!==""||typeof Ft=="number"||typeof Ft=="bigint")return ut=ut.get(ft)||null,je(rt,ut,""+Ft,ls);if(typeof Ft=="object"&&Ft!==null){switch(Ft.$$typeof){case p:return ut=ut.get(Ft.key===null?ft:Ft.key)||null,He(rt,ut,Ft,ls);case g:return ut=ut.get(Ft.key===null?ft:Ft.key)||null,yt(rt,ut,Ft,ls);case L:var cr=Ft._init;return Ft=cr(Ft._payload),Nt(ut,rt,ft,Ft,ls)}if(G(Ft)||w(Ft))return ut=ut.get(ft)||null,Pt(rt,ut,Ft,ls,null);if(typeof Ft.then=="function")return Nt(ut,rt,ft,Ig(Ft),ls);if(Ft.$$typeof===A)return Nt(ut,rt,ft,Cc(rt,Ft),ls);Bg(rt,Ft)}return null}function Fs(ut,rt,ft,Ft){for(var ls=null,cr=null,gs=rt,ks=rt=0,kn=null;gs!==null&&ks<ft.length;ks++){gs.index>ks?(kn=gs,gs=null):kn=gs.sibling;var Tr=wt(ut,gs,ft[ks],Ft);if(Tr===null){gs===null&&(gs=kn);break}c&&gs&&Tr.alternate===null&&m(ut,gs),rt=H(Tr,rt,ks),cr===null?ls=Tr:cr.sibling=Tr,cr=Tr,gs=kn}if(ks===ft.length)return x(ut,gs),_r&&jd(ut,ks),ls;if(gs===null){for(;ks<ft.length;ks++)gs=It(ut,ft[ks],Ft),gs!==null&&(rt=H(gs,rt,ks),cr===null?ls=gs:cr.sibling=gs,cr=gs);return _r&&jd(ut,ks),ls}for(gs=j(gs);ks<ft.length;ks++)kn=Nt(gs,ut,ks,ft[ks],Ft),kn!==null&&(c&&kn.alternate!==null&&gs.delete(kn.key===null?ks:kn.key),rt=H(kn,rt,ks),cr===null?ls=kn:cr.sibling=kn,cr=kn);return c&&gs.forEach(function(qu){return m(ut,qu)}),_r&&jd(ut,ks),ls}function Cs(ut,rt,ft,Ft){if(ft==null)throw Error(a(151));for(var ls=null,cr=null,gs=rt,ks=rt=0,kn=null,Tr=ft.next();gs!==null&&!Tr.done;ks++,Tr=ft.next()){gs.index>ks?(kn=gs,gs=null):kn=gs.sibling;var qu=wt(ut,gs,Tr.value,Ft);if(qu===null){gs===null&&(gs=kn);break}c&&gs&&qu.alternate===null&&m(ut,gs),rt=H(qu,rt,ks),cr===null?ls=qu:cr.sibling=qu,cr=qu,gs=kn}if(Tr.done)return x(ut,gs),_r&&jd(ut,ks),ls;if(gs===null){for(;!Tr.done;ks++,Tr=ft.next())Tr=It(ut,Tr.value,Ft),Tr!==null&&(rt=H(Tr,rt,ks),cr===null?ls=Tr:cr.sibling=Tr,cr=Tr);return _r&&jd(ut,ks),ls}for(gs=j(gs);!Tr.done;ks++,Tr=ft.next())Tr=Nt(gs,ut,ks,Tr.value,Ft),Tr!==null&&(c&&Tr.alternate!==null&&gs.delete(Tr.key===null?ks:Tr.key),rt=H(Tr,rt,ks),cr===null?ls=Tr:cr.sibling=Tr,cr=Tr);return c&&gs.forEach(function(fL){return m(ut,fL)}),_r&&jd(ut,ks),ls}function Gr(ut,rt,ft,Ft){if(typeof ft=="object"&&ft!==null&&ft.type===v&&ft.key===null&&(ft=ft.props.children),typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case p:e:{for(var ls=ft.key;rt!==null;){if(rt.key===ls){if(ls=ft.type,ls===v){if(rt.tag===7){x(ut,rt.sibling),Ft=P(rt,ft.props.children),Ft.return=ut,ut=Ft;break e}}else if(rt.elementType===ls||typeof ls=="object"&&ls!==null&&ls.$$typeof===L&&e4(ls)===rt.type){x(ut,rt.sibling),Ft=P(rt,ft.props),Jx(Ft,ft),Ft.return=ut,ut=Ft;break e}x(ut,rt);break}else m(ut,rt);rt=rt.sibling}ft.type===v?(Ft=kl(ft.props.children,ut.mode,Ft,ft.key),Ft.return=ut,ut=Ft):(Ft=vd(ft.type,ft.key,ft.props,null,ut.mode,Ft),Jx(Ft,ft),Ft.return=ut,ut=Ft)}return de(ut);case g:e:{for(ls=ft.key;rt!==null;){if(rt.key===ls)if(rt.tag===4&&rt.stateNode.containerInfo===ft.containerInfo&&rt.stateNode.implementation===ft.implementation){x(ut,rt.sibling),Ft=P(rt,ft.children||[]),Ft.return=ut,ut=Ft;break e}else{x(ut,rt);break}else m(ut,rt);rt=rt.sibling}Ft=Dm(ft,ut.mode,Ft),Ft.return=ut,ut=Ft}return de(ut);case L:return ls=ft._init,ft=ls(ft._payload),Gr(ut,rt,ft,Ft)}if(G(ft))return Fs(ut,rt,ft,Ft);if(w(ft)){if(ls=w(ft),typeof ls!="function")throw Error(a(150));return ft=ls.call(ft),Cs(ut,rt,ft,Ft)}if(typeof ft.then=="function")return Gr(ut,rt,Ig(ft),Ft);if(ft.$$typeof===A)return Gr(ut,rt,Cc(ut,ft),Ft);Bg(ut,ft)}return typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint"?(ft=""+ft,rt!==null&&rt.tag===6?(x(ut,rt.sibling),Ft=P(rt,ft),Ft.return=ut,ut=Ft):(x(ut,rt),Ft=Y0(ft,ut.mode,Ft),Ft.return=ut,ut=Ft),de(ut)):x(ut,rt)}return function(ut,rt,ft,Ft){try{Qx=0;var ls=Gr(ut,rt,ft,Ft);return ih=null,ls}catch(gs){if(gs===ye||gs===we)throw gs;var cr=Sn(29,gs,null,ut.mode);return cr.lanes=Ft,cr.return=ut,cr}finally{}}}var oh=t4(!0),s4=t4(!1),Zo=ce(null),Dc=null;function Eu(c){var m=c.alternate;O(pn,pn.current&1),O(Zo,c),Dc===null&&(m===null||rr.current!==null||m.memoizedState!==null)&&(Dc=c)}function r4(c){if(c.tag===22){if(O(pn,pn.current),O(Zo,c),Dc===null){var m=c.alternate;m!==null&&m.memoizedState!==null&&(Dc=c)}}else Tu()}function Tu(){O(pn,pn.current),O(Zo,Zo.current)}function Ed(c){U(Zo),Dc===c&&(Dc=null),U(pn)}var pn=ce(0);function zg(c){for(var m=c;m!==null;){if(m.tag===13){var x=m.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||av(x)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===c)break;for(;m.sibling===null;){if(m.return===null||m.return===c)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}function f2(c,m,x,j){m=c.memoizedState,x=x(j,m),x=x==null?m:h({},m,x),c.memoizedState=x,c.lanes===0&&(c.updateQueue.baseState=x)}var p2={enqueueSetState:function(c,m,x){c=c._reactInternals;var j=ko(),P=Tt(j);P.payload=m,x!=null&&(P.callback=x),m=Ot(c,P,j),m!==null&&(Ao(m,c,j),Lt(m,c,j))},enqueueReplaceState:function(c,m,x){c=c._reactInternals;var j=ko(),P=Tt(j);P.tag=1,P.payload=m,x!=null&&(P.callback=x),m=Ot(c,P,j),m!==null&&(Ao(m,c,j),Lt(m,c,j))},enqueueForceUpdate:function(c,m){c=c._reactInternals;var x=ko(),j=Tt(x);j.tag=2,m!=null&&(j.callback=m),m=Ot(c,j,x),m!==null&&(Ao(m,c,x),Lt(m,c,x))}};function a4(c,m,x,j,P,H,de){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(j,H,de):m.prototype&&m.prototype.isPureReactComponent?!xc(x,j)||!xc(P,H):!0}function n4(c,m,x,j){c=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(x,j),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(x,j),m.state!==c&&p2.enqueueReplaceState(m,m.state,null)}function Wm(c,m){var x=m;if("ref"in m){x={};for(var j in m)j!=="ref"&&(x[j]=m[j])}if(c=c.defaultProps){x===m&&(x=h({},x));for(var P in c)x[P]===void 0&&(x[P]=c[P])}return x}var $g=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function i4(c){$g(c)}function o4(c){console.error(c)}function l4(c){$g(c)}function Ug(c,m){try{var x=c.onUncaughtError;x(m.value,{componentStack:m.stack})}catch(j){setTimeout(function(){throw j})}}function c4(c,m,x){try{var j=c.onCaughtError;j(x.value,{componentStack:x.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(P){setTimeout(function(){throw P})}}function g2(c,m,x){return x=Tt(x),x.tag=3,x.payload={element:null},x.callback=function(){Ug(c,m)},x}function d4(c){return c=Tt(c),c.tag=3,c}function u4(c,m,x,j){var P=x.type.getDerivedStateFromError;if(typeof P=="function"){var H=j.value;c.payload=function(){return P(H)},c.callback=function(){c4(m,x,j)}}var de=x.stateNode;de!==null&&typeof de.componentDidCatch=="function"&&(c.callback=function(){c4(m,x,j),typeof P!="function"&&(Ru===null?Ru=new Set([this]):Ru.add(this));var je=j.stack;this.componentDidCatch(j.value,{componentStack:je!==null?je:""})})}function fM(c,m,x,j,P){if(x.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){if(m=x.alternate,m!==null&&Nu(m,x,P,!0),x=Zo.current,x!==null){switch(x.tag){case 13:return Dc===null?$2():x.alternate===null&&Aa===0&&(Aa=3),x.flags&=-257,x.flags|=65536,x.lanes=P,j===Ce?x.flags|=16384:(m=x.updateQueue,m===null?x.updateQueue=new Set([j]):m.add(j),V2(c,j,P)),!1;case 22:return x.flags|=65536,j===Ce?x.flags|=16384:(m=x.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([j])},x.updateQueue=m):(x=m.retryQueue,x===null?m.retryQueue=new Set([j]):x.add(j)),V2(c,j,P)),!1}throw Error(a(435,x.tag))}return V2(c,j,P),$2(),!1}if(_r)return m=Zo.current,m!==null?((m.flags&65536)===0&&(m.flags|=256),m.flags|=65536,m.lanes=P,j!==Rx&&(c=Error(a(422),{cause:j}),ju(nr(c,x)))):(j!==Rx&&(m=Error(a(423),{cause:j}),ju(nr(m,x))),c=c.current.alternate,c.flags|=65536,P&=-P,c.lanes|=P,j=nr(j,x),P=g2(c.stateNode,j,P),ss(c,P),Aa!==4&&(Aa=2)),!1;var H=Error(a(520),{cause:j});if(H=nr(H,x),nf===null?nf=[H]:nf.push(H),Aa!==4&&(Aa=2),m===null)return!0;j=nr(j,x),x=m;do{switch(x.tag){case 3:return x.flags|=65536,c=P&-P,x.lanes|=c,c=g2(x.stateNode,j,c),ss(x,c),!1;case 1:if(m=x.type,H=x.stateNode,(x.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Ru===null||!Ru.has(H))))return x.flags|=65536,P&=-P,x.lanes|=P,P=d4(P),u4(P,c,x,j),ss(x,P),!1}x=x.return}while(x!==null);return!1}var m4=Error(a(461)),_n=!1;function Vn(c,m,x,j){m.child=c===null?s4(m,null,x,j):oh(m,c.child,x,j)}function h4(c,m,x,j,P){x=x.render;var H=m.ref;if("ref"in j){var de={};for(var je in j)je!=="ref"&&(de[je]=j[je])}else de=j;return Qo(m),j=jo(c,m,x,de,H,P),je=Qr(),c!==null&&!_n?(Rm(c,m,P),Td(c,m,P)):(_r&&je&&Pm(m),m.flags|=1,Vn(c,m,j,P),m.child)}function x4(c,m,x,j,P){if(c===null){var H=x.type;return typeof H=="function"&&!vu(H)&&H.defaultProps===void 0&&x.compare===null?(m.tag=15,m.type=H,f4(c,m,H,j,P)):(c=vd(x.type,null,j,m,m.mode,P),c.ref=m.ref,c.return=m,m.child=c)}if(H=c.child,!_2(c,P)){var de=H.memoizedProps;if(x=x.compare,x=x!==null?x:xc,x(de,j)&&c.ref===m.ref)return Td(c,m,P)}return m.flags|=1,c=Go(H,j),c.ref=m.ref,c.return=m,m.child=c}function f4(c,m,x,j,P){if(c!==null){var H=c.memoizedProps;if(xc(H,j)&&c.ref===m.ref)if(_n=!1,m.pendingProps=j=H,_2(c,P))(c.flags&131072)!==0&&(_n=!0);else return m.lanes=c.lanes,Td(c,m,P)}return y2(c,m,x,j,P)}function p4(c,m,x){var j=m.pendingProps,P=j.children,H=c!==null?c.memoizedState:null;if(j.mode==="hidden"){if((m.flags&128)!==0){if(j=H!==null?H.baseLanes|x:x,c!==null){for(P=m.child=c.child,H=0;P!==null;)H=H|P.lanes|P.childLanes,P=P.sibling;m.childLanes=H&~j}else m.childLanes=0,m.child=null;return g4(c,m,j,x)}if((x&536870912)!==0)m.memoizedState={baseLanes:0,cachePool:null},c!==null&&ne(m,H!==null?H.cachePool:null),H!==null?Lr(m,H):Ar(),r4(m);else return m.lanes=m.childLanes=536870912,g4(c,m,H!==null?H.baseLanes|x:x,x)}else H!==null?(ne(m,H.cachePool),Lr(m,H),Tu(),m.memoizedState=null):(c!==null&&ne(m,null),Ar(),Tu());return Vn(c,m,P,x),m.child}function g4(c,m,x,j){var P=Y();return P=P===null?null:{parent:Oa._currentValue,pool:P},m.memoizedState={baseLanes:x,cachePool:P},c!==null&&ne(m,null),Ar(),r4(m),c!==null&&Nu(c,m,j,!0),null}function Vg(c,m){var x=m.ref;if(x===null)c!==null&&c.ref!==null&&(m.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(a(284));(c===null||c.ref!==x)&&(m.flags|=4194816)}}function y2(c,m,x,j,P){return Qo(m),x=jo(c,m,x,j,void 0,P),j=Qr(),c!==null&&!_n?(Rm(c,m,P),Td(c,m,P)):(_r&&j&&Pm(m),m.flags|=1,Vn(c,m,x,P),m.child)}function y4(c,m,x,j,P,H){return Qo(m),m.updateQueue=null,x=_d(m,j,x,P),kc(c),j=Qr(),c!==null&&!_n?(Rm(c,m,H),Td(c,m,H)):(_r&&j&&Pm(m),m.flags|=1,Vn(c,m,x,H),m.child)}function b4(c,m,x,j,P){if(Qo(m),m.stateNode===null){var H=Za,de=x.contextType;typeof de=="object"&&de!==null&&(H=Ra(de)),H=new x(j,H),m.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,H.updater=p2,m.stateNode=H,H._reactInternals=m,H=m.stateNode,H.props=j,H.state=m.memoizedState,H.refs={},tt(m),de=x.contextType,H.context=typeof de=="object"&&de!==null?Ra(de):Za,H.state=m.memoizedState,de=x.getDerivedStateFromProps,typeof de=="function"&&(f2(m,x,de,j),H.state=m.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof H.getSnapshotBeforeUpdate=="function"||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(de=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),de!==H.state&&p2.enqueueReplaceState(H,H.state,null),Jt(m,j,H,P),ps(),H.state=m.memoizedState),typeof H.componentDidMount=="function"&&(m.flags|=4194308),j=!0}else if(c===null){H=m.stateNode;var je=m.memoizedProps,He=Wm(x,je);H.props=He;var yt=H.context,Pt=x.contextType;de=Za,typeof Pt=="object"&&Pt!==null&&(de=Ra(Pt));var It=x.getDerivedStateFromProps;Pt=typeof It=="function"||typeof H.getSnapshotBeforeUpdate=="function",je=m.pendingProps!==je,Pt||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(je||yt!==de)&&n4(m,H,j,de),_t=!1;var wt=m.memoizedState;H.state=wt,Jt(m,j,H,P),ps(),yt=m.memoizedState,je||wt!==yt||_t?(typeof It=="function"&&(f2(m,x,It,j),yt=m.memoizedState),(He=_t||a4(m,x,He,j,wt,yt,de))?(Pt||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(m.flags|=4194308)):(typeof H.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=j,m.memoizedState=yt),H.props=j,H.state=yt,H.context=de,j=He):(typeof H.componentDidMount=="function"&&(m.flags|=4194308),j=!1)}else{H=m.stateNode,at(c,m),de=m.memoizedProps,Pt=Wm(x,de),H.props=Pt,It=m.pendingProps,wt=H.context,yt=x.contextType,He=Za,typeof yt=="object"&&yt!==null&&(He=Ra(yt)),je=x.getDerivedStateFromProps,(yt=typeof je=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(de!==It||wt!==He)&&n4(m,H,j,He),_t=!1,wt=m.memoizedState,H.state=wt,Jt(m,j,H,P),ps();var Nt=m.memoizedState;de!==It||wt!==Nt||_t||c!==null&&c.dependencies!==null&&J0(c.dependencies)?(typeof je=="function"&&(f2(m,x,je,j),Nt=m.memoizedState),(Pt=_t||a4(m,x,Pt,j,wt,Nt,He)||c!==null&&c.dependencies!==null&&J0(c.dependencies))?(yt||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(j,Nt,He),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(j,Nt,He)),typeof H.componentDidUpdate=="function"&&(m.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof H.componentDidUpdate!="function"||de===c.memoizedProps&&wt===c.memoizedState||(m.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||de===c.memoizedProps&&wt===c.memoizedState||(m.flags|=1024),m.memoizedProps=j,m.memoizedState=Nt),H.props=j,H.state=Nt,H.context=He,j=Pt):(typeof H.componentDidUpdate!="function"||de===c.memoizedProps&&wt===c.memoizedState||(m.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||de===c.memoizedProps&&wt===c.memoizedState||(m.flags|=1024),j=!1)}return H=j,Vg(c,m),j=(m.flags&128)!==0,H||j?(H=m.stateNode,x=j&&typeof x.getDerivedStateFromError!="function"?null:H.render(),m.flags|=1,c!==null&&j?(m.child=oh(m,c.child,null,P),m.child=oh(m,null,x,P)):Vn(c,m,x,P),m.memoizedState=H.state,c=m.child):c=Td(c,m,P),c}function v4(c,m,x,j){return Li(),m.flags|=256,Vn(c,m,x,j),m.child}var b2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function v2(c){return{baseLanes:c,cachePool:xe()}}function w2(c,m,x){return c=c!==null?c.childLanes&~x:0,m&&(c|=el),c}function w4(c,m,x){var j=m.pendingProps,P=!1,H=(m.flags&128)!==0,de;if((de=H)||(de=c!==null&&c.memoizedState===null?!1:(pn.current&2)!==0),de&&(P=!0,m.flags&=-129),de=(m.flags&32)!==0,m.flags&=-33,c===null){if(_r){if(P?Eu(m):Tu(),_r){var je=ua,He;if(He=je){e:{for(He=je,je=Yo;He.nodeType!==8;){if(!je){je=null;break e}if(He=Bl(He.nextSibling),He===null){je=null;break e}}je=He}je!==null?(m.memoizedState={dehydrated:je,treeContext:wd!==null?{id:El,overflow:Tl}:null,retryLane:536870912,hydrationErrors:null},He=Sn(18,null,null,0),He.stateNode=je,He.return=m,m.child=He,Fa=m,ua=null,He=!0):He=!1}He||Nd(m)}if(je=m.memoizedState,je!==null&&(je=je.dehydrated,je!==null))return av(je)?m.lanes=32:m.lanes=536870912,null;Ed(m)}return je=j.children,j=j.fallback,P?(Tu(),P=m.mode,je=qg({mode:"hidden",children:je},P),j=kl(j,P,x,null),je.return=m,j.return=m,je.sibling=j,m.child=je,P=m.child,P.memoizedState=v2(x),P.childLanes=w2(c,de,x),m.memoizedState=b2,j):(Eu(m),j2(m,je))}if(He=c.memoizedState,He!==null&&(je=He.dehydrated,je!==null)){if(H)m.flags&256?(Eu(m),m.flags&=-257,m=N2(c,m,x)):m.memoizedState!==null?(Tu(),m.child=c.child,m.flags|=128,m=null):(Tu(),P=j.fallback,je=m.mode,j=qg({mode:"visible",children:j.children},je),P=kl(P,je,x,null),P.flags|=2,j.return=m,P.return=m,j.sibling=P,m.child=j,oh(m,c.child,null,x),j=m.child,j.memoizedState=v2(x),j.childLanes=w2(c,de,x),m.memoizedState=b2,m=P);else if(Eu(m),av(je)){if(de=je.nextSibling&&je.nextSibling.dataset,de)var yt=de.dgst;de=yt,j=Error(a(419)),j.stack="",j.digest=de,ju({value:j,source:null,stack:null}),m=N2(c,m,x)}else if(_n||Nu(c,m,x,!1),de=(x&c.childLanes)!==0,_n||de){if(de=Jr,de!==null&&(j=x&-x,j=(j&42)!==0?1:is(j),j=(j&(de.suspendedLanes|x))!==0?0:j,j!==0&&j!==He.retryLane))throw He.retryLane=j,Cl(c,j),Ao(de,c,j),m4;je.data==="$?"||$2(),m=N2(c,m,x)}else je.data==="$?"?(m.flags|=192,m.child=c.child,m=null):(c=He.treeContext,ua=Bl(je.nextSibling),Fa=m,_r=!0,Sc=null,Yo=!1,c!==null&&(Qi[Mi++]=El,Qi[Mi++]=Tl,Qi[Mi++]=wd,El=c.id,Tl=c.overflow,wd=m),m=j2(m,j.children),m.flags|=4096);return m}return P?(Tu(),P=j.fallback,je=m.mode,He=c.child,yt=He.sibling,j=Go(He,{mode:"hidden",children:j.children}),j.subtreeFlags=He.subtreeFlags&65011712,yt!==null?P=Go(yt,P):(P=kl(P,je,x,null),P.flags|=2),P.return=m,j.return=m,j.sibling=P,m.child=j,j=P,P=m.child,je=c.child.memoizedState,je===null?je=v2(x):(He=je.cachePool,He!==null?(yt=Oa._currentValue,He=He.parent!==yt?{parent:yt,pool:yt}:He):He=xe(),je={baseLanes:je.baseLanes|x,cachePool:He}),P.memoizedState=je,P.childLanes=w2(c,de,x),m.memoizedState=b2,j):(Eu(m),x=c.child,c=x.sibling,x=Go(x,{mode:"visible",children:j.children}),x.return=m,x.sibling=null,c!==null&&(de=m.deletions,de===null?(m.deletions=[c],m.flags|=16):de.push(c)),m.child=x,m.memoizedState=null,x)}function j2(c,m){return m=qg({mode:"visible",children:m},c.mode),m.return=c,c.child=m}function qg(c,m){return c=Sn(22,c,null,m),c.lanes=0,c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},c}function N2(c,m,x){return oh(m,c.child,null,x),c=j2(m,m.pendingProps.children),c.flags|=2,m.memoizedState=null,c}function j4(c,m,x){c.lanes|=m;var j=c.alternate;j!==null&&(j.lanes|=m),X0(c.return,m,x)}function S2(c,m,x,j,P){var H=c.memoizedState;H===null?c.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:j,tail:x,tailMode:P}:(H.isBackwards=m,H.rendering=null,H.renderingStartTime=0,H.last=j,H.tail=x,H.tailMode=P)}function N4(c,m,x){var j=m.pendingProps,P=j.revealOrder,H=j.tail;if(Vn(c,m,j.children,x),j=pn.current,(j&2)!==0)j=j&1|2,m.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=m.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&j4(c,x,m);else if(c.tag===19)j4(c,x,m);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===m)break e;for(;c.sibling===null;){if(c.return===null||c.return===m)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}j&=1}switch(O(pn,j),P){case"forwards":for(x=m.child,P=null;x!==null;)c=x.alternate,c!==null&&zg(c)===null&&(P=x),x=x.sibling;x=P,x===null?(P=m.child,m.child=null):(P=x.sibling,x.sibling=null),S2(m,!1,P,x,H);break;case"backwards":for(x=null,P=m.child,m.child=null;P!==null;){if(c=P.alternate,c!==null&&zg(c)===null){m.child=P;break}c=P.sibling,P.sibling=x,x=P,P=c}S2(m,!0,x,null,H);break;case"together":S2(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Td(c,m,x){if(c!==null&&(m.dependencies=c.dependencies),Fu|=m.lanes,(x&m.childLanes)===0)if(c!==null){if(Nu(c,m,x,!1),(x&m.childLanes)===0)return null}else return null;if(c!==null&&m.child!==c.child)throw Error(a(153));if(m.child!==null){for(c=m.child,x=Go(c,c.pendingProps),m.child=x,x.return=m;c.sibling!==null;)c=c.sibling,x=x.sibling=Go(c,c.pendingProps),x.return=m;x.sibling=null}return m.child}function _2(c,m){return(c.lanes&m)!==0?!0:(c=c.dependencies,!!(c!==null&&J0(c)))}function pM(c,m,x){switch(m.tag){case 3:Q(m,m.stateNode.containerInfo),_c(m,Oa,c.memoizedState.cache),Li();break;case 27:case 5:ie(m);break;case 4:Q(m,m.stateNode.containerInfo);break;case 10:_c(m,m.type,m.memoizedProps.value);break;case 13:var j=m.memoizedState;if(j!==null)return j.dehydrated!==null?(Eu(m),m.flags|=128,null):(x&m.child.childLanes)!==0?w4(c,m,x):(Eu(m),c=Td(c,m,x),c!==null?c.sibling:null);Eu(m);break;case 19:var P=(c.flags&128)!==0;if(j=(x&m.childLanes)!==0,j||(Nu(c,m,x,!1),j=(x&m.childLanes)!==0),P){if(j)return N4(c,m,x);m.flags|=128}if(P=m.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),O(pn,pn.current),j)break;return null;case 22:case 23:return m.lanes=0,p4(c,m,x);case 24:_c(m,Oa,c.memoizedState.cache)}return Td(c,m,x)}function S4(c,m,x){if(c!==null)if(c.memoizedProps!==m.pendingProps)_n=!0;else{if(!_2(c,x)&&(m.flags&128)===0)return _n=!1,pM(c,m,x);_n=(c.flags&131072)!==0}else _n=!1,_r&&(m.flags&1048576)!==0&&vg(m,K0,m.index);switch(m.lanes=0,m.tag){case 16:e:{c=m.pendingProps;var j=m.elementType,P=j._init;if(j=P(j._payload),m.type=j,typeof j=="function")vu(j)?(c=Wm(j,c),m.tag=1,m=b4(null,m,j,c,x)):(m.tag=0,m=y2(null,m,j,c,x));else{if(j!=null){if(P=j.$$typeof,P===R){m.tag=11,m=h4(null,m,j,c,x);break e}else if(P===S){m.tag=14,m=x4(null,m,j,c,x);break e}}throw m=D(j)||j,Error(a(306,m,""))}}return m;case 0:return y2(c,m,m.type,m.pendingProps,x);case 1:return j=m.type,P=Wm(j,m.pendingProps),b4(c,m,j,P,x);case 3:e:{if(Q(m,m.stateNode.containerInfo),c===null)throw Error(a(387));j=m.pendingProps;var H=m.memoizedState;P=H.element,at(c,m),Jt(m,j,null,x);var de=m.memoizedState;if(j=de.cache,_c(m,Oa,j),j!==H.cache&&Q0(m,[Oa],x,!0),ps(),j=de.element,H.isDehydrated)if(H={element:j,isDehydrated:!1,cache:de.cache},m.updateQueue.baseState=H,m.memoizedState=H,m.flags&256){m=v4(c,m,j,x);break e}else if(j!==P){P=nr(Error(a(424)),m),ju(P),m=v4(c,m,j,x);break e}else{switch(c=m.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(ua=Bl(c.firstChild),Fa=m,_r=!0,Sc=null,Yo=!0,x=s4(m,null,j,x),m.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling}else{if(Li(),j===P){m=Td(c,m,x);break e}Vn(c,m,j,x)}m=m.child}return m;case 26:return Vg(c,m),c===null?(x=A3(m.type,null,m.pendingProps,null))?m.memoizedState=x:_r||(x=m.type,c=m.pendingProps,j=ay(te.current).createElement(x),j[Es]=m,j[Bs]=c,Hn(j,x,c),Ke(j),m.stateNode=j):m.memoizedState=A3(m.type,c.memoizedProps,m.pendingProps,c.memoizedState),null;case 27:return ie(m),c===null&&_r&&(j=m.stateNode=_3(m.type,m.pendingProps,te.current),Fa=m,Yo=!0,P=ua,Bu(m.type)?(nv=P,ua=Bl(j.firstChild)):ua=P),Vn(c,m,m.pendingProps.children,x),Vg(c,m),c===null&&(m.flags|=4194304),m.child;case 5:return c===null&&_r&&((P=j=ua)&&(j=qM(j,m.type,m.pendingProps,Yo),j!==null?(m.stateNode=j,Fa=m,ua=Bl(j.firstChild),Yo=!1,P=!0):P=!1),P||Nd(m)),ie(m),P=m.type,H=m.pendingProps,de=c!==null?c.memoizedProps:null,j=H.children,tv(P,H)?j=null:de!==null&&tv(P,de)&&(m.flags|=32),m.memoizedState!==null&&(P=jo(c,m,Ac,null,null,x),ff._currentValue=P),Vg(c,m),Vn(c,m,j,x),m.child;case 6:return c===null&&_r&&((c=x=ua)&&(x=HM(x,m.pendingProps,Yo),x!==null?(m.stateNode=x,Fa=m,ua=null,c=!0):c=!1),c||Nd(m)),null;case 13:return w4(c,m,x);case 4:return Q(m,m.stateNode.containerInfo),j=m.pendingProps,c===null?m.child=oh(m,null,j,x):Vn(c,m,j,x),m.child;case 11:return h4(c,m,m.type,m.pendingProps,x);case 7:return Vn(c,m,m.pendingProps,x),m.child;case 8:return Vn(c,m,m.pendingProps.children,x),m.child;case 12:return Vn(c,m,m.pendingProps.children,x),m.child;case 10:return j=m.pendingProps,_c(m,m.type,j.value),Vn(c,m,j.children,x),m.child;case 9:return P=m.type._context,j=m.pendingProps.children,Qo(m),P=Ra(P),j=j(P),m.flags|=1,Vn(c,m,j,x),m.child;case 14:return x4(c,m,m.type,m.pendingProps,x);case 15:return f4(c,m,m.type,m.pendingProps,x);case 19:return N4(c,m,x);case 31:return j=m.pendingProps,x=m.mode,j={mode:j.mode,children:j.children},c===null?(x=qg(j,x),x.ref=m.ref,m.child=x,x.return=m,m=x):(x=Go(c.child,j),x.ref=m.ref,m.child=x,x.return=m,m=x),m;case 22:return p4(c,m,x);case 24:return Qo(m),j=Ra(Oa),c===null?(P=Y(),P===null&&(P=Jr,H=Ox(),P.pooledCache=H,H.refCount++,H!==null&&(P.pooledCacheLanes|=x),P=H),m.memoizedState={parent:j,cache:P},tt(m),_c(m,Oa,P)):((c.lanes&x)!==0&&(at(c,m),Jt(m,null,null,x),ps()),P=c.memoizedState,H=m.memoizedState,P.parent!==j?(P={parent:j,cache:j},m.memoizedState=P,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=P),_c(m,Oa,j)):(j=H.cache,_c(m,Oa,j),j!==P.cache&&Q0(m,[Oa],x,!0))),Vn(c,m,m.pendingProps.children,x),m.child;case 29:throw m.pendingProps}throw Error(a(156,m.tag))}function Dd(c){c.flags|=4}function _4(c,m){if(m.type!=="stylesheet"||(m.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!M3(m)){if(m=Zo.current,m!==null&&((vr&4194048)===vr?Dc!==null:(vr&62914560)!==vr&&(vr&536870912)===0||m!==Dc))throw xt=Ce,be;c.flags|=8192}}function Hg(c,m){m!==null&&(c.flags|=4),c.flags&16384&&(m=c.tag!==22?jt():536870912,c.lanes|=m,uh|=m)}function Zx(c,m){if(!_r)switch(c.tailMode){case"hidden":m=c.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?c.tail=null:x.sibling=null;break;case"collapsed":x=c.tail;for(var j=null;x!==null;)x.alternate!==null&&(j=x),x=x.sibling;j===null?m||c.tail===null?c.tail=null:c.tail.sibling=null:j.sibling=null}}function ja(c){var m=c.alternate!==null&&c.alternate.child===c.child,x=0,j=0;if(m)for(var P=c.child;P!==null;)x|=P.lanes|P.childLanes,j|=P.subtreeFlags&65011712,j|=P.flags&65011712,P.return=c,P=P.sibling;else for(P=c.child;P!==null;)x|=P.lanes|P.childLanes,j|=P.subtreeFlags,j|=P.flags,P.return=c,P=P.sibling;return c.subtreeFlags|=j,c.childLanes=x,m}function gM(c,m,x){var j=m.pendingProps;switch(Mm(m),m.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ja(m),null;case 1:return ja(m),null;case 3:return x=m.stateNode,j=null,c!==null&&(j=c.memoizedState.cache),m.memoizedState.cache!==j&&(m.flags|=2048),Xo(Oa),ue(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(c===null||c.child===null)&&($n(m)?Dd(m):c===null||c.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,jg())),ja(m),null;case 26:return x=m.memoizedState,c===null?(Dd(m),x!==null?(ja(m),_4(m,x)):(ja(m),m.flags&=-16777217)):x?x!==c.memoizedState?(Dd(m),ja(m),_4(m,x)):(ja(m),m.flags&=-16777217):(c.memoizedProps!==j&&Dd(m),ja(m),m.flags&=-16777217),null;case 27:oe(m),x=te.current;var P=m.type;if(c!==null&&m.stateNode!=null)c.memoizedProps!==j&&Dd(m);else{if(!j){if(m.stateNode===null)throw Error(a(166));return ja(m),null}c=z.current,$n(m)?wg(m):(c=_3(P,j,x),m.stateNode=c,Dd(m))}return ja(m),null;case 5:if(oe(m),x=m.type,c!==null&&m.stateNode!=null)c.memoizedProps!==j&&Dd(m);else{if(!j){if(m.stateNode===null)throw Error(a(166));return ja(m),null}if(c=z.current,$n(m))wg(m);else{switch(P=ay(te.current),c){case 1:c=P.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:c=P.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":c=P.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":c=P.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":c=P.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof j.is=="string"?P.createElement("select",{is:j.is}):P.createElement("select"),j.multiple?c.multiple=!0:j.size&&(c.size=j.size);break;default:c=typeof j.is=="string"?P.createElement(x,{is:j.is}):P.createElement(x)}}c[Es]=m,c[Bs]=j;e:for(P=m.child;P!==null;){if(P.tag===5||P.tag===6)c.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===m)break e;for(;P.sibling===null;){if(P.return===null||P.return===m)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}m.stateNode=c;e:switch(Hn(c,x,j),x){case"button":case"input":case"select":case"textarea":c=!!j.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Dd(m)}}return ja(m),m.flags&=-16777217,null;case 6:if(c&&m.stateNode!=null)c.memoizedProps!==j&&Dd(m);else{if(typeof j!="string"&&m.stateNode===null)throw Error(a(166));if(c=te.current,$n(m)){if(c=m.stateNode,x=m.memoizedProps,j=null,P=Fa,P!==null)switch(P.tag){case 27:case 5:j=P.memoizedProps}c[Es]=m,c=!!(c.nodeValue===x||j!==null&&j.suppressHydrationWarning===!0||y3(c.nodeValue,x)),c||Nd(m)}else c=ay(c).createTextNode(j),c[Es]=m,m.stateNode=c}return ja(m),null;case 13:if(j=m.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(P=$n(m),j!==null&&j.dehydrated!==null){if(c===null){if(!P)throw Error(a(318));if(P=m.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(a(317));P[Es]=m}else Li(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;ja(m),P=!1}else P=jg(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=P),P=!0;if(!P)return m.flags&256?(Ed(m),m):(Ed(m),null)}if(Ed(m),(m.flags&128)!==0)return m.lanes=x,m;if(x=j!==null,c=c!==null&&c.memoizedState!==null,x){j=m.child,P=null,j.alternate!==null&&j.alternate.memoizedState!==null&&j.alternate.memoizedState.cachePool!==null&&(P=j.alternate.memoizedState.cachePool.pool);var H=null;j.memoizedState!==null&&j.memoizedState.cachePool!==null&&(H=j.memoizedState.cachePool.pool),H!==P&&(j.flags|=2048)}return x!==c&&x&&(m.child.flags|=8192),Hg(m,m.updateQueue),ja(m),null;case 4:return ue(),c===null&&X2(m.stateNode.containerInfo),ja(m),null;case 10:return Xo(m.type),ja(m),null;case 19:if(U(pn),P=m.memoizedState,P===null)return ja(m),null;if(j=(m.flags&128)!==0,H=P.rendering,H===null)if(j)Zx(P,!1);else{if(Aa!==0||c!==null&&(c.flags&128)!==0)for(c=m.child;c!==null;){if(H=zg(c),H!==null){for(m.flags|=128,Zx(P,!1),c=H.updateQueue,m.updateQueue=c,Hg(m,c),m.subtreeFlags=0,c=x,x=m.child;x!==null;)Tm(x,c),x=x.sibling;return O(pn,pn.current&1|2),m.child}c=c.sibling}P.tail!==null&&he()>Yg&&(m.flags|=128,j=!0,Zx(P,!1),m.lanes=4194304)}else{if(!j)if(c=zg(H),c!==null){if(m.flags|=128,j=!0,c=c.updateQueue,m.updateQueue=c,Hg(m,c),Zx(P,!0),P.tail===null&&P.tailMode==="hidden"&&!H.alternate&&!_r)return ja(m),null}else 2*he()-P.renderingStartTime>Yg&&x!==536870912&&(m.flags|=128,j=!0,Zx(P,!1),m.lanes=4194304);P.isBackwards?(H.sibling=m.child,m.child=H):(c=P.last,c!==null?c.sibling=H:m.child=H,P.last=H)}return P.tail!==null?(m=P.tail,P.rendering=m,P.tail=m.sibling,P.renderingStartTime=he(),m.sibling=null,c=pn.current,O(pn,j?c&1|2:c&1),m):(ja(m),null);case 22:case 23:return Ed(m),Vs(),j=m.memoizedState!==null,c!==null?c.memoizedState!==null!==j&&(m.flags|=8192):j&&(m.flags|=8192),j?(x&536870912)!==0&&(m.flags&128)===0&&(ja(m),m.subtreeFlags&6&&(m.flags|=8192)):ja(m),x=m.updateQueue,x!==null&&Hg(m,x.retryQueue),x=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),j=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(j=m.memoizedState.cachePool.pool),j!==x&&(m.flags|=2048),c!==null&&U(M),null;case 24:return x=null,c!==null&&(x=c.memoizedState.cache),m.memoizedState.cache!==x&&(m.flags|=2048),Xo(Oa),ja(m),null;case 25:return null;case 30:return null}throw Error(a(156,m.tag))}function yM(c,m){switch(Mm(m),m.tag){case 1:return c=m.flags,c&65536?(m.flags=c&-65537|128,m):null;case 3:return Xo(Oa),ue(),c=m.flags,(c&65536)!==0&&(c&128)===0?(m.flags=c&-65537|128,m):null;case 26:case 27:case 5:return oe(m),null;case 13:if(Ed(m),c=m.memoizedState,c!==null&&c.dehydrated!==null){if(m.alternate===null)throw Error(a(340));Li()}return c=m.flags,c&65536?(m.flags=c&-65537|128,m):null;case 19:return U(pn),null;case 4:return ue(),null;case 10:return Xo(m.type),null;case 22:case 23:return Ed(m),Vs(),c!==null&&U(M),c=m.flags,c&65536?(m.flags=c&-65537|128,m):null;case 24:return Xo(Oa),null;case 25:return null;default:return null}}function C4(c,m){switch(Mm(m),m.tag){case 3:Xo(Oa),ue();break;case 26:case 27:case 5:oe(m);break;case 4:ue();break;case 13:Ed(m);break;case 19:U(pn);break;case 10:Xo(m.type);break;case 22:case 23:Ed(m),Vs(),c!==null&&U(M);break;case 24:Xo(Oa)}}function ef(c,m){try{var x=m.updateQueue,j=x!==null?x.lastEffect:null;if(j!==null){var P=j.next;x=P;do{if((x.tag&c)===c){j=void 0;var H=x.create,de=x.inst;j=H(),de.destroy=j}x=x.next}while(x!==P)}}catch(je){Yr(m,m.return,je)}}function Du(c,m,x){try{var j=m.updateQueue,P=j!==null?j.lastEffect:null;if(P!==null){var H=P.next;j=H;do{if((j.tag&c)===c){var de=j.inst,je=de.destroy;if(je!==void 0){de.destroy=void 0,P=m;var He=x,yt=je;try{yt()}catch(Pt){Yr(P,He,Pt)}}}j=j.next}while(j!==H)}}catch(Pt){Yr(m,m.return,Pt)}}function k4(c){var m=c.updateQueue;if(m!==null){var x=c.stateNode;try{kr(m,x)}catch(j){Yr(c,c.return,j)}}}function A4(c,m,x){x.props=Wm(c.type,c.memoizedProps),x.state=c.memoizedState;try{x.componentWillUnmount()}catch(j){Yr(c,m,j)}}function tf(c,m){try{var x=c.ref;if(x!==null){switch(c.tag){case 26:case 27:case 5:var j=c.stateNode;break;case 30:j=c.stateNode;break;default:j=c.stateNode}typeof x=="function"?c.refCleanup=x(j):x.current=j}}catch(P){Yr(c,m,P)}}function Pc(c,m){var x=c.ref,j=c.refCleanup;if(x!==null)if(typeof j=="function")try{j()}catch(P){Yr(c,m,P)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(P){Yr(c,m,P)}else x.current=null}function E4(c){var m=c.type,x=c.memoizedProps,j=c.stateNode;try{e:switch(m){case"button":case"input":case"select":case"textarea":x.autoFocus&&j.focus();break e;case"img":x.src?j.src=x.src:x.srcSet&&(j.srcset=x.srcSet)}}catch(P){Yr(c,c.return,P)}}function C2(c,m,x){try{var j=c.stateNode;BM(j,c.type,x,m),j[Bs]=m}catch(P){Yr(c,c.return,P)}}function T4(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&Bu(c.type)||c.tag===4}function k2(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||T4(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&Bu(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function A2(c,m,x){var j=c.tag;if(j===5||j===6)c=c.stateNode,m?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(c,m):(m=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,m.appendChild(c),x=x._reactRootContainer,x!=null||m.onclick!==null||(m.onclick=ry));else if(j!==4&&(j===27&&Bu(c.type)&&(x=c.stateNode,m=null),c=c.child,c!==null))for(A2(c,m,x),c=c.sibling;c!==null;)A2(c,m,x),c=c.sibling}function Wg(c,m,x){var j=c.tag;if(j===5||j===6)c=c.stateNode,m?x.insertBefore(c,m):x.appendChild(c);else if(j!==4&&(j===27&&Bu(c.type)&&(x=c.stateNode),c=c.child,c!==null))for(Wg(c,m,x),c=c.sibling;c!==null;)Wg(c,m,x),c=c.sibling}function D4(c){var m=c.stateNode,x=c.memoizedProps;try{for(var j=c.type,P=m.attributes;P.length;)m.removeAttributeNode(P[0]);Hn(m,j,x),m[Es]=c,m[Bs]=x}catch(H){Yr(c,c.return,H)}}var Pd=!1,Ba=!1,E2=!1,P4=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function bM(c,m){if(c=c.containerInfo,Z2=dy,c=zn(c),fn(c)){if("selectionStart"in c)var x={start:c.selectionStart,end:c.selectionEnd};else e:{x=(x=c.ownerDocument)&&x.defaultView||window;var j=x.getSelection&&x.getSelection();if(j&&j.rangeCount!==0){x=j.anchorNode;var P=j.anchorOffset,H=j.focusNode;j=j.focusOffset;try{x.nodeType,H.nodeType}catch{x=null;break e}var de=0,je=-1,He=-1,yt=0,Pt=0,It=c,wt=null;t:for(;;){for(var Nt;It!==x||P!==0&&It.nodeType!==3||(je=de+P),It!==H||j!==0&&It.nodeType!==3||(He=de+j),It.nodeType===3&&(de+=It.nodeValue.length),(Nt=It.firstChild)!==null;)wt=It,It=Nt;for(;;){if(It===c)break t;if(wt===x&&++yt===P&&(je=de),wt===H&&++Pt===j&&(He=de),(Nt=It.nextSibling)!==null)break;It=wt,wt=It.parentNode}It=Nt}x=je===-1||He===-1?null:{start:je,end:He}}else x=null}x=x||{start:0,end:0}}else x=null;for(ev={focusedElem:c,selectionRange:x},dy=!1,Cn=m;Cn!==null;)if(m=Cn,c=m.child,(m.subtreeFlags&1024)!==0&&c!==null)c.return=m,Cn=c;else for(;Cn!==null;){switch(m=Cn,H=m.alternate,c=m.flags,m.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&H!==null){c=void 0,x=m,P=H.memoizedProps,H=H.memoizedState,j=x.stateNode;try{var Fs=Wm(x.type,P,x.elementType===x.type);c=j.getSnapshotBeforeUpdate(Fs,H),j.__reactInternalSnapshotBeforeUpdate=c}catch(Cs){Yr(x,x.return,Cs)}}break;case 3:if((c&1024)!==0){if(c=m.stateNode.containerInfo,x=c.nodeType,x===9)rv(c);else if(x===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":rv(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(a(163))}if(c=m.sibling,c!==null){c.return=m.return,Cn=c;break}Cn=m.return}}function M4(c,m,x){var j=x.flags;switch(x.tag){case 0:case 11:case 15:Pu(c,x),j&4&&ef(5,x);break;case 1:if(Pu(c,x),j&4)if(c=x.stateNode,m===null)try{c.componentDidMount()}catch(de){Yr(x,x.return,de)}else{var P=Wm(x.type,m.memoizedProps);m=m.memoizedState;try{c.componentDidUpdate(P,m,c.__reactInternalSnapshotBeforeUpdate)}catch(de){Yr(x,x.return,de)}}j&64&&k4(x),j&512&&tf(x,x.return);break;case 3:if(Pu(c,x),j&64&&(c=x.updateQueue,c!==null)){if(m=null,x.child!==null)switch(x.child.tag){case 27:case 5:m=x.child.stateNode;break;case 1:m=x.child.stateNode}try{kr(c,m)}catch(de){Yr(x,x.return,de)}}break;case 27:m===null&&j&4&&D4(x);case 26:case 5:Pu(c,x),m===null&&j&4&&E4(x),j&512&&tf(x,x.return);break;case 12:Pu(c,x);break;case 13:Pu(c,x),j&4&&R4(c,x),j&64&&(c=x.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(x=AM.bind(null,x),WM(c,x))));break;case 22:if(j=x.memoizedState!==null||Pd,!j){m=m!==null&&m.memoizedState!==null||Ba,P=Pd;var H=Ba;Pd=j,(Ba=m)&&!H?Mu(c,x,(x.subtreeFlags&8772)!==0):Pu(c,x),Pd=P,Ba=H}break;case 30:break;default:Pu(c,x)}}function L4(c){var m=c.alternate;m!==null&&(c.alternate=null,L4(m)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(m=c.stateNode,m!==null&&_e(m)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var ma=null,Zi=!1;function Md(c,m,x){for(x=x.child;x!==null;)F4(c,m,x),x=x.sibling}function F4(c,m,x){if(Ae&&typeof Ae.onCommitFiberUnmount=="function")try{Ae.onCommitFiberUnmount(Pe,x)}catch{}switch(x.tag){case 26:Ba||Pc(x,m),Md(c,m,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:Ba||Pc(x,m);var j=ma,P=Zi;Bu(x.type)&&(ma=x.stateNode,Zi=!1),Md(c,m,x),uf(x.stateNode),ma=j,Zi=P;break;case 5:Ba||Pc(x,m);case 6:if(j=ma,P=Zi,ma=null,Md(c,m,x),ma=j,Zi=P,ma!==null)if(Zi)try{(ma.nodeType===9?ma.body:ma.nodeName==="HTML"?ma.ownerDocument.body:ma).removeChild(x.stateNode)}catch(H){Yr(x,m,H)}else try{ma.removeChild(x.stateNode)}catch(H){Yr(x,m,H)}break;case 18:ma!==null&&(Zi?(c=ma,N3(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,x.stateNode),bf(c)):N3(ma,x.stateNode));break;case 4:j=ma,P=Zi,ma=x.stateNode.containerInfo,Zi=!0,Md(c,m,x),ma=j,Zi=P;break;case 0:case 11:case 14:case 15:Ba||Du(2,x,m),Ba||Du(4,x,m),Md(c,m,x);break;case 1:Ba||(Pc(x,m),j=x.stateNode,typeof j.componentWillUnmount=="function"&&A4(x,m,j)),Md(c,m,x);break;case 21:Md(c,m,x);break;case 22:Ba=(j=Ba)||x.memoizedState!==null,Md(c,m,x),Ba=j;break;default:Md(c,m,x)}}function R4(c,m){if(m.memoizedState===null&&(c=m.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{bf(c)}catch(x){Yr(m,m.return,x)}}function vM(c){switch(c.tag){case 13:case 19:var m=c.stateNode;return m===null&&(m=c.stateNode=new P4),m;case 22:return c=c.stateNode,m=c._retryCache,m===null&&(m=c._retryCache=new P4),m;default:throw Error(a(435,c.tag))}}function T2(c,m){var x=vM(c);m.forEach(function(j){var P=EM.bind(null,c,j);x.has(j)||(x.add(j),j.then(P,P))})}function So(c,m){var x=m.deletions;if(x!==null)for(var j=0;j<x.length;j++){var P=x[j],H=c,de=m,je=de;e:for(;je!==null;){switch(je.tag){case 27:if(Bu(je.type)){ma=je.stateNode,Zi=!1;break e}break;case 5:ma=je.stateNode,Zi=!1;break e;case 3:case 4:ma=je.stateNode.containerInfo,Zi=!0;break e}je=je.return}if(ma===null)throw Error(a(160));F4(H,de,P),ma=null,Zi=!1,H=P.alternate,H!==null&&(H.return=null),P.return=null}if(m.subtreeFlags&13878)for(m=m.child;m!==null;)O4(m,c),m=m.sibling}var Il=null;function O4(c,m){var x=c.alternate,j=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:So(m,c),_o(c),j&4&&(Du(3,c,c.return),ef(3,c),Du(5,c,c.return));break;case 1:So(m,c),_o(c),j&512&&(Ba||x===null||Pc(x,x.return)),j&64&&Pd&&(c=c.updateQueue,c!==null&&(j=c.callbacks,j!==null&&(x=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=x===null?j:x.concat(j))));break;case 26:var P=Il;if(So(m,c),_o(c),j&512&&(Ba||x===null||Pc(x,x.return)),j&4){var H=x!==null?x.memoizedState:null;if(j=c.memoizedState,x===null)if(j===null)if(c.stateNode===null){e:{j=c.type,x=c.memoizedProps,P=P.ownerDocument||P;t:switch(j){case"title":H=P.getElementsByTagName("title")[0],(!H||H[me]||H[Es]||H.namespaceURI==="http://www.w3.org/2000/svg"||H.hasAttribute("itemprop"))&&(H=P.createElement(j),P.head.insertBefore(H,P.querySelector("head > title"))),Hn(H,j,x),H[Es]=c,Ke(H),j=H;break e;case"link":var de=D3("link","href",P).get(j+(x.href||""));if(de){for(var je=0;je<de.length;je++)if(H=de[je],H.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&H.getAttribute("rel")===(x.rel==null?null:x.rel)&&H.getAttribute("title")===(x.title==null?null:x.title)&&H.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){de.splice(je,1);break t}}H=P.createElement(j),Hn(H,j,x),P.head.appendChild(H);break;case"meta":if(de=D3("meta","content",P).get(j+(x.content||""))){for(je=0;je<de.length;je++)if(H=de[je],H.getAttribute("content")===(x.content==null?null:""+x.content)&&H.getAttribute("name")===(x.name==null?null:x.name)&&H.getAttribute("property")===(x.property==null?null:x.property)&&H.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&H.getAttribute("charset")===(x.charSet==null?null:x.charSet)){de.splice(je,1);break t}}H=P.createElement(j),Hn(H,j,x),P.head.appendChild(H);break;default:throw Error(a(468,j))}H[Es]=c,Ke(H),j=H}c.stateNode=j}else P3(P,c.type,c.stateNode);else c.stateNode=T3(P,j,c.memoizedProps);else H!==j?(H===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):H.count--,j===null?P3(P,c.type,c.stateNode):T3(P,j,c.memoizedProps)):j===null&&c.stateNode!==null&&C2(c,c.memoizedProps,x.memoizedProps)}break;case 27:So(m,c),_o(c),j&512&&(Ba||x===null||Pc(x,x.return)),x!==null&&j&4&&C2(c,c.memoizedProps,x.memoizedProps);break;case 5:if(So(m,c),_o(c),j&512&&(Ba||x===null||Pc(x,x.return)),c.flags&32){P=c.stateNode;try{Jn(P,"")}catch(Nt){Yr(c,c.return,Nt)}}j&4&&c.stateNode!=null&&(P=c.memoizedProps,C2(c,P,x!==null?x.memoizedProps:P)),j&1024&&(E2=!0);break;case 6:if(So(m,c),_o(c),j&4){if(c.stateNode===null)throw Error(a(162));j=c.memoizedProps,x=c.stateNode;try{x.nodeValue=j}catch(Nt){Yr(c,c.return,Nt)}}break;case 3:if(oy=null,P=Il,Il=ny(m.containerInfo),So(m,c),Il=P,_o(c),j&4&&x!==null&&x.memoizedState.isDehydrated)try{bf(m.containerInfo)}catch(Nt){Yr(c,c.return,Nt)}E2&&(E2=!1,I4(c));break;case 4:j=Il,Il=ny(c.stateNode.containerInfo),So(m,c),_o(c),Il=j;break;case 12:So(m,c),_o(c);break;case 13:So(m,c),_o(c),c.child.flags&8192&&c.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(R2=he()),j&4&&(j=c.updateQueue,j!==null&&(c.updateQueue=null,T2(c,j)));break;case 22:P=c.memoizedState!==null;var He=x!==null&&x.memoizedState!==null,yt=Pd,Pt=Ba;if(Pd=yt||P,Ba=Pt||He,So(m,c),Ba=Pt,Pd=yt,_o(c),j&8192)e:for(m=c.stateNode,m._visibility=P?m._visibility&-2:m._visibility|1,P&&(x===null||He||Pd||Ba||Gm(c)),x=null,m=c;;){if(m.tag===5||m.tag===26){if(x===null){He=x=m;try{if(H=He.stateNode,P)de=H.style,typeof de.setProperty=="function"?de.setProperty("display","none","important"):de.display="none";else{je=He.stateNode;var It=He.memoizedProps.style,wt=It!=null&&It.hasOwnProperty("display")?It.display:null;je.style.display=wt==null||typeof wt=="boolean"?"":(""+wt).trim()}}catch(Nt){Yr(He,He.return,Nt)}}}else if(m.tag===6){if(x===null){He=m;try{He.stateNode.nodeValue=P?"":He.memoizedProps}catch(Nt){Yr(He,He.return,Nt)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===c)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===c)break e;for(;m.sibling===null;){if(m.return===null||m.return===c)break e;x===m&&(x=null),m=m.return}x===m&&(x=null),m.sibling.return=m.return,m=m.sibling}j&4&&(j=c.updateQueue,j!==null&&(x=j.retryQueue,x!==null&&(j.retryQueue=null,T2(c,x))));break;case 19:So(m,c),_o(c),j&4&&(j=c.updateQueue,j!==null&&(c.updateQueue=null,T2(c,j)));break;case 30:break;case 21:break;default:So(m,c),_o(c)}}function _o(c){var m=c.flags;if(m&2){try{for(var x,j=c.return;j!==null;){if(T4(j)){x=j;break}j=j.return}if(x==null)throw Error(a(160));switch(x.tag){case 27:var P=x.stateNode,H=k2(c);Wg(c,H,P);break;case 5:var de=x.stateNode;x.flags&32&&(Jn(de,""),x.flags&=-33);var je=k2(c);Wg(c,je,de);break;case 3:case 4:var He=x.stateNode.containerInfo,yt=k2(c);A2(c,yt,He);break;default:throw Error(a(161))}}catch(Pt){Yr(c,c.return,Pt)}c.flags&=-3}m&4096&&(c.flags&=-4097)}function I4(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var m=c;I4(m),m.tag===5&&m.flags&1024&&m.stateNode.reset(),c=c.sibling}}function Pu(c,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)M4(c,m.alternate,m),m=m.sibling}function Gm(c){for(c=c.child;c!==null;){var m=c;switch(m.tag){case 0:case 11:case 14:case 15:Du(4,m,m.return),Gm(m);break;case 1:Pc(m,m.return);var x=m.stateNode;typeof x.componentWillUnmount=="function"&&A4(m,m.return,x),Gm(m);break;case 27:uf(m.stateNode);case 26:case 5:Pc(m,m.return),Gm(m);break;case 22:m.memoizedState===null&&Gm(m);break;case 30:Gm(m);break;default:Gm(m)}c=c.sibling}}function Mu(c,m,x){for(x=x&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var j=m.alternate,P=c,H=m,de=H.flags;switch(H.tag){case 0:case 11:case 15:Mu(P,H,x),ef(4,H);break;case 1:if(Mu(P,H,x),j=H,P=j.stateNode,typeof P.componentDidMount=="function")try{P.componentDidMount()}catch(yt){Yr(j,j.return,yt)}if(j=H,P=j.updateQueue,P!==null){var je=j.stateNode;try{var He=P.shared.hiddenCallbacks;if(He!==null)for(P.shared.hiddenCallbacks=null,P=0;P<He.length;P++)yr(He[P],je)}catch(yt){Yr(j,j.return,yt)}}x&&de&64&&k4(H),tf(H,H.return);break;case 27:D4(H);case 26:case 5:Mu(P,H,x),x&&j===null&&de&4&&E4(H),tf(H,H.return);break;case 12:Mu(P,H,x);break;case 13:Mu(P,H,x),x&&de&4&&R4(P,H);break;case 22:H.memoizedState===null&&Mu(P,H,x),tf(H,H.return);break;case 30:break;default:Mu(P,H,x)}m=m.sibling}}function D2(c,m){var x=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),c=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(c=m.memoizedState.cachePool.pool),c!==x&&(c!=null&&c.refCount++,x!=null&&Lm(x))}function P2(c,m){c=null,m.alternate!==null&&(c=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==c&&(m.refCount++,c!=null&&Lm(c))}function Mc(c,m,x,j){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)B4(c,m,x,j),m=m.sibling}function B4(c,m,x,j){var P=m.flags;switch(m.tag){case 0:case 11:case 15:Mc(c,m,x,j),P&2048&&ef(9,m);break;case 1:Mc(c,m,x,j);break;case 3:Mc(c,m,x,j),P&2048&&(c=null,m.alternate!==null&&(c=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==c&&(m.refCount++,c!=null&&Lm(c)));break;case 12:if(P&2048){Mc(c,m,x,j),c=m.stateNode;try{var H=m.memoizedProps,de=H.id,je=H.onPostCommit;typeof je=="function"&&je(de,m.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(He){Yr(m,m.return,He)}}else Mc(c,m,x,j);break;case 13:Mc(c,m,x,j);break;case 23:break;case 22:H=m.stateNode,de=m.alternate,m.memoizedState!==null?H._visibility&2?Mc(c,m,x,j):sf(c,m):H._visibility&2?Mc(c,m,x,j):(H._visibility|=2,lh(c,m,x,j,(m.subtreeFlags&10256)!==0)),P&2048&&D2(de,m);break;case 24:Mc(c,m,x,j),P&2048&&P2(m.alternate,m);break;default:Mc(c,m,x,j)}}function lh(c,m,x,j,P){for(P=P&&(m.subtreeFlags&10256)!==0,m=m.child;m!==null;){var H=c,de=m,je=x,He=j,yt=de.flags;switch(de.tag){case 0:case 11:case 15:lh(H,de,je,He,P),ef(8,de);break;case 23:break;case 22:var Pt=de.stateNode;de.memoizedState!==null?Pt._visibility&2?lh(H,de,je,He,P):sf(H,de):(Pt._visibility|=2,lh(H,de,je,He,P)),P&&yt&2048&&D2(de.alternate,de);break;case 24:lh(H,de,je,He,P),P&&yt&2048&&P2(de.alternate,de);break;default:lh(H,de,je,He,P)}m=m.sibling}}function sf(c,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var x=c,j=m,P=j.flags;switch(j.tag){case 22:sf(x,j),P&2048&&D2(j.alternate,j);break;case 24:sf(x,j),P&2048&&P2(j.alternate,j);break;default:sf(x,j)}m=m.sibling}}var rf=8192;function ch(c){if(c.subtreeFlags&rf)for(c=c.child;c!==null;)z4(c),c=c.sibling}function z4(c){switch(c.tag){case 26:ch(c),c.flags&rf&&c.memoizedState!==null&&nL(Il,c.memoizedState,c.memoizedProps);break;case 5:ch(c);break;case 3:case 4:var m=Il;Il=ny(c.stateNode.containerInfo),ch(c),Il=m;break;case 22:c.memoizedState===null&&(m=c.alternate,m!==null&&m.memoizedState!==null?(m=rf,rf=16777216,ch(c),rf=m):ch(c));break;default:ch(c)}}function $4(c){var m=c.alternate;if(m!==null&&(c=m.child,c!==null)){m.child=null;do m=c.sibling,c.sibling=null,c=m;while(c!==null)}}function af(c){var m=c.deletions;if((c.flags&16)!==0){if(m!==null)for(var x=0;x<m.length;x++){var j=m[x];Cn=j,V4(j,c)}$4(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)U4(c),c=c.sibling}function U4(c){switch(c.tag){case 0:case 11:case 15:af(c),c.flags&2048&&Du(9,c,c.return);break;case 3:af(c);break;case 12:af(c);break;case 22:var m=c.stateNode;c.memoizedState!==null&&m._visibility&2&&(c.return===null||c.return.tag!==13)?(m._visibility&=-3,Gg(c)):af(c);break;default:af(c)}}function Gg(c){var m=c.deletions;if((c.flags&16)!==0){if(m!==null)for(var x=0;x<m.length;x++){var j=m[x];Cn=j,V4(j,c)}$4(c)}for(c=c.child;c!==null;){switch(m=c,m.tag){case 0:case 11:case 15:Du(8,m,m.return),Gg(m);break;case 22:x=m.stateNode,x._visibility&2&&(x._visibility&=-3,Gg(m));break;default:Gg(m)}c=c.sibling}}function V4(c,m){for(;Cn!==null;){var x=Cn;switch(x.tag){case 0:case 11:case 15:Du(8,x,m);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var j=x.memoizedState.cachePool.pool;j!=null&&j.refCount++}break;case 24:Lm(x.memoizedState.cache)}if(j=x.child,j!==null)j.return=x,Cn=j;else e:for(x=c;Cn!==null;){j=Cn;var P=j.sibling,H=j.return;if(L4(j),j===x){Cn=null;break e}if(P!==null){P.return=H,Cn=P;break e}Cn=H}}}var wM={getCacheForType:function(c){var m=Ra(Oa),x=m.data.get(c);return x===void 0&&(x=c(),m.data.set(c,x)),x}},jM=typeof WeakMap=="function"?WeakMap:Map,Br=0,Jr=null,mr=null,vr=0,zr=0,Co=null,Lu=!1,dh=!1,M2=!1,Ld=0,Aa=0,Fu=0,Ym=0,L2=0,el=0,uh=0,nf=null,eo=null,F2=!1,R2=0,Yg=1/0,Kg=null,Ru=null,qn=0,Ou=null,mh=null,hh=0,O2=0,I2=null,q4=null,of=0,B2=null;function ko(){if((Br&2)!==0&&vr!==0)return vr&-vr;if(K.T!==null){var c=Sd;return c!==0?c:W2()}return Us()}function H4(){el===0&&(el=(vr&536870912)===0||_r?Oe():536870912);var c=Zo.current;return c!==null&&(c.flags|=32),el}function Ao(c,m,x){(c===Jr&&(zr===2||zr===9)||c.cancelPendingCommit!==null)&&(xh(c,0),Iu(c,vr,el,!1)),qt(c,x),((Br&2)===0||c!==Jr)&&(c===Jr&&((Br&2)===0&&(Ym|=x),Aa===4&&Iu(c,vr,el,!1)),Lc(c))}function W4(c,m,x){if((Br&6)!==0)throw Error(a(327));var j=!x&&(m&124)===0&&(m&c.expiredLanes)===0||bt(c,m),P=j?_M(c,m):U2(c,m,!0),H=j;do{if(P===0){dh&&!j&&Iu(c,m,0,!1);break}else{if(x=c.current.alternate,H&&!NM(x)){P=U2(c,m,!1),H=!1;continue}if(P===2){if(H=m,c.errorRecoveryDisabledLanes&H)var de=0;else de=c.pendingLanes&-536870913,de=de!==0?de:de&536870912?536870912:0;if(de!==0){m=de;e:{var je=c;P=nf;var He=je.current.memoizedState.isDehydrated;if(He&&(xh(je,de).flags|=256),de=U2(je,de,!1),de!==2){if(M2&&!He){je.errorRecoveryDisabledLanes|=H,Ym|=H,P=4;break e}H=eo,eo=P,H!==null&&(eo===null?eo=H:eo.push.apply(eo,H))}P=de}if(H=!1,P!==2)continue}}if(P===1){xh(c,0),Iu(c,m,0,!0);break}e:{switch(j=c,H=P,H){case 0:case 1:throw Error(a(345));case 4:if((m&4194048)!==m)break;case 6:Iu(j,m,el,!Lu);break e;case 2:eo=null;break;case 3:case 5:break;default:throw Error(a(329))}if((m&62914560)===m&&(P=R2+300-he(),10<P)){if(Iu(j,m,el,!Lu),St(j,0,!0)!==0)break e;j.timeoutHandle=w3(G4.bind(null,j,x,eo,Kg,F2,m,el,Ym,uh,Lu,H,2,-0,0),P);break e}G4(j,x,eo,Kg,F2,m,el,Ym,uh,Lu,H,0,-0,0)}}break}while(!0);Lc(c)}function G4(c,m,x,j,P,H,de,je,He,yt,Pt,It,wt,Nt){if(c.timeoutHandle=-1,It=m.subtreeFlags,(It&8192||(It&16785408)===16785408)&&(xf={stylesheets:null,count:0,unsuspend:aL},z4(m),It=iL(),It!==null)){c.cancelPendingCommit=It(e3.bind(null,c,m,H,x,j,P,de,je,He,Pt,1,wt,Nt)),Iu(c,H,de,!yt);return}e3(c,m,H,x,j,P,de,je,He)}function NM(c){for(var m=c;;){var x=m.tag;if((x===0||x===11||x===15)&&m.flags&16384&&(x=m.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var j=0;j<x.length;j++){var P=x[j],H=P.getSnapshot;P=P.value;try{if(!Ja(H(),P))return!1}catch{return!1}}if(x=m.child,m.subtreeFlags&16384&&x!==null)x.return=m,m=x;else{if(m===c)break;for(;m.sibling===null;){if(m.return===null||m.return===c)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Iu(c,m,x,j){m&=~L2,m&=~Ym,c.suspendedLanes|=m,c.pingedLanes&=~m,j&&(c.warmLanes|=m),j=c.expirationTimes;for(var P=m;0<P;){var H=31-Xe(P),de=1<<H;j[H]=-1,P&=~de}x!==0&&Yt(c,x,m)}function Xg(){return(Br&6)===0?(lf(0),!1):!0}function z2(){if(mr!==null){if(zr===0)var c=mr.return;else c=mr,Pl=en=null,eh(c),ih=null,Qx=0,c=mr;for(;c!==null;)C4(c.alternate,c),c=c.return;mr=null}}function xh(c,m){var x=c.timeoutHandle;x!==-1&&(c.timeoutHandle=-1,$M(x)),x=c.cancelPendingCommit,x!==null&&(c.cancelPendingCommit=null,x()),z2(),Jr=c,mr=x=Go(c.current,null),vr=m,zr=0,Co=null,Lu=!1,dh=bt(c,m),M2=!1,uh=el=L2=Ym=Fu=Aa=0,eo=nf=null,F2=!1,(m&8)!==0&&(m|=m&32);var j=c.entangledLanes;if(j!==0)for(c=c.entanglements,j&=m;0<j;){var P=31-Xe(j),H=1<<P;m|=c[P],j&=~H}return Ld=m,Ki(),x}function Y4(c,m){js=null,K.H=Og,m===ye||m===we?(m=it(),zr=3):m===be?(m=it(),zr=4):zr=m===m4?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,Co=m,mr===null&&(Aa=1,Ug(c,nr(m,c.current)))}function K4(){var c=K.H;return K.H=Og,c===null?Og:c}function X4(){var c=K.A;return K.A=wM,c}function $2(){Aa=4,Lu||(vr&4194048)!==vr&&Zo.current!==null||(dh=!0),(Fu&134217727)===0&&(Ym&134217727)===0||Jr===null||Iu(Jr,vr,el,!1)}function U2(c,m,x){var j=Br;Br|=2;var P=K4(),H=X4();(Jr!==c||vr!==m)&&(Kg=null,xh(c,m)),m=!1;var de=Aa;e:do try{if(zr!==0&&mr!==null){var je=mr,He=Co;switch(zr){case 8:z2(),de=6;break e;case 3:case 2:case 9:case 6:Zo.current===null&&(m=!0);var yt=zr;if(zr=0,Co=null,fh(c,je,He,yt),x&&dh){de=0;break e}break;default:yt=zr,zr=0,Co=null,fh(c,je,He,yt)}}SM(),de=Aa;break}catch(Pt){Y4(c,Pt)}while(!0);return m&&c.shellSuspendCounter++,Pl=en=null,Br=j,K.H=P,K.A=H,mr===null&&(Jr=null,vr=0,Ki()),de}function SM(){for(;mr!==null;)Q4(mr)}function _M(c,m){var x=Br;Br|=2;var j=K4(),P=X4();Jr!==c||vr!==m?(Kg=null,Yg=he()+500,xh(c,m)):dh=bt(c,m);e:do try{if(zr!==0&&mr!==null){m=mr;var H=Co;t:switch(zr){case 1:zr=0,Co=null,fh(c,m,H,1);break;case 2:case 9:if(Re(H)){zr=0,Co=null,J4(m);break}m=function(){zr!==2&&zr!==9||Jr!==c||(zr=7),Lc(c)},H.then(m,m);break e;case 3:zr=7;break e;case 4:zr=5;break e;case 7:Re(H)?(zr=0,Co=null,J4(m)):(zr=0,Co=null,fh(c,m,H,7));break;case 5:var de=null;switch(mr.tag){case 26:de=mr.memoizedState;case 5:case 27:var je=mr;if(!de||M3(de)){zr=0,Co=null;var He=je.sibling;if(He!==null)mr=He;else{var yt=je.return;yt!==null?(mr=yt,Qg(yt)):mr=null}break t}}zr=0,Co=null,fh(c,m,H,5);break;case 6:zr=0,Co=null,fh(c,m,H,6);break;case 8:z2(),Aa=6;break e;default:throw Error(a(462))}}CM();break}catch(Pt){Y4(c,Pt)}while(!0);return Pl=en=null,K.H=j,K.A=P,Br=x,mr!==null?0:(Jr=null,vr=0,Ki(),Aa)}function CM(){for(;mr!==null&&!pe();)Q4(mr)}function Q4(c){var m=S4(c.alternate,c,Ld);c.memoizedProps=c.pendingProps,m===null?Qg(c):mr=m}function J4(c){var m=c,x=m.alternate;switch(m.tag){case 15:case 0:m=y4(x,m,m.pendingProps,m.type,void 0,vr);break;case 11:m=y4(x,m,m.pendingProps,m.type.render,m.ref,vr);break;case 5:eh(m);default:C4(x,m),m=mr=Tm(m,Ld),m=S4(x,m,Ld)}c.memoizedProps=c.pendingProps,m===null?Qg(c):mr=m}function fh(c,m,x,j){Pl=en=null,eh(m),ih=null,Qx=0;var P=m.return;try{if(fM(c,P,m,x,vr)){Aa=1,Ug(c,nr(x,c.current)),mr=null;return}}catch(H){if(P!==null)throw mr=P,H;Aa=1,Ug(c,nr(x,c.current)),mr=null;return}m.flags&32768?(_r||j===1?c=!0:dh||(vr&536870912)!==0?c=!1:(Lu=c=!0,(j===2||j===9||j===3||j===6)&&(j=Zo.current,j!==null&&j.tag===13&&(j.flags|=16384))),Z4(m,c)):Qg(m)}function Qg(c){var m=c;do{if((m.flags&32768)!==0){Z4(m,Lu);return}c=m.return;var x=gM(m.alternate,m,Ld);if(x!==null){mr=x;return}if(m=m.sibling,m!==null){mr=m;return}mr=m=c}while(m!==null);Aa===0&&(Aa=5)}function Z4(c,m){do{var x=yM(c.alternate,c);if(x!==null){x.flags&=32767,mr=x;return}if(x=c.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!m&&(c=c.sibling,c!==null)){mr=c;return}mr=c=x}while(c!==null);Aa=6,mr=null}function e3(c,m,x,j,P,H,de,je,He){c.cancelPendingCommit=null;do Jg();while(qn!==0);if((Br&6)!==0)throw Error(a(327));if(m!==null){if(m===c.current)throw Error(a(177));if(H=m.lanes|m.childLanes,H|=ba,Gt(c,x,H,de,je,He),c===Jr&&(mr=Jr=null,vr=0),mh=m,Ou=c,hh=x,O2=H,I2=P,q4=j,(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,TM(Le,function(){return n3(),null})):(c.callbackNode=null,c.callbackPriority=0),j=(m.flags&13878)!==0,(m.subtreeFlags&13878)!==0||j){j=K.T,K.T=null,P=X.p,X.p=2,de=Br,Br|=4;try{bM(c,m,x)}finally{Br=de,X.p=P,K.T=j}}qn=1,t3(),s3(),r3()}}function t3(){if(qn===1){qn=0;var c=Ou,m=mh,x=(m.flags&13878)!==0;if((m.subtreeFlags&13878)!==0||x){x=K.T,K.T=null;var j=X.p;X.p=2;var P=Br;Br|=4;try{O4(m,c);var H=ev,de=zn(c.containerInfo),je=H.focusedElem,He=H.selectionRange;if(de!==je&&je&&je.ownerDocument&&fc(je.ownerDocument.documentElement,je)){if(He!==null&&fn(je)){var yt=He.start,Pt=He.end;if(Pt===void 0&&(Pt=yt),"selectionStart"in je)je.selectionStart=yt,je.selectionEnd=Math.min(Pt,je.value.length);else{var It=je.ownerDocument||document,wt=It&&It.defaultView||window;if(wt.getSelection){var Nt=wt.getSelection(),Fs=je.textContent.length,Cs=Math.min(He.start,Fs),Gr=He.end===void 0?Cs:Math.min(He.end,Fs);!Nt.extend&&Cs>Gr&&(de=Gr,Gr=Cs,Cs=de);var ut=Sl(je,Cs),rt=Sl(je,Gr);if(ut&&rt&&(Nt.rangeCount!==1||Nt.anchorNode!==ut.node||Nt.anchorOffset!==ut.offset||Nt.focusNode!==rt.node||Nt.focusOffset!==rt.offset)){var ft=It.createRange();ft.setStart(ut.node,ut.offset),Nt.removeAllRanges(),Cs>Gr?(Nt.addRange(ft),Nt.extend(rt.node,rt.offset)):(ft.setEnd(rt.node,rt.offset),Nt.addRange(ft))}}}}for(It=[],Nt=je;Nt=Nt.parentNode;)Nt.nodeType===1&&It.push({element:Nt,left:Nt.scrollLeft,top:Nt.scrollTop});for(typeof je.focus=="function"&&je.focus(),je=0;je<It.length;je++){var Ft=It[je];Ft.element.scrollLeft=Ft.left,Ft.element.scrollTop=Ft.top}}dy=!!Z2,ev=Z2=null}finally{Br=P,X.p=j,K.T=x}}c.current=m,qn=2}}function s3(){if(qn===2){qn=0;var c=Ou,m=mh,x=(m.flags&8772)!==0;if((m.subtreeFlags&8772)!==0||x){x=K.T,K.T=null;var j=X.p;X.p=2;var P=Br;Br|=4;try{M4(c,m.alternate,m)}finally{Br=P,X.p=j,K.T=x}}qn=3}}function r3(){if(qn===4||qn===3){qn=0,ae();var c=Ou,m=mh,x=hh,j=q4;(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?qn=5:(qn=0,mh=Ou=null,a3(c,c.pendingLanes));var P=c.pendingLanes;if(P===0&&(Ru=null),ws(x),m=m.stateNode,Ae&&typeof Ae.onCommitFiberRoot=="function")try{Ae.onCommitFiberRoot(Pe,m,void 0,(m.current.flags&128)===128)}catch{}if(j!==null){m=K.T,P=X.p,X.p=2,K.T=null;try{for(var H=c.onRecoverableError,de=0;de<j.length;de++){var je=j[de];H(je.value,{componentStack:je.stack})}}finally{K.T=m,X.p=P}}(hh&3)!==0&&Jg(),Lc(c),P=c.pendingLanes,(x&4194090)!==0&&(P&42)!==0?c===B2?of++:(of=0,B2=c):of=0,lf(0)}}function a3(c,m){(c.pooledCacheLanes&=m)===0&&(m=c.pooledCache,m!=null&&(c.pooledCache=null,Lm(m)))}function Jg(c){return t3(),s3(),r3(),n3()}function n3(){if(qn!==5)return!1;var c=Ou,m=O2;O2=0;var x=ws(hh),j=K.T,P=X.p;try{X.p=32>x?32:x,K.T=null,x=I2,I2=null;var H=Ou,de=hh;if(qn=0,mh=Ou=null,hh=0,(Br&6)!==0)throw Error(a(331));var je=Br;if(Br|=4,U4(H.current),B4(H,H.current,de,x),Br=je,lf(0,!1),Ae&&typeof Ae.onPostCommitFiberRoot=="function")try{Ae.onPostCommitFiberRoot(Pe,H)}catch{}return!0}finally{X.p=P,K.T=j,a3(c,m)}}function i3(c,m,x){m=nr(x,m),m=g2(c.stateNode,m,2),c=Ot(c,m,2),c!==null&&(qt(c,2),Lc(c))}function Yr(c,m,x){if(c.tag===3)i3(c,c,x);else for(;m!==null;){if(m.tag===3){i3(m,c,x);break}else if(m.tag===1){var j=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(Ru===null||!Ru.has(j))){c=nr(x,c),x=d4(2),j=Ot(m,x,2),j!==null&&(u4(x,j,m,c),qt(j,2),Lc(j));break}}m=m.return}}function V2(c,m,x){var j=c.pingCache;if(j===null){j=c.pingCache=new jM;var P=new Set;j.set(m,P)}else P=j.get(m),P===void 0&&(P=new Set,j.set(m,P));P.has(x)||(M2=!0,P.add(x),c=kM.bind(null,c,m,x),m.then(c,c))}function kM(c,m,x){var j=c.pingCache;j!==null&&j.delete(m),c.pingedLanes|=c.suspendedLanes&x,c.warmLanes&=~x,Jr===c&&(vr&x)===x&&(Aa===4||Aa===3&&(vr&62914560)===vr&&300>he()-R2?(Br&2)===0&&xh(c,0):L2|=x,uh===vr&&(uh=0)),Lc(c)}function o3(c,m){m===0&&(m=jt()),c=Cl(c,m),c!==null&&(qt(c,m),Lc(c))}function AM(c){var m=c.memoizedState,x=0;m!==null&&(x=m.retryLane),o3(c,x)}function EM(c,m){var x=0;switch(c.tag){case 13:var j=c.stateNode,P=c.memoizedState;P!==null&&(x=P.retryLane);break;case 19:j=c.stateNode;break;case 22:j=c.stateNode._retryCache;break;default:throw Error(a(314))}j!==null&&j.delete(m),o3(c,x)}function TM(c,m){return re(c,m)}var Zg=null,ph=null,q2=!1,ey=!1,H2=!1,Km=0;function Lc(c){c!==ph&&c.next===null&&(ph===null?Zg=ph=c:ph=ph.next=c),ey=!0,q2||(q2=!0,PM())}function lf(c,m){if(!H2&&ey){H2=!0;do for(var x=!1,j=Zg;j!==null;){if(c!==0){var P=j.pendingLanes;if(P===0)var H=0;else{var de=j.suspendedLanes,je=j.pingedLanes;H=(1<<31-Xe(42|c)+1)-1,H&=P&~(de&~je),H=H&201326741?H&201326741|1:H?H|2:0}H!==0&&(x=!0,u3(j,H))}else H=vr,H=St(j,j===Jr?H:0,j.cancelPendingCommit!==null||j.timeoutHandle!==-1),(H&3)===0||bt(j,H)||(x=!0,u3(j,H));j=j.next}while(x);H2=!1}}function DM(){l3()}function l3(){ey=q2=!1;var c=0;Km!==0&&(zM()&&(c=Km),Km=0);for(var m=he(),x=null,j=Zg;j!==null;){var P=j.next,H=c3(j,m);H===0?(j.next=null,x===null?Zg=P:x.next=P,P===null&&(ph=x)):(x=j,(c!==0||(H&3)!==0)&&(ey=!0)),j=P}lf(c)}function c3(c,m){for(var x=c.suspendedLanes,j=c.pingedLanes,P=c.expirationTimes,H=c.pendingLanes&-62914561;0<H;){var de=31-Xe(H),je=1<<de,He=P[de];He===-1?((je&x)===0||(je&j)!==0)&&(P[de]=qe(je,m)):He<=m&&(c.expiredLanes|=je),H&=~je}if(m=Jr,x=vr,x=St(c,c===m?x:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),j=c.callbackNode,x===0||c===m&&(zr===2||zr===9)||c.cancelPendingCommit!==null)return j!==null&&j!==null&&ve(j),c.callbackNode=null,c.callbackPriority=0;if((x&3)===0||bt(c,x)){if(m=x&-x,m===c.callbackPriority)return m;switch(j!==null&&ve(j),ws(x)){case 2:case 8:x=Be;break;case 32:x=Le;break;case 268435456:x=Ve;break;default:x=Le}return j=d3.bind(null,c),x=re(x,j),c.callbackPriority=m,c.callbackNode=x,m}return j!==null&&j!==null&&ve(j),c.callbackPriority=2,c.callbackNode=null,2}function d3(c,m){if(qn!==0&&qn!==5)return c.callbackNode=null,c.callbackPriority=0,null;var x=c.callbackNode;if(Jg()&&c.callbackNode!==x)return null;var j=vr;return j=St(c,c===Jr?j:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),j===0?null:(W4(c,j,m),c3(c,he()),c.callbackNode!=null&&c.callbackNode===x?d3.bind(null,c):null)}function u3(c,m){if(Jg())return null;W4(c,m,!0)}function PM(){UM(function(){(Br&6)!==0?re(Ie,DM):l3()})}function W2(){return Km===0&&(Km=Oe()),Km}function m3(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:Hi(""+c)}function h3(c,m){var x=m.ownerDocument.createElement("input");return x.name=m.name,x.value=m.value,c.id&&x.setAttribute("form",c.id),m.parentNode.insertBefore(x,m),c=new FormData(c),x.parentNode.removeChild(x),c}function MM(c,m,x,j,P){if(m==="submit"&&x&&x.stateNode===P){var H=m3((P[Bs]||null).action),de=j.submitter;de&&(m=(m=de[Bs]||null)?m3(m.formAction):de.getAttribute("formAction"),m!==null&&(H=m,de=null));var je=new xn("action","action",null,j,P);c.push({event:je,listeners:[{instance:null,listener:function(){if(j.defaultPrevented){if(Km!==0){var He=de?h3(P,de):new FormData(P);Jo(x,{pending:!0,data:He,method:P.method,action:H},null,He)}}else typeof H=="function"&&(je.preventDefault(),He=de?h3(P,de):new FormData(P),Jo(x,{pending:!0,data:He,method:P.method,action:H},H,He))},currentTarget:P}]})}}for(var G2=0;G2<yd.length;G2++){var Y2=yd[G2],LM=Y2.toLowerCase(),FM=Y2[0].toUpperCase()+Y2.slice(1);da(LM,"on"+FM)}da(yu,"onAnimationEnd"),da(gc,"onAnimationIteration"),da(yc,"onAnimationStart"),da("dblclick","onDoubleClick"),da("focusin","onFocus"),da("focusout","onBlur"),da(bc,"onTransitionRun"),da(gd,"onTransitionStart"),da(bu,"onTransitionCancel"),da(vc,"onTransitionEnd"),lt("onMouseEnter",["mouseout","mouseover"]),lt("onMouseLeave",["mouseout","mouseover"]),lt("onPointerEnter",["pointerout","pointerover"]),lt("onPointerLeave",["pointerout","pointerover"]),Ye("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ye("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ye("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ye("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cf));function x3(c,m){m=(m&4)!==0;for(var x=0;x<c.length;x++){var j=c[x],P=j.event;j=j.listeners;e:{var H=void 0;if(m)for(var de=j.length-1;0<=de;de--){var je=j[de],He=je.instance,yt=je.currentTarget;if(je=je.listener,He!==H&&P.isPropagationStopped())break e;H=je,P.currentTarget=yt;try{H(P)}catch(Pt){$g(Pt)}P.currentTarget=null,H=He}else for(de=0;de<j.length;de++){if(je=j[de],He=je.instance,yt=je.currentTarget,je=je.listener,He!==H&&P.isPropagationStopped())break e;H=je,P.currentTarget=yt;try{H(P)}catch(Pt){$g(Pt)}P.currentTarget=null,H=He}}}}function hr(c,m){var x=m[Ms];x===void 0&&(x=m[Ms]=new Set);var j=c+"__bubble";x.has(j)||(f3(m,c,2,!1),x.add(j))}function K2(c,m,x){var j=0;m&&(j|=4),f3(x,c,j,m)}var ty="_reactListening"+Math.random().toString(36).slice(2);function X2(c){if(!c[ty]){c[ty]=!0,ot.forEach(function(x){x!=="selectionchange"&&(RM.has(x)||K2(x,!1,c),K2(x,!0,c))});var m=c.nodeType===9?c:c.ownerDocument;m===null||m[ty]||(m[ty]=!0,K2("selectionchange",!1,m))}}function f3(c,m,x,j){switch(B3(m)){case 2:var P=cL;break;case 8:P=dL;break;default:P=dv}x=P.bind(null,m,x,c),P=void 0,!wl||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(P=!0),j?P!==void 0?c.addEventListener(m,x,{capture:!0,passive:P}):c.addEventListener(m,x,!0):P!==void 0?c.addEventListener(m,x,{passive:P}):c.addEventListener(m,x,!1)}function Q2(c,m,x,j,P){var H=j;if((m&1)===0&&(m&2)===0&&j!==null)e:for(;;){if(j===null)return;var de=j.tag;if(de===3||de===4){var je=j.stateNode.containerInfo;if(je===P)break;if(de===4)for(de=j.return;de!==null;){var He=de.tag;if((He===3||He===4)&&de.stateNode.containerInfo===P)return;de=de.return}for(;je!==null;){if(de=De(je),de===null)return;if(He=de.tag,He===5||He===6||He===26||He===27){j=H=de;continue e}je=je.parentNode}}j=j.return}cd(function(){var yt=H,Pt=pa(x),It=[];e:{var wt=_l.get(c);if(wt!==void 0){var Nt=xn,Fs=c;switch(c){case"keypress":if(Uo(x)===0)break e;case"keydown":case"keyup":Nt=hu;break;case"focusin":Fs="focus",Nt=dd;break;case"focusout":Fs="blur",Nt=dd;break;case"beforeblur":case"afterblur":Nt=dd;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Nt=qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Nt=dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Nt=Cm;break;case yu:case gc:case yc:Nt=Px;break;case vc:Nt=fe;break;case"scroll":case"scrollend":Nt=q0;break;case"wheel":Nt=Qe;break;case"copy":case"cut":case"paste":Nt=Mx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Nt=xu;break;case"toggle":case"beforetoggle":Nt=At}var Cs=(m&4)!==0,Gr=!Cs&&(c==="scroll"||c==="scrollend"),ut=Cs?wt!==null?wt+"Capture":null:wt;Cs=[];for(var rt=yt,ft;rt!==null;){var Ft=rt;if(ft=Ft.stateNode,Ft=Ft.tag,Ft!==5&&Ft!==26&&Ft!==27||ft===null||ut===null||(Ft=hn(rt,ut),Ft!=null&&Cs.push(df(rt,Ft,ft))),Gr)break;rt=rt.return}0<Cs.length&&(wt=new Nt(wt,Fs,null,x,Pt),It.push({event:wt,listeners:Cs}))}}if((m&7)===0){e:{if(wt=c==="mouseover"||c==="pointerover",Nt=c==="mouseout"||c==="pointerout",wt&&x!==vl&&(Fs=x.relatedTarget||x.fromElement)&&(De(Fs)||Fs[sr]))break e;if((Nt||wt)&&(wt=Pt.window===Pt?Pt:(wt=Pt.ownerDocument)?wt.defaultView||wt.parentWindow:window,Nt?(Fs=x.relatedTarget||x.toElement,Nt=yt,Fs=Fs?De(Fs):null,Fs!==null&&(Gr=i(Fs),Cs=Fs.tag,Fs!==Gr||Cs!==5&&Cs!==27&&Cs!==6)&&(Fs=null)):(Nt=null,Fs=yt),Nt!==Fs)){if(Cs=qo,Ft="onMouseLeave",ut="onMouseEnter",rt="mouse",(c==="pointerout"||c==="pointerover")&&(Cs=xu,Ft="onPointerLeave",ut="onPointerEnter",rt="pointer"),Gr=Nt==null?wt:Je(Nt),ft=Fs==null?wt:Je(Fs),wt=new Cs(Ft,rt+"leave",Nt,x,Pt),wt.target=Gr,wt.relatedTarget=ft,Ft=null,De(Pt)===yt&&(Cs=new Cs(ut,rt+"enter",Fs,x,Pt),Cs.target=ft,Cs.relatedTarget=Gr,Ft=Cs),Gr=Ft,Nt&&Fs)t:{for(Cs=Nt,ut=Fs,rt=0,ft=Cs;ft;ft=gh(ft))rt++;for(ft=0,Ft=ut;Ft;Ft=gh(Ft))ft++;for(;0<rt-ft;)Cs=gh(Cs),rt--;for(;0<ft-rt;)ut=gh(ut),ft--;for(;rt--;){if(Cs===ut||ut!==null&&Cs===ut.alternate)break t;Cs=gh(Cs),ut=gh(ut)}Cs=null}else Cs=null;Nt!==null&&p3(It,wt,Nt,Cs,!1),Fs!==null&&Gr!==null&&p3(It,Gr,Fs,Cs,!0)}}e:{if(wt=yt?Je(yt):window,Nt=wt.nodeName&&wt.nodeName.toLowerCase(),Nt==="select"||Nt==="input"&&wt.type==="file")var ls=pu;else if(yo(wt))if(hd)ls=W0;else{ls=Fx;var cr=Zn}else Nt=wt.nodeName,!Nt||Nt.toLowerCase()!=="input"||wt.type!=="checkbox"&&wt.type!=="radio"?yt&&ic(yt.elementType)&&(ls=pu):ls=Am;if(ls&&(ls=ls(c,yt))){km(It,ls,x,Pt);break e}cr&&cr(c,wt,yt),c==="focusout"&&yt&&wt.type==="number"&&yt.memoizedProps.value!=null&&uo(wt,"number",wt.value)}switch(cr=yt?Je(yt):window,c){case"focusin":(yo(cr)||cr.contentEditable==="true")&&(ei=cr,bo=yt,Ho=null);break;case"focusout":Ho=bo=ei=null;break;case"mousedown":vo=!0;break;case"contextmenu":case"mouseup":case"dragend":vo=!1,ca(It,x,Pt);break;case"selectionchange":if(pc)break;case"keydown":case"keyup":ca(It,x,Pt)}var gs;if(ts)e:{switch(c){case"compositionstart":var ks="onCompositionStart";break e;case"compositionend":ks="onCompositionEnd";break e;case"compositionupdate":ks="onCompositionUpdate";break e}ks=void 0}else ya?na(c,x)&&(ks="onCompositionEnd"):c==="keydown"&&x.keyCode===229&&(ks="onCompositionStart");ks&&($s&&x.locale!=="ko"&&(ya||ks!=="onCompositionStart"?ks==="onCompositionEnd"&&ya&&(gs=iu()):(Bn=Pt,lc="value"in Bn?Bn.value:Bn.textContent,ya=!0)),cr=sy(yt,ks),0<cr.length&&(ks=new du(ks,c,null,x,Pt),It.push({event:ks,listeners:cr}),gs?ks.data=gs:(gs=ga(x),gs!==null&&(ks.data=gs)))),(gs=qs?Qa(c,x):go(c,x))&&(ks=sy(yt,"onBeforeInput"),0<ks.length&&(cr=new du("onBeforeInput","beforeinput",null,x,Pt),It.push({event:cr,listeners:ks}),cr.data=gs)),MM(It,c,yt,x,Pt)}x3(It,m)})}function df(c,m,x){return{instance:c,listener:m,currentTarget:x}}function sy(c,m){for(var x=m+"Capture",j=[];c!==null;){var P=c,H=P.stateNode;if(P=P.tag,P!==5&&P!==26&&P!==27||H===null||(P=hn(c,x),P!=null&&j.unshift(df(c,P,H)),P=hn(c,m),P!=null&&j.push(df(c,P,H))),c.tag===3)return j;c=c.return}return[]}function gh(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function p3(c,m,x,j,P){for(var H=m._reactName,de=[];x!==null&&x!==j;){var je=x,He=je.alternate,yt=je.stateNode;if(je=je.tag,He!==null&&He===j)break;je!==5&&je!==26&&je!==27||yt===null||(He=yt,P?(yt=hn(x,H),yt!=null&&de.unshift(df(x,yt,He))):P||(yt=hn(x,H),yt!=null&&de.push(df(x,yt,He)))),x=x.return}de.length!==0&&c.push({event:m,listeners:de})}var OM=/\r\n?/g,IM=/\u0000|\uFFFD/g;function g3(c){return(typeof c=="string"?c:""+c).replace(OM,`
`).replace(IM,"")}function y3(c,m){return m=g3(m),g3(c)===m}function ry(){}function Wr(c,m,x,j,P,H){switch(x){case"children":typeof j=="string"?m==="body"||m==="textarea"&&j===""||Jn(c,j):(typeof j=="number"||typeof j=="bigint")&&m!=="body"&&Jn(c,""+j);break;case"className":Ue(c,"class",j);break;case"tabIndex":Ue(c,"tabindex",j);break;case"dir":case"role":case"viewBox":case"width":case"height":Ue(c,x,j);break;case"style":Ai(c,j,H);break;case"data":if(m!=="object"){Ue(c,"data",j);break}case"src":case"href":if(j===""&&(m!=="a"||x!=="href")){c.removeAttribute(x);break}if(j==null||typeof j=="function"||typeof j=="symbol"||typeof j=="boolean"){c.removeAttribute(x);break}j=Hi(""+j),c.setAttribute(x,j);break;case"action":case"formAction":if(typeof j=="function"){c.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof H=="function"&&(x==="formAction"?(m!=="input"&&Wr(c,m,"name",P.name,P,null),Wr(c,m,"formEncType",P.formEncType,P,null),Wr(c,m,"formMethod",P.formMethod,P,null),Wr(c,m,"formTarget",P.formTarget,P,null)):(Wr(c,m,"encType",P.encType,P,null),Wr(c,m,"method",P.method,P,null),Wr(c,m,"target",P.target,P,null)));if(j==null||typeof j=="symbol"||typeof j=="boolean"){c.removeAttribute(x);break}j=Hi(""+j),c.setAttribute(x,j);break;case"onClick":j!=null&&(c.onclick=ry);break;case"onScroll":j!=null&&hr("scroll",c);break;case"onScrollEnd":j!=null&&hr("scrollend",c);break;case"dangerouslySetInnerHTML":if(j!=null){if(typeof j!="object"||!("__html"in j))throw Error(a(61));if(x=j.__html,x!=null){if(P.children!=null)throw Error(a(60));c.innerHTML=x}}break;case"multiple":c.multiple=j&&typeof j!="function"&&typeof j!="symbol";break;case"muted":c.muted=j&&typeof j!="function"&&typeof j!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(j==null||typeof j=="function"||typeof j=="boolean"||typeof j=="symbol"){c.removeAttribute("xlink:href");break}x=Hi(""+j),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":j!=null&&typeof j!="function"&&typeof j!="symbol"?c.setAttribute(x,""+j):c.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":j&&typeof j!="function"&&typeof j!="symbol"?c.setAttribute(x,""):c.removeAttribute(x);break;case"capture":case"download":j===!0?c.setAttribute(x,""):j!==!1&&j!=null&&typeof j!="function"&&typeof j!="symbol"?c.setAttribute(x,j):c.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":j!=null&&typeof j!="function"&&typeof j!="symbol"&&!isNaN(j)&&1<=j?c.setAttribute(x,j):c.removeAttribute(x);break;case"rowSpan":case"start":j==null||typeof j=="function"||typeof j=="symbol"||isNaN(j)?c.removeAttribute(x):c.setAttribute(x,j);break;case"popover":hr("beforetoggle",c),hr("toggle",c),fs(c,"popover",j);break;case"xlinkActuate":vt(c,"http://www.w3.org/1999/xlink","xlink:actuate",j);break;case"xlinkArcrole":vt(c,"http://www.w3.org/1999/xlink","xlink:arcrole",j);break;case"xlinkRole":vt(c,"http://www.w3.org/1999/xlink","xlink:role",j);break;case"xlinkShow":vt(c,"http://www.w3.org/1999/xlink","xlink:show",j);break;case"xlinkTitle":vt(c,"http://www.w3.org/1999/xlink","xlink:title",j);break;case"xlinkType":vt(c,"http://www.w3.org/1999/xlink","xlink:type",j);break;case"xmlBase":vt(c,"http://www.w3.org/XML/1998/namespace","xml:base",j);break;case"xmlLang":vt(c,"http://www.w3.org/XML/1998/namespace","xml:lang",j);break;case"xmlSpace":vt(c,"http://www.w3.org/XML/1998/namespace","xml:space",j);break;case"is":fs(c,"is",j);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=qi.get(x)||x,fs(c,x,j))}}function J2(c,m,x,j,P,H){switch(x){case"style":Ai(c,j,H);break;case"dangerouslySetInnerHTML":if(j!=null){if(typeof j!="object"||!("__html"in j))throw Error(a(61));if(x=j.__html,x!=null){if(P.children!=null)throw Error(a(60));c.innerHTML=x}}break;case"children":typeof j=="string"?Jn(c,j):(typeof j=="number"||typeof j=="bigint")&&Jn(c,""+j);break;case"onScroll":j!=null&&hr("scroll",c);break;case"onScrollEnd":j!=null&&hr("scrollend",c);break;case"onClick":j!=null&&(c.onclick=ry);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fe.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(P=x.endsWith("Capture"),m=x.slice(2,P?x.length-7:void 0),H=c[Bs]||null,H=H!=null?H[x]:null,typeof H=="function"&&c.removeEventListener(m,H,P),typeof j=="function")){typeof H!="function"&&H!==null&&(x in c?c[x]=null:c.hasAttribute(x)&&c.removeAttribute(x)),c.addEventListener(m,j,P);break e}x in c?c[x]=j:j===!0?c.setAttribute(x,""):fs(c,x,j)}}}function Hn(c,m,x){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":hr("error",c),hr("load",c);var j=!1,P=!1,H;for(H in x)if(x.hasOwnProperty(H)){var de=x[H];if(de!=null)switch(H){case"src":j=!0;break;case"srcSet":P=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,m));default:Wr(c,m,H,de,x,null)}}P&&Wr(c,m,"srcSet",x.srcSet,x,null),j&&Wr(c,m,"src",x.src,x,null);return;case"input":hr("invalid",c);var je=H=de=P=null,He=null,yt=null;for(j in x)if(x.hasOwnProperty(j)){var Pt=x[j];if(Pt!=null)switch(j){case"name":P=Pt;break;case"type":de=Pt;break;case"checked":He=Pt;break;case"defaultChecked":yt=Pt;break;case"value":H=Pt;break;case"defaultValue":je=Pt;break;case"children":case"dangerouslySetInnerHTML":if(Pt!=null)throw Error(a(137,m));break;default:Wr(c,m,j,Pt,x,null)}}co(c,H,je,He,yt,de,P,!1),mn(c);return;case"select":hr("invalid",c),j=de=H=null;for(P in x)if(x.hasOwnProperty(P)&&(je=x[P],je!=null))switch(P){case"value":H=je;break;case"defaultValue":de=je;break;case"multiple":j=je;default:Wr(c,m,P,je,x,null)}m=H,x=de,c.multiple=!!j,m!=null?On(c,!!j,m,!1):x!=null&&On(c,!!j,x,!0);return;case"textarea":hr("invalid",c),H=P=j=null;for(de in x)if(x.hasOwnProperty(de)&&(je=x[de],je!=null))switch(de){case"value":j=je;break;case"defaultValue":P=je;break;case"children":H=je;break;case"dangerouslySetInnerHTML":if(je!=null)throw Error(a(91));break;default:Wr(c,m,de,je,x,null)}mo(c,j,P,H),mn(c);return;case"option":for(He in x)if(x.hasOwnProperty(He)&&(j=x[He],j!=null))switch(He){case"selected":c.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Wr(c,m,He,j,x,null)}return;case"dialog":hr("beforetoggle",c),hr("toggle",c),hr("cancel",c),hr("close",c);break;case"iframe":case"object":hr("load",c);break;case"video":case"audio":for(j=0;j<cf.length;j++)hr(cf[j],c);break;case"image":hr("error",c),hr("load",c);break;case"details":hr("toggle",c);break;case"embed":case"source":case"link":hr("error",c),hr("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(yt in x)if(x.hasOwnProperty(yt)&&(j=x[yt],j!=null))switch(yt){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,m));default:Wr(c,m,yt,j,x,null)}return;default:if(ic(m)){for(Pt in x)x.hasOwnProperty(Pt)&&(j=x[Pt],j!==void 0&&J2(c,m,Pt,j,x,void 0));return}}for(je in x)x.hasOwnProperty(je)&&(j=x[je],j!=null&&Wr(c,m,je,j,x,null))}function BM(c,m,x,j){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var P=null,H=null,de=null,je=null,He=null,yt=null,Pt=null;for(Nt in x){var It=x[Nt];if(x.hasOwnProperty(Nt)&&It!=null)switch(Nt){case"checked":break;case"value":break;case"defaultValue":He=It;default:j.hasOwnProperty(Nt)||Wr(c,m,Nt,null,j,It)}}for(var wt in j){var Nt=j[wt];if(It=x[wt],j.hasOwnProperty(wt)&&(Nt!=null||It!=null))switch(wt){case"type":H=Nt;break;case"name":P=Nt;break;case"checked":yt=Nt;break;case"defaultChecked":Pt=Nt;break;case"value":de=Nt;break;case"defaultValue":je=Nt;break;case"children":case"dangerouslySetInnerHTML":if(Nt!=null)throw Error(a(137,m));break;default:Nt!==It&&Wr(c,m,wt,Nt,j,It)}}ki(c,de,je,He,yt,Pt,H,P);return;case"select":Nt=de=je=wt=null;for(H in x)if(He=x[H],x.hasOwnProperty(H)&&He!=null)switch(H){case"value":break;case"multiple":Nt=He;default:j.hasOwnProperty(H)||Wr(c,m,H,null,j,He)}for(P in j)if(H=j[P],He=x[P],j.hasOwnProperty(P)&&(H!=null||He!=null))switch(P){case"value":wt=H;break;case"defaultValue":je=H;break;case"multiple":de=H;default:H!==He&&Wr(c,m,P,H,j,He)}m=je,x=de,j=Nt,wt!=null?On(c,!!x,wt,!1):!!j!=!!x&&(m!=null?On(c,!!x,m,!0):On(c,!!x,x?[]:"",!1));return;case"textarea":Nt=wt=null;for(je in x)if(P=x[je],x.hasOwnProperty(je)&&P!=null&&!j.hasOwnProperty(je))switch(je){case"value":break;case"children":break;default:Wr(c,m,je,null,j,P)}for(de in j)if(P=j[de],H=x[de],j.hasOwnProperty(de)&&(P!=null||H!=null))switch(de){case"value":wt=P;break;case"defaultValue":Nt=P;break;case"children":break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(91));break;default:P!==H&&Wr(c,m,de,P,j,H)}zo(c,wt,Nt);return;case"option":for(var Fs in x)if(wt=x[Fs],x.hasOwnProperty(Fs)&&wt!=null&&!j.hasOwnProperty(Fs))switch(Fs){case"selected":c.selected=!1;break;default:Wr(c,m,Fs,null,j,wt)}for(He in j)if(wt=j[He],Nt=x[He],j.hasOwnProperty(He)&&wt!==Nt&&(wt!=null||Nt!=null))switch(He){case"selected":c.selected=wt&&typeof wt!="function"&&typeof wt!="symbol";break;default:Wr(c,m,He,wt,j,Nt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Cs in x)wt=x[Cs],x.hasOwnProperty(Cs)&&wt!=null&&!j.hasOwnProperty(Cs)&&Wr(c,m,Cs,null,j,wt);for(yt in j)if(wt=j[yt],Nt=x[yt],j.hasOwnProperty(yt)&&wt!==Nt&&(wt!=null||Nt!=null))switch(yt){case"children":case"dangerouslySetInnerHTML":if(wt!=null)throw Error(a(137,m));break;default:Wr(c,m,yt,wt,j,Nt)}return;default:if(ic(m)){for(var Gr in x)wt=x[Gr],x.hasOwnProperty(Gr)&&wt!==void 0&&!j.hasOwnProperty(Gr)&&J2(c,m,Gr,void 0,j,wt);for(Pt in j)wt=j[Pt],Nt=x[Pt],!j.hasOwnProperty(Pt)||wt===Nt||wt===void 0&&Nt===void 0||J2(c,m,Pt,wt,j,Nt);return}}for(var ut in x)wt=x[ut],x.hasOwnProperty(ut)&&wt!=null&&!j.hasOwnProperty(ut)&&Wr(c,m,ut,null,j,wt);for(It in j)wt=j[It],Nt=x[It],!j.hasOwnProperty(It)||wt===Nt||wt==null&&Nt==null||Wr(c,m,It,wt,j,Nt)}var Z2=null,ev=null;function ay(c){return c.nodeType===9?c:c.ownerDocument}function b3(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v3(c,m){if(c===0)switch(m){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&m==="foreignObject"?0:c}function tv(c,m){return c==="textarea"||c==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.children=="bigint"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var sv=null;function zM(){var c=window.event;return c&&c.type==="popstate"?c===sv?!1:(sv=c,!0):(sv=null,!1)}var w3=typeof setTimeout=="function"?setTimeout:void 0,$M=typeof clearTimeout=="function"?clearTimeout:void 0,j3=typeof Promise=="function"?Promise:void 0,UM=typeof queueMicrotask=="function"?queueMicrotask:typeof j3<"u"?function(c){return j3.resolve(null).then(c).catch(VM)}:w3;function VM(c){setTimeout(function(){throw c})}function Bu(c){return c==="head"}function N3(c,m){var x=m,j=0,P=0;do{var H=x.nextSibling;if(c.removeChild(x),H&&H.nodeType===8)if(x=H.data,x==="/$"){if(0<j&&8>j){x=j;var de=c.ownerDocument;if(x&1&&uf(de.documentElement),x&2&&uf(de.body),x&4)for(x=de.head,uf(x),de=x.firstChild;de;){var je=de.nextSibling,He=de.nodeName;de[me]||He==="SCRIPT"||He==="STYLE"||He==="LINK"&&de.rel.toLowerCase()==="stylesheet"||x.removeChild(de),de=je}}if(P===0){c.removeChild(H),bf(m);return}P--}else x==="$"||x==="$?"||x==="$!"?P++:j=x.charCodeAt(0)-48;else j=0;x=H}while(x);bf(m)}function rv(c){var m=c.firstChild;for(m&&m.nodeType===10&&(m=m.nextSibling);m;){var x=m;switch(m=m.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":rv(x),_e(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}c.removeChild(x)}}function qM(c,m,x,j){for(;c.nodeType===1;){var P=x;if(c.nodeName.toLowerCase()!==m.toLowerCase()){if(!j&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(j){if(!c[me])switch(m){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(H=c.getAttribute("rel"),H==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(H!==P.rel||c.getAttribute("href")!==(P.href==null||P.href===""?null:P.href)||c.getAttribute("crossorigin")!==(P.crossOrigin==null?null:P.crossOrigin)||c.getAttribute("title")!==(P.title==null?null:P.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(H=c.getAttribute("src"),(H!==(P.src==null?null:P.src)||c.getAttribute("type")!==(P.type==null?null:P.type)||c.getAttribute("crossorigin")!==(P.crossOrigin==null?null:P.crossOrigin))&&H&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(m==="input"&&c.type==="hidden"){var H=P.name==null?null:""+P.name;if(P.type==="hidden"&&c.getAttribute("name")===H)return c}else return c;if(c=Bl(c.nextSibling),c===null)break}return null}function HM(c,m,x){if(m==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!x||(c=Bl(c.nextSibling),c===null))return null;return c}function av(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState==="complete"}function WM(c,m){var x=c.ownerDocument;if(c.data!=="$?"||x.readyState==="complete")m();else{var j=function(){m(),x.removeEventListener("DOMContentLoaded",j)};x.addEventListener("DOMContentLoaded",j),c._reactRetry=j}}function Bl(c){for(;c!=null;c=c.nextSibling){var m=c.nodeType;if(m===1||m===3)break;if(m===8){if(m=c.data,m==="$"||m==="$!"||m==="$?"||m==="F!"||m==="F")break;if(m==="/$")return null}}return c}var nv=null;function S3(c){c=c.previousSibling;for(var m=0;c;){if(c.nodeType===8){var x=c.data;if(x==="$"||x==="$!"||x==="$?"){if(m===0)return c;m--}else x==="/$"&&m++}c=c.previousSibling}return null}function _3(c,m,x){switch(m=ay(x),c){case"html":if(c=m.documentElement,!c)throw Error(a(452));return c;case"head":if(c=m.head,!c)throw Error(a(453));return c;case"body":if(c=m.body,!c)throw Error(a(454));return c;default:throw Error(a(451))}}function uf(c){for(var m=c.attributes;m.length;)c.removeAttributeNode(m[0]);_e(c)}var tl=new Map,C3=new Set;function ny(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var Fd=X.d;X.d={f:GM,r:YM,D:KM,C:XM,L:QM,m:JM,X:eL,S:ZM,M:tL};function GM(){var c=Fd.f(),m=Xg();return c||m}function YM(c){var m=Ne(c);m!==null&&m.tag===5&&m.type==="form"?qm(m):Fd.r(c)}var yh=typeof document>"u"?null:document;function k3(c,m,x){var j=yh;if(j&&typeof m=="string"&&m){var P=Sr(m);P='link[rel="'+c+'"][href="'+P+'"]',typeof x=="string"&&(P+='[crossorigin="'+x+'"]'),C3.has(P)||(C3.add(P),c={rel:c,crossOrigin:x,href:m},j.querySelector(P)===null&&(m=j.createElement("link"),Hn(m,"link",c),Ke(m),j.head.appendChild(m)))}}function KM(c){Fd.D(c),k3("dns-prefetch",c,null)}function XM(c,m){Fd.C(c,m),k3("preconnect",c,m)}function QM(c,m,x){Fd.L(c,m,x);var j=yh;if(j&&c&&m){var P='link[rel="preload"][as="'+Sr(m)+'"]';m==="image"&&x&&x.imageSrcSet?(P+='[imagesrcset="'+Sr(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(P+='[imagesizes="'+Sr(x.imageSizes)+'"]')):P+='[href="'+Sr(c)+'"]';var H=P;switch(m){case"style":H=bh(c);break;case"script":H=vh(c)}tl.has(H)||(c=h({rel:"preload",href:m==="image"&&x&&x.imageSrcSet?void 0:c,as:m},x),tl.set(H,c),j.querySelector(P)!==null||m==="style"&&j.querySelector(mf(H))||m==="script"&&j.querySelector(hf(H))||(m=j.createElement("link"),Hn(m,"link",c),Ke(m),j.head.appendChild(m)))}}function JM(c,m){Fd.m(c,m);var x=yh;if(x&&c){var j=m&&typeof m.as=="string"?m.as:"script",P='link[rel="modulepreload"][as="'+Sr(j)+'"][href="'+Sr(c)+'"]',H=P;switch(j){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":H=vh(c)}if(!tl.has(H)&&(c=h({rel:"modulepreload",href:c},m),tl.set(H,c),x.querySelector(P)===null)){switch(j){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(hf(H)))return}j=x.createElement("link"),Hn(j,"link",c),Ke(j),x.head.appendChild(j)}}}function ZM(c,m,x){Fd.S(c,m,x);var j=yh;if(j&&c){var P=$e(j).hoistableStyles,H=bh(c);m=m||"default";var de=P.get(H);if(!de){var je={loading:0,preload:null};if(de=j.querySelector(mf(H)))je.loading=5;else{c=h({rel:"stylesheet",href:c,"data-precedence":m},x),(x=tl.get(H))&&iv(c,x);var He=de=j.createElement("link");Ke(He),Hn(He,"link",c),He._p=new Promise(function(yt,Pt){He.onload=yt,He.onerror=Pt}),He.addEventListener("load",function(){je.loading|=1}),He.addEventListener("error",function(){je.loading|=2}),je.loading|=4,iy(de,m,j)}de={type:"stylesheet",instance:de,count:1,state:je},P.set(H,de)}}}function eL(c,m){Fd.X(c,m);var x=yh;if(x&&c){var j=$e(x).hoistableScripts,P=vh(c),H=j.get(P);H||(H=x.querySelector(hf(P)),H||(c=h({src:c,async:!0},m),(m=tl.get(P))&&ov(c,m),H=x.createElement("script"),Ke(H),Hn(H,"link",c),x.head.appendChild(H)),H={type:"script",instance:H,count:1,state:null},j.set(P,H))}}function tL(c,m){Fd.M(c,m);var x=yh;if(x&&c){var j=$e(x).hoistableScripts,P=vh(c),H=j.get(P);H||(H=x.querySelector(hf(P)),H||(c=h({src:c,async:!0,type:"module"},m),(m=tl.get(P))&&ov(c,m),H=x.createElement("script"),Ke(H),Hn(H,"link",c),x.head.appendChild(H)),H={type:"script",instance:H,count:1,state:null},j.set(P,H))}}function A3(c,m,x,j){var P=(P=te.current)?ny(P):null;if(!P)throw Error(a(446));switch(c){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(m=bh(x.href),x=$e(P).hoistableStyles,j=x.get(m),j||(j={type:"style",instance:null,count:0,state:null},x.set(m,j)),j):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){c=bh(x.href);var H=$e(P).hoistableStyles,de=H.get(c);if(de||(P=P.ownerDocument||P,de={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},H.set(c,de),(H=P.querySelector(mf(c)))&&!H._p&&(de.instance=H,de.state.loading=5),tl.has(c)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},tl.set(c,x),H||sL(P,c,x,de.state))),m&&j===null)throw Error(a(528,""));return de}if(m&&j!==null)throw Error(a(529,""));return null;case"script":return m=x.async,x=x.src,typeof x=="string"&&m&&typeof m!="function"&&typeof m!="symbol"?(m=vh(x),x=$e(P).hoistableScripts,j=x.get(m),j||(j={type:"script",instance:null,count:0,state:null},x.set(m,j)),j):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,c))}}function bh(c){return'href="'+Sr(c)+'"'}function mf(c){return'link[rel="stylesheet"]['+c+"]"}function E3(c){return h({},c,{"data-precedence":c.precedence,precedence:null})}function sL(c,m,x,j){c.querySelector('link[rel="preload"][as="style"]['+m+"]")?j.loading=1:(m=c.createElement("link"),j.preload=m,m.addEventListener("load",function(){return j.loading|=1}),m.addEventListener("error",function(){return j.loading|=2}),Hn(m,"link",x),Ke(m),c.head.appendChild(m))}function vh(c){return'[src="'+Sr(c)+'"]'}function hf(c){return"script[async]"+c}function T3(c,m,x){if(m.count++,m.instance===null)switch(m.type){case"style":var j=c.querySelector('style[data-href~="'+Sr(x.href)+'"]');if(j)return m.instance=j,Ke(j),j;var P=h({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return j=(c.ownerDocument||c).createElement("style"),Ke(j),Hn(j,"style",P),iy(j,x.precedence,c),m.instance=j;case"stylesheet":P=bh(x.href);var H=c.querySelector(mf(P));if(H)return m.state.loading|=4,m.instance=H,Ke(H),H;j=E3(x),(P=tl.get(P))&&iv(j,P),H=(c.ownerDocument||c).createElement("link"),Ke(H);var de=H;return de._p=new Promise(function(je,He){de.onload=je,de.onerror=He}),Hn(H,"link",j),m.state.loading|=4,iy(H,x.precedence,c),m.instance=H;case"script":return H=vh(x.src),(P=c.querySelector(hf(H)))?(m.instance=P,Ke(P),P):(j=x,(P=tl.get(H))&&(j=h({},x),ov(j,P)),c=c.ownerDocument||c,P=c.createElement("script"),Ke(P),Hn(P,"link",j),c.head.appendChild(P),m.instance=P);case"void":return null;default:throw Error(a(443,m.type))}else m.type==="stylesheet"&&(m.state.loading&4)===0&&(j=m.instance,m.state.loading|=4,iy(j,x.precedence,c));return m.instance}function iy(c,m,x){for(var j=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),P=j.length?j[j.length-1]:null,H=P,de=0;de<j.length;de++){var je=j[de];if(je.dataset.precedence===m)H=je;else if(H!==P)break}H?H.parentNode.insertBefore(c,H.nextSibling):(m=x.nodeType===9?x.head:x,m.insertBefore(c,m.firstChild))}function iv(c,m){c.crossOrigin==null&&(c.crossOrigin=m.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=m.referrerPolicy),c.title==null&&(c.title=m.title)}function ov(c,m){c.crossOrigin==null&&(c.crossOrigin=m.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=m.referrerPolicy),c.integrity==null&&(c.integrity=m.integrity)}var oy=null;function D3(c,m,x){if(oy===null){var j=new Map,P=oy=new Map;P.set(x,j)}else P=oy,j=P.get(x),j||(j=new Map,P.set(x,j));if(j.has(c))return j;for(j.set(c,null),x=x.getElementsByTagName(c),P=0;P<x.length;P++){var H=x[P];if(!(H[me]||H[Es]||c==="link"&&H.getAttribute("rel")==="stylesheet")&&H.namespaceURI!=="http://www.w3.org/2000/svg"){var de=H.getAttribute(m)||"";de=c+de;var je=j.get(de);je?je.push(H):j.set(de,[H])}}return j}function P3(c,m,x){c=c.ownerDocument||c,c.head.insertBefore(x,m==="title"?c.querySelector("head > title"):null)}function rL(c,m,x){if(x===1||m.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof m.precedence!="string"||typeof m.href!="string"||m.href==="")break;return!0;case"link":if(typeof m.rel!="string"||typeof m.href!="string"||m.href===""||m.onLoad||m.onError)break;switch(m.rel){case"stylesheet":return c=m.disabled,typeof m.precedence=="string"&&c==null;default:return!0}case"script":if(m.async&&typeof m.async!="function"&&typeof m.async!="symbol"&&!m.onLoad&&!m.onError&&m.src&&typeof m.src=="string")return!0}return!1}function M3(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}var xf=null;function aL(){}function nL(c,m,x){if(xf===null)throw Error(a(475));var j=xf;if(m.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var P=bh(x.href),H=c.querySelector(mf(P));if(H){c=H._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(j.count++,j=ly.bind(j),c.then(j,j)),m.state.loading|=4,m.instance=H,Ke(H);return}H=c.ownerDocument||c,x=E3(x),(P=tl.get(P))&&iv(x,P),H=H.createElement("link"),Ke(H);var de=H;de._p=new Promise(function(je,He){de.onload=je,de.onerror=He}),Hn(H,"link",x),m.instance=H}j.stylesheets===null&&(j.stylesheets=new Map),j.stylesheets.set(m,c),(c=m.state.preload)&&(m.state.loading&3)===0&&(j.count++,m=ly.bind(j),c.addEventListener("load",m),c.addEventListener("error",m))}}function iL(){if(xf===null)throw Error(a(475));var c=xf;return c.stylesheets&&c.count===0&&lv(c,c.stylesheets),0<c.count?function(m){var x=setTimeout(function(){if(c.stylesheets&&lv(c,c.stylesheets),c.unsuspend){var j=c.unsuspend;c.unsuspend=null,j()}},6e4);return c.unsuspend=m,function(){c.unsuspend=null,clearTimeout(x)}}:null}function ly(){if(this.count--,this.count===0){if(this.stylesheets)lv(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var cy=null;function lv(c,m){c.stylesheets=null,c.unsuspend!==null&&(c.count++,cy=new Map,m.forEach(oL,c),cy=null,ly.call(c))}function oL(c,m){if(!(m.state.loading&4)){var x=cy.get(c);if(x)var j=x.get(null);else{x=new Map,cy.set(c,x);for(var P=c.querySelectorAll("link[data-precedence],style[data-precedence]"),H=0;H<P.length;H++){var de=P[H];(de.nodeName==="LINK"||de.getAttribute("media")!=="not all")&&(x.set(de.dataset.precedence,de),j=de)}j&&x.set(null,j)}P=m.instance,de=P.getAttribute("data-precedence"),H=x.get(de)||j,H===j&&x.set(null,P),x.set(de,P),this.count++,j=ly.bind(this),P.addEventListener("load",j),P.addEventListener("error",j),H?H.parentNode.insertBefore(P,H.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(P,c.firstChild)),m.state.loading|=4}}var ff={$$typeof:A,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function lL(c,m,x,j,P,H,de,je){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Et(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Et(0),this.hiddenUpdates=Et(null),this.identifierPrefix=j,this.onUncaughtError=P,this.onCaughtError=H,this.onRecoverableError=de,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=je,this.incompleteTransitions=new Map}function L3(c,m,x,j,P,H,de,je,He,yt,Pt,It){return c=new lL(c,m,x,de,je,He,yt,It),m=1,H===!0&&(m|=24),H=Sn(3,null,null,m),c.current=H,H.stateNode=c,m=Ox(),m.refCount++,c.pooledCache=m,m.refCount++,H.memoizedState={element:j,isDehydrated:x,cache:m},tt(H),c}function F3(c){return c?(c=Za,c):Za}function R3(c,m,x,j,P,H){P=F3(P),j.context===null?j.context=P:j.pendingContext=P,j=Tt(m),j.payload={element:x},H=H===void 0?null:H,H!==null&&(j.callback=H),x=Ot(c,j,m),x!==null&&(Ao(x,c,m),Lt(x,c,m))}function O3(c,m){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var x=c.retryLane;c.retryLane=x!==0&&x<m?x:m}}function cv(c,m){O3(c,m),(c=c.alternate)&&O3(c,m)}function I3(c){if(c.tag===13){var m=Cl(c,67108864);m!==null&&Ao(m,c,67108864),cv(c,67108864)}}var dy=!0;function cL(c,m,x,j){var P=K.T;K.T=null;var H=X.p;try{X.p=2,dv(c,m,x,j)}finally{X.p=H,K.T=P}}function dL(c,m,x,j){var P=K.T;K.T=null;var H=X.p;try{X.p=8,dv(c,m,x,j)}finally{X.p=H,K.T=P}}function dv(c,m,x,j){if(dy){var P=uv(j);if(P===null)Q2(c,m,j,uy,x),z3(c,j);else if(mL(P,c,m,x,j))j.stopPropagation();else if(z3(c,j),m&4&&-1<uL.indexOf(c)){for(;P!==null;){var H=Ne(P);if(H!==null)switch(H.tag){case 3:if(H=H.stateNode,H.current.memoizedState.isDehydrated){var de=Ge(H.pendingLanes);if(de!==0){var je=H;for(je.pendingLanes|=2,je.entangledLanes|=2;de;){var He=1<<31-Xe(de);je.entanglements[1]|=He,de&=~He}Lc(H),(Br&6)===0&&(Yg=he()+500,lf(0))}}break;case 13:je=Cl(H,2),je!==null&&Ao(je,H,2),Xg(),cv(H,2)}if(H=uv(j),H===null&&Q2(c,m,j,uy,x),H===P)break;P=H}P!==null&&j.stopPropagation()}else Q2(c,m,j,null,x)}}function uv(c){return c=pa(c),mv(c)}var uy=null;function mv(c){if(uy=null,c=De(c),c!==null){var m=i(c);if(m===null)c=null;else{var x=m.tag;if(x===13){if(c=o(m),c!==null)return c;c=null}else if(x===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;c=null}else m!==c&&(c=null)}}return uy=c,null}function B3(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Te()){case Ie:return 2;case Be:return 8;case Le:case Ee:return 32;case Ve:return 268435456;default:return 32}default:return 32}}var hv=!1,zu=null,$u=null,Uu=null,pf=new Map,gf=new Map,Vu=[],uL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z3(c,m){switch(c){case"focusin":case"focusout":zu=null;break;case"dragenter":case"dragleave":$u=null;break;case"mouseover":case"mouseout":Uu=null;break;case"pointerover":case"pointerout":pf.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":gf.delete(m.pointerId)}}function yf(c,m,x,j,P,H){return c===null||c.nativeEvent!==H?(c={blockedOn:m,domEventName:x,eventSystemFlags:j,nativeEvent:H,targetContainers:[P]},m!==null&&(m=Ne(m),m!==null&&I3(m)),c):(c.eventSystemFlags|=j,m=c.targetContainers,P!==null&&m.indexOf(P)===-1&&m.push(P),c)}function mL(c,m,x,j,P){switch(m){case"focusin":return zu=yf(zu,c,m,x,j,P),!0;case"dragenter":return $u=yf($u,c,m,x,j,P),!0;case"mouseover":return Uu=yf(Uu,c,m,x,j,P),!0;case"pointerover":var H=P.pointerId;return pf.set(H,yf(pf.get(H)||null,c,m,x,j,P)),!0;case"gotpointercapture":return H=P.pointerId,gf.set(H,yf(gf.get(H)||null,c,m,x,j,P)),!0}return!1}function $3(c){var m=De(c.target);if(m!==null){var x=i(m);if(x!==null){if(m=x.tag,m===13){if(m=o(x),m!==null){c.blockedOn=m,Zt(c.priority,function(){if(x.tag===13){var j=ko();j=is(j);var P=Cl(x,j);P!==null&&Ao(P,x,j),cv(x,j)}});return}}else if(m===3&&x.stateNode.current.memoizedState.isDehydrated){c.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}c.blockedOn=null}function my(c){if(c.blockedOn!==null)return!1;for(var m=c.targetContainers;0<m.length;){var x=uv(c.nativeEvent);if(x===null){x=c.nativeEvent;var j=new x.constructor(x.type,x);vl=j,x.target.dispatchEvent(j),vl=null}else return m=Ne(x),m!==null&&I3(m),c.blockedOn=x,!1;m.shift()}return!0}function U3(c,m,x){my(c)&&x.delete(m)}function hL(){hv=!1,zu!==null&&my(zu)&&(zu=null),$u!==null&&my($u)&&($u=null),Uu!==null&&my(Uu)&&(Uu=null),pf.forEach(U3),gf.forEach(U3)}function hy(c,m){c.blockedOn===m&&(c.blockedOn=null,hv||(hv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,hL)))}var xy=null;function V3(c){xy!==c&&(xy=c,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){xy===c&&(xy=null);for(var m=0;m<c.length;m+=3){var x=c[m],j=c[m+1],P=c[m+2];if(typeof j!="function"){if(mv(j||x)===null)continue;break}var H=Ne(x);H!==null&&(c.splice(m,3),m-=3,Jo(H,{pending:!0,data:P,method:x.method,action:j},j,P))}}))}function bf(c){function m(He){return hy(He,c)}zu!==null&&hy(zu,c),$u!==null&&hy($u,c),Uu!==null&&hy(Uu,c),pf.forEach(m),gf.forEach(m);for(var x=0;x<Vu.length;x++){var j=Vu[x];j.blockedOn===c&&(j.blockedOn=null)}for(;0<Vu.length&&(x=Vu[0],x.blockedOn===null);)$3(x),x.blockedOn===null&&Vu.shift();if(x=(c.ownerDocument||c).$$reactFormReplay,x!=null)for(j=0;j<x.length;j+=3){var P=x[j],H=x[j+1],de=P[Bs]||null;if(typeof H=="function")de||V3(x);else if(de){var je=null;if(H&&H.hasAttribute("formAction")){if(P=H,de=H[Bs]||null)je=de.formAction;else if(mv(P)!==null)continue}else je=de.action;typeof je=="function"?x[j+1]=je:(x.splice(j,3),j-=3),V3(x)}}}function xv(c){this._internalRoot=c}fy.prototype.render=xv.prototype.render=function(c){var m=this._internalRoot;if(m===null)throw Error(a(409));var x=m.current,j=ko();R3(x,j,c,m,null,null)},fy.prototype.unmount=xv.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var m=c.containerInfo;R3(c.current,2,null,c,null,null),Xg(),m[sr]=null}};function fy(c){this._internalRoot=c}fy.prototype.unstable_scheduleHydration=function(c){if(c){var m=Us();c={blockedOn:null,target:c,priority:m};for(var x=0;x<Vu.length&&m!==0&&m<Vu[x].priority;x++);Vu.splice(x,0,c),x===0&&$3(c)}};var q3=s.version;if(q3!=="19.1.0")throw Error(a(527,q3,"19.1.0"));X.findDOMNode=function(c){var m=c._reactInternals;if(m===void 0)throw typeof c.render=="function"?Error(a(188)):(c=Object.keys(c).join(","),Error(a(268,c)));return c=d(m),c=c!==null?u(c):null,c=c===null?null:c.stateNode,c};var xL={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var py=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!py.isDisabled&&py.supportsFiber)try{Pe=py.inject(xL),Ae=py}catch{}}return wf.createRoot=function(c,m){if(!n(c))throw Error(a(299));var x=!1,j="",P=i4,H=o4,de=l4,je=null;return m!=null&&(m.unstable_strictMode===!0&&(x=!0),m.identifierPrefix!==void 0&&(j=m.identifierPrefix),m.onUncaughtError!==void 0&&(P=m.onUncaughtError),m.onCaughtError!==void 0&&(H=m.onCaughtError),m.onRecoverableError!==void 0&&(de=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(je=m.unstable_transitionCallbacks)),m=L3(c,1,!1,null,null,x,j,P,H,de,je,null),c[sr]=m.current,X2(c),new xv(m)},wf.hydrateRoot=function(c,m,x){if(!n(c))throw Error(a(299));var j=!1,P="",H=i4,de=o4,je=l4,He=null,yt=null;return x!=null&&(x.unstable_strictMode===!0&&(j=!0),x.identifierPrefix!==void 0&&(P=x.identifierPrefix),x.onUncaughtError!==void 0&&(H=x.onUncaughtError),x.onCaughtError!==void 0&&(de=x.onCaughtError),x.onRecoverableError!==void 0&&(je=x.onRecoverableError),x.unstable_transitionCallbacks!==void 0&&(He=x.unstable_transitionCallbacks),x.formState!==void 0&&(yt=x.formState)),m=L3(c,1,!0,m,x??null,j,P,H,de,je,He,yt),m.context=F3(null),x=m.current,j=ko(),j=is(j),P=Tt(j),P.callback=null,Ot(x,P,j),x=j,m.current.lanes=x,qt(m,x),Lc(m),c[sr]=m.current,X2(c),new fy(m)},wf.version="19.1.0",wf}var e6;function CL(){if(e6)return gv.exports;e6=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),gv.exports=_L(),gv.exports}var kL=CL();/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),EL=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,r,a)=>a?a.toUpperCase():r.toLowerCase()),t6=t=>{const s=EL(t);return s.charAt(0).toUpperCase()+s.slice(1)},NA=(...t)=>t.filter((s,r,a)=>!!s&&s.trim()!==""&&a.indexOf(s)===r).join(" ").trim(),TL=t=>{for(const s in t)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=N.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:n="",children:i,iconNode:o,...l},d)=>N.createElement("svg",{ref:d,...DL,width:s,height:s,stroke:t,strokeWidth:a?Number(r)*24/Number(s):r,className:NA("lucide",n),...!i&&!TL(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,h])=>N.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=(t,s)=>{const r=N.forwardRef(({className:a,...n},i)=>N.createElement(PL,{ref:i,iconNode:s,className:NA(`lucide-${AL(t6(t))}`,`lucide-${t}`,a),...n}));return r.displayName=t6(t),r};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],s6=Vt("activity",ML);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],FL=Vt("arrow-down-right",LL);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]],Hu=Vt("arrow-down-up",RL);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Cw=Vt("arrow-left",OL);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],gy=Vt("arrow-right-left",IL);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],zL=Vt("arrow-right",BL);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Wj=Vt("arrow-up-right",$L);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],ln=Vt("award",UL);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=[["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M19.38 6.813A9 9 0 0 1 20.8 10.2a2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"11xh7x"}],["path",{d:"M9 12h.01",key:"157uk2"}]],SA=Vt("baby",VL);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],r6=Vt("ban",qL);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],a6=Vt("bell",HL);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],dl=Vt("book-open",WL);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],j1=Vt("briefcase",GL);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Kn=Vt("building-2",YL);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],sx=Vt("building",KL);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],QL=Vt("calculator",XL);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Db=Vt("calendar-days",JL);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ys=Vt("calendar",ZL);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],tF=Vt("camera",eF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Hc=Vt("chart-column",sF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],Gj=Vt("chart-no-axes-column-increasing",rF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],kw=Vt("chart-no-axes-column",aF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],ed=Vt("chart-pie",nF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],fi=Vt("check",iF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],dn=Vt("chevron-down",oF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],gl=Vt("chevron-left",lF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Pn=Vt("chevron-right",cF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Yj=Vt("chevron-up",dF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Hs=Vt("circle-alert",uF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vs=Vt("circle-check-big",mF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],xF=Vt("circle-check",hF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],pF=Vt("circle-plus",fF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Jl=Vt("circle-x",gF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Gl=Vt("clipboard-check",yF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Ns=Vt("clock",bF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=[["path",{d:"M12 12v4",key:"tww15h"}],["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M17 18h.5a1 1 0 0 0 0-9h-1.79A7 7 0 1 0 7 17.708",key:"xsb5ju"}]],wF=Vt("cloud-alert",vF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Zl=Vt("credit-card",jF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Qs=Vt("dollar-sign",NF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Mn=Vt("download",SF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Aw=Vt("droplets",_F);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],T0=Vt("ellipsis-vertical",CF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ew=Vt("eye-off",kF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Or=Vt("eye",AF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]],TF=Vt("file-question-mark",EF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],xs=Vt("file-text",DF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Wc=Vt("file",PF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],_A=Vt("flame",MF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],un=Vt("funnel",LF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],RF=Vt("globe",FF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],CA=Vt("heart",OF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],wv=Vt("house",IF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],zF=Vt("image",BF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],UF=Vt("info",$F);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],n6=Vt("key",VF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Uh=Vt("layers",qF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],WF=Vt("list-checks",HF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ps=Vt("loader-circle",GF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],i6=Vt("lock",YF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],XF=Vt("log-out",KF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],hx=Vt("mail",QF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],xx=Vt("map-pin",JF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=[["path",{d:"M5 12h14",key:"1ays0h"}]],o6=Vt("minus",ZF);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],kA=Vt("package",e9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],s9=Vt("pen-line",t9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Gc=Vt("pen",r9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],n9=Vt("percent",a9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Yl=Vt("phone",i9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],bp=Vt("play",o9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bs=Vt("plus",l9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Kj=Vt("printer",c9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],AA=Vt("receipt",d9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Bi=Vt("refresh-cw",u9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ll=Vt("rotate-ccw",m9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],D0=Vt("save",h9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],or=Vt("search",x9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],N1=Vt("settings",f9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],P0=Vt("shield",p9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],yy=Vt("shopping-cart",g9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],EA=Vt("square-check-big",y9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],tr=Vt("square-pen",b9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],TA=Vt("star",v9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],j9=Vt("tag",w9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],wn=Vt("target",N9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ns=Vt("trash-2",S9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],rx=Vt("trending-down",_9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],wi=Vt("trending-up",C9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],j0=Vt("triangle-alert",k9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Dh=Vt("truck",A9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=[["path",{d:"m17 2-5 5-5-5",key:"16satq"}],["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",key:"1e6viu"}]],T9=Vt("tv",E9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],hl=Vt("upload",D9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],cn=Vt("user-check",P9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],L9=Vt("user-plus",M9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],R9=Vt("user-x",F9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],er=Vt("user",O9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ta=Vt("users",I9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Ph=Vt("video",B9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Tw=Vt("wallet",z9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],DA=Vt("wifi",$9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zt=Vt("x",U9);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Dw=Vt("zap",V9);function PA(t,s){return function(){return t.apply(s,arguments)}}const{toString:q9}=Object.prototype,{getPrototypeOf:Xj}=Object,{iterator:S1,toStringTag:MA}=Symbol,_1=(t=>s=>{const r=q9.call(s);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),tc=t=>(t=t.toLowerCase(),s=>_1(s)===t),C1=t=>s=>typeof s===t,{isArray:fx}=Array,vp=C1("undefined");function H9(t){return t!==null&&!vp(t)&&t.constructor!==null&&!vp(t.constructor)&&no(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const LA=tc("ArrayBuffer");function W9(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&LA(t.buffer),s}const G9=C1("string"),no=C1("function"),FA=C1("number"),k1=t=>t!==null&&typeof t=="object",Y9=t=>t===!0||t===!1,ob=t=>{if(_1(t)!=="object")return!1;const s=Xj(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(MA in t)&&!(S1 in t)},K9=tc("Date"),X9=tc("File"),Q9=tc("Blob"),J9=tc("FileList"),Z9=t=>k1(t)&&no(t.pipe),eR=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||no(t.append)&&((s=_1(t))==="formdata"||s==="object"&&no(t.toString)&&t.toString()==="[object FormData]"))},tR=tc("URLSearchParams"),[sR,rR,aR,nR]=["ReadableStream","Request","Response","Headers"].map(tc),iR=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xp(t,s,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let a,n;if(typeof t!="object"&&(t=[t]),fx(t))for(a=0,n=t.length;a<n;a++)s.call(null,t[a],a,t);else{const i=r?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let l;for(a=0;a<o;a++)l=i[a],s.call(null,t[l],l,t)}}function RA(t,s){s=s.toLowerCase();const r=Object.keys(t);let a=r.length,n;for(;a-- >0;)if(n=r[a],s===n.toLowerCase())return n;return null}const l0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,OA=t=>!vp(t)&&t!==l0;function Pw(){const{caseless:t}=OA(this)&&this||{},s={},r=(a,n)=>{const i=t&&RA(s,n)||n;ob(s[i])&&ob(a)?s[i]=Pw(s[i],a):ob(a)?s[i]=Pw({},a):fx(a)?s[i]=a.slice():s[i]=a};for(let a=0,n=arguments.length;a<n;a++)arguments[a]&&Xp(arguments[a],r);return s}const oR=(t,s,r,{allOwnKeys:a}={})=>(Xp(s,(n,i)=>{r&&no(n)?t[i]=PA(n,r):t[i]=n},{allOwnKeys:a}),t),lR=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),cR=(t,s,r,a)=>{t.prototype=Object.create(s.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),r&&Object.assign(t.prototype,r)},dR=(t,s,r,a)=>{let n,i,o;const l={};if(s=s||{},t==null)return s;do{for(n=Object.getOwnPropertyNames(t),i=n.length;i-- >0;)o=n[i],(!a||a(o,t,s))&&!l[o]&&(s[o]=t[o],l[o]=!0);t=r!==!1&&Xj(t)}while(t&&(!r||r(t,s))&&t!==Object.prototype);return s},uR=(t,s,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=s.length;const a=t.indexOf(s,r);return a!==-1&&a===r},mR=t=>{if(!t)return null;if(fx(t))return t;let s=t.length;if(!FA(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=t[s];return r},hR=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&Xj(Uint8Array)),xR=(t,s)=>{const a=(t&&t[S1]).call(t);let n;for(;(n=a.next())&&!n.done;){const i=n.value;s.call(t,i[0],i[1])}},fR=(t,s)=>{let r;const a=[];for(;(r=t.exec(s))!==null;)a.push(r);return a},pR=tc("HTMLFormElement"),gR=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,n){return a.toUpperCase()+n}),l6=(({hasOwnProperty:t})=>(s,r)=>t.call(s,r))(Object.prototype),yR=tc("RegExp"),IA=(t,s)=>{const r=Object.getOwnPropertyDescriptors(t),a={};Xp(r,(n,i)=>{let o;(o=s(n,i,t))!==!1&&(a[i]=o||n)}),Object.defineProperties(t,a)},bR=t=>{IA(t,(s,r)=>{if(no(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=t[r];if(no(a)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},vR=(t,s)=>{const r={},a=n=>{n.forEach(i=>{r[i]=!0})};return fx(t)?a(t):a(String(t).split(s)),r},wR=()=>{},jR=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function NR(t){return!!(t&&no(t.append)&&t[MA]==="FormData"&&t[S1])}const SR=t=>{const s=new Array(10),r=(a,n)=>{if(k1(a)){if(s.indexOf(a)>=0)return;if(!("toJSON"in a)){s[n]=a;const i=fx(a)?[]:{};return Xp(a,(o,l)=>{const d=r(o,n+1);!vp(d)&&(i[l]=d)}),s[n]=void 0,i}}return a};return r(t,0)},_R=tc("AsyncFunction"),CR=t=>t&&(k1(t)||no(t))&&no(t.then)&&no(t.catch),BA=((t,s)=>t?setImmediate:s?((r,a)=>(l0.addEventListener("message",({source:n,data:i})=>{n===l0&&i===r&&a.length&&a.shift()()},!1),n=>{a.push(n),l0.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",no(l0.postMessage)),kR=typeof queueMicrotask<"u"?queueMicrotask.bind(l0):typeof process<"u"&&process.nextTick||BA,AR=t=>t!=null&&no(t[S1]),Ct={isArray:fx,isArrayBuffer:LA,isBuffer:H9,isFormData:eR,isArrayBufferView:W9,isString:G9,isNumber:FA,isBoolean:Y9,isObject:k1,isPlainObject:ob,isReadableStream:sR,isRequest:rR,isResponse:aR,isHeaders:nR,isUndefined:vp,isDate:K9,isFile:X9,isBlob:Q9,isRegExp:yR,isFunction:no,isStream:Z9,isURLSearchParams:tR,isTypedArray:hR,isFileList:J9,forEach:Xp,merge:Pw,extend:oR,trim:iR,stripBOM:lR,inherits:cR,toFlatObject:dR,kindOf:_1,kindOfTest:tc,endsWith:uR,toArray:mR,forEachEntry:xR,matchAll:fR,isHTMLForm:pR,hasOwnProperty:l6,hasOwnProp:l6,reduceDescriptors:IA,freezeMethods:bR,toObjectSet:vR,toCamelCase:gR,noop:wR,toFiniteNumber:jR,findKey:RA,global:l0,isContextDefined:OA,isSpecCompliantForm:NR,toJSONObject:SR,isAsyncFn:_R,isThenable:CR,setImmediate:BA,asap:kR,isIterable:AR};function Xs(t,s,r,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}Ct.inherits(Xs,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ct.toJSONObject(this.config),code:this.code,status:this.status}}});const zA=Xs.prototype,$A={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{$A[t]={value:t}});Object.defineProperties(Xs,$A);Object.defineProperty(zA,"isAxiosError",{value:!0});Xs.from=(t,s,r,a,n,i)=>{const o=Object.create(zA);return Ct.toFlatObject(t,o,function(d){return d!==Error.prototype},l=>l!=="isAxiosError"),Xs.call(o,t.message,s,r,a,n),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const ER=null;function Mw(t){return Ct.isPlainObject(t)||Ct.isArray(t)}function UA(t){return Ct.endsWith(t,"[]")?t.slice(0,-2):t}function c6(t,s,r){return t?t.concat(s).map(function(n,i){return n=UA(n),!r&&i?"["+n+"]":n}).join(r?".":""):s}function TR(t){return Ct.isArray(t)&&!t.some(Mw)}const DR=Ct.toFlatObject(Ct,{},null,function(s){return/^is[A-Z]/.test(s)});function A1(t,s,r){if(!Ct.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,r=Ct.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!Ct.isUndefined(b[y])});const a=r.metaTokens,n=r.visitor||h,i=r.dots,o=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&Ct.isSpecCompliantForm(s);if(!Ct.isFunction(n))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(Ct.isDate(v))return v.toISOString();if(Ct.isBoolean(v))return v.toString();if(!d&&Ct.isBlob(v))throw new Xs("Blob is not supported. Use a Buffer instead.");return Ct.isArrayBuffer(v)||Ct.isTypedArray(v)?d&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function h(v,y,b){let _=v;if(v&&!b&&typeof v=="object"){if(Ct.endsWith(y,"{}"))y=a?y:y.slice(0,-2),v=JSON.stringify(v);else if(Ct.isArray(v)&&TR(v)||(Ct.isFileList(v)||Ct.endsWith(y,"[]"))&&(_=Ct.toArray(v)))return y=UA(y),_.forEach(function(A,R){!(Ct.isUndefined(A)||A===null)&&s.append(o===!0?c6([y],R,i):o===null?y:y+"[]",u(A))}),!1}return Mw(v)?!0:(s.append(c6(b,y,i),u(v)),!1)}const f=[],p=Object.assign(DR,{defaultVisitor:h,convertValue:u,isVisitable:Mw});function g(v,y){if(!Ct.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(v),Ct.forEach(v,function(_,k){(!(Ct.isUndefined(_)||_===null)&&n.call(s,_,Ct.isString(k)?k.trim():k,y,p))===!0&&g(_,y?y.concat(k):[k])}),f.pop()}}if(!Ct.isObject(t))throw new TypeError("data must be an object");return g(t),s}function d6(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return s[a]})}function Qj(t,s){this._pairs=[],t&&A1(t,this,s)}const VA=Qj.prototype;VA.append=function(s,r){this._pairs.push([s,r])};VA.toString=function(s){const r=s?function(a){return s.call(this,a,d6)}:d6;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function PR(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function qA(t,s,r){if(!s)return t;const a=r&&r.encode||PR;Ct.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let i;if(n?i=n(s,r):i=Ct.isURLSearchParams(s)?s.toString():new Qj(s,r).toString(a),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class u6{constructor(){this.handlers=[]}use(s,r,a){return this.handlers.push({fulfilled:s,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){Ct.forEach(this.handlers,function(a){a!==null&&s(a)})}}const HA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},MR=typeof URLSearchParams<"u"?URLSearchParams:Qj,LR=typeof FormData<"u"?FormData:null,FR=typeof Blob<"u"?Blob:null,RR={isBrowser:!0,classes:{URLSearchParams:MR,FormData:LR,Blob:FR},protocols:["http","https","file","blob","url","data"]},Jj=typeof window<"u"&&typeof document<"u",Lw=typeof navigator=="object"&&navigator||void 0,OR=Jj&&(!Lw||["ReactNative","NativeScript","NS"].indexOf(Lw.product)<0),IR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",BR=Jj&&window.location.href||"http://localhost",zR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Jj,hasStandardBrowserEnv:OR,hasStandardBrowserWebWorkerEnv:IR,navigator:Lw,origin:BR},Symbol.toStringTag,{value:"Module"})),mi={...zR,...RR};function $R(t,s){return A1(t,new mi.classes.URLSearchParams,Object.assign({visitor:function(r,a,n,i){return mi.isNode&&Ct.isBuffer(r)?(this.append(a,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},s))}function UR(t){return Ct.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function VR(t){const s={},r=Object.keys(t);let a;const n=r.length;let i;for(a=0;a<n;a++)i=r[a],s[i]=t[i];return s}function WA(t){function s(r,a,n,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),d=i>=r.length;return o=!o&&Ct.isArray(n)?n.length:o,d?(Ct.hasOwnProp(n,o)?n[o]=[n[o],a]:n[o]=a,!l):((!n[o]||!Ct.isObject(n[o]))&&(n[o]=[]),s(r,a,n[o],i)&&Ct.isArray(n[o])&&(n[o]=VR(n[o])),!l)}if(Ct.isFormData(t)&&Ct.isFunction(t.entries)){const r={};return Ct.forEachEntry(t,(a,n)=>{s(UR(a),n,r,0)}),r}return null}function qR(t,s,r){if(Ct.isString(t))try{return(s||JSON.parse)(t),Ct.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(t)}const Qp={transitional:HA,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const a=r.getContentType()||"",n=a.indexOf("application/json")>-1,i=Ct.isObject(s);if(i&&Ct.isHTMLForm(s)&&(s=new FormData(s)),Ct.isFormData(s))return n?JSON.stringify(WA(s)):s;if(Ct.isArrayBuffer(s)||Ct.isBuffer(s)||Ct.isStream(s)||Ct.isFile(s)||Ct.isBlob(s)||Ct.isReadableStream(s))return s;if(Ct.isArrayBufferView(s))return s.buffer;if(Ct.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let l;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return $R(s,this.formSerializer).toString();if((l=Ct.isFileList(s))||a.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return A1(l?{"files[]":s}:s,d&&new d,this.formSerializer)}}return i||n?(r.setContentType("application/json",!1),qR(s)):s}],transformResponse:[function(s){const r=this.transitional||Qp.transitional,a=r&&r.forcedJSONParsing,n=this.responseType==="json";if(Ct.isResponse(s)||Ct.isReadableStream(s))return s;if(s&&Ct.isString(s)&&(a&&!this.responseType||n)){const o=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(s)}catch(l){if(o)throw l.name==="SyntaxError"?Xs.from(l,Xs.ERR_BAD_RESPONSE,this,null,this.response):l}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mi.classes.FormData,Blob:mi.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ct.forEach(["delete","get","head","post","put","patch"],t=>{Qp.headers[t]={}});const HR=Ct.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),WR=t=>{const s={};let r,a,n;return t&&t.split(`
`).forEach(function(o){n=o.indexOf(":"),r=o.substring(0,n).trim().toLowerCase(),a=o.substring(n+1).trim(),!(!r||s[r]&&HR[r])&&(r==="set-cookie"?s[r]?s[r].push(a):s[r]=[a]:s[r]=s[r]?s[r]+", "+a:a)}),s},m6=Symbol("internals");function jf(t){return t&&String(t).trim().toLowerCase()}function lb(t){return t===!1||t==null?t:Ct.isArray(t)?t.map(lb):String(t)}function GR(t){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(t);)s[a[1]]=a[2];return s}const YR=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function jv(t,s,r,a,n){if(Ct.isFunction(a))return a.call(this,s,r);if(n&&(s=r),!!Ct.isString(s)){if(Ct.isString(a))return s.indexOf(a)!==-1;if(Ct.isRegExp(a))return a.test(s)}}function KR(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,a)=>r.toUpperCase()+a)}function XR(t,s){const r=Ct.toCamelCase(" "+s);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+r,{value:function(n,i,o){return this[a].call(this,s,n,i,o)},configurable:!0})})}let io=class{constructor(s){s&&this.set(s)}set(s,r,a){const n=this;function i(l,d,u){const h=jf(d);if(!h)throw new Error("header name must be a non-empty string");const f=Ct.findKey(n,h);(!f||n[f]===void 0||u===!0||u===void 0&&n[f]!==!1)&&(n[f||d]=lb(l))}const o=(l,d)=>Ct.forEach(l,(u,h)=>i(u,h,d));if(Ct.isPlainObject(s)||s instanceof this.constructor)o(s,r);else if(Ct.isString(s)&&(s=s.trim())&&!YR(s))o(WR(s),r);else if(Ct.isObject(s)&&Ct.isIterable(s)){let l={},d,u;for(const h of s){if(!Ct.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[u=h[0]]=(d=l[u])?Ct.isArray(d)?[...d,h[1]]:[d,h[1]]:h[1]}o(l,r)}else s!=null&&i(r,s,a);return this}get(s,r){if(s=jf(s),s){const a=Ct.findKey(this,s);if(a){const n=this[a];if(!r)return n;if(r===!0)return GR(n);if(Ct.isFunction(r))return r.call(this,n,a);if(Ct.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=jf(s),s){const a=Ct.findKey(this,s);return!!(a&&this[a]!==void 0&&(!r||jv(this,this[a],a,r)))}return!1}delete(s,r){const a=this;let n=!1;function i(o){if(o=jf(o),o){const l=Ct.findKey(a,o);l&&(!r||jv(a,a[l],l,r))&&(delete a[l],n=!0)}}return Ct.isArray(s)?s.forEach(i):i(s),n}clear(s){const r=Object.keys(this);let a=r.length,n=!1;for(;a--;){const i=r[a];(!s||jv(this,this[i],i,s,!0))&&(delete this[i],n=!0)}return n}normalize(s){const r=this,a={};return Ct.forEach(this,(n,i)=>{const o=Ct.findKey(a,i);if(o){r[o]=lb(n),delete r[i];return}const l=s?KR(i):String(i).trim();l!==i&&delete r[i],r[l]=lb(n),a[l]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return Ct.forEach(this,(a,n)=>{a!=null&&a!==!1&&(r[n]=s&&Ct.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const a=new this(s);return r.forEach(n=>a.set(n)),a}static accessor(s){const a=(this[m6]=this[m6]={accessors:{}}).accessors,n=this.prototype;function i(o){const l=jf(o);a[l]||(XR(n,o),a[l]=!0)}return Ct.isArray(s)?s.forEach(i):i(s),this}};io.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ct.reduceDescriptors(io.prototype,({value:t},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(a){this[r]=a}}});Ct.freezeMethods(io);function Nv(t,s){const r=this||Qp,a=s||r,n=io.from(a.headers);let i=a.data;return Ct.forEach(t,function(l){i=l.call(r,i,n.normalize(),s?s.status:void 0)}),n.normalize(),i}function GA(t){return!!(t&&t.__CANCEL__)}function px(t,s,r){Xs.call(this,t??"canceled",Xs.ERR_CANCELED,s,r),this.name="CanceledError"}Ct.inherits(px,Xs,{__CANCEL__:!0});function YA(t,s,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?t(r):s(new Xs("Request failed with status code "+r.status,[Xs.ERR_BAD_REQUEST,Xs.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function QR(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function JR(t,s){t=t||10;const r=new Array(t),a=new Array(t);let n=0,i=0,o;return s=s!==void 0?s:1e3,function(d){const u=Date.now(),h=a[i];o||(o=u),r[n]=d,a[n]=u;let f=i,p=0;for(;f!==n;)p+=r[f++],f=f%t;if(n=(n+1)%t,n===i&&(i=(i+1)%t),u-o<s)return;const g=h&&u-h;return g?Math.round(p*1e3/g):void 0}}function ZR(t,s){let r=0,a=1e3/s,n,i;const o=(u,h=Date.now())=>{r=h,n=null,i&&(clearTimeout(i),i=null),t.apply(null,u)};return[(...u)=>{const h=Date.now(),f=h-r;f>=a?o(u,h):(n=u,i||(i=setTimeout(()=>{i=null,o(n)},a-f)))},()=>n&&o(n)]}const Pb=(t,s,r=3)=>{let a=0;const n=JR(50,250);return ZR(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,d=o-a,u=n(d),h=o<=l;a=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:d,rate:u||void 0,estimated:u&&l&&h?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[s?"download":"upload"]:!0};t(f)},r)},h6=(t,s)=>{const r=t!=null;return[a=>s[0]({lengthComputable:r,total:t,loaded:a}),s[1]]},x6=t=>(...s)=>Ct.asap(()=>t(...s)),eO=mi.hasStandardBrowserEnv?((t,s)=>r=>(r=new URL(r,mi.origin),t.protocol===r.protocol&&t.host===r.host&&(s||t.port===r.port)))(new URL(mi.origin),mi.navigator&&/(msie|trident)/i.test(mi.navigator.userAgent)):()=>!0,tO=mi.hasStandardBrowserEnv?{write(t,s,r,a,n,i){const o=[t+"="+encodeURIComponent(s)];Ct.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),Ct.isString(a)&&o.push("path="+a),Ct.isString(n)&&o.push("domain="+n),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function sO(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function rO(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function KA(t,s,r){let a=!sO(s);return t&&(a||r==!1)?rO(t,s):s}const f6=t=>t instanceof io?{...t}:t;function N0(t,s){s=s||{};const r={};function a(u,h,f,p){return Ct.isPlainObject(u)&&Ct.isPlainObject(h)?Ct.merge.call({caseless:p},u,h):Ct.isPlainObject(h)?Ct.merge({},h):Ct.isArray(h)?h.slice():h}function n(u,h,f,p){if(Ct.isUndefined(h)){if(!Ct.isUndefined(u))return a(void 0,u,f,p)}else return a(u,h,f,p)}function i(u,h){if(!Ct.isUndefined(h))return a(void 0,h)}function o(u,h){if(Ct.isUndefined(h)){if(!Ct.isUndefined(u))return a(void 0,u)}else return a(void 0,h)}function l(u,h,f){if(f in s)return a(u,h);if(f in t)return a(void 0,u)}const d={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,h,f)=>n(f6(u),f6(h),f,!0)};return Ct.forEach(Object.keys(Object.assign({},t,s)),function(h){const f=d[h]||n,p=f(t[h],s[h],h);Ct.isUndefined(p)&&f!==l||(r[h]=p)}),r}const XA=t=>{const s=N0({},t);let{data:r,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:l}=s;s.headers=o=io.from(o),s.url=qA(KA(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let d;if(Ct.isFormData(r)){if(mi.hasStandardBrowserEnv||mi.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((d=o.getContentType())!==!1){const[u,...h]=d?d.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...h].join("; "))}}if(mi.hasStandardBrowserEnv&&(a&&Ct.isFunction(a)&&(a=a(s)),a||a!==!1&&eO(s.url))){const u=n&&i&&tO.read(i);u&&o.set(n,u)}return s},aO=typeof XMLHttpRequest<"u",nO=aO&&function(t){return new Promise(function(r,a){const n=XA(t);let i=n.data;const o=io.from(n.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:u}=n,h,f,p,g,v;function y(){g&&g(),v&&v(),n.cancelToken&&n.cancelToken.unsubscribe(h),n.signal&&n.signal.removeEventListener("abort",h)}let b=new XMLHttpRequest;b.open(n.method.toUpperCase(),n.url,!0),b.timeout=n.timeout;function _(){if(!b)return;const A=io.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),F={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:A,config:t,request:b};YA(function(S){r(S),y()},function(S){a(S),y()},F),b=null}"onloadend"in b?b.onloadend=_:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(_)},b.onabort=function(){b&&(a(new Xs("Request aborted",Xs.ECONNABORTED,t,b)),b=null)},b.onerror=function(){a(new Xs("Network Error",Xs.ERR_NETWORK,t,b)),b=null},b.ontimeout=function(){let R=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const F=n.transitional||HA;n.timeoutErrorMessage&&(R=n.timeoutErrorMessage),a(new Xs(R,F.clarifyTimeoutError?Xs.ETIMEDOUT:Xs.ECONNABORTED,t,b)),b=null},i===void 0&&o.setContentType(null),"setRequestHeader"in b&&Ct.forEach(o.toJSON(),function(R,F){b.setRequestHeader(F,R)}),Ct.isUndefined(n.withCredentials)||(b.withCredentials=!!n.withCredentials),l&&l!=="json"&&(b.responseType=n.responseType),u&&([p,v]=Pb(u,!0),b.addEventListener("progress",p)),d&&b.upload&&([f,g]=Pb(d),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",g)),(n.cancelToken||n.signal)&&(h=A=>{b&&(a(!A||A.type?new px(null,t,b):A),b.abort(),b=null)},n.cancelToken&&n.cancelToken.subscribe(h),n.signal&&(n.signal.aborted?h():n.signal.addEventListener("abort",h)));const k=QR(n.url);if(k&&mi.protocols.indexOf(k)===-1){a(new Xs("Unsupported protocol "+k+":",Xs.ERR_BAD_REQUEST,t));return}b.send(i||null)})},iO=(t,s)=>{const{length:r}=t=t?t.filter(Boolean):[];if(s||r){let a=new AbortController,n;const i=function(u){if(!n){n=!0,l();const h=u instanceof Error?u:this.reason;a.abort(h instanceof Xs?h:new px(h instanceof Error?h.message:h))}};let o=s&&setTimeout(()=>{o=null,i(new Xs(`timeout ${s} of ms exceeded`,Xs.ETIMEDOUT))},s);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:d}=a;return d.unsubscribe=()=>Ct.asap(l),d}},oO=function*(t,s){let r=t.byteLength;if(r<s){yield t;return}let a=0,n;for(;a<r;)n=a+s,yield t.slice(a,n),a=n},lO=async function*(t,s){for await(const r of cO(t))yield*oO(r,s)},cO=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:r,value:a}=await s.read();if(r)break;yield a}}finally{await s.cancel()}},p6=(t,s,r,a)=>{const n=lO(t,s);let i=0,o,l=d=>{o||(o=!0,a&&a(d))};return new ReadableStream({async pull(d){try{const{done:u,value:h}=await n.next();if(u){l(),d.close();return}let f=h.byteLength;if(r){let p=i+=f;r(p)}d.enqueue(new Uint8Array(h))}catch(u){throw l(u),u}},cancel(d){return l(d),n.return()}},{highWaterMark:2})},E1=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",QA=E1&&typeof ReadableStream=="function",dO=E1&&(typeof TextEncoder=="function"?(t=>s=>t.encode(s))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),JA=(t,...s)=>{try{return!!t(...s)}catch{return!1}},uO=QA&&JA(()=>{let t=!1;const s=new Request(mi.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!s}),g6=64*1024,Fw=QA&&JA(()=>Ct.isReadableStream(new Response("").body)),Mb={stream:Fw&&(t=>t.body)};E1&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!Mb[s]&&(Mb[s]=Ct.isFunction(t[s])?r=>r[s]():(r,a)=>{throw new Xs(`Response type '${s}' is not supported`,Xs.ERR_NOT_SUPPORT,a)})})})(new Response);const mO=async t=>{if(t==null)return 0;if(Ct.isBlob(t))return t.size;if(Ct.isSpecCompliantForm(t))return(await new Request(mi.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Ct.isArrayBufferView(t)||Ct.isArrayBuffer(t))return t.byteLength;if(Ct.isURLSearchParams(t)&&(t=t+""),Ct.isString(t))return(await dO(t)).byteLength},hO=async(t,s)=>{const r=Ct.toFiniteNumber(t.getContentLength());return r??mO(s)},xO=E1&&(async t=>{let{url:s,method:r,data:a,signal:n,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:d,responseType:u,headers:h,withCredentials:f="same-origin",fetchOptions:p}=XA(t);u=u?(u+"").toLowerCase():"text";let g=iO([n,i&&i.toAbortSignal()],o),v;const y=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let b;try{if(d&&uO&&r!=="get"&&r!=="head"&&(b=await hO(h,a))!==0){let F=new Request(s,{method:"POST",body:a,duplex:"half"}),V;if(Ct.isFormData(a)&&(V=F.headers.get("content-type"))&&h.setContentType(V),F.body){const[S,L]=h6(b,Pb(x6(d)));a=p6(F.body,g6,S,L)}}Ct.isString(f)||(f=f?"include":"omit");const _="credentials"in Request.prototype;v=new Request(s,{...p,signal:g,method:r.toUpperCase(),headers:h.normalize().toJSON(),body:a,duplex:"half",credentials:_?f:void 0});let k=await fetch(v,p);const A=Fw&&(u==="stream"||u==="response");if(Fw&&(l||A&&y)){const F={};["status","statusText","headers"].forEach(I=>{F[I]=k[I]});const V=Ct.toFiniteNumber(k.headers.get("content-length")),[S,L]=l&&h6(V,Pb(x6(l),!0))||[];k=new Response(p6(k.body,g6,S,()=>{L&&L(),y&&y()}),F)}u=u||"text";let R=await Mb[Ct.findKey(Mb,u)||"text"](k,t);return!A&&y&&y(),await new Promise((F,V)=>{YA(F,V,{data:R,headers:io.from(k.headers),status:k.status,statusText:k.statusText,config:t,request:v})})}catch(_){throw y&&y(),_&&_.name==="TypeError"&&/Load failed|fetch/i.test(_.message)?Object.assign(new Xs("Network Error",Xs.ERR_NETWORK,t,v),{cause:_.cause||_}):Xs.from(_,_&&_.code,t,v)}}),Rw={http:ER,xhr:nO,fetch:xO};Ct.forEach(Rw,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const y6=t=>`- ${t}`,fO=t=>Ct.isFunction(t)||t===null||t===!1,ZA={getAdapter:t=>{t=Ct.isArray(t)?t:[t];const{length:s}=t;let r,a;const n={};for(let i=0;i<s;i++){r=t[i];let o;if(a=r,!fO(r)&&(a=Rw[(o=String(r)).toLowerCase()],a===void 0))throw new Xs(`Unknown adapter '${o}'`);if(a)break;n[o||"#"+i]=a}if(!a){const i=Object.entries(n).map(([l,d])=>`adapter ${l} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=s?i.length>1?`since :
`+i.map(y6).join(`
`):" "+y6(i[0]):"as no adapter specified";throw new Xs("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a},adapters:Rw};function Sv(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new px(null,t)}function b6(t){return Sv(t),t.headers=io.from(t.headers),t.data=Nv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ZA.getAdapter(t.adapter||Qp.adapter)(t).then(function(a){return Sv(t),a.data=Nv.call(t,t.transformResponse,a),a.headers=io.from(a.headers),a},function(a){return GA(a)||(Sv(t),a&&a.response&&(a.response.data=Nv.call(t,t.transformResponse,a.response),a.response.headers=io.from(a.response.headers))),Promise.reject(a)})}const eE="1.10.0",T1={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{T1[t]=function(a){return typeof a===t||"a"+(s<1?"n ":" ")+t}});const v6={};T1.transitional=function(s,r,a){function n(i,o){return"[Axios v"+eE+"] Transitional option '"+i+"'"+o+(a?". "+a:"")}return(i,o,l)=>{if(s===!1)throw new Xs(n(o," has been removed"+(r?" in "+r:"")),Xs.ERR_DEPRECATED);return r&&!v6[o]&&(v6[o]=!0,console.warn(n(o," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(i,o,l):!0}};T1.spelling=function(s){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${s}`),!0)};function pO(t,s,r){if(typeof t!="object")throw new Xs("options must be an object",Xs.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let n=a.length;for(;n-- >0;){const i=a[n],o=s[i];if(o){const l=t[i],d=l===void 0||o(l,i,t);if(d!==!0)throw new Xs("option "+i+" must be "+d,Xs.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Xs("Unknown option "+i,Xs.ERR_BAD_OPTION)}}const cb={assertOptions:pO,validators:T1},Fc=cb.validators;let h0=class{constructor(s){this.defaults=s||{},this.interceptors={request:new u6,response:new u6}}async request(s,r){try{return await this._request(s,r)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=N0(this.defaults,r);const{transitional:a,paramsSerializer:n,headers:i}=r;a!==void 0&&cb.assertOptions(a,{silentJSONParsing:Fc.transitional(Fc.boolean),forcedJSONParsing:Fc.transitional(Fc.boolean),clarifyTimeoutError:Fc.transitional(Fc.boolean)},!1),n!=null&&(Ct.isFunction(n)?r.paramsSerializer={serialize:n}:cb.assertOptions(n,{encode:Fc.function,serialize:Fc.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),cb.assertOptions(r,{baseUrl:Fc.spelling("baseURL"),withXsrfToken:Fc.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&Ct.merge(i.common,i[r.method]);i&&Ct.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),r.headers=io.concat(o,i);const l=[];let d=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(d=d&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let h,f=0,p;if(!d){const v=[b6.bind(this),void 0];for(v.unshift.apply(v,l),v.push.apply(v,u),p=v.length,h=Promise.resolve(r);f<p;)h=h.then(v[f++],v[f++]);return h}p=l.length;let g=r;for(f=0;f<p;){const v=l[f++],y=l[f++];try{g=v(g)}catch(b){y.call(this,b);break}}try{h=b6.call(this,g)}catch(v){return Promise.reject(v)}for(f=0,p=u.length;f<p;)h=h.then(u[f++],u[f++]);return h}getUri(s){s=N0(this.defaults,s);const r=KA(s.baseURL,s.url,s.allowAbsoluteUrls);return qA(r,s.params,s.paramsSerializer)}};Ct.forEach(["delete","get","head","options"],function(s){h0.prototype[s]=function(r,a){return this.request(N0(a||{},{method:s,url:r,data:(a||{}).data}))}});Ct.forEach(["post","put","patch"],function(s){function r(a){return function(i,o,l){return this.request(N0(l||{},{method:s,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}h0.prototype[s]=r(),h0.prototype[s+"Form"]=r(!0)});let gO=class tE{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const a=this;this.promise.then(n=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](n);a._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(l=>{a.subscribe(l),i=l}).then(n);return o.cancel=function(){a.unsubscribe(i)},o},s(function(i,o,l){a.reason||(a.reason=new px(i,o,l),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=a=>{s.abort(a)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new tE(function(n){s=n}),cancel:s}}};function yO(t){return function(r){return t.apply(null,r)}}function bO(t){return Ct.isObject(t)&&t.isAxiosError===!0}const Ow={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ow).forEach(([t,s])=>{Ow[s]=t});function sE(t){const s=new h0(t),r=PA(h0.prototype.request,s);return Ct.extend(r,h0.prototype,s,{allOwnKeys:!0}),Ct.extend(r,s,null,{allOwnKeys:!0}),r.create=function(n){return sE(N0(t,n))},r}const Ya=sE(Qp);Ya.Axios=h0;Ya.CanceledError=px;Ya.CancelToken=gO;Ya.isCancel=GA;Ya.VERSION=eE;Ya.toFormData=A1;Ya.AxiosError=Xs;Ya.Cancel=Ya.CanceledError;Ya.all=function(s){return Promise.all(s)};Ya.spread=yO;Ya.isAxiosError=bO;Ya.mergeConfig=N0;Ya.AxiosHeaders=io;Ya.formToJSON=t=>WA(Ct.isHTMLForm(t)?new FormData(t):t);Ya.getAdapter=ZA.getAdapter;Ya.HttpStatusCode=Ow;Ya.default=Ya;const{Axios:j0e,AxiosError:N0e,CanceledError:S0e,isCancel:_0e,CancelToken:C0e,VERSION:k0e,all:A0e,Cancel:E0e,isAxiosError:T0e,spread:D0e,toFormData:P0e,AxiosHeaders:M0e,HttpStatusCode:L0e,formToJSON:F0e,getAdapter:R0e,mergeConfig:O0e}=Ya;let Bf=null;function rE(t){Bf=t,t!==null?localStorage.setItem("token",t):localStorage.removeItem("token")}function vO(){return Bf!==null||(Bf=localStorage.getItem("token")),Bf}const em={apiBaseUrl:"https://hrmapi.cybernetic.lk"},wO=em.apiBaseUrl+"/api",Ze=Ya.create({baseURL:wO,headers:{Accept:"application/json"}});Ze.interceptors.request.use(t=>{const s=vO();return s!==null&&(t.headers.Authorization=`Bearer ${s}`),t});async function jO(t=20){const{data:s}=await Ze.get("/notifications",{params:{limit:t}});return s}async function NO(){const{data:t}=await Ze.get("/notifications/unread-count");return t.unread_count??0}async function SO(t){await Ze.post(`/notifications/${t}/read`)}async function _O(){await Ze.post("/notifications/mark-all-read")}const tm={getNotifications:jO,getUnreadCount:NO,markNotificationRead:SO,markAllNotificationsRead:_O},CO=()=>{const[t,s]=N.useState([]),[r,a]=N.useState(0),[n,i]=N.useState(!1),[o,l]=N.useState(!1),d=N.useRef(null);N.useEffect(()=>{let f;const p=async()=>{try{l(!0);const[g,v]=await Promise.all([tm.getNotifications(8),tm.getUnreadCount()]);s(g),a(v)}catch(g){console.warn("Failed to load notifications",g)}finally{l(!1)}};return p(),f=setInterval(p,6e4),()=>clearInterval(f)},[]),N.useEffect(()=>{function f(p){d.current&&!d.current.contains(p.target)&&i(!1)}return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const u=async f=>{if(!f.is_read)try{s(p=>p.map(g=>g.id===f.id?{...g,is_read:!0,read_at:new Date().toISOString()}:g)),a(p=>Math.max(0,p-1)),await tm.markNotificationRead(f.id)}catch(p){console.error("Failed to mark notification read",p)}i(!1)},h=async()=>{try{await tm.markAllNotificationsRead(),s(f=>f.map(p=>({...p,is_read:!0,read_at:p.read_at||new Date().toISOString()}))),a(0)}catch(f){console.error("Failed to mark all read",f)}};return e.jsxs("div",{className:"relative",ref:d,children:[e.jsxs("button",{onClick:()=>i(!n),className:"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-full transition-colors duration-200",children:[e.jsx(a6,{className:"h-6 w-6"}),r>0&&e.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full",children:r})]}),n&&e.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-xl shadow-xl border border-gray-200 z-50",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),r>0&&e.jsx("button",{onClick:h,className:"text-sm text-blue-600 hover:text-blue-800",children:"Mark all read"})]})}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:o&&t.length===0?e.jsx("div",{className:"p-4 text-center text-gray-500",children:"Loading notifications..."}):t.length>0?e.jsx("div",{className:"divide-y divide-gray-200",children:t.map(f=>e.jsx("div",{onClick:()=>u(f),className:`p-4 hover:bg-gray-50 cursor-pointer transition-colors duration-200 ${f.is_read?"":"bg-blue-50/40"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`text-sm font-medium ${f.is_read?"text-gray-700":"text-gray-900"}`,children:f.title||f.type}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 line-clamp-2",children:f.message}),e.jsx("p",{className:"mt-1 text-xs text-gray-400",children:new Date(f.created_at).toLocaleString()})]}),!f.is_read&&e.jsx("span",{className:"inline-block h-2 w-2 flex-shrink-0 rounded-full bg-blue-600"})]})},f.id))}):e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(a6,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{children:"No notifications"})]})})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Jp(t){return t+.5|0}const sm=(t,s,r)=>Math.max(Math.min(t,r),s);function zf(t){return sm(Jp(t*2.55),0,255)}function cm(t){return sm(Jp(t*255),0,255)}function zd(t){return sm(Jp(t/2.55)/100,0,1)}function w6(t){return sm(Jp(t*100),0,100)}const sl={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Iw=[..."0123456789ABCDEF"],kO=t=>Iw[t&15],AO=t=>Iw[(t&240)>>4]+Iw[t&15],by=t=>(t&240)>>4===(t&15),EO=t=>by(t.r)&&by(t.g)&&by(t.b)&&by(t.a);function TO(t){var s=t.length,r;return t[0]==="#"&&(s===4||s===5?r={r:255&sl[t[1]]*17,g:255&sl[t[2]]*17,b:255&sl[t[3]]*17,a:s===5?sl[t[4]]*17:255}:(s===7||s===9)&&(r={r:sl[t[1]]<<4|sl[t[2]],g:sl[t[3]]<<4|sl[t[4]],b:sl[t[5]]<<4|sl[t[6]],a:s===9?sl[t[7]]<<4|sl[t[8]]:255})),r}const DO=(t,s)=>t<255?s(t):"";function PO(t){var s=EO(t)?kO:AO;return t?"#"+s(t.r)+s(t.g)+s(t.b)+DO(t.a,s):void 0}const MO=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function aE(t,s,r){const a=s*Math.min(r,1-r),n=(i,o=(i+t/30)%12)=>r-a*Math.max(Math.min(o-3,9-o,1),-1);return[n(0),n(8),n(4)]}function LO(t,s,r){const a=(n,i=(n+t/60)%6)=>r-r*s*Math.max(Math.min(i,4-i,1),0);return[a(5),a(3),a(1)]}function FO(t,s,r){const a=aE(t,1,.5);let n;for(s+r>1&&(n=1/(s+r),s*=n,r*=n),n=0;n<3;n++)a[n]*=1-s-r,a[n]+=s;return a}function RO(t,s,r,a,n){return t===n?(s-r)/a+(s<r?6:0):s===n?(r-t)/a+2:(t-s)/a+4}function Zj(t){const r=t.r/255,a=t.g/255,n=t.b/255,i=Math.max(r,a,n),o=Math.min(r,a,n),l=(i+o)/2;let d,u,h;return i!==o&&(h=i-o,u=l>.5?h/(2-i-o):h/(i+o),d=RO(r,a,n,h,i),d=d*60+.5),[d|0,u||0,l]}function eN(t,s,r,a){return(Array.isArray(s)?t(s[0],s[1],s[2]):t(s,r,a)).map(cm)}function tN(t,s,r){return eN(aE,t,s,r)}function OO(t,s,r){return eN(FO,t,s,r)}function IO(t,s,r){return eN(LO,t,s,r)}function nE(t){return(t%360+360)%360}function BO(t){const s=MO.exec(t);let r=255,a;if(!s)return;s[5]!==a&&(r=s[6]?zf(+s[5]):cm(+s[5]));const n=nE(+s[2]),i=+s[3]/100,o=+s[4]/100;return s[1]==="hwb"?a=OO(n,i,o):s[1]==="hsv"?a=IO(n,i,o):a=tN(n,i,o),{r:a[0],g:a[1],b:a[2],a:r}}function zO(t,s){var r=Zj(t);r[0]=nE(r[0]+s),r=tN(r),t.r=r[0],t.g=r[1],t.b=r[2]}function $O(t){if(!t)return;const s=Zj(t),r=s[0],a=w6(s[1]),n=w6(s[2]);return t.a<255?`hsla(${r}, ${a}%, ${n}%, ${zd(t.a)})`:`hsl(${r}, ${a}%, ${n}%)`}const j6={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},N6={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function UO(){const t={},s=Object.keys(N6),r=Object.keys(j6);let a,n,i,o,l;for(a=0;a<s.length;a++){for(o=l=s[a],n=0;n<r.length;n++)i=r[n],l=l.replace(i,j6[i]);i=parseInt(N6[o],16),t[l]=[i>>16&255,i>>8&255,i&255]}return t}let vy;function VO(t){vy||(vy=UO(),vy.transparent=[0,0,0,0]);const s=vy[t.toLowerCase()];return s&&{r:s[0],g:s[1],b:s[2],a:s.length===4?s[3]:255}}const qO=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function HO(t){const s=qO.exec(t);let r=255,a,n,i;if(s){if(s[7]!==a){const o=+s[7];r=s[8]?zf(o):sm(o*255,0,255)}return a=+s[1],n=+s[3],i=+s[5],a=255&(s[2]?zf(a):sm(a,0,255)),n=255&(s[4]?zf(n):sm(n,0,255)),i=255&(s[6]?zf(i):sm(i,0,255)),{r:a,g:n,b:i,a:r}}}function WO(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${zd(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const _v=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,wh=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function GO(t,s,r){const a=wh(zd(t.r)),n=wh(zd(t.g)),i=wh(zd(t.b));return{r:cm(_v(a+r*(wh(zd(s.r))-a))),g:cm(_v(n+r*(wh(zd(s.g))-n))),b:cm(_v(i+r*(wh(zd(s.b))-i))),a:t.a+r*(s.a-t.a)}}function wy(t,s,r){if(t){let a=Zj(t);a[s]=Math.max(0,Math.min(a[s]+a[s]*r,s===0?360:1)),a=tN(a),t.r=a[0],t.g=a[1],t.b=a[2]}}function iE(t,s){return t&&Object.assign(s||{},t)}function S6(t){var s={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(s={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(s.a=cm(t[3]))):(s=iE(t,{r:0,g:0,b:0,a:1}),s.a=cm(s.a)),s}function YO(t){return t.charAt(0)==="r"?HO(t):BO(t)}class wp{constructor(s){if(s instanceof wp)return s;const r=typeof s;let a;r==="object"?a=S6(s):r==="string"&&(a=TO(s)||VO(s)||YO(s)),this._rgb=a,this._valid=!!a}get valid(){return this._valid}get rgb(){var s=iE(this._rgb);return s&&(s.a=zd(s.a)),s}set rgb(s){this._rgb=S6(s)}rgbString(){return this._valid?WO(this._rgb):void 0}hexString(){return this._valid?PO(this._rgb):void 0}hslString(){return this._valid?$O(this._rgb):void 0}mix(s,r){if(s){const a=this.rgb,n=s.rgb;let i;const o=r===i?.5:r,l=2*o-1,d=a.a-n.a,u=((l*d===-1?l:(l+d)/(1+l*d))+1)/2;i=1-u,a.r=255&u*a.r+i*n.r+.5,a.g=255&u*a.g+i*n.g+.5,a.b=255&u*a.b+i*n.b+.5,a.a=o*a.a+(1-o)*n.a,this.rgb=a}return this}interpolate(s,r){return s&&(this._rgb=GO(this._rgb,s._rgb,r)),this}clone(){return new wp(this.rgb)}alpha(s){return this._rgb.a=cm(s),this}clearer(s){const r=this._rgb;return r.a*=1-s,this}greyscale(){const s=this._rgb,r=Jp(s.r*.3+s.g*.59+s.b*.11);return s.r=s.g=s.b=r,this}opaquer(s){const r=this._rgb;return r.a*=1+s,this}negate(){const s=this._rgb;return s.r=255-s.r,s.g=255-s.g,s.b=255-s.b,this}lighten(s){return wy(this._rgb,2,s),this}darken(s){return wy(this._rgb,2,-s),this}saturate(s){return wy(this._rgb,1,s),this}desaturate(s){return wy(this._rgb,1,-s),this}rotate(s){return zO(this._rgb,s),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Rd(){}const KO=(()=>{let t=0;return()=>t++})();function Rr(t){return t==null}function on(t){if(Array.isArray&&Array.isArray(t))return!0;const s=Object.prototype.toString.call(t);return s.slice(0,7)==="[object"&&s.slice(-6)==="Array]"}function fr(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ji(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Rc(t,s){return ji(t)?t:s}function ar(t,s){return typeof t>"u"?s:t}const XO=(t,s)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/s,oE=(t,s)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*s:+t;function oa(t,s,r){if(t&&typeof t.call=="function")return t.apply(r,s)}function Ur(t,s,r,a){let n,i,o;if(on(t))for(i=t.length,n=0;n<i;n++)s.call(r,t[n],n);else if(fr(t))for(o=Object.keys(t),i=o.length,n=0;n<i;n++)s.call(r,t[o[n]],o[n])}function Lb(t,s){let r,a,n,i;if(!t||!s||t.length!==s.length)return!1;for(r=0,a=t.length;r<a;++r)if(n=t[r],i=s[r],n.datasetIndex!==i.datasetIndex||n.index!==i.index)return!1;return!0}function Fb(t){if(on(t))return t.map(Fb);if(fr(t)){const s=Object.create(null),r=Object.keys(t),a=r.length;let n=0;for(;n<a;++n)s[r[n]]=Fb(t[r[n]]);return s}return t}function lE(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function QO(t,s,r,a){if(!lE(t))return;const n=s[t],i=r[t];fr(n)&&fr(i)?jp(n,i,a):s[t]=Fb(i)}function jp(t,s,r){const a=on(s)?s:[s],n=a.length;if(!fr(t))return t;r=r||{};const i=r.merger||QO;let o;for(let l=0;l<n;++l){if(o=a[l],!fr(o))continue;const d=Object.keys(o);for(let u=0,h=d.length;u<h;++u)i(d[u],t,o,r)}return t}function Qf(t,s){return jp(t,s,{merger:JO})}function JO(t,s,r){if(!lE(t))return;const a=s[t],n=r[t];fr(a)&&fr(n)?Qf(a,n):Object.prototype.hasOwnProperty.call(s,t)||(s[t]=Fb(n))}const _6={"":t=>t,x:t=>t.x,y:t=>t.y};function ZO(t){const s=t.split("."),r=[];let a="";for(const n of s)a+=n,a.endsWith("\\")?a=a.slice(0,-1)+".":(r.push(a),a="");return r}function eI(t){const s=ZO(t);return r=>{for(const a of s){if(a==="")break;r=r&&r[a]}return r}}function S0(t,s){return(_6[s]||(_6[s]=eI(s)))(t)}function sN(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Np=t=>typeof t<"u",um=t=>typeof t=="function",C6=(t,s)=>{if(t.size!==s.size)return!1;for(const r of t)if(!s.has(r))return!1;return!0};function tI(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Vr=Math.PI,Sa=2*Vr,sI=Sa+Vr,Rb=Number.POSITIVE_INFINITY,rI=Vr/180,bn=Vr/2,Xm=Vr/4,k6=Vr*2/3,cE=Math.log10,Yc=Math.sign;function Jf(t,s,r){return Math.abs(t-s)<r}function A6(t){const s=Math.round(t);t=Jf(t,s,t/1e3)?s:t;const r=Math.pow(10,Math.floor(cE(t))),a=t/r;return(a<=1?1:a<=2?2:a<=5?5:10)*r}function aI(t){const s=[],r=Math.sqrt(t);let a;for(a=1;a<r;a++)t%a===0&&(s.push(a),s.push(t/a));return r===(r|0)&&s.push(r),s.sort((n,i)=>n-i).pop(),s}function nI(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Sp(t){return!nI(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function iI(t,s){const r=Math.round(t);return r-s<=t&&r+s>=t}function oI(t,s,r){let a,n,i;for(a=0,n=t.length;a<n;a++)i=t[a][r],isNaN(i)||(s.min=Math.min(s.min,i),s.max=Math.max(s.max,i))}function Ud(t){return t*(Vr/180)}function lI(t){return t*(180/Vr)}function E6(t){if(!ji(t))return;let s=1,r=0;for(;Math.round(t*s)/s!==t;)s*=10,r++;return r}function dE(t,s){const r=s.x-t.x,a=s.y-t.y,n=Math.sqrt(r*r+a*a);let i=Math.atan2(a,r);return i<-.5*Vr&&(i+=Sa),{angle:i,distance:n}}function Bw(t,s){return Math.sqrt(Math.pow(s.x-t.x,2)+Math.pow(s.y-t.y,2))}function cI(t,s){return(t-s+sI)%Sa-Vr}function To(t){return(t%Sa+Sa)%Sa}function _p(t,s,r,a){const n=To(t),i=To(s),o=To(r),l=To(i-n),d=To(o-n),u=To(n-i),h=To(n-o);return n===i||n===o||a&&i===o||l>d&&u<h}function pi(t,s,r){return Math.max(s,Math.min(r,t))}function dI(t){return pi(t,-32768,32767)}function Vd(t,s,r,a=1e-6){return t>=Math.min(s,r)-a&&t<=Math.max(s,r)+a}function rN(t,s,r){r=r||(o=>t[o]<s);let a=t.length-1,n=0,i;for(;a-n>1;)i=n+a>>1,r(i)?n=i:a=i;return{lo:n,hi:a}}const c0=(t,s,r,a)=>rN(t,r,a?n=>{const i=t[n][s];return i<r||i===r&&t[n+1][s]===r}:n=>t[n][s]<r),uI=(t,s,r)=>rN(t,r,a=>t[a][s]>=r);function mI(t,s,r){let a=0,n=t.length;for(;a<n&&t[a]<s;)a++;for(;n>a&&t[n-1]>r;)n--;return a>0||n<t.length?t.slice(a,n):t}const uE=["push","pop","shift","splice","unshift"];function hI(t,s){if(t._chartjs){t._chartjs.listeners.push(s);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[s]}}),uE.forEach(r=>{const a="_onData"+sN(r),n=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...i){const o=n.apply(this,i);return t._chartjs.listeners.forEach(l=>{typeof l[a]=="function"&&l[a](...i)}),o}})})}function T6(t,s){const r=t._chartjs;if(!r)return;const a=r.listeners,n=a.indexOf(s);n!==-1&&a.splice(n,1),!(a.length>0)&&(uE.forEach(i=>{delete t[i]}),delete t._chartjs)}function mE(t){const s=new Set(t);return s.size===t.length?t:Array.from(s)}const hE=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function xE(t,s){let r=[],a=!1;return function(...n){r=n,a||(a=!0,hE.call(window,()=>{a=!1,t.apply(s,r)}))}}function xI(t,s){let r;return function(...a){return s?(clearTimeout(r),r=setTimeout(t,s,a)):t.apply(this,a),s}}const aN=t=>t==="start"?"left":t==="end"?"right":"center",di=(t,s,r)=>t==="start"?s:t==="end"?r:(s+r)/2,fI=(t,s,r,a)=>t===(a?"left":"right")?r:t==="center"?(s+r)/2:s;function pI(t,s,r){const a=s.length;let n=0,i=a;if(t._sorted){const{iScale:o,vScale:l,_parsed:d}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,h=o.axis,{min:f,max:p,minDefined:g,maxDefined:v}=o.getUserBounds();if(g){if(n=Math.min(c0(d,h,f).lo,r?a:c0(s,h,o.getPixelForValue(f)).lo),u){const y=d.slice(0,n+1).reverse().findIndex(b=>!Rr(b[l.axis]));n-=Math.max(0,y)}n=pi(n,0,a-1)}if(v){let y=Math.max(c0(d,o.axis,p,!0).hi+1,r?0:c0(s,h,o.getPixelForValue(p),!0).hi+1);if(u){const b=d.slice(y-1).findIndex(_=>!Rr(_[l.axis]));y+=Math.max(0,b)}i=pi(y,n,a)-n}else i=a-n}return{start:n,count:i}}function gI(t){const{xScale:s,yScale:r,_scaleRanges:a}=t,n={xmin:s.min,xmax:s.max,ymin:r.min,ymax:r.max};if(!a)return t._scaleRanges=n,!0;const i=a.xmin!==s.min||a.xmax!==s.max||a.ymin!==r.min||a.ymax!==r.max;return Object.assign(a,n),i}const jy=t=>t===0||t===1,D6=(t,s,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-s)*Sa/r)),P6=(t,s,r)=>Math.pow(2,-10*t)*Math.sin((t-s)*Sa/r)+1,Zf={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*bn)+1,easeOutSine:t=>Math.sin(t*bn),easeInOutSine:t=>-.5*(Math.cos(Vr*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>jy(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>jy(t)?t:D6(t,.075,.3),easeOutElastic:t=>jy(t)?t:P6(t,.075,.3),easeInOutElastic(t){return jy(t)?t:t<.5?.5*D6(t*2,.1125,.45):.5+.5*P6(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let s=1.70158;return(t/=.5)<1?.5*(t*t*(((s*=1.525)+1)*t-s)):.5*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)},easeInBounce:t=>1-Zf.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Zf.easeInBounce(t*2)*.5:Zf.easeOutBounce(t*2-1)*.5+.5};function nN(t){if(t&&typeof t=="object"){const s=t.toString();return s==="[object CanvasPattern]"||s==="[object CanvasGradient]"}return!1}function M6(t){return nN(t)?t:new wp(t)}function Cv(t){return nN(t)?t:new wp(t).saturate(.5).darken(.1).hexString()}const yI=["x","y","borderWidth","radius","tension"],bI=["color","borderColor","backgroundColor"];function vI(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:s=>s!=="onProgress"&&s!=="onComplete"&&s!=="fn"}),t.set("animations",{colors:{type:"color",properties:bI},numbers:{type:"number",properties:yI}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:s=>s|0}}}})}function wI(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const L6=new Map;function jI(t,s){s=s||{};const r=t+JSON.stringify(s);let a=L6.get(r);return a||(a=new Intl.NumberFormat(t,s),L6.set(r,a)),a}function iN(t,s,r){return jI(s,r).format(t)}const NI={values(t){return on(t)?t:""+t},numeric(t,s,r){if(t===0)return"0";const a=this.chart.options.locale;let n,i=t;if(r.length>1){const u=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(u<1e-4||u>1e15)&&(n="scientific"),i=SI(t,r)}const o=cE(Math.abs(i)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),d={notation:n,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(d,this.options.ticks.format),iN(t,a,d)}};function SI(t,s){let r=s.length>3?s[2].value-s[1].value:s[1].value-s[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var fE={formatters:NI};function _I(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(s,r)=>r.lineWidth,tickColor:(s,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:fE.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:s=>!s.startsWith("before")&&!s.startsWith("after")&&s!=="callback"&&s!=="parser",_indexable:s=>s!=="borderDash"&&s!=="tickBorderDash"&&s!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:s=>s!=="backdropPadding"&&s!=="callback",_indexable:s=>s!=="backdropPadding"})}const _0=Object.create(null),zw=Object.create(null);function ep(t,s){if(!s)return t;const r=s.split(".");for(let a=0,n=r.length;a<n;++a){const i=r[a];t=t[i]||(t[i]=Object.create(null))}return t}function kv(t,s,r){return typeof s=="string"?jp(ep(t,s),r):jp(ep(t,""),s)}class CI{constructor(s,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=a=>a.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(a,n)=>Cv(n.backgroundColor),this.hoverBorderColor=(a,n)=>Cv(n.borderColor),this.hoverColor=(a,n)=>Cv(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(s),this.apply(r)}set(s,r){return kv(this,s,r)}get(s){return ep(this,s)}describe(s,r){return kv(zw,s,r)}override(s,r){return kv(_0,s,r)}route(s,r,a,n){const i=ep(this,s),o=ep(this,a),l="_"+r;Object.defineProperties(i,{[l]:{value:i[r],writable:!0},[r]:{enumerable:!0,get(){const d=this[l],u=o[n];return fr(d)?Object.assign({},u,d):ar(d,u)},set(d){this[l]=d}}})}apply(s){s.forEach(r=>r(this))}}var Ga=new CI({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[vI,wI,_I]);function kI(t){return!t||Rr(t.size)||Rr(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function F6(t,s,r,a,n){let i=s[n];return i||(i=s[n]=t.measureText(n).width,r.push(n)),i>a&&(a=i),a}function Qm(t,s,r){const a=t.currentDevicePixelRatio,n=r!==0?Math.max(r/2,.5):0;return Math.round((s-n)*a)/a+n}function R6(t,s){!s&&!t||(s=s||t.getContext("2d"),s.save(),s.resetTransform(),s.clearRect(0,0,t.width,t.height),s.restore())}function $w(t,s,r,a){pE(t,s,r,a,null)}function pE(t,s,r,a,n){let i,o,l,d,u,h,f,p;const g=s.pointStyle,v=s.rotation,y=s.radius;let b=(v||0)*rI;if(g&&typeof g=="object"&&(i=g.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(r,a),t.rotate(b),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),g){default:n?t.ellipse(r,a,n/2,y,0,0,Sa):t.arc(r,a,y,0,Sa),t.closePath();break;case"triangle":h=n?n/2:y,t.moveTo(r+Math.sin(b)*h,a-Math.cos(b)*y),b+=k6,t.lineTo(r+Math.sin(b)*h,a-Math.cos(b)*y),b+=k6,t.lineTo(r+Math.sin(b)*h,a-Math.cos(b)*y),t.closePath();break;case"rectRounded":u=y*.516,d=y-u,o=Math.cos(b+Xm)*d,f=Math.cos(b+Xm)*(n?n/2-u:d),l=Math.sin(b+Xm)*d,p=Math.sin(b+Xm)*(n?n/2-u:d),t.arc(r-f,a-l,u,b-Vr,b-bn),t.arc(r+p,a-o,u,b-bn,b),t.arc(r+f,a+l,u,b,b+bn),t.arc(r-p,a+o,u,b+bn,b+Vr),t.closePath();break;case"rect":if(!v){d=Math.SQRT1_2*y,h=n?n/2:d,t.rect(r-h,a-d,2*h,2*d);break}b+=Xm;case"rectRot":f=Math.cos(b)*(n?n/2:y),o=Math.cos(b)*y,l=Math.sin(b)*y,p=Math.sin(b)*(n?n/2:y),t.moveTo(r-f,a-l),t.lineTo(r+p,a-o),t.lineTo(r+f,a+l),t.lineTo(r-p,a+o),t.closePath();break;case"crossRot":b+=Xm;case"cross":f=Math.cos(b)*(n?n/2:y),o=Math.cos(b)*y,l=Math.sin(b)*y,p=Math.sin(b)*(n?n/2:y),t.moveTo(r-f,a-l),t.lineTo(r+f,a+l),t.moveTo(r+p,a-o),t.lineTo(r-p,a+o);break;case"star":f=Math.cos(b)*(n?n/2:y),o=Math.cos(b)*y,l=Math.sin(b)*y,p=Math.sin(b)*(n?n/2:y),t.moveTo(r-f,a-l),t.lineTo(r+f,a+l),t.moveTo(r+p,a-o),t.lineTo(r-p,a+o),b+=Xm,f=Math.cos(b)*(n?n/2:y),o=Math.cos(b)*y,l=Math.sin(b)*y,p=Math.sin(b)*(n?n/2:y),t.moveTo(r-f,a-l),t.lineTo(r+f,a+l),t.moveTo(r+p,a-o),t.lineTo(r-p,a+o);break;case"line":o=n?n/2:Math.cos(b)*y,l=Math.sin(b)*y,t.moveTo(r-o,a-l),t.lineTo(r+o,a+l);break;case"dash":t.moveTo(r,a),t.lineTo(r+Math.cos(b)*(n?n/2:y),a+Math.sin(b)*y);break;case!1:t.closePath();break}t.fill(),s.borderWidth>0&&t.stroke()}}function Cp(t,s,r){return r=r||.5,!s||t&&t.x>s.left-r&&t.x<s.right+r&&t.y>s.top-r&&t.y<s.bottom+r}function D1(t,s){t.save(),t.beginPath(),t.rect(s.left,s.top,s.right-s.left,s.bottom-s.top),t.clip()}function P1(t){t.restore()}function AI(t,s,r,a,n){if(!s)return t.lineTo(r.x,r.y);if(n==="middle"){const i=(s.x+r.x)/2;t.lineTo(i,s.y),t.lineTo(i,r.y)}else n==="after"!=!!a?t.lineTo(s.x,r.y):t.lineTo(r.x,s.y);t.lineTo(r.x,r.y)}function EI(t,s,r,a){if(!s)return t.lineTo(r.x,r.y);t.bezierCurveTo(a?s.cp1x:s.cp2x,a?s.cp1y:s.cp2y,a?r.cp2x:r.cp1x,a?r.cp2y:r.cp1y,r.x,r.y)}function TI(t,s){s.translation&&t.translate(s.translation[0],s.translation[1]),Rr(s.rotation)||t.rotate(s.rotation),s.color&&(t.fillStyle=s.color),s.textAlign&&(t.textAlign=s.textAlign),s.textBaseline&&(t.textBaseline=s.textBaseline)}function DI(t,s,r,a,n){if(n.strikethrough||n.underline){const i=t.measureText(a),o=s-i.actualBoundingBoxLeft,l=s+i.actualBoundingBoxRight,d=r-i.actualBoundingBoxAscent,u=r+i.actualBoundingBoxDescent,h=n.strikethrough?(d+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=n.decorationWidth||2,t.moveTo(o,h),t.lineTo(l,h),t.stroke()}}function PI(t,s){const r=t.fillStyle;t.fillStyle=s.color,t.fillRect(s.left,s.top,s.width,s.height),t.fillStyle=r}function kp(t,s,r,a,n,i={}){const o=on(s)?s:[s],l=i.strokeWidth>0&&i.strokeColor!=="";let d,u;for(t.save(),t.font=n.string,TI(t,i),d=0;d<o.length;++d)u=o[d],i.backdrop&&PI(t,i.backdrop),l&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),Rr(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(u,r,a,i.maxWidth)),t.fillText(u,r,a,i.maxWidth),DI(t,r,a,u,i),a+=Number(n.lineHeight);t.restore()}function Ob(t,s){const{x:r,y:a,w:n,h:i,radius:o}=s;t.arc(r+o.topLeft,a+o.topLeft,o.topLeft,1.5*Vr,Vr,!0),t.lineTo(r,a+i-o.bottomLeft),t.arc(r+o.bottomLeft,a+i-o.bottomLeft,o.bottomLeft,Vr,bn,!0),t.lineTo(r+n-o.bottomRight,a+i),t.arc(r+n-o.bottomRight,a+i-o.bottomRight,o.bottomRight,bn,0,!0),t.lineTo(r+n,a+o.topRight),t.arc(r+n-o.topRight,a+o.topRight,o.topRight,0,-bn,!0),t.lineTo(r+o.topLeft,a)}const MI=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,LI=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function FI(t,s){const r=(""+t).match(MI);if(!r||r[1]==="normal")return s*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return s*t}const RI=t=>+t||0;function oN(t,s){const r={},a=fr(s),n=a?Object.keys(s):s,i=fr(t)?a?o=>ar(t[o],t[s[o]]):o=>t[o]:()=>t;for(const o of n)r[o]=RI(i(o));return r}function gE(t){return oN(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Vh(t){return oN(t,["topLeft","topRight","bottomLeft","bottomRight"])}function xl(t){const s=gE(t);return s.width=s.left+s.right,s.height=s.top+s.bottom,s}function gi(t,s){t=t||{},s=s||Ga.font;let r=ar(t.size,s.size);typeof r=="string"&&(r=parseInt(r,10));let a=ar(t.style,s.style);a&&!(""+a).match(LI)&&(console.warn('Invalid font style specified: "'+a+'"'),a=void 0);const n={family:ar(t.family,s.family),lineHeight:FI(ar(t.lineHeight,s.lineHeight),r),size:r,style:a,weight:ar(t.weight,s.weight),string:""};return n.string=kI(n),n}function Ny(t,s,r,a){let n,i,o;for(n=0,i=t.length;n<i;++n)if(o=t[n],o!==void 0&&o!==void 0)return o}function OI(t,s,r){const{min:a,max:n}=t,i=oE(s,(n-a)/2),o=(l,d)=>r&&l===0?0:l+d;return{min:o(a,-Math.abs(i)),max:o(n,i)}}function M0(t,s){return Object.assign(Object.create(t),s)}function lN(t,s=[""],r,a,n=()=>t[0]){const i=r||t;typeof a>"u"&&(a=wE("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:a,_getTarget:n,override:l=>lN([l,...t],s,i,a)};return new Proxy(o,{deleteProperty(l,d){return delete l[d],delete l._keys,delete t[0][d],!0},get(l,d){return bE(l,d,()=>HI(d,s,t,l))},getOwnPropertyDescriptor(l,d){return Reflect.getOwnPropertyDescriptor(l._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,d){return I6(l).includes(d)},ownKeys(l){return I6(l)},set(l,d,u){const h=l._storage||(l._storage=n());return l[d]=h[d]=u,delete l._keys,!0}})}function ax(t,s,r,a){const n={_cacheable:!1,_proxy:t,_context:s,_subProxy:r,_stack:new Set,_descriptors:yE(t,a),setContext:i=>ax(t,i,r,a),override:i=>ax(t.override(i),s,r,a)};return new Proxy(n,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,l){return bE(i,o,()=>BI(i,o,l))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,l){return t[o]=l,delete i[o],!0}})}function yE(t,s={scriptable:!0,indexable:!0}){const{_scriptable:r=s.scriptable,_indexable:a=s.indexable,_allKeys:n=s.allKeys}=t;return{allKeys:n,scriptable:r,indexable:a,isScriptable:um(r)?r:()=>r,isIndexable:um(a)?a:()=>a}}const II=(t,s)=>t?t+sN(s):s,cN=(t,s)=>fr(s)&&t!=="adapters"&&(Object.getPrototypeOf(s)===null||s.constructor===Object);function bE(t,s,r){if(Object.prototype.hasOwnProperty.call(t,s)||s==="constructor")return t[s];const a=r();return t[s]=a,a}function BI(t,s,r){const{_proxy:a,_context:n,_subProxy:i,_descriptors:o}=t;let l=a[s];return um(l)&&o.isScriptable(s)&&(l=zI(s,l,t,r)),on(l)&&l.length&&(l=$I(s,l,t,o.isIndexable)),cN(s,l)&&(l=ax(l,n,i&&i[s],o)),l}function zI(t,s,r,a){const{_proxy:n,_context:i,_subProxy:o,_stack:l}=r;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let d=s(i,o||a);return l.delete(t),cN(t,d)&&(d=dN(n._scopes,n,t,d)),d}function $I(t,s,r,a){const{_proxy:n,_context:i,_subProxy:o,_descriptors:l}=r;if(typeof i.index<"u"&&a(t))return s[i.index%s.length];if(fr(s[0])){const d=s,u=n._scopes.filter(h=>h!==d);s=[];for(const h of d){const f=dN(u,n,t,h);s.push(ax(f,i,o&&o[t],l))}}return s}function vE(t,s,r){return um(t)?t(s,r):t}const UI=(t,s)=>t===!0?s:typeof t=="string"?S0(s,t):void 0;function VI(t,s,r,a,n){for(const i of s){const o=UI(r,i);if(o){t.add(o);const l=vE(o._fallback,r,n);if(typeof l<"u"&&l!==r&&l!==a)return l}else if(o===!1&&typeof a<"u"&&r!==a)return null}return!1}function dN(t,s,r,a){const n=s._rootScopes,i=vE(s._fallback,r,a),o=[...t,...n],l=new Set;l.add(a);let d=O6(l,o,r,i||r,a);return d===null||typeof i<"u"&&i!==r&&(d=O6(l,o,i,d,a),d===null)?!1:lN(Array.from(l),[""],n,i,()=>qI(s,r,a))}function O6(t,s,r,a,n){for(;r;)r=VI(t,s,r,a,n);return r}function qI(t,s,r){const a=t._getTarget();s in a||(a[s]={});const n=a[s];return on(n)&&fr(r)?r:n||{}}function HI(t,s,r,a){let n;for(const i of s)if(n=wE(II(i,t),r),typeof n<"u")return cN(t,n)?dN(r,a,t,n):n}function wE(t,s){for(const r of s){if(!r)continue;const a=r[t];if(typeof a<"u")return a}}function I6(t){let s=t._keys;return s||(s=t._keys=WI(t._scopes)),s}function WI(t){const s=new Set;for(const r of t)for(const a of Object.keys(r).filter(n=>!n.startsWith("_")))s.add(a);return Array.from(s)}const GI=Number.EPSILON||1e-14,nx=(t,s)=>s<t.length&&!t[s].skip&&t[s],jE=t=>t==="x"?"y":"x";function YI(t,s,r,a){const n=t.skip?s:t,i=s,o=r.skip?s:r,l=Bw(i,n),d=Bw(o,i);let u=l/(l+d),h=d/(l+d);u=isNaN(u)?0:u,h=isNaN(h)?0:h;const f=a*u,p=a*h;return{previous:{x:i.x-f*(o.x-n.x),y:i.y-f*(o.y-n.y)},next:{x:i.x+p*(o.x-n.x),y:i.y+p*(o.y-n.y)}}}function KI(t,s,r){const a=t.length;let n,i,o,l,d,u=nx(t,0);for(let h=0;h<a-1;++h)if(d=u,u=nx(t,h+1),!(!d||!u)){if(Jf(s[h],0,GI)){r[h]=r[h+1]=0;continue}n=r[h]/s[h],i=r[h+1]/s[h],l=Math.pow(n,2)+Math.pow(i,2),!(l<=9)&&(o=3/Math.sqrt(l),r[h]=n*o*s[h],r[h+1]=i*o*s[h])}}function XI(t,s,r="x"){const a=jE(r),n=t.length;let i,o,l,d=nx(t,0);for(let u=0;u<n;++u){if(o=l,l=d,d=nx(t,u+1),!l)continue;const h=l[r],f=l[a];o&&(i=(h-o[r])/3,l[`cp1${r}`]=h-i,l[`cp1${a}`]=f-i*s[u]),d&&(i=(d[r]-h)/3,l[`cp2${r}`]=h+i,l[`cp2${a}`]=f+i*s[u])}}function QI(t,s="x"){const r=jE(s),a=t.length,n=Array(a).fill(0),i=Array(a);let o,l,d,u=nx(t,0);for(o=0;o<a;++o)if(l=d,d=u,u=nx(t,o+1),!!d){if(u){const h=u[s]-d[s];n[o]=h!==0?(u[r]-d[r])/h:0}i[o]=l?u?Yc(n[o-1])!==Yc(n[o])?0:(n[o-1]+n[o])/2:n[o-1]:n[o]}KI(t,n,i),XI(t,i,s)}function Sy(t,s,r){return Math.max(Math.min(t,r),s)}function JI(t,s){let r,a,n,i,o,l=Cp(t[0],s);for(r=0,a=t.length;r<a;++r)o=i,i=l,l=r<a-1&&Cp(t[r+1],s),i&&(n=t[r],o&&(n.cp1x=Sy(n.cp1x,s.left,s.right),n.cp1y=Sy(n.cp1y,s.top,s.bottom)),l&&(n.cp2x=Sy(n.cp2x,s.left,s.right),n.cp2y=Sy(n.cp2y,s.top,s.bottom)))}function ZI(t,s,r,a,n){let i,o,l,d;if(s.spanGaps&&(t=t.filter(u=>!u.skip)),s.cubicInterpolationMode==="monotone")QI(t,n);else{let u=a?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)l=t[i],d=YI(u,l,t[Math.min(i+1,o-(a?0:1))%o],s.tension),l.cp1x=d.previous.x,l.cp1y=d.previous.y,l.cp2x=d.next.x,l.cp2y=d.next.y,u=l}s.capBezierPoints&&JI(t,r)}function uN(){return typeof window<"u"&&typeof document<"u"}function mN(t){let s=t.parentNode;return s&&s.toString()==="[object ShadowRoot]"&&(s=s.host),s}function Ib(t,s,r){let a;return typeof t=="string"?(a=parseInt(t,10),t.indexOf("%")!==-1&&(a=a/100*s.parentNode[r])):a=t,a}const M1=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function eB(t,s){return M1(t).getPropertyValue(s)}const tB=["top","right","bottom","left"];function x0(t,s,r){const a={};r=r?"-"+r:"";for(let n=0;n<4;n++){const i=tB[n];a[i]=parseFloat(t[s+"-"+i+r])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}const sB=(t,s,r)=>(t>0||s>0)&&(!r||!r.shadowRoot);function rB(t,s){const r=t.touches,a=r&&r.length?r[0]:t,{offsetX:n,offsetY:i}=a;let o=!1,l,d;if(sB(n,i,t.target))l=n,d=i;else{const u=s.getBoundingClientRect();l=a.clientX-u.left,d=a.clientY-u.top,o=!0}return{x:l,y:d,box:o}}function t0(t,s){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:a}=s,n=M1(r),i=n.boxSizing==="border-box",o=x0(n,"padding"),l=x0(n,"border","width"),{x:d,y:u,box:h}=rB(t,r),f=o.left+(h&&l.left),p=o.top+(h&&l.top);let{width:g,height:v}=s;return i&&(g-=o.width+l.width,v-=o.height+l.height),{x:Math.round((d-f)/g*r.width/a),y:Math.round((u-p)/v*r.height/a)}}function aB(t,s,r){let a,n;if(s===void 0||r===void 0){const i=t&&mN(t);if(!i)s=t.clientWidth,r=t.clientHeight;else{const o=i.getBoundingClientRect(),l=M1(i),d=x0(l,"border","width"),u=x0(l,"padding");s=o.width-u.width-d.width,r=o.height-u.height-d.height,a=Ib(l.maxWidth,i,"clientWidth"),n=Ib(l.maxHeight,i,"clientHeight")}}return{width:s,height:r,maxWidth:a||Rb,maxHeight:n||Rb}}const _y=t=>Math.round(t*10)/10;function nB(t,s,r,a){const n=M1(t),i=x0(n,"margin"),o=Ib(n.maxWidth,t,"clientWidth")||Rb,l=Ib(n.maxHeight,t,"clientHeight")||Rb,d=aB(t,s,r);let{width:u,height:h}=d;if(n.boxSizing==="content-box"){const p=x0(n,"border","width"),g=x0(n,"padding");u-=g.width+p.width,h-=g.height+p.height}return u=Math.max(0,u-i.width),h=Math.max(0,a?u/a:h-i.height),u=_y(Math.min(u,o,d.maxWidth)),h=_y(Math.min(h,l,d.maxHeight)),u&&!h&&(h=_y(u/2)),(s!==void 0||r!==void 0)&&a&&d.height&&h>d.height&&(h=d.height,u=_y(Math.floor(h*a))),{width:u,height:h}}function B6(t,s,r){const a=s||1,n=Math.floor(t.height*a),i=Math.floor(t.width*a);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(r||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==a||o.height!==n||o.width!==i?(t.currentDevicePixelRatio=a,o.height=n,o.width=i,t.ctx.setTransform(a,0,0,a,0,0),!0):!1}const iB=function(){let t=!1;try{const s={get passive(){return t=!0,!1}};uN()&&(window.addEventListener("test",null,s),window.removeEventListener("test",null,s))}catch{}return t}();function z6(t,s){const r=eB(t,s),a=r&&r.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}function s0(t,s,r,a){return{x:t.x+r*(s.x-t.x),y:t.y+r*(s.y-t.y)}}function oB(t,s,r,a){return{x:t.x+r*(s.x-t.x),y:a==="middle"?r<.5?t.y:s.y:a==="after"?r<1?t.y:s.y:r>0?s.y:t.y}}function lB(t,s,r,a){const n={x:t.cp2x,y:t.cp2y},i={x:s.cp1x,y:s.cp1y},o=s0(t,n,r),l=s0(n,i,r),d=s0(i,s,r),u=s0(o,l,r),h=s0(l,d,r);return s0(u,h,r)}const cB=function(t,s){return{x(r){return t+t+s-r},setWidth(r){s=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,a){return r-a},leftForLtr(r,a){return r-a}}},dB=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,s){return t+s},leftForLtr(t,s){return t}}};function qh(t,s,r){return t?cB(s,r):dB()}function NE(t,s){let r,a;(s==="ltr"||s==="rtl")&&(r=t.canvas.style,a=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",s,"important"),t.prevTextDirection=a)}function SE(t,s){s!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",s[0],s[1]))}function _E(t){return t==="angle"?{between:_p,compare:cI,normalize:To}:{between:Vd,compare:(s,r)=>s-r,normalize:s=>s}}function $6({start:t,end:s,count:r,loop:a,style:n}){return{start:t%r,end:s%r,loop:a&&(s-t+1)%r===0,style:n}}function uB(t,s,r){const{property:a,start:n,end:i}=r,{between:o,normalize:l}=_E(a),d=s.length;let{start:u,end:h,loop:f}=t,p,g;if(f){for(u+=d,h+=d,p=0,g=d;p<g&&o(l(s[u%d][a]),n,i);++p)u--,h--;u%=d,h%=d}return h<u&&(h+=d),{start:u,end:h,loop:f,style:t.style}}function CE(t,s,r){if(!r)return[t];const{property:a,start:n,end:i}=r,o=s.length,{compare:l,between:d,normalize:u}=_E(a),{start:h,end:f,loop:p,style:g}=uB(t,s,r),v=[];let y=!1,b=null,_,k,A;const R=()=>d(n,A,_)&&l(n,A)!==0,F=()=>l(i,_)===0||d(i,A,_),V=()=>y||R(),S=()=>!y||F();for(let L=h,I=h;L<=f;++L)k=s[L%o],!k.skip&&(_=u(k[a]),_!==A&&(y=d(_,n,i),b===null&&V()&&(b=l(_,n)===0?L:I),b!==null&&S()&&(v.push($6({start:b,end:L,loop:p,count:o,style:g})),b=null),I=L,A=_));return b!==null&&v.push($6({start:b,end:f,loop:p,count:o,style:g})),v}function kE(t,s){const r=[],a=t.segments;for(let n=0;n<a.length;n++){const i=CE(a[n],t.points,s);i.length&&r.push(...i)}return r}function mB(t,s,r,a){let n=0,i=s-1;if(r&&!a)for(;n<s&&!t[n].skip;)n++;for(;n<s&&t[n].skip;)n++;for(n%=s,r&&(i+=n);i>n&&t[i%s].skip;)i--;return i%=s,{start:n,end:i}}function hB(t,s,r,a){const n=t.length,i=[];let o=s,l=t[s],d;for(d=s+1;d<=r;++d){const u=t[d%n];u.skip||u.stop?l.skip||(a=!1,i.push({start:s%n,end:(d-1)%n,loop:a}),s=o=u.stop?d:null):(o=d,l.skip&&(s=d)),l=u}return o!==null&&i.push({start:s%n,end:o%n,loop:a}),i}function xB(t,s){const r=t.points,a=t.options.spanGaps,n=r.length;if(!n)return[];const i=!!t._loop,{start:o,end:l}=mB(r,n,i,a);if(a===!0)return U6(t,[{start:o,end:l,loop:i}],r,s);const d=l<o?l+n:l,u=!!t._fullLoop&&o===0&&l===n-1;return U6(t,hB(r,o,d,u),r,s)}function U6(t,s,r,a){return!a||!a.setContext||!r?s:fB(t,s,r,a)}function fB(t,s,r,a){const n=t._chart.getContext(),i=V6(t.options),{_datasetIndex:o,options:{spanGaps:l}}=t,d=r.length,u=[];let h=i,f=s[0].start,p=f;function g(v,y,b,_){const k=l?-1:1;if(v!==y){for(v+=d;r[v%d].skip;)v-=k;for(;r[y%d].skip;)y+=k;v%d!==y%d&&(u.push({start:v%d,end:y%d,loop:b,style:_}),h=_,f=y%d)}}for(const v of s){f=l?f:v.start;let y=r[f%d],b;for(p=f+1;p<=v.end;p++){const _=r[p%d];b=V6(a.setContext(M0(n,{type:"segment",p0:y,p1:_,p0DataIndex:(p-1)%d,p1DataIndex:p%d,datasetIndex:o}))),pB(b,h)&&g(f,p-1,v.loop,h),y=_,h=b}f<p-1&&g(f,p-1,v.loop,h)}return u}function V6(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function pB(t,s){if(!s)return!1;const r=[],a=function(n,i){return nN(i)?(r.includes(i)||r.push(i),r.indexOf(i)):i};return JSON.stringify(t,a)!==JSON.stringify(s,a)}function Cy(t,s,r){return t.options.clip?t[r]:s[r]}function gB(t,s){const{xScale:r,yScale:a}=t;return r&&a?{left:Cy(r,s,"left"),right:Cy(r,s,"right"),top:Cy(a,s,"top"),bottom:Cy(a,s,"bottom")}:s}function AE(t,s){const r=s._clip;if(r.disabled)return!1;const a=gB(s,t.chartArea);return{left:r.left===!1?0:a.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:a.right+(r.right===!0?0:r.right),top:r.top===!1?0:a.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:a.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class yB{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(s,r,a,n){const i=r.listeners[n],o=r.duration;i.forEach(l=>l({chart:s,initial:r.initial,numSteps:o,currentStep:Math.min(a-r.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=hE.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(s=Date.now()){let r=0;this._charts.forEach((a,n)=>{if(!a.running||!a.items.length)return;const i=a.items;let o=i.length-1,l=!1,d;for(;o>=0;--o)d=i[o],d._active?(d._total>a.duration&&(a.duration=d._total),d.tick(s),l=!0):(i[o]=i[i.length-1],i.pop());l&&(n.draw(),this._notify(n,a,s,"progress")),i.length||(a.running=!1,this._notify(n,a,s,"complete"),a.initial=!1),r+=i.length}),this._lastDate=s,r===0&&(this._running=!1)}_getAnims(s){const r=this._charts;let a=r.get(s);return a||(a={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(s,a)),a}listen(s,r,a){this._getAnims(s).listeners[r].push(a)}add(s,r){!r||!r.length||this._getAnims(s).items.push(...r)}has(s){return this._getAnims(s).items.length>0}start(s){const r=this._charts.get(s);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((a,n)=>Math.max(a,n._duration),0),this._refresh())}running(s){if(!this._running)return!1;const r=this._charts.get(s);return!(!r||!r.running||!r.items.length)}stop(s){const r=this._charts.get(s);if(!r||!r.items.length)return;const a=r.items;let n=a.length-1;for(;n>=0;--n)a[n].cancel();r.items=[],this._notify(s,r,Date.now(),"complete")}remove(s){return this._charts.delete(s)}}var Id=new yB;const q6="transparent",bB={boolean(t,s,r){return r>.5?s:t},color(t,s,r){const a=M6(t||q6),n=a.valid&&M6(s||q6);return n&&n.valid?n.mix(a,r).hexString():s},number(t,s,r){return t+(s-t)*r}};class vB{constructor(s,r,a,n){const i=r[a];n=Ny([s.to,n,i,s.from]);const o=Ny([s.from,i,n]);this._active=!0,this._fn=s.fn||bB[s.type||typeof o],this._easing=Zf[s.easing]||Zf.linear,this._start=Math.floor(Date.now()+(s.delay||0)),this._duration=this._total=Math.floor(s.duration),this._loop=!!s.loop,this._target=r,this._prop=a,this._from=o,this._to=n,this._promises=void 0}active(){return this._active}update(s,r,a){if(this._active){this._notify(!1);const n=this._target[this._prop],i=a-this._start,o=this._duration-i;this._start=a,this._duration=Math.floor(Math.max(o,s.duration)),this._total+=i,this._loop=!!s.loop,this._to=Ny([s.to,r,n,s.from]),this._from=Ny([s.from,n,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(s){const r=s-this._start,a=this._duration,n=this._prop,i=this._from,o=this._loop,l=this._to;let d;if(this._active=i!==l&&(o||r<a),!this._active){this._target[n]=l,this._notify(!0);return}if(r<0){this._target[n]=i;return}d=r/a%2,d=o&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[n]=this._fn(i,l,d)}wait(){const s=this._promises||(this._promises=[]);return new Promise((r,a)=>{s.push({res:r,rej:a})})}_notify(s){const r=s?"res":"rej",a=this._promises||[];for(let n=0;n<a.length;n++)a[n][r]()}}class EE{constructor(s,r){this._chart=s,this._properties=new Map,this.configure(r)}configure(s){if(!fr(s))return;const r=Object.keys(Ga.animation),a=this._properties;Object.getOwnPropertyNames(s).forEach(n=>{const i=s[n];if(!fr(i))return;const o={};for(const l of r)o[l]=i[l];(on(i.properties)&&i.properties||[n]).forEach(l=>{(l===n||!a.has(l))&&a.set(l,o)})})}_animateOptions(s,r){const a=r.options,n=jB(s,a);if(!n)return[];const i=this._createAnimations(n,a);return a.$shared&&wB(s.options.$animations,a).then(()=>{s.options=a},()=>{}),i}_createAnimations(s,r){const a=this._properties,n=[],i=s.$animations||(s.$animations={}),o=Object.keys(r),l=Date.now();let d;for(d=o.length-1;d>=0;--d){const u=o[d];if(u.charAt(0)==="$")continue;if(u==="options"){n.push(...this._animateOptions(s,r));continue}const h=r[u];let f=i[u];const p=a.get(u);if(f)if(p&&f.active()){f.update(p,h,l);continue}else f.cancel();if(!p||!p.duration){s[u]=h;continue}i[u]=f=new vB(p,s,u,h),n.push(f)}return n}update(s,r){if(this._properties.size===0){Object.assign(s,r);return}const a=this._createAnimations(s,r);if(a.length)return Id.add(this._chart,a),!0}}function wB(t,s){const r=[],a=Object.keys(s);for(let n=0;n<a.length;n++){const i=t[a[n]];i&&i.active()&&r.push(i.wait())}return Promise.all(r)}function jB(t,s){if(!s)return;let r=t.options;if(!r){t.options=s;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function H6(t,s){const r=t&&t.options||{},a=r.reverse,n=r.min===void 0?s:0,i=r.max===void 0?s:0;return{start:a?i:n,end:a?n:i}}function NB(t,s,r){if(r===!1)return!1;const a=H6(t,r),n=H6(s,r);return{top:n.end,right:a.end,bottom:n.start,left:a.start}}function SB(t){let s,r,a,n;return fr(t)?(s=t.top,r=t.right,a=t.bottom,n=t.left):s=r=a=n=t,{top:s,right:r,bottom:a,left:n,disabled:t===!1}}function TE(t,s){const r=[],a=t._getSortedDatasetMetas(s);let n,i;for(n=0,i=a.length;n<i;++n)r.push(a[n].index);return r}function W6(t,s,r,a={}){const n=t.keys,i=a.mode==="single";let o,l,d,u;if(s===null)return;let h=!1;for(o=0,l=n.length;o<l;++o){if(d=+n[o],d===r){if(h=!0,a.all)continue;break}u=t.values[d],ji(u)&&(i||s===0||Yc(s)===Yc(u))&&(s+=u)}return!h&&!a.all?0:s}function _B(t,s){const{iScale:r,vScale:a}=s,n=r.axis==="x"?"x":"y",i=a.axis==="x"?"x":"y",o=Object.keys(t),l=new Array(o.length);let d,u,h;for(d=0,u=o.length;d<u;++d)h=o[d],l[d]={[n]:h,[i]:t[h]};return l}function Av(t,s){const r=t&&t.options.stacked;return r||r===void 0&&s.stack!==void 0}function CB(t,s,r){return`${t.id}.${s.id}.${r.stack||r.type}`}function kB(t){const{min:s,max:r,minDefined:a,maxDefined:n}=t.getUserBounds();return{min:a?s:Number.NEGATIVE_INFINITY,max:n?r:Number.POSITIVE_INFINITY}}function AB(t,s,r){const a=t[s]||(t[s]={});return a[r]||(a[r]={})}function G6(t,s,r,a){for(const n of s.getMatchingVisibleMetas(a).reverse()){const i=t[n.index];if(r&&i>0||!r&&i<0)return n.index}return null}function Y6(t,s){const{chart:r,_cachedMeta:a}=t,n=r._stacks||(r._stacks={}),{iScale:i,vScale:o,index:l}=a,d=i.axis,u=o.axis,h=CB(i,o,a),f=s.length;let p;for(let g=0;g<f;++g){const v=s[g],{[d]:y,[u]:b}=v,_=v._stacks||(v._stacks={});p=_[u]=AB(n,h,y),p[l]=b,p._top=G6(p,o,!0,a.type),p._bottom=G6(p,o,!1,a.type);const k=p._visualValues||(p._visualValues={});k[l]=b}}function Ev(t,s){const r=t.scales;return Object.keys(r).filter(a=>r[a].axis===s).shift()}function EB(t,s){return M0(t,{active:!1,dataset:void 0,datasetIndex:s,index:s,mode:"default",type:"dataset"})}function TB(t,s,r){return M0(t,{active:!1,dataIndex:s,parsed:void 0,raw:void 0,element:r,index:s,mode:"default",type:"data"})}function Nf(t,s){const r=t.controller.index,a=t.vScale&&t.vScale.axis;if(a){s=s||t._parsed;for(const n of s){const i=n._stacks;if(!i||i[a]===void 0||i[a][r]===void 0)return;delete i[a][r],i[a]._visualValues!==void 0&&i[a]._visualValues[r]!==void 0&&delete i[a]._visualValues[r]}}}const Tv=t=>t==="reset"||t==="none",K6=(t,s)=>s?t:Object.assign({},t),DB=(t,s,r)=>t&&!s.hidden&&s._stacked&&{keys:TE(r,!0),values:null};class f0{constructor(s,r){this.chart=s,this._ctx=s.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const s=this._cachedMeta;this.configure(),this.linkScales(),s._stacked=Av(s.vScale,s),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(s){this.index!==s&&Nf(this._cachedMeta),this.index=s}linkScales(){const s=this.chart,r=this._cachedMeta,a=this.getDataset(),n=(f,p,g,v)=>f==="x"?p:f==="r"?v:g,i=r.xAxisID=ar(a.xAxisID,Ev(s,"x")),o=r.yAxisID=ar(a.yAxisID,Ev(s,"y")),l=r.rAxisID=ar(a.rAxisID,Ev(s,"r")),d=r.indexAxis,u=r.iAxisID=n(d,i,o,l),h=r.vAxisID=n(d,o,i,l);r.xScale=this.getScaleForId(i),r.yScale=this.getScaleForId(o),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(s){return this.chart.scales[s]}_getOtherScale(s){const r=this._cachedMeta;return s===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const s=this._cachedMeta;this._data&&T6(this._data,this),s._stacked&&Nf(s)}_dataCheck(){const s=this.getDataset(),r=s.data||(s.data=[]),a=this._data;if(fr(r)){const n=this._cachedMeta;this._data=_B(r,n)}else if(a!==r){if(a){T6(a,this);const n=this._cachedMeta;Nf(n),n._parsed=[]}r&&Object.isExtensible(r)&&hI(r,this),this._syncList=[],this._data=r}}addElements(){const s=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(s.dataset=new this.datasetElementType)}buildOrUpdateElements(s){const r=this._cachedMeta,a=this.getDataset();let n=!1;this._dataCheck();const i=r._stacked;r._stacked=Av(r.vScale,r),r.stack!==a.stack&&(n=!0,Nf(r),r.stack=a.stack),this._resyncElements(s),(n||i!==r._stacked)&&(Y6(this,r._parsed),r._stacked=Av(r.vScale,r))}configure(){const s=this.chart.config,r=s.datasetScopeKeys(this._type),a=s.getOptionScopes(this.getDataset(),r,!0);this.options=s.createResolver(a,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(s,r){const{_cachedMeta:a,_data:n}=this,{iScale:i,_stacked:o}=a,l=i.axis;let d=s===0&&r===n.length?!0:a._sorted,u=s>0&&a._parsed[s-1],h,f,p;if(this._parsing===!1)a._parsed=n,a._sorted=!0,p=n;else{on(n[s])?p=this.parseArrayData(a,n,s,r):fr(n[s])?p=this.parseObjectData(a,n,s,r):p=this.parsePrimitiveData(a,n,s,r);const g=()=>f[l]===null||u&&f[l]<u[l];for(h=0;h<r;++h)a._parsed[h+s]=f=p[h],d&&(g()&&(d=!1),u=f);a._sorted=d}o&&Y6(this,p)}parsePrimitiveData(s,r,a,n){const{iScale:i,vScale:o}=s,l=i.axis,d=o.axis,u=i.getLabels(),h=i===o,f=new Array(n);let p,g,v;for(p=0,g=n;p<g;++p)v=p+a,f[p]={[l]:h||i.parse(u[v],v),[d]:o.parse(r[v],v)};return f}parseArrayData(s,r,a,n){const{xScale:i,yScale:o}=s,l=new Array(n);let d,u,h,f;for(d=0,u=n;d<u;++d)h=d+a,f=r[h],l[d]={x:i.parse(f[0],h),y:o.parse(f[1],h)};return l}parseObjectData(s,r,a,n){const{xScale:i,yScale:o}=s,{xAxisKey:l="x",yAxisKey:d="y"}=this._parsing,u=new Array(n);let h,f,p,g;for(h=0,f=n;h<f;++h)p=h+a,g=r[p],u[h]={x:i.parse(S0(g,l),p),y:o.parse(S0(g,d),p)};return u}getParsed(s){return this._cachedMeta._parsed[s]}getDataElement(s){return this._cachedMeta.data[s]}applyStack(s,r,a){const n=this.chart,i=this._cachedMeta,o=r[s.axis],l={keys:TE(n,!0),values:r._stacks[s.axis]._visualValues};return W6(l,o,i.index,{mode:a})}updateRangeFromParsed(s,r,a,n){const i=a[r.axis];let o=i===null?NaN:i;const l=n&&a._stacks[r.axis];n&&l&&(n.values=l,o=W6(n,i,this._cachedMeta.index)),s.min=Math.min(s.min,o),s.max=Math.max(s.max,o)}getMinMax(s,r){const a=this._cachedMeta,n=a._parsed,i=a._sorted&&s===a.iScale,o=n.length,l=this._getOtherScale(s),d=DB(r,a,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:f}=kB(l);let p,g;function v(){g=n[p];const y=g[l.axis];return!ji(g[s.axis])||h>y||f<y}for(p=0;p<o&&!(!v()&&(this.updateRangeFromParsed(u,s,g,d),i));++p);if(i){for(p=o-1;p>=0;--p)if(!v()){this.updateRangeFromParsed(u,s,g,d);break}}return u}getAllParsedValues(s){const r=this._cachedMeta._parsed,a=[];let n,i,o;for(n=0,i=r.length;n<i;++n)o=r[n][s.axis],ji(o)&&a.push(o);return a}getMaxOverflow(){return!1}getLabelAndValue(s){const r=this._cachedMeta,a=r.iScale,n=r.vScale,i=this.getParsed(s);return{label:a?""+a.getLabelForValue(i[a.axis]):"",value:n?""+n.getLabelForValue(i[n.axis]):""}}_update(s){const r=this._cachedMeta;this.update(s||"default"),r._clip=SB(ar(this.options.clip,NB(r.xScale,r.yScale,this.getMaxOverflow())))}update(s){}draw(){const s=this._ctx,r=this.chart,a=this._cachedMeta,n=a.data||[],i=r.chartArea,o=[],l=this._drawStart||0,d=this._drawCount||n.length-l,u=this.options.drawActiveElementsOnTop;let h;for(a.dataset&&a.dataset.draw(s,i,l,d),h=l;h<l+d;++h){const f=n[h];f.hidden||(f.active&&u?o.push(f):f.draw(s,i))}for(h=0;h<o.length;++h)o[h].draw(s,i)}getStyle(s,r){const a=r?"active":"default";return s===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(a):this.resolveDataElementOptions(s||0,a)}getContext(s,r,a){const n=this.getDataset();let i;if(s>=0&&s<this._cachedMeta.data.length){const o=this._cachedMeta.data[s];i=o.$context||(o.$context=TB(this.getContext(),s,o)),i.parsed=this.getParsed(s),i.raw=n.data[s],i.index=i.dataIndex=s}else i=this.$context||(this.$context=EB(this.chart.getContext(),this.index)),i.dataset=n,i.index=i.datasetIndex=this.index;return i.active=!!r,i.mode=a,i}resolveDatasetElementOptions(s){return this._resolveElementOptions(this.datasetElementType.id,s)}resolveDataElementOptions(s,r){return this._resolveElementOptions(this.dataElementType.id,r,s)}_resolveElementOptions(s,r="default",a){const n=r==="active",i=this._cachedDataOpts,o=s+"-"+r,l=i[o],d=this.enableOptionSharing&&Np(a);if(l)return K6(l,d);const u=this.chart.config,h=u.datasetElementScopeKeys(this._type,s),f=n?[`${s}Hover`,"hover",s,""]:[s,""],p=u.getOptionScopes(this.getDataset(),h),g=Object.keys(Ga.elements[s]),v=()=>this.getContext(a,n,r),y=u.resolveNamedOptions(p,g,v,f);return y.$shared&&(y.$shared=d,i[o]=Object.freeze(K6(y,d))),y}_resolveAnimations(s,r,a){const n=this.chart,i=this._cachedDataOpts,o=`animation-${r}`,l=i[o];if(l)return l;let d;if(n.options.animation!==!1){const h=this.chart.config,f=h.datasetAnimationScopeKeys(this._type,r),p=h.getOptionScopes(this.getDataset(),f);d=h.createResolver(p,this.getContext(s,a,r))}const u=new EE(n,d&&d.animations);return d&&d._cacheable&&(i[o]=Object.freeze(u)),u}getSharedOptions(s){if(s.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},s))}includeOptions(s,r){return!r||Tv(s)||this.chart._animationsDisabled}_getSharedOptions(s,r){const a=this.resolveDataElementOptions(s,r),n=this._sharedOptions,i=this.getSharedOptions(a),o=this.includeOptions(r,i)||i!==n;return this.updateSharedOptions(i,r,a),{sharedOptions:i,includeOptions:o}}updateElement(s,r,a,n){Tv(n)?Object.assign(s,a):this._resolveAnimations(r,n).update(s,a)}updateSharedOptions(s,r,a){s&&!Tv(r)&&this._resolveAnimations(void 0,r).update(s,a)}_setStyle(s,r,a,n){s.active=n;const i=this.getStyle(r,n);this._resolveAnimations(r,a,n).update(s,{options:!n&&this.getSharedOptions(i)||i})}removeHoverStyle(s,r,a){this._setStyle(s,a,"active",!1)}setHoverStyle(s,r,a){this._setStyle(s,a,"active",!0)}_removeDatasetHoverStyle(){const s=this._cachedMeta.dataset;s&&this._setStyle(s,void 0,"active",!1)}_setDatasetHoverStyle(){const s=this._cachedMeta.dataset;s&&this._setStyle(s,void 0,"active",!0)}_resyncElements(s){const r=this._data,a=this._cachedMeta.data;for(const[l,d,u]of this._syncList)this[l](d,u);this._syncList=[];const n=a.length,i=r.length,o=Math.min(i,n);o&&this.parse(0,o),i>n?this._insertElements(n,i-n,s):i<n&&this._removeElements(i,n-i)}_insertElements(s,r,a=!0){const n=this._cachedMeta,i=n.data,o=s+r;let l;const d=u=>{for(u.length+=r,l=u.length-1;l>=o;l--)u[l]=u[l-r]};for(d(i),l=s;l<o;++l)i[l]=new this.dataElementType;this._parsing&&d(n._parsed),this.parse(s,r),a&&this.updateElements(i,s,r,"reset")}updateElements(s,r,a,n){}_removeElements(s,r){const a=this._cachedMeta;if(this._parsing){const n=a._parsed.splice(s,r);a._stacked&&Nf(a,n)}a.data.splice(s,r)}_sync(s){if(this._parsing)this._syncList.push(s);else{const[r,a,n]=s;this[r](a,n)}this.chart._dataChanges.push([this.index,...s])}_onDataPush(){const s=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-s,s])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(s,r){r&&this._sync(["_removeElements",s,r]);const a=arguments.length-2;a&&this._sync(["_insertElements",s,a])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ds(f0,"defaults",{}),ds(f0,"datasetElementType",null),ds(f0,"dataElementType",null);function PB(t,s){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(s);let a=[];for(let n=0,i=r.length;n<i;n++)a=a.concat(r[n].controller.getAllParsedValues(t));t._cache.$bar=mE(a.sort((n,i)=>n-i))}return t._cache.$bar}function MB(t){const s=t.iScale,r=PB(s,t.type);let a=s._length,n,i,o,l;const d=()=>{o===32767||o===-32768||(Np(l)&&(a=Math.min(a,Math.abs(o-l)||a)),l=o)};for(n=0,i=r.length;n<i;++n)o=s.getPixelForValue(r[n]),d();for(l=void 0,n=0,i=s.ticks.length;n<i;++n)o=s.getPixelForTick(n),d();return a}function LB(t,s,r,a){const n=r.barThickness;let i,o;return Rr(n)?(i=s.min*r.categoryPercentage,o=r.barPercentage):(i=n*a,o=1),{chunk:i/a,ratio:o,start:s.pixels[t]-i/2}}function FB(t,s,r,a){const n=s.pixels,i=n[t];let o=t>0?n[t-1]:null,l=t<n.length-1?n[t+1]:null;const d=r.categoryPercentage;o===null&&(o=i-(l===null?s.end-s.start:l-i)),l===null&&(l=i+i-o);const u=i-(i-Math.min(o,l))/2*d;return{chunk:Math.abs(l-o)/2*d/a,ratio:r.barPercentage,start:u}}function RB(t,s,r,a){const n=r.parse(t[0],a),i=r.parse(t[1],a),o=Math.min(n,i),l=Math.max(n,i);let d=o,u=l;Math.abs(o)>Math.abs(l)&&(d=l,u=o),s[r.axis]=u,s._custom={barStart:d,barEnd:u,start:n,end:i,min:o,max:l}}function DE(t,s,r,a){return on(t)?RB(t,s,r,a):s[r.axis]=r.parse(t,a),s}function X6(t,s,r,a){const n=t.iScale,i=t.vScale,o=n.getLabels(),l=n===i,d=[];let u,h,f,p;for(u=r,h=r+a;u<h;++u)p=s[u],f={},f[n.axis]=l||n.parse(o[u],u),d.push(DE(p,f,i,u));return d}function Dv(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function OB(t,s,r){return t!==0?Yc(t):(s.isHorizontal()?1:-1)*(s.min>=r?1:-1)}function IB(t){let s,r,a,n,i;return t.horizontal?(s=t.base>t.x,r="left",a="right"):(s=t.base<t.y,r="bottom",a="top"),s?(n="end",i="start"):(n="start",i="end"),{start:r,end:a,reverse:s,top:n,bottom:i}}function BB(t,s,r,a){let n=s.borderSkipped;const i={};if(!n){t.borderSkipped=i;return}if(n===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:d,top:u,bottom:h}=IB(t);n==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===a?n=u:(r._bottom||0)===a?n=h:(i[Q6(h,o,l,d)]=!0,n=u)),i[Q6(n,o,l,d)]=!0,t.borderSkipped=i}function Q6(t,s,r,a){return a?(t=zB(t,s,r),t=J6(t,r,s)):t=J6(t,s,r),t}function zB(t,s,r){return t===s?r:t===r?s:t}function J6(t,s,r){return t==="start"?s:t==="end"?r:t}function $B(t,{inflateAmount:s},r){t.inflateAmount=s==="auto"?r===1?.33:0:s}class db extends f0{parsePrimitiveData(s,r,a,n){return X6(s,r,a,n)}parseArrayData(s,r,a,n){return X6(s,r,a,n)}parseObjectData(s,r,a,n){const{iScale:i,vScale:o}=s,{xAxisKey:l="x",yAxisKey:d="y"}=this._parsing,u=i.axis==="x"?l:d,h=o.axis==="x"?l:d,f=[];let p,g,v,y;for(p=a,g=a+n;p<g;++p)y=r[p],v={},v[i.axis]=i.parse(S0(y,u),p),f.push(DE(S0(y,h),v,o,p));return f}updateRangeFromParsed(s,r,a,n){super.updateRangeFromParsed(s,r,a,n);const i=a._custom;i&&r===this._cachedMeta.vScale&&(s.min=Math.min(s.min,i.min),s.max=Math.max(s.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(s){const r=this._cachedMeta,{iScale:a,vScale:n}=r,i=this.getParsed(s),o=i._custom,l=Dv(o)?"["+o.start+", "+o.end+"]":""+n.getLabelForValue(i[n.axis]);return{label:""+a.getLabelForValue(i[a.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const s=this._cachedMeta;s.stack=this.getDataset().stack}update(s){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,s)}updateElements(s,r,a,n){const i=n==="reset",{index:o,_cachedMeta:{vScale:l}}=this,d=l.getBasePixel(),u=l.isHorizontal(),h=this._getRuler(),{sharedOptions:f,includeOptions:p}=this._getSharedOptions(r,n);for(let g=r;g<r+a;g++){const v=this.getParsed(g),y=i||Rr(v[l.axis])?{base:d,head:d}:this._calculateBarValuePixels(g),b=this._calculateBarIndexPixels(g,h),_=(v._stacks||{})[l.axis],k={horizontal:u,base:y.base,enableBorderRadius:!_||Dv(v._custom)||o===_._top||o===_._bottom,x:u?y.head:b.center,y:u?b.center:y.head,height:u?b.size:Math.abs(y.size),width:u?Math.abs(y.size):b.size};p&&(k.options=f||this.resolveDataElementOptions(g,s[g].active?"active":n));const A=k.options||s[g].options;BB(k,A,_,o),$B(k,A,h.ratio),this.updateElement(s[g],g,k,n)}}_getStacks(s,r){const{iScale:a}=this._cachedMeta,n=a.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),i=a.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(r),d=l&&l[a.axis],u=h=>{const f=h._parsed.find(g=>g[a.axis]===d),p=f&&f[h.vScale.axis];if(Rr(p)||isNaN(p))return!0};for(const h of n)if(!(r!==void 0&&u(h))&&((i===!1||o.indexOf(h.stack)===-1||i===void 0&&h.stack===void 0)&&o.push(h.stack),h.index===s))break;return o.length||o.push(void 0),o}_getStackCount(s){return this._getStacks(void 0,s).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const s=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(s).filter(a=>s[a].axis===r).shift()}_getAxis(){const s={},r=this.getFirstScaleIdForIndexAxis();for(const a of this.chart.data.datasets)s[ar(this.chart.options.indexAxis==="x"?a.xAxisID:a.yAxisID,r)]=!0;return Object.keys(s)}_getStackIndex(s,r,a){const n=this._getStacks(s,a),i=r!==void 0?n.indexOf(r):-1;return i===-1?n.length-1:i}_getRuler(){const s=this.options,r=this._cachedMeta,a=r.iScale,n=[];let i,o;for(i=0,o=r.data.length;i<o;++i)n.push(a.getPixelForValue(this.getParsed(i)[a.axis],i));const l=s.barThickness;return{min:l||MB(r),pixels:n,start:a._startPixel,end:a._endPixel,stackCount:this._getStackCount(),scale:a,grouped:s.grouped,ratio:l?1:s.categoryPercentage*s.barPercentage}}_calculateBarValuePixels(s){const{_cachedMeta:{vScale:r,_stacked:a,index:n},options:{base:i,minBarLength:o}}=this,l=i||0,d=this.getParsed(s),u=d._custom,h=Dv(u);let f=d[r.axis],p=0,g=a?this.applyStack(r,d,a):f,v,y;g!==f&&(p=g-f,g=f),h&&(f=u.barStart,g=u.barEnd-u.barStart,f!==0&&Yc(f)!==Yc(u.barEnd)&&(p=0),p+=f);const b=!Rr(i)&&!h?i:p;let _=r.getPixelForValue(b);if(this.chart.getDataVisibility(s)?v=r.getPixelForValue(p+g):v=_,y=v-_,Math.abs(y)<o){y=OB(y,r,l)*o,f===l&&(_-=y/2);const k=r.getPixelForDecimal(0),A=r.getPixelForDecimal(1),R=Math.min(k,A),F=Math.max(k,A);_=Math.max(Math.min(_,F),R),v=_+y,a&&!h&&(d._stacks[r.axis]._visualValues[n]=r.getValueForPixel(v)-r.getValueForPixel(_))}if(_===r.getPixelForValue(l)){const k=Yc(y)*r.getLineWidthForValue(l)/2;_+=k,y-=k}return{size:y,base:_,head:v,center:v+y/2}}_calculateBarIndexPixels(s,r){const a=r.scale,n=this.options,i=n.skipNull,o=ar(n.maxBarThickness,1/0);let l,d;const u=this._getAxisCount();if(r.grouped){const h=i?this._getStackCount(s):r.stackCount,f=n.barThickness==="flex"?FB(s,r,n,h*u):LB(s,r,n,h*u),p=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(ar(p,this.getFirstScaleIdForIndexAxis())),v=this._getStackIndex(this.index,this._cachedMeta.stack,i?s:void 0)+g;l=f.start+f.chunk*v+f.chunk/2,d=Math.min(o,f.chunk*f.ratio)}else l=a.getPixelForValue(this.getParsed(s)[a.axis],s),d=Math.min(o,r.min*r.ratio);return{base:l-d/2,head:l+d/2,center:l,size:d}}draw(){const s=this._cachedMeta,r=s.vScale,a=s.data,n=a.length;let i=0;for(;i<n;++i)this.getParsed(i)[r.axis]!==null&&!a[i].hidden&&a[i].draw(this._ctx)}}ds(db,"id","bar"),ds(db,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ds(db,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function UB(t,s,r){let a=1,n=1,i=0,o=0;if(s<Sa){const l=t,d=l+s,u=Math.cos(l),h=Math.sin(l),f=Math.cos(d),p=Math.sin(d),g=(A,R,F)=>_p(A,l,d,!0)?1:Math.max(R,R*r,F,F*r),v=(A,R,F)=>_p(A,l,d,!0)?-1:Math.min(R,R*r,F,F*r),y=g(0,u,f),b=g(bn,h,p),_=v(Vr,u,f),k=v(Vr+bn,h,p);a=(y-_)/2,n=(b-k)/2,i=-(y+_)/2,o=-(b+k)/2}return{ratioX:a,ratioY:n,offsetX:i,offsetY:o}}class $f extends f0{constructor(s,r){super(s,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(s,r){const a=this.getDataset().data,n=this._cachedMeta;if(this._parsing===!1)n._parsed=a;else{let i=d=>+a[d];if(fr(a[s])){const{key:d="value"}=this._parsing;i=u=>+S0(a[u],d)}let o,l;for(o=s,l=s+r;o<l;++o)n._parsed[o]=i(o)}}_getRotation(){return Ud(this.options.rotation-90)}_getCircumference(){return Ud(this.options.circumference)}_getRotationExtents(){let s=Sa,r=-Sa;for(let a=0;a<this.chart.data.datasets.length;++a)if(this.chart.isDatasetVisible(a)&&this.chart.getDatasetMeta(a).type===this._type){const n=this.chart.getDatasetMeta(a).controller,i=n._getRotation(),o=n._getCircumference();s=Math.min(s,i),r=Math.max(r,i+o)}return{rotation:s,circumference:r-s}}update(s){const r=this.chart,{chartArea:a}=r,n=this._cachedMeta,i=n.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(a.width,a.height)-o)/2,0),d=Math.min(XO(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:h,rotation:f}=this._getRotationExtents(),{ratioX:p,ratioY:g,offsetX:v,offsetY:y}=UB(f,h,d),b=(a.width-o)/p,_=(a.height-o)/g,k=Math.max(Math.min(b,_)/2,0),A=oE(this.options.radius,k),R=Math.max(A*d,0),F=(A-R)/this._getVisibleDatasetWeightTotal();this.offsetX=v*A,this.offsetY=y*A,n.total=this.calculateTotal(),this.outerRadius=A-F*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-F*u,0),this.updateElements(i,0,i.length,s)}_circumference(s,r){const a=this.options,n=this._cachedMeta,i=this._getCircumference();return r&&a.animation.animateRotate||!this.chart.getDataVisibility(s)||n._parsed[s]===null||n.data[s].hidden?0:this.calculateCircumference(n._parsed[s]*i/Sa)}updateElements(s,r,a,n){const i=n==="reset",o=this.chart,l=o.chartArea,u=o.options.animation,h=(l.left+l.right)/2,f=(l.top+l.bottom)/2,p=i&&u.animateScale,g=p?0:this.innerRadius,v=p?0:this.outerRadius,{sharedOptions:y,includeOptions:b}=this._getSharedOptions(r,n);let _=this._getRotation(),k;for(k=0;k<r;++k)_+=this._circumference(k,i);for(k=r;k<r+a;++k){const A=this._circumference(k,i),R=s[k],F={x:h+this.offsetX,y:f+this.offsetY,startAngle:_,endAngle:_+A,circumference:A,outerRadius:v,innerRadius:g};b&&(F.options=y||this.resolveDataElementOptions(k,R.active?"active":n)),_+=A,this.updateElement(R,k,F,n)}}calculateTotal(){const s=this._cachedMeta,r=s.data;let a=0,n;for(n=0;n<r.length;n++){const i=s._parsed[n];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(n)&&!r[n].hidden&&(a+=Math.abs(i))}return a}calculateCircumference(s){const r=this._cachedMeta.total;return r>0&&!isNaN(s)?Sa*(Math.abs(s)/r):0}getLabelAndValue(s){const r=this._cachedMeta,a=this.chart,n=a.data.labels||[],i=iN(r._parsed[s],a.options.locale);return{label:n[s]||"",value:i}}getMaxBorderWidth(s){let r=0;const a=this.chart;let n,i,o,l,d;if(!s){for(n=0,i=a.data.datasets.length;n<i;++n)if(a.isDatasetVisible(n)){o=a.getDatasetMeta(n),s=o.data,l=o.controller;break}}if(!s)return 0;for(n=0,i=s.length;n<i;++n)d=l.resolveDataElementOptions(n),d.borderAlign!=="inner"&&(r=Math.max(r,d.borderWidth||0,d.hoverBorderWidth||0));return r}getMaxOffset(s){let r=0;for(let a=0,n=s.length;a<n;++a){const i=this.resolveDataElementOptions(a);r=Math.max(r,i.offset||0,i.hoverOffset||0)}return r}_getRingWeightOffset(s){let r=0;for(let a=0;a<s;++a)this.chart.isDatasetVisible(a)&&(r+=this._getRingWeight(a));return r}_getRingWeight(s){return Math.max(ar(this.chart.data.datasets[s].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ds($f,"id","doughnut"),ds($f,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ds($f,"descriptors",{_scriptable:s=>s!=="spacing",_indexable:s=>s!=="spacing"&&!s.startsWith("borderDash")&&!s.startsWith("hoverBorderDash")}),ds($f,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(s){const r=s.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:a,color:n}}=s.legend.options;return r.labels.map((i,o)=>{const d=s.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:n,lineWidth:d.borderWidth,pointStyle:a,hidden:!s.getDataVisibility(o),index:o}})}return[]}},onClick(s,r,a){a.chart.toggleDataVisibility(r.index),a.chart.update()}}}});class ub extends f0{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(s){const r=this._cachedMeta,{dataset:a,data:n=[],_dataset:i}=r,o=this.chart._animationsDisabled;let{start:l,count:d}=pI(r,n,o);this._drawStart=l,this._drawCount=d,gI(r)&&(l=0,d=n.length),a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!i._decimated,a.points=n;const u=this.resolveDatasetElementOptions(s);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(a,void 0,{animated:!o,options:u},s),this.updateElements(n,l,d,s)}updateElements(s,r,a,n){const i=n==="reset",{iScale:o,vScale:l,_stacked:d,_dataset:u}=this._cachedMeta,{sharedOptions:h,includeOptions:f}=this._getSharedOptions(r,n),p=o.axis,g=l.axis,{spanGaps:v,segment:y}=this.options,b=Sp(v)?v:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||i||n==="none",k=r+a,A=s.length;let R=r>0&&this.getParsed(r-1);for(let F=0;F<A;++F){const V=s[F],S=_?V:{};if(F<r||F>=k){S.skip=!0;continue}const L=this.getParsed(F),I=Rr(L[g]),B=S[p]=o.getPixelForValue(L[p],F),T=S[g]=i||I?l.getBasePixel():l.getPixelForValue(d?this.applyStack(l,L,d):L[g],F);S.skip=isNaN(B)||isNaN(T)||I,S.stop=F>0&&Math.abs(L[p]-R[p])>b,y&&(S.parsed=L,S.raw=u.data[F]),f&&(S.options=h||this.resolveDataElementOptions(F,V.active?"active":n)),_||this.updateElement(V,F,S,n),R=L}}getMaxOverflow(){const s=this._cachedMeta,r=s.dataset,a=r.options&&r.options.borderWidth||0,n=s.data||[];if(!n.length)return a;const i=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(a,i,o)/2}draw(){const s=this._cachedMeta;s.dataset.updateControlPoints(this.chart.chartArea,s.iScale.axis),super.draw()}}ds(ub,"id","line"),ds(ub,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ds(ub,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Uw extends $f{}ds(Uw,"id","pie"),ds(Uw,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Jm(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class hN{constructor(s){ds(this,"options");this.options=s||{}}static override(s){Object.assign(hN.prototype,s)}init(){}formats(){return Jm()}parse(){return Jm()}format(){return Jm()}add(){return Jm()}diff(){return Jm()}startOf(){return Jm()}endOf(){return Jm()}}var VB={_date:hN};function qB(t,s,r,a){const{controller:n,data:i,_sorted:o}=t,l=n._cachedMeta.iScale,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&s===l.axis&&s!=="r"&&o&&i.length){const u=l._reversePixels?uI:c0;if(a){if(n._sharedOptions){const h=i[0],f=typeof h.getRange=="function"&&h.getRange(s);if(f){const p=u(i,s,r-f),g=u(i,s,r+f);return{lo:p.lo,hi:g.hi}}}}else{const h=u(i,s,r);if(d){const{vScale:f}=n._cachedMeta,{_parsed:p}=t,g=p.slice(0,h.lo+1).reverse().findIndex(y=>!Rr(y[f.axis]));h.lo-=Math.max(0,g);const v=p.slice(h.hi).findIndex(y=>!Rr(y[f.axis]));h.hi+=Math.max(0,v)}return h}}return{lo:0,hi:i.length-1}}function L1(t,s,r,a,n){const i=t.getSortedVisibleDatasetMetas(),o=r[s];for(let l=0,d=i.length;l<d;++l){const{index:u,data:h}=i[l],{lo:f,hi:p}=qB(i[l],s,o,n);for(let g=f;g<=p;++g){const v=h[g];v.skip||a(v,u,g)}}}function HB(t){const s=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(a,n){const i=s?Math.abs(a.x-n.x):0,o=r?Math.abs(a.y-n.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function Pv(t,s,r,a,n){const i=[];return!n&&!t.isPointInArea(s)||L1(t,r,s,function(l,d,u){!n&&!Cp(l,t.chartArea,0)||l.inRange(s.x,s.y,a)&&i.push({element:l,datasetIndex:d,index:u})},!0),i}function WB(t,s,r,a){let n=[];function i(o,l,d){const{startAngle:u,endAngle:h}=o.getProps(["startAngle","endAngle"],a),{angle:f}=dE(o,{x:s.x,y:s.y});_p(f,u,h)&&n.push({element:o,datasetIndex:l,index:d})}return L1(t,r,s,i),n}function GB(t,s,r,a,n,i){let o=[];const l=HB(r);let d=Number.POSITIVE_INFINITY;function u(h,f,p){const g=h.inRange(s.x,s.y,n);if(a&&!g)return;const v=h.getCenterPoint(n);if(!(!!i||t.isPointInArea(v))&&!g)return;const b=l(s,v);b<d?(o=[{element:h,datasetIndex:f,index:p}],d=b):b===d&&o.push({element:h,datasetIndex:f,index:p})}return L1(t,r,s,u),o}function Mv(t,s,r,a,n,i){return!i&&!t.isPointInArea(s)?[]:r==="r"&&!a?WB(t,s,r,n):GB(t,s,r,a,n,i)}function Z6(t,s,r,a,n){const i=[],o=r==="x"?"inXRange":"inYRange";let l=!1;return L1(t,r,s,(d,u,h)=>{d[o]&&d[o](s[r],n)&&(i.push({element:d,datasetIndex:u,index:h}),l=l||d.inRange(s.x,s.y,n))}),a&&!l?[]:i}var YB={modes:{index(t,s,r,a){const n=t0(s,t),i=r.axis||"x",o=r.includeInvisible||!1,l=r.intersect?Pv(t,n,i,a,o):Mv(t,n,i,!1,a,o),d=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const h=l[0].index,f=u.data[h];f&&!f.skip&&d.push({element:f,datasetIndex:u.index,index:h})}),d):[]},dataset(t,s,r,a){const n=t0(s,t),i=r.axis||"xy",o=r.includeInvisible||!1;let l=r.intersect?Pv(t,n,i,a,o):Mv(t,n,i,!1,a,o);if(l.length>0){const d=l[0].datasetIndex,u=t.getDatasetMeta(d).data;l=[];for(let h=0;h<u.length;++h)l.push({element:u[h],datasetIndex:d,index:h})}return l},point(t,s,r,a){const n=t0(s,t),i=r.axis||"xy",o=r.includeInvisible||!1;return Pv(t,n,i,a,o)},nearest(t,s,r,a){const n=t0(s,t),i=r.axis||"xy",o=r.includeInvisible||!1;return Mv(t,n,i,r.intersect,a,o)},x(t,s,r,a){const n=t0(s,t);return Z6(t,n,"x",r.intersect,a)},y(t,s,r,a){const n=t0(s,t);return Z6(t,n,"y",r.intersect,a)}}};const PE=["left","top","right","bottom"];function Sf(t,s){return t.filter(r=>r.pos===s)}function eS(t,s){return t.filter(r=>PE.indexOf(r.pos)===-1&&r.box.axis===s)}function _f(t,s){return t.sort((r,a)=>{const n=s?a:r,i=s?r:a;return n.weight===i.weight?n.index-i.index:n.weight-i.weight})}function KB(t){const s=[];let r,a,n,i,o,l;for(r=0,a=(t||[]).length;r<a;++r)n=t[r],{position:i,options:{stack:o,stackWeight:l=1}}=n,s.push({index:r,box:n,pos:i,horizontal:n.isHorizontal(),weight:n.weight,stack:o&&i+o,stackWeight:l});return s}function XB(t){const s={};for(const r of t){const{stack:a,pos:n,stackWeight:i}=r;if(!a||!PE.includes(n))continue;const o=s[a]||(s[a]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return s}function QB(t,s){const r=XB(t),{vBoxMaxWidth:a,hBoxMaxHeight:n}=s;let i,o,l;for(i=0,o=t.length;i<o;++i){l=t[i];const{fullSize:d}=l.box,u=r[l.stack],h=u&&l.stackWeight/u.weight;l.horizontal?(l.width=h?h*a:d&&s.availableWidth,l.height=n):(l.width=a,l.height=h?h*n:d&&s.availableHeight)}return r}function JB(t){const s=KB(t),r=_f(s.filter(u=>u.box.fullSize),!0),a=_f(Sf(s,"left"),!0),n=_f(Sf(s,"right")),i=_f(Sf(s,"top"),!0),o=_f(Sf(s,"bottom")),l=eS(s,"x"),d=eS(s,"y");return{fullSize:r,leftAndTop:a.concat(i),rightAndBottom:n.concat(d).concat(o).concat(l),chartArea:Sf(s,"chartArea"),vertical:a.concat(n).concat(d),horizontal:i.concat(o).concat(l)}}function tS(t,s,r,a){return Math.max(t[r],s[r])+Math.max(t[a],s[a])}function ME(t,s){t.top=Math.max(t.top,s.top),t.left=Math.max(t.left,s.left),t.bottom=Math.max(t.bottom,s.bottom),t.right=Math.max(t.right,s.right)}function ZB(t,s,r,a){const{pos:n,box:i}=r,o=t.maxPadding;if(!fr(n)){r.size&&(t[n]-=r.size);const f=a[r.stack]||{size:0,count:1};f.size=Math.max(f.size,r.horizontal?i.height:i.width),r.size=f.size/f.count,t[n]+=r.size}i.getPadding&&ME(o,i.getPadding());const l=Math.max(0,s.outerWidth-tS(o,t,"left","right")),d=Math.max(0,s.outerHeight-tS(o,t,"top","bottom")),u=l!==t.w,h=d!==t.h;return t.w=l,t.h=d,r.horizontal?{same:u,other:h}:{same:h,other:u}}function ez(t){const s=t.maxPadding;function r(a){const n=Math.max(s[a]-t[a],0);return t[a]+=n,n}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function tz(t,s){const r=s.maxPadding;function a(n){const i={left:0,top:0,right:0,bottom:0};return n.forEach(o=>{i[o]=Math.max(s[o],r[o])}),i}return a(t?["left","right"]:["top","bottom"])}function Uf(t,s,r,a){const n=[];let i,o,l,d,u,h;for(i=0,o=t.length,u=0;i<o;++i){l=t[i],d=l.box,d.update(l.width||s.w,l.height||s.h,tz(l.horizontal,s));const{same:f,other:p}=ZB(s,r,l,a);u|=f&&n.length,h=h||p,d.fullSize||n.push(l)}return u&&Uf(n,s,r,a)||h}function ky(t,s,r,a,n){t.top=r,t.left=s,t.right=s+a,t.bottom=r+n,t.width=a,t.height=n}function sS(t,s,r,a){const n=r.padding;let{x:i,y:o}=s;for(const l of t){const d=l.box,u=a[l.stack]||{placed:0,weight:1},h=l.stackWeight/u.weight||1;if(l.horizontal){const f=s.w*h,p=u.size||d.height;Np(u.start)&&(o=u.start),d.fullSize?ky(d,n.left,o,r.outerWidth-n.right-n.left,p):ky(d,s.left+u.placed,o,f,p),u.start=o,u.placed+=f,o=d.bottom}else{const f=s.h*h,p=u.size||d.width;Np(u.start)&&(i=u.start),d.fullSize?ky(d,i,n.top,p,r.outerHeight-n.bottom-n.top):ky(d,i,s.top+u.placed,p,f),u.start=i,u.placed+=f,i=d.right}}s.x=i,s.y=o}var cl={addBox(t,s){t.boxes||(t.boxes=[]),s.fullSize=s.fullSize||!1,s.position=s.position||"top",s.weight=s.weight||0,s._layers=s._layers||function(){return[{z:0,draw(r){s.draw(r)}}]},t.boxes.push(s)},removeBox(t,s){const r=t.boxes?t.boxes.indexOf(s):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,s,r){s.fullSize=r.fullSize,s.position=r.position,s.weight=r.weight},update(t,s,r,a){if(!t)return;const n=xl(t.options.layout.padding),i=Math.max(s-n.width,0),o=Math.max(r-n.height,0),l=JB(t.boxes),d=l.vertical,u=l.horizontal;Ur(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const h=d.reduce((y,b)=>b.box.options&&b.box.options.display===!1?y:y+1,0)||1,f=Object.freeze({outerWidth:s,outerHeight:r,padding:n,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/h,hBoxMaxHeight:o/2}),p=Object.assign({},n);ME(p,xl(a));const g=Object.assign({maxPadding:p,w:i,h:o,x:n.left,y:n.top},n),v=QB(d.concat(u),f);Uf(l.fullSize,g,f,v),Uf(d,g,f,v),Uf(u,g,f,v)&&Uf(d,g,f,v),ez(g),sS(l.leftAndTop,g,f,v),g.x+=g.w,g.y+=g.h,sS(l.rightAndBottom,g,f,v),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},Ur(l.chartArea,y=>{const b=y.box;Object.assign(b,t.chartArea),b.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class LE{acquireContext(s,r){}releaseContext(s){return!1}addEventListener(s,r,a){}removeEventListener(s,r,a){}getDevicePixelRatio(){return 1}getMaximumSize(s,r,a,n){return r=Math.max(0,r||s.width),a=a||s.height,{width:r,height:Math.max(0,n?Math.floor(r/n):a)}}isAttached(s){return!0}updateConfig(s){}}class sz extends LE{acquireContext(s){return s&&s.getContext&&s.getContext("2d")||null}updateConfig(s){s.options.animation=!1}}const mb="$chartjs",rz={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},rS=t=>t===null||t==="";function az(t,s){const r=t.style,a=t.getAttribute("height"),n=t.getAttribute("width");if(t[mb]={initial:{height:a,width:n,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",rS(n)){const i=z6(t,"width");i!==void 0&&(t.width=i)}if(rS(a))if(t.style.height==="")t.height=t.width/(s||2);else{const i=z6(t,"height");i!==void 0&&(t.height=i)}return t}const FE=iB?{passive:!0}:!1;function nz(t,s,r){t&&t.addEventListener(s,r,FE)}function iz(t,s,r){t&&t.canvas&&t.canvas.removeEventListener(s,r,FE)}function oz(t,s){const r=rz[t.type]||t.type,{x:a,y:n}=t0(t,s);return{type:r,chart:s,native:t,x:a!==void 0?a:null,y:n!==void 0?n:null}}function Bb(t,s){for(const r of t)if(r===s||r.contains(s))return!0}function lz(t,s,r){const a=t.canvas,n=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||Bb(l.addedNodes,a),o=o&&!Bb(l.removedNodes,a);o&&r()});return n.observe(document,{childList:!0,subtree:!0}),n}function cz(t,s,r){const a=t.canvas,n=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||Bb(l.removedNodes,a),o=o&&!Bb(l.addedNodes,a);o&&r()});return n.observe(document,{childList:!0,subtree:!0}),n}const Ap=new Map;let aS=0;function RE(){const t=window.devicePixelRatio;t!==aS&&(aS=t,Ap.forEach((s,r)=>{r.currentDevicePixelRatio!==t&&s()}))}function dz(t,s){Ap.size||window.addEventListener("resize",RE),Ap.set(t,s)}function uz(t){Ap.delete(t),Ap.size||window.removeEventListener("resize",RE)}function mz(t,s,r){const a=t.canvas,n=a&&mN(a);if(!n)return;const i=xE((l,d)=>{const u=n.clientWidth;r(l,d),u<n.clientWidth&&r()},window),o=new ResizeObserver(l=>{const d=l[0],u=d.contentRect.width,h=d.contentRect.height;u===0&&h===0||i(u,h)});return o.observe(n),dz(t,i),o}function Lv(t,s,r){r&&r.disconnect(),s==="resize"&&uz(t)}function hz(t,s,r){const a=t.canvas,n=xE(i=>{t.ctx!==null&&r(oz(i,t))},t);return nz(a,s,n),n}class xz extends LE{acquireContext(s,r){const a=s&&s.getContext&&s.getContext("2d");return a&&a.canvas===s?(az(s,r),a):null}releaseContext(s){const r=s.canvas;if(!r[mb])return!1;const a=r[mb].initial;["height","width"].forEach(i=>{const o=a[i];Rr(o)?r.removeAttribute(i):r.setAttribute(i,o)});const n=a.style||{};return Object.keys(n).forEach(i=>{r.style[i]=n[i]}),r.width=r.width,delete r[mb],!0}addEventListener(s,r,a){this.removeEventListener(s,r);const n=s.$proxies||(s.$proxies={}),o={attach:lz,detach:cz,resize:mz}[r]||hz;n[r]=o(s,r,a)}removeEventListener(s,r){const a=s.$proxies||(s.$proxies={}),n=a[r];if(!n)return;({attach:Lv,detach:Lv,resize:Lv}[r]||iz)(s,r,n),a[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(s,r,a,n){return nB(s,r,a,n)}isAttached(s){const r=s&&mN(s);return!!(r&&r.isConnected)}}function fz(t){return!uN()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?sz:xz}var ib;let ru=(ib=class{constructor(){ds(this,"x");ds(this,"y");ds(this,"active",!1);ds(this,"options");ds(this,"$animations")}tooltipPosition(s){const{x:r,y:a}=this.getProps(["x","y"],s);return{x:r,y:a}}hasValue(){return Sp(this.x)&&Sp(this.y)}getProps(s,r){const a=this.$animations;if(!r||!a)return this;const n={};return s.forEach(i=>{n[i]=a[i]&&a[i].active()?a[i]._to:this[i]}),n}},ds(ib,"defaults",{}),ds(ib,"defaultRoutes"),ib);function pz(t,s){const r=t.options.ticks,a=gz(t),n=Math.min(r.maxTicksLimit||a,a),i=r.major.enabled?bz(s):[],o=i.length,l=i[0],d=i[o-1],u=[];if(o>n)return vz(s,u,i,o/n),u;const h=yz(i,s,n);if(o>0){let f,p;const g=o>1?Math.round((d-l)/(o-1)):null;for(Ay(s,u,h,Rr(g)?0:l-g,l),f=0,p=o-1;f<p;f++)Ay(s,u,h,i[f],i[f+1]);return Ay(s,u,h,d,Rr(g)?s.length:d+g),u}return Ay(s,u,h),u}function gz(t){const s=t.options.offset,r=t._tickSize(),a=t._length/r+(s?0:1),n=t._maxLength/r;return Math.floor(Math.min(a,n))}function yz(t,s,r){const a=wz(t),n=s.length/r;if(!a)return Math.max(n,1);const i=aI(a);for(let o=0,l=i.length-1;o<l;o++){const d=i[o];if(d>n)return d}return Math.max(n,1)}function bz(t){const s=[];let r,a;for(r=0,a=t.length;r<a;r++)t[r].major&&s.push(r);return s}function vz(t,s,r,a){let n=0,i=r[0],o;for(a=Math.ceil(a),o=0;o<t.length;o++)o===i&&(s.push(t[o]),n++,i=r[n*a])}function Ay(t,s,r,a,n){const i=ar(a,0),o=Math.min(ar(n,t.length),t.length);let l=0,d,u,h;for(r=Math.ceil(r),n&&(d=n-a,r=d/Math.floor(d/r)),h=i;h<0;)l++,h=Math.round(i+l*r);for(u=Math.max(i,0);u<o;u++)u===h&&(s.push(t[u]),l++,h=Math.round(i+l*r))}function wz(t){const s=t.length;let r,a;if(s<2)return!1;for(a=t[0],r=1;r<s;++r)if(t[r]-t[r-1]!==a)return!1;return a}const jz=t=>t==="left"?"right":t==="right"?"left":t,nS=(t,s,r)=>s==="top"||s==="left"?t[s]+r:t[s]-r,iS=(t,s)=>Math.min(s||t,t);function oS(t,s){const r=[],a=t.length/s,n=t.length;let i=0;for(;i<n;i+=a)r.push(t[Math.floor(i)]);return r}function Nz(t,s,r){const a=t.ticks.length,n=Math.min(s,a-1),i=t._startPixel,o=t._endPixel,l=1e-6;let d=t.getPixelForTick(n),u;if(!(r&&(a===1?u=Math.max(d-i,o-d):s===0?u=(t.getPixelForTick(1)-d)/2:u=(d-t.getPixelForTick(n-1))/2,d+=n<s?u:-u,d<i-l||d>o+l)))return d}function Sz(t,s){Ur(t,r=>{const a=r.gc,n=a.length/2;let i;if(n>s){for(i=0;i<n;++i)delete r.data[a[i]];a.splice(0,n)}})}function Cf(t){return t.drawTicks?t.tickLength:0}function lS(t,s){if(!t.display)return 0;const r=gi(t.font,s),a=xl(t.padding);return(on(t.text)?t.text.length:1)*r.lineHeight+a.height}function _z(t,s){return M0(t,{scale:s,type:"scale"})}function Cz(t,s,r){return M0(t,{tick:r,index:s,type:"tick"})}function kz(t,s,r){let a=aN(t);return(r&&s!=="right"||!r&&s==="right")&&(a=jz(a)),a}function Az(t,s,r,a){const{top:n,left:i,bottom:o,right:l,chart:d}=t,{chartArea:u,scales:h}=d;let f=0,p,g,v;const y=o-n,b=l-i;if(t.isHorizontal()){if(g=di(a,i,l),fr(r)){const _=Object.keys(r)[0],k=r[_];v=h[_].getPixelForValue(k)+y-s}else r==="center"?v=(u.bottom+u.top)/2+y-s:v=nS(t,r,s);p=l-i}else{if(fr(r)){const _=Object.keys(r)[0],k=r[_];g=h[_].getPixelForValue(k)-b+s}else r==="center"?g=(u.left+u.right)/2-b+s:g=nS(t,r,s);v=di(a,o,n),f=r==="left"?-bn:bn}return{titleX:g,titleY:v,maxWidth:p,rotation:f}}class gx extends ru{constructor(s){super(),this.id=s.id,this.type=s.type,this.options=void 0,this.ctx=s.ctx,this.chart=s.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(s){this.options=s.setContext(this.getContext()),this.axis=s.axis,this._userMin=this.parse(s.min),this._userMax=this.parse(s.max),this._suggestedMin=this.parse(s.suggestedMin),this._suggestedMax=this.parse(s.suggestedMax)}parse(s,r){return s}getUserBounds(){let{_userMin:s,_userMax:r,_suggestedMin:a,_suggestedMax:n}=this;return s=Rc(s,Number.POSITIVE_INFINITY),r=Rc(r,Number.NEGATIVE_INFINITY),a=Rc(a,Number.POSITIVE_INFINITY),n=Rc(n,Number.NEGATIVE_INFINITY),{min:Rc(s,a),max:Rc(r,n),minDefined:ji(s),maxDefined:ji(r)}}getMinMax(s){let{min:r,max:a,minDefined:n,maxDefined:i}=this.getUserBounds(),o;if(n&&i)return{min:r,max:a};const l=this.getMatchingVisibleMetas();for(let d=0,u=l.length;d<u;++d)o=l[d].controller.getMinMax(this,s),n||(r=Math.min(r,o.min)),i||(a=Math.max(a,o.max));return r=i&&r>a?a:r,a=n&&r>a?r:a,{min:Rc(r,Rc(a,r)),max:Rc(a,Rc(r,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const s=this.chart.data;return this.options.labels||(this.isHorizontal()?s.xLabels:s.yLabels)||s.labels||[]}getLabelItems(s=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(s))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){oa(this.options.beforeUpdate,[this])}update(s,r,a){const{beginAtZero:n,grace:i,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=s,this.maxHeight=r,this._margins=a=Object.assign({left:0,right:0,top:0,bottom:0},a),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+a.left+a.right:this.height+a.top+a.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=OI(this,i,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=l<this.ticks.length;this._convertTicksToLabels(d?oS(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=pz(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let s=this.options.reverse,r,a;this.isHorizontal()?(r=this.left,a=this.right):(r=this.top,a=this.bottom,s=!s),this._startPixel=r,this._endPixel=a,this._reversePixels=s,this._length=a-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){oa(this.options.afterUpdate,[this])}beforeSetDimensions(){oa(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){oa(this.options.afterSetDimensions,[this])}_callHooks(s){this.chart.notifyPlugins(s,this.getContext()),oa(this.options[s],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){oa(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(s){const r=this.options.ticks;let a,n,i;for(a=0,n=s.length;a<n;a++)i=s[a],i.label=oa(r.callback,[i.value,a,s],this)}afterTickToLabelConversion(){oa(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){oa(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const s=this.options,r=s.ticks,a=iS(this.ticks.length,s.ticks.maxTicksLimit),n=r.minRotation||0,i=r.maxRotation;let o=n,l,d,u;if(!this._isVisible()||!r.display||n>=i||a<=1||!this.isHorizontal()){this.labelRotation=n;return}const h=this._getLabelSizes(),f=h.widest.width,p=h.highest.height,g=pi(this.chart.width-f,0,this.maxWidth);l=s.offset?this.maxWidth/a:g/(a-1),f+6>l&&(l=g/(a-(s.offset?.5:1)),d=this.maxHeight-Cf(s.grid)-r.padding-lS(s.title,this.chart.options.font),u=Math.sqrt(f*f+p*p),o=lI(Math.min(Math.asin(pi((h.highest.height+6)/l,-1,1)),Math.asin(pi(d/u,-1,1))-Math.asin(pi(p/u,-1,1)))),o=Math.max(n,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){oa(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){oa(this.options.beforeFit,[this])}fit(){const s={width:0,height:0},{chart:r,options:{ticks:a,title:n,grid:i}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const d=lS(n,r.options.font);if(l?(s.width=this.maxWidth,s.height=Cf(i)+d):(s.height=this.maxHeight,s.width=Cf(i)+d),a.display&&this.ticks.length){const{first:u,last:h,widest:f,highest:p}=this._getLabelSizes(),g=a.padding*2,v=Ud(this.labelRotation),y=Math.cos(v),b=Math.sin(v);if(l){const _=a.mirror?0:b*f.width+y*p.height;s.height=Math.min(this.maxHeight,s.height+_+g)}else{const _=a.mirror?0:y*f.width+b*p.height;s.width=Math.min(this.maxWidth,s.width+_+g)}this._calculatePadding(u,h,b,y)}}this._handleMargins(),l?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=s.height):(this.width=s.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(s,r,a,n){const{ticks:{align:i,padding:o},position:l}=this.options,d=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,g=0;d?u?(p=n*s.width,g=a*r.height):(p=a*s.height,g=n*r.width):i==="start"?g=r.width:i==="end"?p=s.width:i!=="inner"&&(p=s.width/2,g=r.width/2),this.paddingLeft=Math.max((p-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((g-f+o)*this.width/(this.width-f),0)}else{let h=r.height/2,f=s.height/2;i==="start"?(h=0,f=s.height):i==="end"&&(h=r.height,f=0),this.paddingTop=h+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){oa(this.options.afterFit,[this])}isHorizontal(){const{axis:s,position:r}=this.options;return r==="top"||r==="bottom"||s==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(s){this.beforeTickToLabelConversion(),this.generateTickLabels(s);let r,a;for(r=0,a=s.length;r<a;r++)Rr(s[r].label)&&(s.splice(r,1),a--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let s=this._labelSizes;if(!s){const r=this.options.ticks.sampleSize;let a=this.ticks;r<a.length&&(a=oS(a,r)),this._labelSizes=s=this._computeLabelSizes(a,a.length,this.options.ticks.maxTicksLimit)}return s}_computeLabelSizes(s,r,a){const{ctx:n,_longestTextCache:i}=this,o=[],l=[],d=Math.floor(r/iS(r,a));let u=0,h=0,f,p,g,v,y,b,_,k,A,R,F;for(f=0;f<r;f+=d){if(v=s[f].label,y=this._resolveTickFontOptions(f),n.font=b=y.string,_=i[b]=i[b]||{data:{},gc:[]},k=y.lineHeight,A=R=0,!Rr(v)&&!on(v))A=F6(n,_.data,_.gc,A,v),R=k;else if(on(v))for(p=0,g=v.length;p<g;++p)F=v[p],!Rr(F)&&!on(F)&&(A=F6(n,_.data,_.gc,A,F),R+=k);o.push(A),l.push(R),u=Math.max(A,u),h=Math.max(R,h)}Sz(i,r);const V=o.indexOf(u),S=l.indexOf(h),L=I=>({width:o[I]||0,height:l[I]||0});return{first:L(0),last:L(r-1),widest:L(V),highest:L(S),widths:o,heights:l}}getLabelForValue(s){return s}getPixelForValue(s,r){return NaN}getValueForPixel(s){}getPixelForTick(s){const r=this.ticks;return s<0||s>r.length-1?null:this.getPixelForValue(r[s].value)}getPixelForDecimal(s){this._reversePixels&&(s=1-s);const r=this._startPixel+s*this._length;return dI(this._alignToPixels?Qm(this.chart,r,0):r)}getDecimalForPixel(s){const r=(s-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:s,max:r}=this;return s<0&&r<0?r:s>0&&r>0?s:0}getContext(s){const r=this.ticks||[];if(s>=0&&s<r.length){const a=r[s];return a.$context||(a.$context=Cz(this.getContext(),s,a))}return this.$context||(this.$context=_z(this.chart.getContext(),this))}_tickSize(){const s=this.options.ticks,r=Ud(this.labelRotation),a=Math.abs(Math.cos(r)),n=Math.abs(Math.sin(r)),i=this._getLabelSizes(),o=s.autoSkipPadding||0,l=i?i.widest.width+o:0,d=i?i.highest.height+o:0;return this.isHorizontal()?d*a>l*n?l/a:d/n:d*n<l*a?d/a:l/n}_isVisible(){const s=this.options.display;return s!=="auto"?!!s:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(s){const r=this.axis,a=this.chart,n=this.options,{grid:i,position:o,border:l}=n,d=i.offset,u=this.isHorizontal(),f=this.ticks.length+(d?1:0),p=Cf(i),g=[],v=l.setContext(this.getContext()),y=v.display?v.width:0,b=y/2,_=function(K){return Qm(a,K,y)};let k,A,R,F,V,S,L,I,B,T,w,E;if(o==="top")k=_(this.bottom),S=this.bottom-p,I=k-b,T=_(s.top)+b,E=s.bottom;else if(o==="bottom")k=_(this.top),T=s.top,E=_(s.bottom)-b,S=k+b,I=this.top+p;else if(o==="left")k=_(this.right),V=this.right-p,L=k-b,B=_(s.left)+b,w=s.right;else if(o==="right")k=_(this.left),B=s.left,w=_(s.right)-b,V=k+b,L=this.left+p;else if(r==="x"){if(o==="center")k=_((s.top+s.bottom)/2+.5);else if(fr(o)){const K=Object.keys(o)[0],X=o[K];k=_(this.chart.scales[K].getPixelForValue(X))}T=s.top,E=s.bottom,S=k+b,I=S+p}else if(r==="y"){if(o==="center")k=_((s.left+s.right)/2);else if(fr(o)){const K=Object.keys(o)[0],X=o[K];k=_(this.chart.scales[K].getPixelForValue(X))}V=k-b,L=V-p,B=s.left,w=s.right}const D=ar(n.ticks.maxTicksLimit,f),G=Math.max(1,Math.ceil(f/D));for(A=0;A<f;A+=G){const K=this.getContext(A),X=i.setContext(K),se=l.setContext(K),Z=X.lineWidth,ee=X.color,ce=se.dash||[],U=se.dashOffset,O=X.tickWidth,z=X.tickColor,q=X.tickBorderDash||[],te=X.tickBorderDashOffset;R=Nz(this,A,d),R!==void 0&&(F=Qm(a,R,Z),u?V=L=B=w=F:S=I=T=E=F,g.push({tx1:V,ty1:S,tx2:L,ty2:I,x1:B,y1:T,x2:w,y2:E,width:Z,color:ee,borderDash:ce,borderDashOffset:U,tickWidth:O,tickColor:z,tickBorderDash:q,tickBorderDashOffset:te}))}return this._ticksLength=f,this._borderValue=k,g}_computeLabelItems(s){const r=this.axis,a=this.options,{position:n,ticks:i}=a,o=this.isHorizontal(),l=this.ticks,{align:d,crossAlign:u,padding:h,mirror:f}=i,p=Cf(a.grid),g=p+h,v=f?-h:g,y=-Ud(this.labelRotation),b=[];let _,k,A,R,F,V,S,L,I,B,T,w,E="middle";if(n==="top")V=this.bottom-v,S=this._getXAxisLabelAlignment();else if(n==="bottom")V=this.top+v,S=this._getXAxisLabelAlignment();else if(n==="left"){const G=this._getYAxisLabelAlignment(p);S=G.textAlign,F=G.x}else if(n==="right"){const G=this._getYAxisLabelAlignment(p);S=G.textAlign,F=G.x}else if(r==="x"){if(n==="center")V=(s.top+s.bottom)/2+g;else if(fr(n)){const G=Object.keys(n)[0],K=n[G];V=this.chart.scales[G].getPixelForValue(K)+g}S=this._getXAxisLabelAlignment()}else if(r==="y"){if(n==="center")F=(s.left+s.right)/2-g;else if(fr(n)){const G=Object.keys(n)[0],K=n[G];F=this.chart.scales[G].getPixelForValue(K)}S=this._getYAxisLabelAlignment(p).textAlign}r==="y"&&(d==="start"?E="top":d==="end"&&(E="bottom"));const D=this._getLabelSizes();for(_=0,k=l.length;_<k;++_){A=l[_],R=A.label;const G=i.setContext(this.getContext(_));L=this.getPixelForTick(_)+i.labelOffset,I=this._resolveTickFontOptions(_),B=I.lineHeight,T=on(R)?R.length:1;const K=T/2,X=G.color,se=G.textStrokeColor,Z=G.textStrokeWidth;let ee=S;o?(F=L,S==="inner"&&(_===k-1?ee=this.options.reverse?"left":"right":_===0?ee=this.options.reverse?"right":"left":ee="center"),n==="top"?u==="near"||y!==0?w=-T*B+B/2:u==="center"?w=-D.highest.height/2-K*B+B:w=-D.highest.height+B/2:u==="near"||y!==0?w=B/2:u==="center"?w=D.highest.height/2-K*B:w=D.highest.height-T*B,f&&(w*=-1),y!==0&&!G.showLabelBackdrop&&(F+=B/2*Math.sin(y))):(V=L,w=(1-T)*B/2);let ce;if(G.showLabelBackdrop){const U=xl(G.backdropPadding),O=D.heights[_],z=D.widths[_];let q=w-U.top,te=0-U.left;switch(E){case"middle":q-=O/2;break;case"bottom":q-=O;break}switch(S){case"center":te-=z/2;break;case"right":te-=z;break;case"inner":_===k-1?te-=z:_>0&&(te-=z/2);break}ce={left:te,top:q,width:z+U.width,height:O+U.height,color:G.backdropColor}}b.push({label:R,font:I,textOffset:w,options:{rotation:y,color:X,strokeColor:se,strokeWidth:Z,textAlign:ee,textBaseline:E,translation:[F,V],backdrop:ce}})}return b}_getXAxisLabelAlignment(){const{position:s,ticks:r}=this.options;if(-Ud(this.labelRotation))return s==="top"?"left":"right";let n="center";return r.align==="start"?n="left":r.align==="end"?n="right":r.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(s){const{position:r,ticks:{crossAlign:a,mirror:n,padding:i}}=this.options,o=this._getLabelSizes(),l=s+i,d=o.widest.width;let u,h;return r==="left"?n?(h=this.right+i,a==="near"?u="left":a==="center"?(u="center",h+=d/2):(u="right",h+=d)):(h=this.right-l,a==="near"?u="right":a==="center"?(u="center",h-=d/2):(u="left",h=this.left)):r==="right"?n?(h=this.left+i,a==="near"?u="right":a==="center"?(u="center",h-=d/2):(u="left",h-=d)):(h=this.left+l,a==="near"?u="left":a==="center"?(u="center",h+=d/2):(u="right",h=this.right)):u="right",{textAlign:u,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const s=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:s.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:s.width}}drawBackground(){const{ctx:s,options:{backgroundColor:r},left:a,top:n,width:i,height:o}=this;r&&(s.save(),s.fillStyle=r,s.fillRect(a,n,i,o),s.restore())}getLineWidthForValue(s){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const n=this.ticks.findIndex(i=>i.value===s);return n>=0?r.setContext(this.getContext(n)).lineWidth:0}drawGrid(s){const r=this.options.grid,a=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(s));let i,o;const l=(d,u,h)=>{!h.width||!h.color||(a.save(),a.lineWidth=h.width,a.strokeStyle=h.color,a.setLineDash(h.borderDash||[]),a.lineDashOffset=h.borderDashOffset,a.beginPath(),a.moveTo(d.x,d.y),a.lineTo(u.x,u.y),a.stroke(),a.restore())};if(r.display)for(i=0,o=n.length;i<o;++i){const d=n[i];r.drawOnChartArea&&l({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),r.drawTicks&&l({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:s,ctx:r,options:{border:a,grid:n}}=this,i=a.setContext(this.getContext()),o=a.display?i.width:0;if(!o)return;const l=n.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let u,h,f,p;this.isHorizontal()?(u=Qm(s,this.left,o)-o/2,h=Qm(s,this.right,l)+l/2,f=p=d):(f=Qm(s,this.top,o)-o/2,p=Qm(s,this.bottom,l)+l/2,u=h=d),r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.beginPath(),r.moveTo(u,f),r.lineTo(h,p),r.stroke(),r.restore()}drawLabels(s){if(!this.options.ticks.display)return;const a=this.ctx,n=this._computeLabelArea();n&&D1(a,n);const i=this.getLabelItems(s);for(const o of i){const l=o.options,d=o.font,u=o.label,h=o.textOffset;kp(a,u,0,h,d,l)}n&&P1(a)}drawTitle(){const{ctx:s,options:{position:r,title:a,reverse:n}}=this;if(!a.display)return;const i=gi(a.font),o=xl(a.padding),l=a.align;let d=i.lineHeight/2;r==="bottom"||r==="center"||fr(r)?(d+=o.bottom,on(a.text)&&(d+=i.lineHeight*(a.text.length-1))):d+=o.top;const{titleX:u,titleY:h,maxWidth:f,rotation:p}=Az(this,d,r,l);kp(s,a.text,0,0,i,{color:a.color,maxWidth:f,rotation:p,textAlign:kz(l,r,n),textBaseline:"middle",translation:[u,h]})}draw(s){this._isVisible()&&(this.drawBackground(),this.drawGrid(s),this.drawBorder(),this.drawTitle(),this.drawLabels(s))}_layers(){const s=this.options,r=s.ticks&&s.ticks.z||0,a=ar(s.grid&&s.grid.z,-1),n=ar(s.border&&s.border.z,0);return!this._isVisible()||this.draw!==gx.prototype.draw?[{z:r,draw:i=>{this.draw(i)}}]:[{z:a,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:r,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(s){const r=this.chart.getSortedVisibleDatasetMetas(),a=this.axis+"AxisID",n=[];let i,o;for(i=0,o=r.length;i<o;++i){const l=r[i];l[a]===this.id&&(!s||l.type===s)&&n.push(l)}return n}_resolveTickFontOptions(s){const r=this.options.ticks.setContext(this.getContext(s));return gi(r.font)}_maxDigits(){const s=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/s}}class Ey{constructor(s,r,a){this.type=s,this.scope=r,this.override=a,this.items=Object.create(null)}isForType(s){return Object.prototype.isPrototypeOf.call(this.type.prototype,s.prototype)}register(s){const r=Object.getPrototypeOf(s);let a;Dz(r)&&(a=this.register(r));const n=this.items,i=s.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+s);return i in n||(n[i]=s,Ez(s,o,a),this.override&&Ga.override(s.id,s.overrides)),o}get(s){return this.items[s]}unregister(s){const r=this.items,a=s.id,n=this.scope;a in r&&delete r[a],n&&a in Ga[n]&&(delete Ga[n][a],this.override&&delete _0[a])}}function Ez(t,s,r){const a=jp(Object.create(null),[r?Ga.get(r):{},Ga.get(s),t.defaults]);Ga.set(s,a),t.defaultRoutes&&Tz(s,t.defaultRoutes),t.descriptors&&Ga.describe(s,t.descriptors)}function Tz(t,s){Object.keys(s).forEach(r=>{const a=r.split("."),n=a.pop(),i=[t].concat(a).join("."),o=s[r].split("."),l=o.pop(),d=o.join(".");Ga.route(i,n,d,l)})}function Dz(t){return"id"in t&&"defaults"in t}class Pz{constructor(){this.controllers=new Ey(f0,"datasets",!0),this.elements=new Ey(ru,"elements"),this.plugins=new Ey(Object,"plugins"),this.scales=new Ey(gx,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...s){this._each("register",s)}remove(...s){this._each("unregister",s)}addControllers(...s){this._each("register",s,this.controllers)}addElements(...s){this._each("register",s,this.elements)}addPlugins(...s){this._each("register",s,this.plugins)}addScales(...s){this._each("register",s,this.scales)}getController(s){return this._get(s,this.controllers,"controller")}getElement(s){return this._get(s,this.elements,"element")}getPlugin(s){return this._get(s,this.plugins,"plugin")}getScale(s){return this._get(s,this.scales,"scale")}removeControllers(...s){this._each("unregister",s,this.controllers)}removeElements(...s){this._each("unregister",s,this.elements)}removePlugins(...s){this._each("unregister",s,this.plugins)}removeScales(...s){this._each("unregister",s,this.scales)}_each(s,r,a){[...r].forEach(n=>{const i=a||this._getRegistryForType(n);a||i.isForType(n)||i===this.plugins&&n.id?this._exec(s,i,n):Ur(n,o=>{const l=a||this._getRegistryForType(o);this._exec(s,l,o)})})}_exec(s,r,a){const n=sN(s);oa(a["before"+n],[],a),r[s](a),oa(a["after"+n],[],a)}_getRegistryForType(s){for(let r=0;r<this._typedRegistries.length;r++){const a=this._typedRegistries[r];if(a.isForType(s))return a}return this.plugins}_get(s,r,a){const n=r.get(s);if(n===void 0)throw new Error('"'+s+'" is not a registered '+a+".");return n}}var $c=new Pz;class Mz{constructor(){this._init=[]}notify(s,r,a,n){r==="beforeInit"&&(this._init=this._createDescriptors(s,!0),this._notify(this._init,s,"install"));const i=n?this._descriptors(s).filter(n):this._descriptors(s),o=this._notify(i,s,r,a);return r==="afterDestroy"&&(this._notify(i,s,"stop"),this._notify(this._init,s,"uninstall")),o}_notify(s,r,a,n){n=n||{};for(const i of s){const o=i.plugin,l=o[a],d=[r,n,i.options];if(oa(l,d,o)===!1&&n.cancelable)return!1}return!0}invalidate(){Rr(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(s){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(s);return this._notifyStateChanges(s),r}_createDescriptors(s,r){const a=s&&s.config,n=ar(a.options&&a.options.plugins,{}),i=Lz(a);return n===!1&&!r?[]:Rz(s,i,n,r)}_notifyStateChanges(s){const r=this._oldCache||[],a=this._cache,n=(i,o)=>i.filter(l=>!o.some(d=>l.plugin.id===d.plugin.id));this._notify(n(r,a),s,"stop"),this._notify(n(a,r),s,"start")}}function Lz(t){const s={},r=[],a=Object.keys($c.plugins.items);for(let i=0;i<a.length;i++)r.push($c.getPlugin(a[i]));const n=t.plugins||[];for(let i=0;i<n.length;i++){const o=n[i];r.indexOf(o)===-1&&(r.push(o),s[o.id]=!0)}return{plugins:r,localIds:s}}function Fz(t,s){return!s&&t===!1?null:t===!0?{}:t}function Rz(t,{plugins:s,localIds:r},a,n){const i=[],o=t.getContext();for(const l of s){const d=l.id,u=Fz(a[d],n);u!==null&&i.push({plugin:l,options:Oz(t.config,{plugin:l,local:r[d]},u,o)})}return i}function Oz(t,{plugin:s,local:r},a,n){const i=t.pluginScopeKeys(s),o=t.getOptionScopes(a,i);return r&&s.defaults&&o.push(s.defaults),t.createResolver(o,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Vw(t,s){const r=Ga.datasets[t]||{};return((s.datasets||{})[t]||{}).indexAxis||s.indexAxis||r.indexAxis||"x"}function Iz(t,s){let r=t;return t==="_index_"?r=s:t==="_value_"&&(r=s==="x"?"y":"x"),r}function Bz(t,s){return t===s?"_index_":"_value_"}function cS(t){if(t==="x"||t==="y"||t==="r")return t}function zz(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function qw(t,...s){if(cS(t))return t;for(const r of s){const a=r.axis||zz(r.position)||t.length>1&&cS(t[0].toLowerCase());if(a)return a}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function dS(t,s,r){if(r[s+"AxisID"]===t)return{axis:s}}function $z(t,s){if(s.data&&s.data.datasets){const r=s.data.datasets.filter(a=>a.xAxisID===t||a.yAxisID===t);if(r.length)return dS(t,"x",r[0])||dS(t,"y",r[0])}return{}}function Uz(t,s){const r=_0[t.type]||{scales:{}},a=s.scales||{},n=Vw(t.type,s),i=Object.create(null);return Object.keys(a).forEach(o=>{const l=a[o];if(!fr(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const d=qw(o,l,$z(o,t),Ga.scales[l.type]),u=Bz(d,n),h=r.scales||{};i[o]=Qf(Object.create(null),[{axis:d},l,h[d],h[u]])}),t.data.datasets.forEach(o=>{const l=o.type||t.type,d=o.indexAxis||Vw(l,s),h=(_0[l]||{}).scales||{};Object.keys(h).forEach(f=>{const p=Iz(f,d),g=o[p+"AxisID"]||p;i[g]=i[g]||Object.create(null),Qf(i[g],[{axis:p},a[g],h[f]])})}),Object.keys(i).forEach(o=>{const l=i[o];Qf(l,[Ga.scales[l.type],Ga.scale])}),i}function OE(t){const s=t.options||(t.options={});s.plugins=ar(s.plugins,{}),s.scales=Uz(t,s)}function IE(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Vz(t){return t=t||{},t.data=IE(t.data),OE(t),t}const uS=new Map,BE=new Set;function Ty(t,s){let r=uS.get(t);return r||(r=s(),uS.set(t,r),BE.add(r)),r}const kf=(t,s,r)=>{const a=S0(s,r);a!==void 0&&t.add(a)};class qz{constructor(s){this._config=Vz(s),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(s){this._config.type=s}get data(){return this._config.data}set data(s){this._config.data=IE(s)}get options(){return this._config.options}set options(s){this._config.options=s}get plugins(){return this._config.plugins}update(){const s=this._config;this.clearCache(),OE(s)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(s){return Ty(s,()=>[[`datasets.${s}`,""]])}datasetAnimationScopeKeys(s,r){return Ty(`${s}.transition.${r}`,()=>[[`datasets.${s}.transitions.${r}`,`transitions.${r}`],[`datasets.${s}`,""]])}datasetElementScopeKeys(s,r){return Ty(`${s}-${r}`,()=>[[`datasets.${s}.elements.${r}`,`datasets.${s}`,`elements.${r}`,""]])}pluginScopeKeys(s){const r=s.id,a=this.type;return Ty(`${a}-plugin-${r}`,()=>[[`plugins.${r}`,...s.additionalOptionScopes||[]]])}_cachedScopes(s,r){const a=this._scopeCache;let n=a.get(s);return(!n||r)&&(n=new Map,a.set(s,n)),n}getOptionScopes(s,r,a){const{options:n,type:i}=this,o=this._cachedScopes(s,a),l=o.get(r);if(l)return l;const d=new Set;r.forEach(h=>{s&&(d.add(s),h.forEach(f=>kf(d,s,f))),h.forEach(f=>kf(d,n,f)),h.forEach(f=>kf(d,_0[i]||{},f)),h.forEach(f=>kf(d,Ga,f)),h.forEach(f=>kf(d,zw,f))});const u=Array.from(d);return u.length===0&&u.push(Object.create(null)),BE.has(r)&&o.set(r,u),u}chartOptionScopes(){const{options:s,type:r}=this;return[s,_0[r]||{},Ga.datasets[r]||{},{type:r},Ga,zw]}resolveNamedOptions(s,r,a,n=[""]){const i={$shared:!0},{resolver:o,subPrefixes:l}=mS(this._resolverCache,s,n);let d=o;if(Wz(o,r)){i.$shared=!1,a=um(a)?a():a;const u=this.createResolver(s,a,l);d=ax(o,a,u)}for(const u of r)i[u]=d[u];return i}createResolver(s,r,a=[""],n){const{resolver:i}=mS(this._resolverCache,s,a);return fr(r)?ax(i,r,void 0,n):i}}function mS(t,s,r){let a=t.get(s);a||(a=new Map,t.set(s,a));const n=r.join();let i=a.get(n);return i||(i={resolver:lN(s,r),subPrefixes:r.filter(l=>!l.toLowerCase().includes("hover"))},a.set(n,i)),i}const Hz=t=>fr(t)&&Object.getOwnPropertyNames(t).some(s=>um(t[s]));function Wz(t,s){const{isScriptable:r,isIndexable:a}=yE(t);for(const n of s){const i=r(n),o=a(n),l=(o||i)&&t[n];if(i&&(um(l)||Hz(l))||o&&on(l))return!0}return!1}var Gz="4.5.0";const Yz=["top","bottom","left","right","chartArea"];function hS(t,s){return t==="top"||t==="bottom"||Yz.indexOf(t)===-1&&s==="x"}function xS(t,s){return function(r,a){return r[t]===a[t]?r[s]-a[s]:r[t]-a[t]}}function fS(t){const s=t.chart,r=s.options.animation;s.notifyPlugins("afterRender"),oa(r&&r.onComplete,[t],s)}function Kz(t){const s=t.chart,r=s.options.animation;oa(r&&r.onProgress,[t],s)}function zE(t){return uN()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const hb={},pS=t=>{const s=zE(t);return Object.values(hb).filter(r=>r.canvas===s).pop()};function Xz(t,s,r){const a=Object.keys(t);for(const n of a){const i=+n;if(i>=s){const o=t[n];delete t[n],(r>0||i>s)&&(t[i+r]=o)}}}function Qz(t,s,r,a){return!r||t.type==="mouseout"?null:a?s:t}var Xu;let Zp=(Xu=class{static register(...s){$c.add(...s),gS()}static unregister(...s){$c.remove(...s),gS()}constructor(s,r){const a=this.config=new qz(r),n=zE(s),i=pS(n);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=a.createResolver(a.chartOptionScopes(),this.getContext());this.platform=new(a.platform||fz(n)),this.platform.updateConfig(a);const l=this.platform.acquireContext(n,o.aspectRatio),d=l&&l.canvas,u=d&&d.height,h=d&&d.width;if(this.id=KO(),this.ctx=l,this.canvas=d,this.width=h,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Mz,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=xI(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],hb[this.id]=this,!l||!d){console.error("Failed to create chart: can't acquire context from the given item");return}Id.listen(this,"complete",fS),Id.listen(this,"progress",Kz),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:s,maintainAspectRatio:r},width:a,height:n,_aspectRatio:i}=this;return Rr(s)?r&&i?i:n?a/n:null:s}get data(){return this.config.data}set data(s){this.config.data=s}get options(){return this._options}set options(s){this.config.options=s}get registry(){return $c}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():B6(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return R6(this.canvas,this.ctx),this}stop(){return Id.stop(this),this}resize(s,r){Id.running(this)?this._resizeBeforeDraw={width:s,height:r}:this._resize(s,r)}_resize(s,r){const a=this.options,n=this.canvas,i=a.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(n,s,r,i),l=a.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,B6(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),oa(a.onResize,[this,o],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};Ur(r,(a,n)=>{a.id=n})}buildOrUpdateScales(){const s=this.options,r=s.scales,a=this.scales,n=Object.keys(a).reduce((o,l)=>(o[l]=!1,o),{});let i=[];r&&(i=i.concat(Object.keys(r).map(o=>{const l=r[o],d=qw(o,l),u=d==="r",h=d==="x";return{options:l,dposition:u?"chartArea":h?"bottom":"left",dtype:u?"radialLinear":h?"category":"linear"}}))),Ur(i,o=>{const l=o.options,d=l.id,u=qw(d,l),h=ar(l.type,o.dtype);(l.position===void 0||hS(l.position,u)!==hS(o.dposition))&&(l.position=o.dposition),n[d]=!0;let f=null;if(d in a&&a[d].type===h)f=a[d];else{const p=$c.getScale(h);f=new p({id:d,type:h,ctx:this.ctx,chart:this}),a[f.id]=f}f.init(l,s)}),Ur(n,(o,l)=>{o||delete a[l]}),Ur(a,o=>{cl.configure(this,o,o.options),cl.addBox(this,o)})}_updateMetasets(){const s=this._metasets,r=this.data.datasets.length,a=s.length;if(s.sort((n,i)=>n.index-i.index),a>r){for(let n=r;n<a;++n)this._destroyDatasetMeta(n);s.splice(r,a-r)}this._sortedMetasets=s.slice(0).sort(xS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:s,data:{datasets:r}}=this;s.length>r.length&&delete this._stacks,s.forEach((a,n)=>{r.filter(i=>i===a._dataset).length===0&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const s=[],r=this.data.datasets;let a,n;for(this._removeUnreferencedMetasets(),a=0,n=r.length;a<n;a++){const i=r[a];let o=this.getDatasetMeta(a);const l=i.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(a),o=this.getDatasetMeta(a)),o.type=l,o.indexAxis=i.indexAxis||Vw(l,this.options),o.order=i.order||0,o.index=a,o.label=""+i.label,o.visible=this.isDatasetVisible(a),o.controller)o.controller.updateIndex(a),o.controller.linkScales();else{const d=$c.getController(l),{datasetElementType:u,dataElementType:h}=Ga.datasets[l];Object.assign(d,{dataElementType:$c.getElement(h),datasetElementType:u&&$c.getElement(u)}),o.controller=new d(this,a),s.push(o.controller)}}return this._updateMetasets(),s}_resetElements(){Ur(this.data.datasets,(s,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(s){const r=this.config;r.update();const a=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!a.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:s,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,h=this.data.datasets.length;u<h;u++){const{controller:f}=this.getDatasetMeta(u),p=!n&&i.indexOf(f)===-1;f.buildOrUpdateElements(p),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=a.layout.autoPadding?o:0,this._updateLayout(o),n||Ur(i,u=>{u.reset()}),this._updateDatasets(s),this.notifyPlugins("afterUpdate",{mode:s}),this._layers.sort(xS("z","_idx"));const{_active:l,_lastEvent:d}=this;d?this._eventHandler(d,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Ur(this.scales,s=>{cl.removeBox(this,s)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const s=this.options,r=new Set(Object.keys(this._listeners)),a=new Set(s.events);(!C6(r,a)||!!this._responsiveListeners!==s.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:s}=this,r=this._getUniformDataChanges()||[];for(const{method:a,start:n,count:i}of r){const o=a==="_removeElements"?-i:i;Xz(s,n,o)}}_getUniformDataChanges(){const s=this._dataChanges;if(!s||!s.length)return;this._dataChanges=[];const r=this.data.datasets.length,a=i=>new Set(s.filter(o=>o[0]===i).map((o,l)=>l+","+o.splice(1).join(","))),n=a(0);for(let i=1;i<r;i++)if(!C6(n,a(i)))return;return Array.from(n).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(s){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;cl.update(this,this.width,this.height,s);const r=this.chartArea,a=r.width<=0||r.height<=0;this._layers=[],Ur(this.boxes,n=>{a&&n.position==="chartArea"||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this),this._layers.forEach((n,i)=>{n._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(s){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:s,cancelable:!0})!==!1){for(let r=0,a=this.data.datasets.length;r<a;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,a=this.data.datasets.length;r<a;++r)this._updateDataset(r,um(s)?s({datasetIndex:r}):s);this.notifyPlugins("afterDatasetsUpdate",{mode:s})}}_updateDataset(s,r){const a=this.getDatasetMeta(s),n={meta:a,index:s,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",n)!==!1&&(a.controller._update(r),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Id.has(this)?this.attached&&!Id.running(this)&&Id.start(this):(this.draw(),fS({chart:this})))}draw(){let s;if(this._resizeBeforeDraw){const{width:a,height:n}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(a,n)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(s=0;s<r.length&&r[s].z<=0;++s)r[s].draw(this.chartArea);for(this._drawDatasets();s<r.length;++s)r[s].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(s){const r=this._sortedMetasets,a=[];let n,i;for(n=0,i=r.length;n<i;++n){const o=r[n];(!s||o.visible)&&a.push(o)}return a}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const s=this.getSortedVisibleDatasetMetas();for(let r=s.length-1;r>=0;--r)this._drawDataset(s[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(s){const r=this.ctx,a={meta:s,index:s.index,cancelable:!0},n=AE(this,s);this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(n&&D1(r,n),s.controller.draw(),n&&P1(r),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(s){return Cp(s,this.chartArea,this._minPadding)}getElementsAtEventForMode(s,r,a,n){const i=YB.modes[r];return typeof i=="function"?i(this,s,a,n):[]}getDatasetMeta(s){const r=this.data.datasets[s],a=this._metasets;let n=a.filter(i=>i&&i._dataset===r).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:s,_dataset:r,_parsed:[],_sorted:!1},a.push(n)),n}getContext(){return this.$context||(this.$context=M0(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(s){const r=this.data.datasets[s];if(!r)return!1;const a=this.getDatasetMeta(s);return typeof a.hidden=="boolean"?!a.hidden:!r.hidden}setDatasetVisibility(s,r){const a=this.getDatasetMeta(s);a.hidden=!r}toggleDataVisibility(s){this._hiddenIndices[s]=!this._hiddenIndices[s]}getDataVisibility(s){return!this._hiddenIndices[s]}_updateVisibility(s,r,a){const n=a?"show":"hide",i=this.getDatasetMeta(s),o=i.controller._resolveAnimations(void 0,n);Np(r)?(i.data[r].hidden=!a,this.update()):(this.setDatasetVisibility(s,a),o.update(i,{visible:a}),this.update(l=>l.datasetIndex===s?n:void 0))}hide(s,r){this._updateVisibility(s,r,!1)}show(s,r){this._updateVisibility(s,r,!0)}_destroyDatasetMeta(s){const r=this._metasets[s];r&&r.controller&&r.controller._destroy(),delete this._metasets[s]}_stop(){let s,r;for(this.stop(),Id.remove(this),s=0,r=this.data.datasets.length;s<r;++s)this._destroyDatasetMeta(s)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:s,ctx:r}=this;this._stop(),this.config.clearCache(),s&&(this.unbindEvents(),R6(s,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete hb[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...s){return this.canvas.toDataURL(...s)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const s=this._listeners,r=this.platform,a=(i,o)=>{r.addEventListener(this,i,o),s[i]=o},n=(i,o,l)=>{i.offsetX=o,i.offsetY=l,this._eventHandler(i)};Ur(this.options.events,i=>a(i,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const s=this._responsiveListeners,r=this.platform,a=(d,u)=>{r.addEventListener(this,d,u),s[d]=u},n=(d,u)=>{s[d]&&(r.removeEventListener(this,d,u),delete s[d])},i=(d,u)=>{this.canvas&&this.resize(d,u)};let o;const l=()=>{n("attach",l),this.attached=!0,this.resize(),a("resize",i),a("detach",o)};o=()=>{this.attached=!1,n("resize",i),this._stop(),this._resize(0,0),a("attach",l)},r.isAttached(this.canvas)?l():o()}unbindEvents(){Ur(this._listeners,(s,r)=>{this.platform.removeEventListener(this,r,s)}),this._listeners={},Ur(this._responsiveListeners,(s,r)=>{this.platform.removeEventListener(this,r,s)}),this._responsiveListeners=void 0}updateHoverStyle(s,r,a){const n=a?"set":"remove";let i,o,l,d;for(r==="dataset"&&(i=this.getDatasetMeta(s[0].datasetIndex),i.controller["_"+n+"DatasetHoverStyle"]()),l=0,d=s.length;l<d;++l){o=s[l];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[n+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(s){const r=this._active||[],a=s.map(({datasetIndex:i,index:o})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[o],index:o}});!Lb(a,r)&&(this._active=a,this._lastEvent=null,this._updateHoverStyles(a,r))}notifyPlugins(s,r,a){return this._plugins.notify(this,s,r,a)}isPluginEnabled(s){return this._plugins._cache.filter(r=>r.plugin.id===s).length===1}_updateHoverStyles(s,r,a){const n=this.options.hover,i=(d,u)=>d.filter(h=>!u.some(f=>h.datasetIndex===f.datasetIndex&&h.index===f.index)),o=i(r,s),l=a?s:i(s,r);o.length&&this.updateHoverStyle(o,n.mode,!1),l.length&&n.mode&&this.updateHoverStyle(l,n.mode,!0)}_eventHandler(s,r){const a={event:s,replay:r,cancelable:!0,inChartArea:this.isPointInArea(s)},n=o=>(o.options.events||this.options.events).includes(s.native.type);if(this.notifyPlugins("beforeEvent",a,n)===!1)return;const i=this._handleEvent(s,r,a.inChartArea);return a.cancelable=!1,this.notifyPlugins("afterEvent",a,n),(i||a.changed)&&this.render(),this}_handleEvent(s,r,a){const{_active:n=[],options:i}=this,o=r,l=this._getActiveElements(s,n,a,o),d=tI(s),u=Qz(s,this._lastEvent,a,d);a&&(this._lastEvent=null,oa(i.onHover,[s,l,this],this),d&&oa(i.onClick,[s,l,this],this));const h=!Lb(l,n);return(h||r)&&(this._active=l,this._updateHoverStyles(l,n,r)),this._lastEvent=u,h}_getActiveElements(s,r,a,n){if(s.type==="mouseout")return[];if(!a)return r;const i=this.options.hover;return this.getElementsAtEventForMode(s,i.mode,i,n)}},ds(Xu,"defaults",Ga),ds(Xu,"instances",hb),ds(Xu,"overrides",_0),ds(Xu,"registry",$c),ds(Xu,"version",Gz),ds(Xu,"getChart",pS),Xu);function gS(){return Ur(Zp.instances,t=>t._plugins.invalidate())}function Jz(t,s,r){const{startAngle:a,x:n,y:i,outerRadius:o,innerRadius:l,options:d}=s,{borderWidth:u,borderJoinStyle:h}=d,f=Math.min(u/o,To(a-r));if(t.beginPath(),t.arc(n,i,o-u/2,a+f/2,r-f/2),l>0){const p=Math.min(u/l,To(a-r));t.arc(n,i,l+u/2,r-p/2,a+p/2,!0)}else{const p=Math.min(u/2,o*To(a-r));if(h==="round")t.arc(n,i,p,r-Vr/2,a+Vr/2,!0);else if(h==="bevel"){const g=2*p*p,v=-g*Math.cos(r+Vr/2)+n,y=-g*Math.sin(r+Vr/2)+i,b=g*Math.cos(a+Vr/2)+n,_=g*Math.sin(a+Vr/2)+i;t.lineTo(v,y),t.lineTo(b,_)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function Zz(t,s,r){const{startAngle:a,pixelMargin:n,x:i,y:o,outerRadius:l,innerRadius:d}=s;let u=n/l;t.beginPath(),t.arc(i,o,l,a-u,r+u),d>n?(u=n/d,t.arc(i,o,d,r+u,a-u,!0)):t.arc(i,o,n,r+bn,a-bn),t.closePath(),t.clip()}function e$(t){return oN(t,["outerStart","outerEnd","innerStart","innerEnd"])}function t$(t,s,r,a){const n=e$(t.options.borderRadius),i=(r-s)/2,o=Math.min(i,a*s/2),l=d=>{const u=(r-Math.min(i,d))*a/2;return pi(d,0,Math.min(i,u))};return{outerStart:l(n.outerStart),outerEnd:l(n.outerEnd),innerStart:pi(n.innerStart,0,o),innerEnd:pi(n.innerEnd,0,o)}}function jh(t,s,r,a){return{x:r+t*Math.cos(s),y:a+t*Math.sin(s)}}function zb(t,s,r,a,n,i){const{x:o,y:l,startAngle:d,pixelMargin:u,innerRadius:h}=s,f=Math.max(s.outerRadius+a+r-u,0),p=h>0?h+a+r+u:0;let g=0;const v=n-d;if(a){const G=h>0?h-a:0,K=f>0?f-a:0,X=(G+K)/2,se=X!==0?v*X/(X+a):v;g=(v-se)/2}const y=Math.max(.001,v*f-r/Vr)/f,b=(v-y)/2,_=d+b+g,k=n-b-g,{outerStart:A,outerEnd:R,innerStart:F,innerEnd:V}=t$(s,p,f,k-_),S=f-A,L=f-R,I=_+A/S,B=k-R/L,T=p+F,w=p+V,E=_+F/T,D=k-V/w;if(t.beginPath(),i){const G=(I+B)/2;if(t.arc(o,l,f,I,G),t.arc(o,l,f,G,B),R>0){const Z=jh(L,B,o,l);t.arc(Z.x,Z.y,R,B,k+bn)}const K=jh(w,k,o,l);if(t.lineTo(K.x,K.y),V>0){const Z=jh(w,D,o,l);t.arc(Z.x,Z.y,V,k+bn,D+Math.PI)}const X=(k-V/p+(_+F/p))/2;if(t.arc(o,l,p,k-V/p,X,!0),t.arc(o,l,p,X,_+F/p,!0),F>0){const Z=jh(T,E,o,l);t.arc(Z.x,Z.y,F,E+Math.PI,_-bn)}const se=jh(S,_,o,l);if(t.lineTo(se.x,se.y),A>0){const Z=jh(S,I,o,l);t.arc(Z.x,Z.y,A,_-bn,I)}}else{t.moveTo(o,l);const G=Math.cos(I)*f+o,K=Math.sin(I)*f+l;t.lineTo(G,K);const X=Math.cos(B)*f+o,se=Math.sin(B)*f+l;t.lineTo(X,se)}t.closePath()}function s$(t,s,r,a,n){const{fullCircles:i,startAngle:o,circumference:l}=s;let d=s.endAngle;if(i){zb(t,s,r,a,d,n);for(let u=0;u<i;++u)t.fill();isNaN(l)||(d=o+(l%Sa||Sa))}return zb(t,s,r,a,d,n),t.fill(),d}function r$(t,s,r,a,n){const{fullCircles:i,startAngle:o,circumference:l,options:d}=s,{borderWidth:u,borderJoinStyle:h,borderDash:f,borderDashOffset:p,borderRadius:g}=d,v=d.borderAlign==="inner";if(!u)return;t.setLineDash(f||[]),t.lineDashOffset=p,v?(t.lineWidth=u*2,t.lineJoin=h||"round"):(t.lineWidth=u,t.lineJoin=h||"bevel");let y=s.endAngle;if(i){zb(t,s,r,a,y,n);for(let b=0;b<i;++b)t.stroke();isNaN(l)||(y=o+(l%Sa||Sa))}v&&Zz(t,s,y),d.selfJoin&&y-o>=Vr&&g===0&&h!=="miter"&&Jz(t,s,y),i||(zb(t,s,r,a,y,n),t.stroke())}class Vf extends ru{constructor(r){super();ds(this,"circumference");ds(this,"endAngle");ds(this,"fullCircles");ds(this,"innerRadius");ds(this,"outerRadius");ds(this,"pixelMargin");ds(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,a,n){const i=this.getProps(["x","y"],n),{angle:o,distance:l}=dE(i,{x:r,y:a}),{startAngle:d,endAngle:u,innerRadius:h,outerRadius:f,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),g=(this.options.spacing+this.options.borderWidth)/2,v=ar(p,u-d),y=_p(o,d,u)&&d!==u,b=v>=Sa||y,_=Vd(l,h+g,f+g);return b&&_}getCenterPoint(r){const{x:a,y:n,startAngle:i,endAngle:o,innerRadius:l,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:u,spacing:h}=this.options,f=(i+o)/2,p=(l+d+h+u)/2;return{x:a+Math.cos(f)*p,y:n+Math.sin(f)*p}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:a,circumference:n}=this,i=(a.offset||0)/4,o=(a.spacing||0)/2,l=a.circular;if(this.pixelMargin=a.borderAlign==="inner"?.33:0,this.fullCircles=n>Sa?Math.floor(n/Sa):0,n===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const d=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(d)*i,Math.sin(d)*i);const u=1-Math.sin(Math.min(Vr,n||0)),h=i*u;r.fillStyle=a.backgroundColor,r.strokeStyle=a.borderColor,s$(r,this,h,o,l),r$(r,this,h,o,l),r.restore()}}ds(Vf,"id","arc"),ds(Vf,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),ds(Vf,"defaultRoutes",{backgroundColor:"backgroundColor"}),ds(Vf,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function $E(t,s,r=s){t.lineCap=ar(r.borderCapStyle,s.borderCapStyle),t.setLineDash(ar(r.borderDash,s.borderDash)),t.lineDashOffset=ar(r.borderDashOffset,s.borderDashOffset),t.lineJoin=ar(r.borderJoinStyle,s.borderJoinStyle),t.lineWidth=ar(r.borderWidth,s.borderWidth),t.strokeStyle=ar(r.borderColor,s.borderColor)}function a$(t,s,r){t.lineTo(r.x,r.y)}function n$(t){return t.stepped?AI:t.tension||t.cubicInterpolationMode==="monotone"?EI:a$}function UE(t,s,r={}){const a=t.length,{start:n=0,end:i=a-1}=r,{start:o,end:l}=s,d=Math.max(n,o),u=Math.min(i,l),h=n<o&&i<o||n>l&&i>l;return{count:a,start:d,loop:s.loop,ilen:u<d&&!h?a+u-d:u-d}}function i$(t,s,r,a){const{points:n,options:i}=s,{count:o,start:l,loop:d,ilen:u}=UE(n,r,a),h=n$(i);let{move:f=!0,reverse:p}=a||{},g,v,y;for(g=0;g<=u;++g)v=n[(l+(p?u-g:g))%o],!v.skip&&(f?(t.moveTo(v.x,v.y),f=!1):h(t,y,v,p,i.stepped),y=v);return d&&(v=n[(l+(p?u:0))%o],h(t,y,v,p,i.stepped)),!!d}function o$(t,s,r,a){const n=s.points,{count:i,start:o,ilen:l}=UE(n,r,a),{move:d=!0,reverse:u}=a||{};let h=0,f=0,p,g,v,y,b,_;const k=R=>(o+(u?l-R:R))%i,A=()=>{y!==b&&(t.lineTo(h,b),t.lineTo(h,y),t.lineTo(h,_))};for(d&&(g=n[k(0)],t.moveTo(g.x,g.y)),p=0;p<=l;++p){if(g=n[k(p)],g.skip)continue;const R=g.x,F=g.y,V=R|0;V===v?(F<y?y=F:F>b&&(b=F),h=(f*h+R)/++f):(A(),t.lineTo(R,F),v=V,f=0,y=b=F),_=F}A()}function Hw(t){const s=t.options,r=s.borderDash&&s.borderDash.length;return!t._decimated&&!t._loop&&!s.tension&&s.cubicInterpolationMode!=="monotone"&&!s.stepped&&!r?o$:i$}function l$(t){return t.stepped?oB:t.tension||t.cubicInterpolationMode==="monotone"?lB:s0}function c$(t,s,r,a){let n=s._path;n||(n=s._path=new Path2D,s.path(n,r,a)&&n.closePath()),$E(t,s.options),t.stroke(n)}function d$(t,s,r,a){const{segments:n,options:i}=s,o=Hw(s);for(const l of n)$E(t,i,l.style),t.beginPath(),o(t,s,l,{start:r,end:r+a-1})&&t.closePath(),t.stroke()}const u$=typeof Path2D=="function";function m$(t,s,r,a){u$&&!s.options.segment?c$(t,s,r,a):d$(t,s,r,a)}class qd extends ru{constructor(s){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,s&&Object.assign(this,s)}updateControlPoints(s,r){const a=this.options;if((a.tension||a.cubicInterpolationMode==="monotone")&&!a.stepped&&!this._pointsUpdated){const n=a.spanGaps?this._loop:this._fullLoop;ZI(this._points,a,s,n,r),this._pointsUpdated=!0}}set points(s){this._points=s,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=xB(this,this.options.segment))}first(){const s=this.segments,r=this.points;return s.length&&r[s[0].start]}last(){const s=this.segments,r=this.points,a=s.length;return a&&r[s[a-1].end]}interpolate(s,r){const a=this.options,n=s[r],i=this.points,o=kE(this,{property:r,start:n,end:n});if(!o.length)return;const l=[],d=l$(a);let u,h;for(u=0,h=o.length;u<h;++u){const{start:f,end:p}=o[u],g=i[f],v=i[p];if(g===v){l.push(g);continue}const y=Math.abs((n-g[r])/(v[r]-g[r])),b=d(g,v,y,a.stepped);b[r]=s[r],l.push(b)}return l.length===1?l[0]:l}pathSegment(s,r,a){return Hw(this)(s,this,r,a)}path(s,r,a){const n=this.segments,i=Hw(this);let o=this._loop;r=r||0,a=a||this.points.length-r;for(const l of n)o&=i(s,this,l,{start:r,end:r+a-1});return!!o}draw(s,r,a,n){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(s.save(),m$(s,this,a,n),s.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ds(qd,"id","line"),ds(qd,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ds(qd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ds(qd,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"&&s!=="fill"});function yS(t,s,r,a){const n=t.options,{[r]:i}=t.getProps([r],a);return Math.abs(s-i)<n.radius+n.hitRadius}class tp extends ru{constructor(r){super();ds(this,"parsed");ds(this,"skip");ds(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,a,n){const i=this.options,{x:o,y:l}=this.getProps(["x","y"],n);return Math.pow(r-o,2)+Math.pow(a-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(r,a){return yS(this,r,"x",a)}inYRange(r,a){return yS(this,r,"y",a)}getCenterPoint(r){const{x:a,y:n}=this.getProps(["x","y"],r);return{x:a,y:n}}size(r){r=r||this.options||{};let a=r.radius||0;a=Math.max(a,a&&r.hoverRadius||0);const n=a&&r.borderWidth||0;return(a+n)*2}draw(r,a){const n=this.options;this.skip||n.radius<.1||!Cp(this,a,this.size(n)/2)||(r.strokeStyle=n.borderColor,r.lineWidth=n.borderWidth,r.fillStyle=n.backgroundColor,$w(r,n,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}ds(tp,"id","point"),ds(tp,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ds(tp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function VE(t,s){const{x:r,y:a,base:n,width:i,height:o}=t.getProps(["x","y","base","width","height"],s);let l,d,u,h,f;return t.horizontal?(f=o/2,l=Math.min(r,n),d=Math.max(r,n),u=a-f,h=a+f):(f=i/2,l=r-f,d=r+f,u=Math.min(a,n),h=Math.max(a,n)),{left:l,top:u,right:d,bottom:h}}function rm(t,s,r,a){return t?0:pi(s,r,a)}function h$(t,s,r){const a=t.options.borderWidth,n=t.borderSkipped,i=gE(a);return{t:rm(n.top,i.top,0,r),r:rm(n.right,i.right,0,s),b:rm(n.bottom,i.bottom,0,r),l:rm(n.left,i.left,0,s)}}function x$(t,s,r){const{enableBorderRadius:a}=t.getProps(["enableBorderRadius"]),n=t.options.borderRadius,i=Vh(n),o=Math.min(s,r),l=t.borderSkipped,d=a||fr(n);return{topLeft:rm(!d||l.top||l.left,i.topLeft,0,o),topRight:rm(!d||l.top||l.right,i.topRight,0,o),bottomLeft:rm(!d||l.bottom||l.left,i.bottomLeft,0,o),bottomRight:rm(!d||l.bottom||l.right,i.bottomRight,0,o)}}function f$(t){const s=VE(t),r=s.right-s.left,a=s.bottom-s.top,n=h$(t,r/2,a/2),i=x$(t,r/2,a/2);return{outer:{x:s.left,y:s.top,w:r,h:a,radius:i},inner:{x:s.left+n.l,y:s.top+n.t,w:r-n.l-n.r,h:a-n.t-n.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,i.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(n.b,n.r))}}}}function Fv(t,s,r,a){const n=s===null,i=r===null,l=t&&!(n&&i)&&VE(t,a);return l&&(n||Vd(s,l.left,l.right))&&(i||Vd(r,l.top,l.bottom))}function p$(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function g$(t,s){t.rect(s.x,s.y,s.w,s.h)}function Rv(t,s,r={}){const a=t.x!==r.x?-s:0,n=t.y!==r.y?-s:0,i=(t.x+t.w!==r.x+r.w?s:0)-a,o=(t.y+t.h!==r.y+r.h?s:0)-n;return{x:t.x+a,y:t.y+n,w:t.w+i,h:t.h+o,radius:t.radius}}class sp extends ru{constructor(s){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,s&&Object.assign(this,s)}draw(s){const{inflateAmount:r,options:{borderColor:a,backgroundColor:n}}=this,{inner:i,outer:o}=f$(this),l=p$(o.radius)?Ob:g$;s.save(),(o.w!==i.w||o.h!==i.h)&&(s.beginPath(),l(s,Rv(o,r,i)),s.clip(),l(s,Rv(i,-r,o)),s.fillStyle=a,s.fill("evenodd")),s.beginPath(),l(s,Rv(i,r)),s.fillStyle=n,s.fill(),s.restore()}inRange(s,r,a){return Fv(this,s,r,a)}inXRange(s,r){return Fv(this,s,null,r)}inYRange(s,r){return Fv(this,null,s,r)}getCenterPoint(s){const{x:r,y:a,base:n,horizontal:i}=this.getProps(["x","y","base","horizontal"],s);return{x:i?(r+n)/2:r,y:i?a:(a+n)/2}}getRange(s){return s==="x"?this.width/2:this.height/2}}ds(sp,"id","bar"),ds(sp,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ds(sp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function y$(t,s,r){const a=t.segments,n=t.points,i=s.points,o=[];for(const l of a){let{start:d,end:u}=l;u=F1(d,u,n);const h=Ww(r,n[d],n[u],l.loop);if(!s.segments){o.push({source:l,target:h,start:n[d],end:n[u]});continue}const f=kE(s,h);for(const p of f){const g=Ww(r,i[p.start],i[p.end],p.loop),v=CE(l,n,g);for(const y of v)o.push({source:y,target:p,start:{[r]:bS(h,g,"start",Math.max)},end:{[r]:bS(h,g,"end",Math.min)}})}}return o}function Ww(t,s,r,a){if(a)return;let n=s[t],i=r[t];return t==="angle"&&(n=To(n),i=To(i)),{property:t,start:n,end:i}}function b$(t,s){const{x:r=null,y:a=null}=t||{},n=s.points,i=[];return s.segments.forEach(({start:o,end:l})=>{l=F1(o,l,n);const d=n[o],u=n[l];a!==null?(i.push({x:d.x,y:a}),i.push({x:u.x,y:a})):r!==null&&(i.push({x:r,y:d.y}),i.push({x:r,y:u.y}))}),i}function F1(t,s,r){for(;s>t;s--){const a=r[s];if(!isNaN(a.x)&&!isNaN(a.y))break}return s}function bS(t,s,r,a){return t&&s?a(t[r],s[r]):t?t[r]:s?s[r]:0}function qE(t,s){let r=[],a=!1;return on(t)?(a=!0,r=t):r=b$(t,s),r.length?new qd({points:r,options:{tension:0},_loop:a,_fullLoop:a}):null}function vS(t){return t&&t.fill!==!1}function v$(t,s,r){let n=t[s].fill;const i=[s];let o;if(!r)return n;for(;n!==!1&&i.indexOf(n)===-1;){if(!ji(n))return n;if(o=t[n],!o)return!1;if(o.visible)return n;i.push(n),n=o.fill}return!1}function w$(t,s,r){const a=_$(t);if(fr(a))return isNaN(a.value)?!1:a;let n=parseFloat(a);return ji(n)&&Math.floor(n)===n?j$(a[0],s,n,r):["origin","start","end","stack","shape"].indexOf(a)>=0&&a}function j$(t,s,r,a){return(t==="-"||t==="+")&&(r=s+r),r===s||r<0||r>=a?!1:r}function N$(t,s){let r=null;return t==="start"?r=s.bottom:t==="end"?r=s.top:fr(t)?r=s.getPixelForValue(t.value):s.getBasePixel&&(r=s.getBasePixel()),r}function S$(t,s,r){let a;return t==="start"?a=r:t==="end"?a=s.options.reverse?s.min:s.max:fr(t)?a=t.value:a=s.getBaseValue(),a}function _$(t){const s=t.options,r=s.fill;let a=ar(r&&r.target,r);return a===void 0&&(a=!!s.backgroundColor),a===!1||a===null?!1:a===!0?"origin":a}function C$(t){const{scale:s,index:r,line:a}=t,n=[],i=a.segments,o=a.points,l=k$(s,r);l.push(qE({x:null,y:s.bottom},a));for(let d=0;d<i.length;d++){const u=i[d];for(let h=u.start;h<=u.end;h++)A$(n,o[h],l)}return new qd({points:n,options:{}})}function k$(t,s){const r=[],a=t.getMatchingVisibleMetas("line");for(let n=0;n<a.length;n++){const i=a[n];if(i.index===s)break;i.hidden||r.unshift(i.dataset)}return r}function A$(t,s,r){const a=[];for(let n=0;n<r.length;n++){const i=r[n],{first:o,last:l,point:d}=E$(i,s,"x");if(!(!d||o&&l)){if(o)a.unshift(d);else if(t.push(d),!l)break}}t.push(...a)}function E$(t,s,r){const a=t.interpolate(s,r);if(!a)return{};const n=a[r],i=t.segments,o=t.points;let l=!1,d=!1;for(let u=0;u<i.length;u++){const h=i[u],f=o[h.start][r],p=o[h.end][r];if(Vd(n,f,p)){l=n===f,d=n===p;break}}return{first:l,last:d,point:a}}class HE{constructor(s){this.x=s.x,this.y=s.y,this.radius=s.radius}pathSegment(s,r,a){const{x:n,y:i,radius:o}=this;return r=r||{start:0,end:Sa},s.arc(n,i,o,r.end,r.start,!0),!a.bounds}interpolate(s){const{x:r,y:a,radius:n}=this,i=s.angle;return{x:r+Math.cos(i)*n,y:a+Math.sin(i)*n,angle:i}}}function T$(t){const{chart:s,fill:r,line:a}=t;if(ji(r))return D$(s,r);if(r==="stack")return C$(t);if(r==="shape")return!0;const n=P$(t);return n instanceof HE?n:qE(n,a)}function D$(t,s){const r=t.getDatasetMeta(s);return r&&t.isDatasetVisible(s)?r.dataset:null}function P$(t){return(t.scale||{}).getPointPositionForValue?L$(t):M$(t)}function M$(t){const{scale:s={},fill:r}=t,a=N$(r,s);if(ji(a)){const n=s.isHorizontal();return{x:n?a:null,y:n?null:a}}return null}function L$(t){const{scale:s,fill:r}=t,a=s.options,n=s.getLabels().length,i=a.reverse?s.max:s.min,o=S$(r,s,i),l=[];if(a.grid.circular){const d=s.getPointPositionForValue(0,i);return new HE({x:d.x,y:d.y,radius:s.getDistanceFromCenterForValue(o)})}for(let d=0;d<n;++d)l.push(s.getPointPositionForValue(d,o));return l}function Ov(t,s,r){const a=T$(s),{chart:n,index:i,line:o,scale:l,axis:d}=s,u=o.options,h=u.fill,f=u.backgroundColor,{above:p=f,below:g=f}=h||{},v=n.getDatasetMeta(i),y=AE(n,v);a&&o.points.length&&(D1(t,r),F$(t,{line:o,target:a,above:p,below:g,area:r,scale:l,axis:d,clip:y}),P1(t))}function F$(t,s){const{line:r,target:a,above:n,below:i,area:o,scale:l,clip:d}=s,u=r._loop?"angle":s.axis;t.save();let h=i;i!==n&&(u==="x"?(wS(t,a,o.top),Iv(t,{line:r,target:a,color:n,scale:l,property:u,clip:d}),t.restore(),t.save(),wS(t,a,o.bottom)):u==="y"&&(jS(t,a,o.left),Iv(t,{line:r,target:a,color:i,scale:l,property:u,clip:d}),t.restore(),t.save(),jS(t,a,o.right),h=n)),Iv(t,{line:r,target:a,color:h,scale:l,property:u,clip:d}),t.restore()}function wS(t,s,r){const{segments:a,points:n}=s;let i=!0,o=!1;t.beginPath();for(const l of a){const{start:d,end:u}=l,h=n[d],f=n[F1(d,u,n)];i?(t.moveTo(h.x,h.y),i=!1):(t.lineTo(h.x,r),t.lineTo(h.x,h.y)),o=!!s.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(f.x,r)}t.lineTo(s.first().x,r),t.closePath(),t.clip()}function jS(t,s,r){const{segments:a,points:n}=s;let i=!0,o=!1;t.beginPath();for(const l of a){const{start:d,end:u}=l,h=n[d],f=n[F1(d,u,n)];i?(t.moveTo(h.x,h.y),i=!1):(t.lineTo(r,h.y),t.lineTo(h.x,h.y)),o=!!s.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(r,f.y)}t.lineTo(r,s.first().y),t.closePath(),t.clip()}function Iv(t,s){const{line:r,target:a,property:n,color:i,scale:o,clip:l}=s,d=y$(r,a,n);for(const{source:u,target:h,start:f,end:p}of d){const{style:{backgroundColor:g=i}={}}=u,v=a!==!0;t.save(),t.fillStyle=g,R$(t,o,l,v&&Ww(n,f,p)),t.beginPath();const y=!!r.pathSegment(t,u);let b;if(v){y?t.closePath():NS(t,a,p,n);const _=!!a.pathSegment(t,h,{move:y,reverse:!0});b=y&&_,b||NS(t,a,f,n)}t.closePath(),t.fill(b?"evenodd":"nonzero"),t.restore()}}function R$(t,s,r,a){const n=s.chart.chartArea,{property:i,start:o,end:l}=a||{};if(i==="x"||i==="y"){let d,u,h,f;i==="x"?(d=o,u=n.top,h=l,f=n.bottom):(d=n.left,u=o,h=n.right,f=l),t.beginPath(),r&&(d=Math.max(d,r.left),h=Math.min(h,r.right),u=Math.max(u,r.top),f=Math.min(f,r.bottom)),t.rect(d,u,h-d,f-u),t.clip()}}function NS(t,s,r,a){const n=s.interpolate(r,a);n&&t.lineTo(n.x,n.y)}var O$={id:"filler",afterDatasetsUpdate(t,s,r){const a=(t.data.datasets||[]).length,n=[];let i,o,l,d;for(o=0;o<a;++o)i=t.getDatasetMeta(o),l=i.dataset,d=null,l&&l.options&&l instanceof qd&&(d={visible:t.isDatasetVisible(o),index:o,fill:w$(l,o,a),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:l}),i.$filler=d,n.push(d);for(o=0;o<a;++o)d=n[o],!(!d||d.fill===!1)&&(d.fill=v$(n,o,r.propagate))},beforeDraw(t,s,r){const a=r.drawTime==="beforeDraw",n=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let o=n.length-1;o>=0;--o){const l=n[o].$filler;l&&(l.line.updateControlPoints(i,l.axis),a&&l.fill&&Ov(t.ctx,l,i))}},beforeDatasetsDraw(t,s,r){if(r.drawTime!=="beforeDatasetsDraw")return;const a=t.getSortedVisibleDatasetMetas();for(let n=a.length-1;n>=0;--n){const i=a[n].$filler;vS(i)&&Ov(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,s,r){const a=s.meta.$filler;!vS(a)||r.drawTime!=="beforeDatasetDraw"||Ov(t.ctx,a,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const SS=(t,s)=>{let{boxHeight:r=s,boxWidth:a=s}=t;return t.usePointStyle&&(r=Math.min(r,s),a=t.pointStyleWidth||Math.min(a,s)),{boxWidth:a,boxHeight:r,itemHeight:Math.max(s,r)}},I$=(t,s)=>t!==null&&s!==null&&t.datasetIndex===s.datasetIndex&&t.index===s.index;class _S extends ru{constructor(s){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=s.chart,this.options=s.options,this.ctx=s.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(s,r,a){this.maxWidth=s,this.maxHeight=r,this._margins=a,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const s=this.options.labels||{};let r=oa(s.generateLabels,[this.chart],this)||[];s.filter&&(r=r.filter(a=>s.filter(a,this.chart.data))),s.sort&&(r=r.sort((a,n)=>s.sort(a,n,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:s,ctx:r}=this;if(!s.display){this.width=this.height=0;return}const a=s.labels,n=gi(a.font),i=n.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:d}=SS(a,i);let u,h;r.font=n.string,this.isHorizontal()?(u=this.maxWidth,h=this._fitRows(o,i,l,d)+10):(h=this.maxHeight,u=this._fitCols(o,n,l,d)+10),this.width=Math.min(u,s.maxWidth||this.maxWidth),this.height=Math.min(h,s.maxHeight||this.maxHeight)}_fitRows(s,r,a,n){const{ctx:i,maxWidth:o,options:{labels:{padding:l}}}=this,d=this.legendHitBoxes=[],u=this.lineWidths=[0],h=n+l;let f=s;i.textAlign="left",i.textBaseline="middle";let p=-1,g=-h;return this.legendItems.forEach((v,y)=>{const b=a+r/2+i.measureText(v.text).width;(y===0||u[u.length-1]+b+2*l>o)&&(f+=h,u[u.length-(y>0?0:1)]=0,g+=h,p++),d[y]={left:0,top:g,row:p,width:b,height:n},u[u.length-1]+=b+l}),f}_fitCols(s,r,a,n){const{ctx:i,maxHeight:o,options:{labels:{padding:l}}}=this,d=this.legendHitBoxes=[],u=this.columnSizes=[],h=o-s;let f=l,p=0,g=0,v=0,y=0;return this.legendItems.forEach((b,_)=>{const{itemWidth:k,itemHeight:A}=B$(a,r,i,b,n);_>0&&g+A+2*l>h&&(f+=p+l,u.push({width:p,height:g}),v+=p+l,y++,p=g=0),d[_]={left:v,top:g,col:y,width:k,height:A},p=Math.max(p,k),g+=A+l}),f+=p,u.push({width:p,height:g}),f}adjustHitBoxes(){if(!this.options.display)return;const s=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:a,labels:{padding:n},rtl:i}}=this,o=qh(i,this.left,this.width);if(this.isHorizontal()){let l=0,d=di(a,this.left+n,this.right-this.lineWidths[l]);for(const u of r)l!==u.row&&(l=u.row,d=di(a,this.left+n,this.right-this.lineWidths[l])),u.top+=this.top+s+n,u.left=o.leftForLtr(o.x(d),u.width),d+=u.width+n}else{let l=0,d=di(a,this.top+s+n,this.bottom-this.columnSizes[l].height);for(const u of r)u.col!==l&&(l=u.col,d=di(a,this.top+s+n,this.bottom-this.columnSizes[l].height)),u.top=d,u.left+=this.left+n,u.left=o.leftForLtr(o.x(u.left),u.width),d+=u.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const s=this.ctx;D1(s,this),this._draw(),P1(s)}}_draw(){const{options:s,columnSizes:r,lineWidths:a,ctx:n}=this,{align:i,labels:o}=s,l=Ga.color,d=qh(s.rtl,this.left,this.width),u=gi(o.font),{padding:h}=o,f=u.size,p=f/2;let g;this.drawTitle(),n.textAlign=d.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=u.string;const{boxWidth:v,boxHeight:y,itemHeight:b}=SS(o,f),_=function(V,S,L){if(isNaN(v)||v<=0||isNaN(y)||y<0)return;n.save();const I=ar(L.lineWidth,1);if(n.fillStyle=ar(L.fillStyle,l),n.lineCap=ar(L.lineCap,"butt"),n.lineDashOffset=ar(L.lineDashOffset,0),n.lineJoin=ar(L.lineJoin,"miter"),n.lineWidth=I,n.strokeStyle=ar(L.strokeStyle,l),n.setLineDash(ar(L.lineDash,[])),o.usePointStyle){const B={radius:y*Math.SQRT2/2,pointStyle:L.pointStyle,rotation:L.rotation,borderWidth:I},T=d.xPlus(V,v/2),w=S+p;pE(n,B,T,w,o.pointStyleWidth&&v)}else{const B=S+Math.max((f-y)/2,0),T=d.leftForLtr(V,v),w=Vh(L.borderRadius);n.beginPath(),Object.values(w).some(E=>E!==0)?Ob(n,{x:T,y:B,w:v,h:y,radius:w}):n.rect(T,B,v,y),n.fill(),I!==0&&n.stroke()}n.restore()},k=function(V,S,L){kp(n,L.text,V,S+b/2,u,{strikethrough:L.hidden,textAlign:d.textAlign(L.textAlign)})},A=this.isHorizontal(),R=this._computeTitleHeight();A?g={x:di(i,this.left+h,this.right-a[0]),y:this.top+h+R,line:0}:g={x:this.left+h,y:di(i,this.top+R+h,this.bottom-r[0].height),line:0},NE(this.ctx,s.textDirection);const F=b+h;this.legendItems.forEach((V,S)=>{n.strokeStyle=V.fontColor,n.fillStyle=V.fontColor;const L=n.measureText(V.text).width,I=d.textAlign(V.textAlign||(V.textAlign=o.textAlign)),B=v+p+L;let T=g.x,w=g.y;d.setWidth(this.width),A?S>0&&T+B+h>this.right&&(w=g.y+=F,g.line++,T=g.x=di(i,this.left+h,this.right-a[g.line])):S>0&&w+F>this.bottom&&(T=g.x=T+r[g.line].width+h,g.line++,w=g.y=di(i,this.top+R+h,this.bottom-r[g.line].height));const E=d.x(T);if(_(E,w,V),T=fI(I,T+v+p,A?T+B:this.right,s.rtl),k(d.x(T),w,V),A)g.x+=B+h;else if(typeof V.text!="string"){const D=u.lineHeight;g.y+=WE(V,D)+h}else g.y+=F}),SE(this.ctx,s.textDirection)}drawTitle(){const s=this.options,r=s.title,a=gi(r.font),n=xl(r.padding);if(!r.display)return;const i=qh(s.rtl,this.left,this.width),o=this.ctx,l=r.position,d=a.size/2,u=n.top+d;let h,f=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),h=this.top+u,f=di(s.align,f,this.right-p);else{const v=this.columnSizes.reduce((y,b)=>Math.max(y,b.height),0);h=u+di(s.align,this.top,this.bottom-v-s.labels.padding-this._computeTitleHeight())}const g=di(l,f,f+p);o.textAlign=i.textAlign(aN(l)),o.textBaseline="middle",o.strokeStyle=r.color,o.fillStyle=r.color,o.font=a.string,kp(o,r.text,g,h,a)}_computeTitleHeight(){const s=this.options.title,r=gi(s.font),a=xl(s.padding);return s.display?r.lineHeight+a.height:0}_getLegendItemAt(s,r){let a,n,i;if(Vd(s,this.left,this.right)&&Vd(r,this.top,this.bottom)){for(i=this.legendHitBoxes,a=0;a<i.length;++a)if(n=i[a],Vd(s,n.left,n.left+n.width)&&Vd(r,n.top,n.top+n.height))return this.legendItems[a]}return null}handleEvent(s){const r=this.options;if(!U$(s.type,r))return;const a=this._getLegendItemAt(s.x,s.y);if(s.type==="mousemove"||s.type==="mouseout"){const n=this._hoveredItem,i=I$(n,a);n&&!i&&oa(r.onLeave,[s,n,this],this),this._hoveredItem=a,a&&!i&&oa(r.onHover,[s,a,this],this)}else a&&oa(r.onClick,[s,a,this],this)}}function B$(t,s,r,a,n){const i=z$(a,t,s,r),o=$$(n,a,s.lineHeight);return{itemWidth:i,itemHeight:o}}function z$(t,s,r,a){let n=t.text;return n&&typeof n!="string"&&(n=n.reduce((i,o)=>i.length>o.length?i:o)),s+r.size/2+a.measureText(n).width}function $$(t,s,r){let a=t;return typeof s.text!="string"&&(a=WE(s,r)),a}function WE(t,s){const r=t.text?t.text.length:0;return s*r}function U$(t,s){return!!((t==="mousemove"||t==="mouseout")&&(s.onHover||s.onLeave)||s.onClick&&(t==="click"||t==="mouseup"))}var GE={id:"legend",_element:_S,start(t,s,r){const a=t.legend=new _S({ctx:t.ctx,options:r,chart:t});cl.configure(t,a,r),cl.addBox(t,a)},stop(t){cl.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,s,r){const a=t.legend;cl.configure(t,a,r),a.options=r},afterUpdate(t){const s=t.legend;s.buildLabels(),s.adjustHitBoxes()},afterEvent(t,s){s.replay||t.legend.handleEvent(s.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,s,r){const a=s.datasetIndex,n=r.chart;n.isDatasetVisible(a)?(n.hide(a),s.hidden=!0):(n.show(a),s.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const s=t.data.datasets,{labels:{usePointStyle:r,pointStyle:a,textAlign:n,color:i,useBorderRadius:o,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(d=>{const u=d.controller.getStyle(r?0:void 0),h=xl(u.borderWidth);return{text:s[d.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!d.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:u.borderColor,pointStyle:a||u.pointStyle,rotation:u.rotation,textAlign:n||u.textAlign,borderRadius:o&&(l||u.borderRadius),datasetIndex:d.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class YE extends ru{constructor(s){super(),this.chart=s.chart,this.options=s.options,this.ctx=s.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(s,r){const a=this.options;if(this.left=0,this.top=0,!a.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=s,this.height=this.bottom=r;const n=on(a.text)?a.text.length:1;this._padding=xl(a.padding);const i=n*gi(a.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const s=this.options.position;return s==="top"||s==="bottom"}_drawArgs(s){const{top:r,left:a,bottom:n,right:i,options:o}=this,l=o.align;let d=0,u,h,f;return this.isHorizontal()?(h=di(l,a,i),f=r+s,u=i-a):(o.position==="left"?(h=a+s,f=di(l,n,r),d=Vr*-.5):(h=i-s,f=di(l,r,n),d=Vr*.5),u=n-r),{titleX:h,titleY:f,maxWidth:u,rotation:d}}draw(){const s=this.ctx,r=this.options;if(!r.display)return;const a=gi(r.font),i=a.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:d,rotation:u}=this._drawArgs(i);kp(s,r.text,0,0,a,{color:r.color,maxWidth:d,rotation:u,textAlign:aN(r.align),textBaseline:"middle",translation:[o,l]})}}function V$(t,s){const r=new YE({ctx:t.ctx,options:s,chart:t});cl.configure(t,r,s),cl.addBox(t,r),t.titleBlock=r}var KE={id:"title",_element:YE,start(t,s,r){V$(t,r)},stop(t){const s=t.titleBlock;cl.removeBox(t,s),delete t.titleBlock},beforeUpdate(t,s,r){const a=t.titleBlock;cl.configure(t,a,r),a.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const qf={average(t){if(!t.length)return!1;let s,r,a=new Set,n=0,i=0;for(s=0,r=t.length;s<r;++s){const l=t[s].element;if(l&&l.hasValue()){const d=l.tooltipPosition();a.add(d.x),n+=d.y,++i}}return i===0||a.size===0?!1:{x:[...a].reduce((l,d)=>l+d)/a.size,y:n/i}},nearest(t,s){if(!t.length)return!1;let r=s.x,a=s.y,n=Number.POSITIVE_INFINITY,i,o,l;for(i=0,o=t.length;i<o;++i){const d=t[i].element;if(d&&d.hasValue()){const u=d.getCenterPoint(),h=Bw(s,u);h<n&&(n=h,l=d)}}if(l){const d=l.tooltipPosition();r=d.x,a=d.y}return{x:r,y:a}}};function Ic(t,s){return s&&(on(s)?Array.prototype.push.apply(t,s):t.push(s)),t}function Bd(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function q$(t,s){const{element:r,datasetIndex:a,index:n}=s,i=t.getDatasetMeta(a).controller,{label:o,value:l}=i.getLabelAndValue(n);return{chart:t,label:o,parsed:i.getParsed(n),raw:t.data.datasets[a].data[n],formattedValue:l,dataset:i.getDataset(),dataIndex:n,datasetIndex:a,element:r}}function CS(t,s){const r=t.chart.ctx,{body:a,footer:n,title:i}=t,{boxWidth:o,boxHeight:l}=s,d=gi(s.bodyFont),u=gi(s.titleFont),h=gi(s.footerFont),f=i.length,p=n.length,g=a.length,v=xl(s.padding);let y=v.height,b=0,_=a.reduce((R,F)=>R+F.before.length+F.lines.length+F.after.length,0);if(_+=t.beforeBody.length+t.afterBody.length,f&&(y+=f*u.lineHeight+(f-1)*s.titleSpacing+s.titleMarginBottom),_){const R=s.displayColors?Math.max(l,d.lineHeight):d.lineHeight;y+=g*R+(_-g)*d.lineHeight+(_-1)*s.bodySpacing}p&&(y+=s.footerMarginTop+p*h.lineHeight+(p-1)*s.footerSpacing);let k=0;const A=function(R){b=Math.max(b,r.measureText(R).width+k)};return r.save(),r.font=u.string,Ur(t.title,A),r.font=d.string,Ur(t.beforeBody.concat(t.afterBody),A),k=s.displayColors?o+2+s.boxPadding:0,Ur(a,R=>{Ur(R.before,A),Ur(R.lines,A),Ur(R.after,A)}),k=0,r.font=h.string,Ur(t.footer,A),r.restore(),b+=v.width,{width:b,height:y}}function H$(t,s){const{y:r,height:a}=s;return r<a/2?"top":r>t.height-a/2?"bottom":"center"}function W$(t,s,r,a){const{x:n,width:i}=a,o=r.caretSize+r.caretPadding;if(t==="left"&&n+i+o>s.width||t==="right"&&n-i-o<0)return!0}function G$(t,s,r,a){const{x:n,width:i}=r,{width:o,chartArea:{left:l,right:d}}=t;let u="center";return a==="center"?u=n<=(l+d)/2?"left":"right":n<=i/2?u="left":n>=o-i/2&&(u="right"),W$(u,t,s,r)&&(u="center"),u}function kS(t,s,r){const a=r.yAlign||s.yAlign||H$(t,r);return{xAlign:r.xAlign||s.xAlign||G$(t,s,r,a),yAlign:a}}function Y$(t,s){let{x:r,width:a}=t;return s==="right"?r-=a:s==="center"&&(r-=a/2),r}function K$(t,s,r){let{y:a,height:n}=t;return s==="top"?a+=r:s==="bottom"?a-=n+r:a-=n/2,a}function AS(t,s,r,a){const{caretSize:n,caretPadding:i,cornerRadius:o}=t,{xAlign:l,yAlign:d}=r,u=n+i,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:g}=Vh(o);let v=Y$(s,l);const y=K$(s,d,u);return d==="center"?l==="left"?v+=u:l==="right"&&(v-=u):l==="left"?v-=Math.max(h,p)+n:l==="right"&&(v+=Math.max(f,g)+n),{x:pi(v,0,a.width-s.width),y:pi(y,0,a.height-s.height)}}function Dy(t,s,r){const a=xl(r.padding);return s==="center"?t.x+t.width/2:s==="right"?t.x+t.width-a.right:t.x+a.left}function ES(t){return Ic([],Bd(t))}function X$(t,s,r){return M0(t,{tooltip:s,tooltipItems:r,type:"tooltip"})}function TS(t,s){const r=s&&s.dataset&&s.dataset.tooltip&&s.dataset.tooltip.callbacks;return r?t.override(r):t}const XE={beforeTitle:Rd,title(t){if(t.length>0){const s=t[0],r=s.chart.data.labels,a=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return s.dataset.label||"";if(s.label)return s.label;if(a>0&&s.dataIndex<a)return r[s.dataIndex]}return""},afterTitle:Rd,beforeBody:Rd,beforeLabel:Rd,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let s=t.dataset.label||"";s&&(s+=": ");const r=t.formattedValue;return Rr(r)||(s+=r),s},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Rd,afterBody:Rd,beforeFooter:Rd,footer:Rd,afterFooter:Rd};function to(t,s,r,a){const n=t[s].call(r,a);return typeof n>"u"?XE[s].call(r,a):n}class Gw extends ru{constructor(s){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=s.chart,this.options=s.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(s){this.options=s,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const s=this._cachedAnimations;if(s)return s;const r=this.chart,a=this.options.setContext(this.getContext()),n=a.enabled&&r.options.animation&&a.animations,i=new EE(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=X$(this.chart.getContext(),this,this._tooltipItems))}getTitle(s,r){const{callbacks:a}=r,n=to(a,"beforeTitle",this,s),i=to(a,"title",this,s),o=to(a,"afterTitle",this,s);let l=[];return l=Ic(l,Bd(n)),l=Ic(l,Bd(i)),l=Ic(l,Bd(o)),l}getBeforeBody(s,r){return ES(to(r.callbacks,"beforeBody",this,s))}getBody(s,r){const{callbacks:a}=r,n=[];return Ur(s,i=>{const o={before:[],lines:[],after:[]},l=TS(a,i);Ic(o.before,Bd(to(l,"beforeLabel",this,i))),Ic(o.lines,to(l,"label",this,i)),Ic(o.after,Bd(to(l,"afterLabel",this,i))),n.push(o)}),n}getAfterBody(s,r){return ES(to(r.callbacks,"afterBody",this,s))}getFooter(s,r){const{callbacks:a}=r,n=to(a,"beforeFooter",this,s),i=to(a,"footer",this,s),o=to(a,"afterFooter",this,s);let l=[];return l=Ic(l,Bd(n)),l=Ic(l,Bd(i)),l=Ic(l,Bd(o)),l}_createItems(s){const r=this._active,a=this.chart.data,n=[],i=[],o=[];let l=[],d,u;for(d=0,u=r.length;d<u;++d)l.push(q$(this.chart,r[d]));return s.filter&&(l=l.filter((h,f,p)=>s.filter(h,f,p,a))),s.itemSort&&(l=l.sort((h,f)=>s.itemSort(h,f,a))),Ur(l,h=>{const f=TS(s.callbacks,h);n.push(to(f,"labelColor",this,h)),i.push(to(f,"labelPointStyle",this,h)),o.push(to(f,"labelTextColor",this,h))}),this.labelColors=n,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(s,r){const a=this.options.setContext(this.getContext()),n=this._active;let i,o=[];if(!n.length)this.opacity!==0&&(i={opacity:0});else{const l=qf[a.position].call(this,n,this._eventPosition);o=this._createItems(a),this.title=this.getTitle(o,a),this.beforeBody=this.getBeforeBody(o,a),this.body=this.getBody(o,a),this.afterBody=this.getAfterBody(o,a),this.footer=this.getFooter(o,a);const d=this._size=CS(this,a),u=Object.assign({},l,d),h=kS(this.chart,a,u),f=AS(a,u,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,i={opacity:1,x:f.x,y:f.y,width:d.width,height:d.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),s&&a.external&&a.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(s,r,a,n){const i=this.getCaretPosition(s,a,n);r.lineTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.lineTo(i.x3,i.y3)}getCaretPosition(s,r,a){const{xAlign:n,yAlign:i}=this,{caretSize:o,cornerRadius:l}=a,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:f}=Vh(l),{x:p,y:g}=s,{width:v,height:y}=r;let b,_,k,A,R,F;return i==="center"?(R=g+y/2,n==="left"?(b=p,_=b-o,A=R+o,F=R-o):(b=p+v,_=b+o,A=R-o,F=R+o),k=b):(n==="left"?_=p+Math.max(d,h)+o:n==="right"?_=p+v-Math.max(u,f)-o:_=this.caretX,i==="top"?(A=g,R=A-o,b=_-o,k=_+o):(A=g+y,R=A+o,b=_+o,k=_-o),F=A),{x1:b,x2:_,x3:k,y1:A,y2:R,y3:F}}drawTitle(s,r,a){const n=this.title,i=n.length;let o,l,d;if(i){const u=qh(a.rtl,this.x,this.width);for(s.x=Dy(this,a.titleAlign,a),r.textAlign=u.textAlign(a.titleAlign),r.textBaseline="middle",o=gi(a.titleFont),l=a.titleSpacing,r.fillStyle=a.titleColor,r.font=o.string,d=0;d<i;++d)r.fillText(n[d],u.x(s.x),s.y+o.lineHeight/2),s.y+=o.lineHeight+l,d+1===i&&(s.y+=a.titleMarginBottom-l)}}_drawColorBox(s,r,a,n,i){const o=this.labelColors[a],l=this.labelPointStyles[a],{boxHeight:d,boxWidth:u}=i,h=gi(i.bodyFont),f=Dy(this,"left",i),p=n.x(f),g=d<h.lineHeight?(h.lineHeight-d)/2:0,v=r.y+g;if(i.usePointStyle){const y={radius:Math.min(u,d)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},b=n.leftForLtr(p,u)+u/2,_=v+d/2;s.strokeStyle=i.multiKeyBackground,s.fillStyle=i.multiKeyBackground,$w(s,y,b,_),s.strokeStyle=o.borderColor,s.fillStyle=o.backgroundColor,$w(s,y,b,_)}else{s.lineWidth=fr(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,s.strokeStyle=o.borderColor,s.setLineDash(o.borderDash||[]),s.lineDashOffset=o.borderDashOffset||0;const y=n.leftForLtr(p,u),b=n.leftForLtr(n.xPlus(p,1),u-2),_=Vh(o.borderRadius);Object.values(_).some(k=>k!==0)?(s.beginPath(),s.fillStyle=i.multiKeyBackground,Ob(s,{x:y,y:v,w:u,h:d,radius:_}),s.fill(),s.stroke(),s.fillStyle=o.backgroundColor,s.beginPath(),Ob(s,{x:b,y:v+1,w:u-2,h:d-2,radius:_}),s.fill()):(s.fillStyle=i.multiKeyBackground,s.fillRect(y,v,u,d),s.strokeRect(y,v,u,d),s.fillStyle=o.backgroundColor,s.fillRect(b,v+1,u-2,d-2))}s.fillStyle=this.labelTextColors[a]}drawBody(s,r,a){const{body:n}=this,{bodySpacing:i,bodyAlign:o,displayColors:l,boxHeight:d,boxWidth:u,boxPadding:h}=a,f=gi(a.bodyFont);let p=f.lineHeight,g=0;const v=qh(a.rtl,this.x,this.width),y=function(L){r.fillText(L,v.x(s.x+g),s.y+p/2),s.y+=p+i},b=v.textAlign(o);let _,k,A,R,F,V,S;for(r.textAlign=o,r.textBaseline="middle",r.font=f.string,s.x=Dy(this,b,a),r.fillStyle=a.bodyColor,Ur(this.beforeBody,y),g=l&&b!=="right"?o==="center"?u/2+h:u+2+h:0,R=0,V=n.length;R<V;++R){for(_=n[R],k=this.labelTextColors[R],r.fillStyle=k,Ur(_.before,y),A=_.lines,l&&A.length&&(this._drawColorBox(r,s,R,v,a),p=Math.max(f.lineHeight,d)),F=0,S=A.length;F<S;++F)y(A[F]),p=f.lineHeight;Ur(_.after,y)}g=0,p=f.lineHeight,Ur(this.afterBody,y),s.y-=i}drawFooter(s,r,a){const n=this.footer,i=n.length;let o,l;if(i){const d=qh(a.rtl,this.x,this.width);for(s.x=Dy(this,a.footerAlign,a),s.y+=a.footerMarginTop,r.textAlign=d.textAlign(a.footerAlign),r.textBaseline="middle",o=gi(a.footerFont),r.fillStyle=a.footerColor,r.font=o.string,l=0;l<i;++l)r.fillText(n[l],d.x(s.x),s.y+o.lineHeight/2),s.y+=o.lineHeight+a.footerSpacing}}drawBackground(s,r,a,n){const{xAlign:i,yAlign:o}=this,{x:l,y:d}=s,{width:u,height:h}=a,{topLeft:f,topRight:p,bottomLeft:g,bottomRight:v}=Vh(n.cornerRadius);r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,r.lineWidth=n.borderWidth,r.beginPath(),r.moveTo(l+f,d),o==="top"&&this.drawCaret(s,r,a,n),r.lineTo(l+u-p,d),r.quadraticCurveTo(l+u,d,l+u,d+p),o==="center"&&i==="right"&&this.drawCaret(s,r,a,n),r.lineTo(l+u,d+h-v),r.quadraticCurveTo(l+u,d+h,l+u-v,d+h),o==="bottom"&&this.drawCaret(s,r,a,n),r.lineTo(l+g,d+h),r.quadraticCurveTo(l,d+h,l,d+h-g),o==="center"&&i==="left"&&this.drawCaret(s,r,a,n),r.lineTo(l,d+f),r.quadraticCurveTo(l,d,l+f,d),r.closePath(),r.fill(),n.borderWidth>0&&r.stroke()}_updateAnimationTarget(s){const r=this.chart,a=this.$animations,n=a&&a.x,i=a&&a.y;if(n||i){const o=qf[s.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=CS(this,s),d=Object.assign({},o,this._size),u=kS(r,s,d),h=AS(s,d,u,r);(n._to!==h.x||i._to!==h.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(s){const r=this.options.setContext(this.getContext());let a=this.opacity;if(!a)return;this._updateAnimationTarget(r);const n={width:this.width,height:this.height},i={x:this.x,y:this.y};a=Math.abs(a)<.001?0:a;const o=xl(r.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&l&&(s.save(),s.globalAlpha=a,this.drawBackground(i,s,n,r),NE(s,r.textDirection),i.y+=o.top,this.drawTitle(i,s,r),this.drawBody(i,s,r),this.drawFooter(i,s,r),SE(s,r.textDirection),s.restore())}getActiveElements(){return this._active||[]}setActiveElements(s,r){const a=this._active,n=s.map(({datasetIndex:l,index:d})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[d],index:d}}),i=!Lb(a,n),o=this._positionChanged(n,r);(i||o)&&(this._active=n,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(s,r,a=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,i=this._active||[],o=this._getActiveElements(s,i,r,a),l=this._positionChanged(o,s),d=r||!Lb(o,i)||l;return d&&(this._active=o,(n.enabled||n.external)&&(this._eventPosition={x:s.x,y:s.y},this.update(!0,r))),d}_getActiveElements(s,r,a,n){const i=this.options;if(s.type==="mouseout")return[];if(!n)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(s,i.mode,i,a);return i.reverse&&o.reverse(),o}_positionChanged(s,r){const{caretX:a,caretY:n,options:i}=this,o=qf[i.position].call(this,s,r);return o!==!1&&(a!==o.x||n!==o.y)}}ds(Gw,"positioners",qf);var QE={id:"tooltip",_element:Gw,positioners:qf,afterInit(t,s,r){r&&(t.tooltip=new Gw({chart:t,options:r}))},beforeUpdate(t,s,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,s,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const s=t.tooltip;if(s&&s._willRender()){const r={tooltip:s};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;s.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,s){if(t.tooltip){const r=s.replay;t.tooltip.handleEvent(s.event,r,s.inChartArea)&&(s.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,s)=>s.bodyFont.size,boxWidth:(t,s)=>s.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:XE},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Q$=(t,s,r,a)=>(typeof s=="string"?(r=t.push(s)-1,a.unshift({index:r,label:s})):isNaN(s)&&(r=null),r);function J$(t,s,r,a){const n=t.indexOf(s);if(n===-1)return Q$(t,s,r,a);const i=t.lastIndexOf(s);return n!==i?r:n}const Z$=(t,s)=>t===null?null:pi(Math.round(t),0,s);function DS(t){const s=this.getLabels();return t>=0&&t<s.length?s[t]:t}class $b extends gx{constructor(s){super(s),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(s){const r=this._addedLabels;if(r.length){const a=this.getLabels();for(const{index:n,label:i}of r)a[n]===i&&a.splice(n,1);this._addedLabels=[]}super.init(s)}parse(s,r){if(Rr(s))return null;const a=this.getLabels();return r=isFinite(r)&&a[r]===s?r:J$(a,s,ar(r,s),this._addedLabels),Z$(r,a.length-1)}determineDataLimits(){const{minDefined:s,maxDefined:r}=this.getUserBounds();let{min:a,max:n}=this.getMinMax(!0);this.options.bounds==="ticks"&&(s||(a=0),r||(n=this.getLabels().length-1)),this.min=a,this.max=n}buildTicks(){const s=this.min,r=this.max,a=this.options.offset,n=[];let i=this.getLabels();i=s===0&&r===i.length-1?i:i.slice(s,r+1),this._valueRange=Math.max(i.length-(a?0:1),1),this._startValue=this.min-(a?.5:0);for(let o=s;o<=r;o++)n.push({value:o});return n}getLabelForValue(s){return DS.call(this,s)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(s){return typeof s!="number"&&(s=this.parse(s)),s===null?NaN:this.getPixelForDecimal((s-this._startValue)/this._valueRange)}getPixelForTick(s){const r=this.ticks;return s<0||s>r.length-1?null:this.getPixelForValue(r[s].value)}getValueForPixel(s){return Math.round(this._startValue+this.getDecimalForPixel(s)*this._valueRange)}getBasePixel(){return this.bottom}}ds($b,"id","category"),ds($b,"defaults",{ticks:{callback:DS}});function eU(t,s){const r=[],{bounds:n,step:i,min:o,max:l,precision:d,count:u,maxTicks:h,maxDigits:f,includeBounds:p}=t,g=i||1,v=h-1,{min:y,max:b}=s,_=!Rr(o),k=!Rr(l),A=!Rr(u),R=(b-y)/(f+1);let F=A6((b-y)/v/g)*g,V,S,L,I;if(F<1e-14&&!_&&!k)return[{value:y},{value:b}];I=Math.ceil(b/F)-Math.floor(y/F),I>v&&(F=A6(I*F/v/g)*g),Rr(d)||(V=Math.pow(10,d),F=Math.ceil(F*V)/V),n==="ticks"?(S=Math.floor(y/F)*F,L=Math.ceil(b/F)*F):(S=y,L=b),_&&k&&i&&iI((l-o)/i,F/1e3)?(I=Math.round(Math.min((l-o)/F,h)),F=(l-o)/I,S=o,L=l):A?(S=_?o:S,L=k?l:L,I=u-1,F=(L-S)/I):(I=(L-S)/F,Jf(I,Math.round(I),F/1e3)?I=Math.round(I):I=Math.ceil(I));const B=Math.max(E6(F),E6(S));V=Math.pow(10,Rr(d)?B:d),S=Math.round(S*V)/V,L=Math.round(L*V)/V;let T=0;for(_&&(p&&S!==o?(r.push({value:o}),S<o&&T++,Jf(Math.round((S+T*F)*V)/V,o,PS(o,R,t))&&T++):S<o&&T++);T<I;++T){const w=Math.round((S+T*F)*V)/V;if(k&&w>l)break;r.push({value:w})}return k&&p&&L!==l?r.length&&Jf(r[r.length-1].value,l,PS(l,R,t))?r[r.length-1].value=l:r.push({value:l}):(!k||L===l)&&r.push({value:L}),r}function PS(t,s,{horizontal:r,minRotation:a}){const n=Ud(a),i=(r?Math.sin(n):Math.cos(n))||.001,o=.75*s*(""+t).length;return Math.min(s/i,o)}class tU extends gx{constructor(s){super(s),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(s,r){return Rr(s)||(typeof s=="number"||s instanceof Number)&&!isFinite(+s)?null:+s}handleTickRangeOptions(){const{beginAtZero:s}=this.options,{minDefined:r,maxDefined:a}=this.getUserBounds();let{min:n,max:i}=this;const o=d=>n=r?n:d,l=d=>i=a?i:d;if(s){const d=Yc(n),u=Yc(i);d<0&&u<0?l(0):d>0&&u>0&&o(0)}if(n===i){let d=i===0?1:Math.abs(i*.05);l(i+d),s||o(n-d)}this.min=n,this.max=i}getTickLimit(){const s=this.options.ticks;let{maxTicksLimit:r,stepSize:a}=s,n;return a?(n=Math.ceil(this.max/a)-Math.floor(this.min/a)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${a} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),r=r||11),r&&(n=Math.min(r,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const s=this.options,r=s.ticks;let a=this.getTickLimit();a=Math.max(2,a);const n={maxTicks:a,bounds:s.bounds,min:s.min,max:s.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},i=this._range||this,o=eU(n,i);return s.bounds==="ticks"&&oI(o,this,"value"),s.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const s=this.ticks;let r=this.min,a=this.max;if(super.configure(),this.options.offset&&s.length){const n=(a-r)/Math.max(s.length-1,1)/2;r-=n,a+=n}this._startValue=r,this._endValue=a,this._valueRange=a-r}getLabelForValue(s){return iN(s,this.chart.options.locale,this.options.ticks.format)}}class Ub extends tU{determineDataLimits(){const{min:s,max:r}=this.getMinMax(!0);this.min=ji(s)?s:0,this.max=ji(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const s=this.isHorizontal(),r=s?this.width:this.height,a=Ud(this.options.ticks.minRotation),n=(s?Math.sin(a):Math.cos(a))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,i.lineHeight/n))}getPixelForValue(s){return s===null?NaN:this.getPixelForDecimal((s-this._startValue)/this._valueRange)}getValueForPixel(s){return this._startValue+this.getDecimalForPixel(s)*this._valueRange}}ds(Ub,"id","linear"),ds(Ub,"defaults",{ticks:{callback:fE.formatters.numeric}});const R1={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ro=Object.keys(R1);function MS(t,s){return t-s}function LS(t,s){if(Rr(s))return null;const r=t._adapter,{parser:a,round:n,isoWeekday:i}=t._parseOpts;let o=s;return typeof a=="function"&&(o=a(o)),ji(o)||(o=typeof a=="string"?r.parse(o,a):r.parse(o)),o===null?null:(n&&(o=n==="week"&&(Sp(i)||i===!0)?r.startOf(o,"isoWeek",i):r.startOf(o,n)),+o)}function FS(t,s,r,a){const n=ro.length;for(let i=ro.indexOf(t);i<n-1;++i){const o=R1[ro[i]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((r-s)/(l*o.size))<=a)return ro[i]}return ro[n-1]}function sU(t,s,r,a,n){for(let i=ro.length-1;i>=ro.indexOf(r);i--){const o=ro[i];if(R1[o].common&&t._adapter.diff(n,a,o)>=s-1)return o}return ro[r?ro.indexOf(r):0]}function rU(t){for(let s=ro.indexOf(t)+1,r=ro.length;s<r;++s)if(R1[ro[s]].common)return ro[s]}function RS(t,s,r){if(!r)t[s]=!0;else if(r.length){const{lo:a,hi:n}=rN(r,s),i=r[a]>=s?r[a]:r[n];t[i]=!0}}function aU(t,s,r,a){const n=t._adapter,i=+n.startOf(s[0].value,a),o=s[s.length-1].value;let l,d;for(l=i;l<=o;l=+n.add(l,1,a))d=r[l],d>=0&&(s[d].major=!0);return s}function OS(t,s,r){const a=[],n={},i=s.length;let o,l;for(o=0;o<i;++o)l=s[o],n[l]=o,a.push({value:l,major:!1});return i===0||!r?a:aU(t,a,n,r)}class Vb extends gx{constructor(s){super(s),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(s,r={}){const a=s.time||(s.time={}),n=this._adapter=new VB._date(s.adapters.date);n.init(r),Qf(a.displayFormats,n.formats()),this._parseOpts={parser:a.parser,round:a.round,isoWeekday:a.isoWeekday},super.init(s),this._normalized=r.normalized}parse(s,r){return s===void 0?null:LS(this,s)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const s=this.options,r=this._adapter,a=s.time.unit||"day";let{min:n,max:i,minDefined:o,maxDefined:l}=this.getUserBounds();function d(u){!o&&!isNaN(u.min)&&(n=Math.min(n,u.min)),!l&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!o||!l)&&(d(this._getLabelBounds()),(s.bounds!=="ticks"||s.ticks.source!=="labels")&&d(this.getMinMax(!1))),n=ji(n)&&!isNaN(n)?n:+r.startOf(Date.now(),a),i=ji(i)&&!isNaN(i)?i:+r.endOf(Date.now(),a)+1,this.min=Math.min(n,i-1),this.max=Math.max(n+1,i)}_getLabelBounds(){const s=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;return s.length&&(r=s[0],a=s[s.length-1]),{min:r,max:a}}buildTicks(){const s=this.options,r=s.time,a=s.ticks,n=a.source==="labels"?this.getLabelTimestamps():this._generate();s.bounds==="ticks"&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const i=this.min,o=this.max,l=mI(n,i,o);return this._unit=r.unit||(a.autoSkip?FS(r.minUnit,this.min,this.max,this._getLabelCapacity(i)):sU(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=!a.major.enabled||this._unit==="year"?void 0:rU(this._unit),this.initOffsets(n),s.reverse&&l.reverse(),OS(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(s=>+s.value))}initOffsets(s=[]){let r=0,a=0,n,i;this.options.offset&&s.length&&(n=this.getDecimalForValue(s[0]),s.length===1?r=1-n:r=(this.getDecimalForValue(s[1])-n)/2,i=this.getDecimalForValue(s[s.length-1]),s.length===1?a=i:a=(i-this.getDecimalForValue(s[s.length-2]))/2);const o=s.length<3?.5:.25;r=pi(r,0,o),a=pi(a,0,o),this._offsets={start:r,end:a,factor:1/(r+1+a)}}_generate(){const s=this._adapter,r=this.min,a=this.max,n=this.options,i=n.time,o=i.unit||FS(i.minUnit,r,a,this._getLabelCapacity(r)),l=ar(n.ticks.stepSize,1),d=o==="week"?i.isoWeekday:!1,u=Sp(d)||d===!0,h={};let f=r,p,g;if(u&&(f=+s.startOf(f,"isoWeek",d)),f=+s.startOf(f,u?"day":o),s.diff(a,r,o)>1e5*l)throw new Error(r+" and "+a+" are too far apart with stepSize of "+l+" "+o);const v=n.ticks.source==="data"&&this.getDataTimestamps();for(p=f,g=0;p<a;p=+s.add(p,l,o),g++)RS(h,p,v);return(p===a||n.bounds==="ticks"||g===1)&&RS(h,p,v),Object.keys(h).sort(MS).map(y=>+y)}getLabelForValue(s){const r=this._adapter,a=this.options.time;return a.tooltipFormat?r.format(s,a.tooltipFormat):r.format(s,a.displayFormats.datetime)}format(s,r){const n=this.options.time.displayFormats,i=this._unit,o=r||n[i];return this._adapter.format(s,o)}_tickFormatFunction(s,r,a,n){const i=this.options,o=i.ticks.callback;if(o)return oa(o,[s,r,a],this);const l=i.time.displayFormats,d=this._unit,u=this._majorUnit,h=d&&l[d],f=u&&l[u],p=a[r],g=u&&f&&p&&p.major;return this._adapter.format(s,n||(g?f:h))}generateTickLabels(s){let r,a,n;for(r=0,a=s.length;r<a;++r)n=s[r],n.label=this._tickFormatFunction(n.value,r,s)}getDecimalForValue(s){return s===null?NaN:(s-this.min)/(this.max-this.min)}getPixelForValue(s){const r=this._offsets,a=this.getDecimalForValue(s);return this.getPixelForDecimal((r.start+a)*r.factor)}getValueForPixel(s){const r=this._offsets,a=this.getDecimalForPixel(s)/r.factor-r.end;return this.min+a*(this.max-this.min)}_getLabelSize(s){const r=this.options.ticks,a=this.ctx.measureText(s).width,n=Ud(this.isHorizontal()?r.maxRotation:r.minRotation),i=Math.cos(n),o=Math.sin(n),l=this._resolveTickFontOptions(0).size;return{w:a*i+l*o,h:a*o+l*i}}_getLabelCapacity(s){const r=this.options.time,a=r.displayFormats,n=a[r.unit]||a.millisecond,i=this._tickFormatFunction(s,0,OS(this,[s],this._majorUnit),n),o=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let s=this._cache.data||[],r,a;if(s.length)return s;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(r=0,a=n.length;r<a;++r)s=s.concat(n[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(s)}getLabelTimestamps(){const s=this._cache.labels||[];let r,a;if(s.length)return s;const n=this.getLabels();for(r=0,a=n.length;r<a;++r)s.push(LS(this,n[r]));return this._cache.labels=this._normalized?s:this.normalize(s)}normalize(s){return mE(s.sort(MS))}}ds(Vb,"id","time"),ds(Vb,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Py(t,s,r){let a=0,n=t.length-1,i,o,l,d;r?(s>=t[a].pos&&s<=t[n].pos&&({lo:a,hi:n}=c0(t,"pos",s)),{pos:i,time:l}=t[a],{pos:o,time:d}=t[n]):(s>=t[a].time&&s<=t[n].time&&({lo:a,hi:n}=c0(t,"time",s)),{time:i,pos:l}=t[a],{time:o,pos:d}=t[n]);const u=o-i;return u?l+(d-l)*(s-i)/u:l}class IS extends Vb{constructor(s){super(s),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const s=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(s);this._minPos=Py(r,this.min),this._tableRange=Py(r,this.max)-this._minPos,super.initOffsets(s)}buildLookupTable(s){const{min:r,max:a}=this,n=[],i=[];let o,l,d,u,h;for(o=0,l=s.length;o<l;++o)u=s[o],u>=r&&u<=a&&n.push(u);if(n.length<2)return[{time:r,pos:0},{time:a,pos:1}];for(o=0,l=n.length;o<l;++o)h=n[o+1],d=n[o-1],u=n[o],Math.round((h+d)/2)!==u&&i.push({time:u,pos:o/(l-1)});return i}_generate(){const s=this.min,r=this.max;let a=super.getDataTimestamps();return(!a.includes(s)||!a.length)&&a.splice(0,0,s),(!a.includes(r)||a.length===1)&&a.push(r),a.sort((n,i)=>n-i)}_getTimestampsForTable(){let s=this._cache.all||[];if(s.length)return s;const r=this.getDataTimestamps(),a=this.getLabelTimestamps();return r.length&&a.length?s=this.normalize(r.concat(a)):s=r.length?r:a,s=this._cache.all=s,s}getDecimalForValue(s){return(Py(this._table,s)-this._minPos)/this._tableRange}getValueForPixel(s){const r=this._offsets,a=this.getDecimalForPixel(s)/r.factor-r.end;return Py(this._table,a*this._tableRange+this._minPos,!0)}}ds(IS,"id","timeseries"),ds(IS,"defaults",Vb.defaults);const JE="label";function BS(t,s){typeof t=="function"?t(s):t&&(t.current=s)}function nU(t,s){const r=t.options;r&&s&&Object.assign(r,s)}function ZE(t,s){t.labels=s}function e8(t,s){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:JE;const a=[];t.datasets=s.map(n=>{const i=t.datasets.find(o=>o[r]===n[r]);return!i||!n.data||a.includes(i)?{...n}:(a.push(i),Object.assign(i,n),i)})}function iU(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:JE;const r={labels:[],datasets:[]};return ZE(r,t.labels),e8(r,t.datasets,s),r}function oU(t,s){const{height:r=150,width:a=300,redraw:n=!1,datasetIdKey:i,type:o,data:l,options:d,plugins:u=[],fallbackContent:h,updateMode:f,...p}=t,g=N.useRef(null),v=N.useRef(null),y=()=>{g.current&&(v.current=new Zp(g.current,{type:o,data:iU(l,i),options:d&&{...d},plugins:u}),BS(s,v.current))},b=()=>{BS(s,null),v.current&&(v.current.destroy(),v.current=null)};return N.useEffect(()=>{!n&&v.current&&d&&nU(v.current,d)},[n,d]),N.useEffect(()=>{!n&&v.current&&ZE(v.current.config.data,l.labels)},[n,l.labels]),N.useEffect(()=>{!n&&v.current&&l.datasets&&e8(v.current.config.data,l.datasets,i)},[n,l.datasets]),N.useEffect(()=>{v.current&&(n?(b(),setTimeout(y)):v.current.update(f))},[n,d,l.labels,l.datasets,f]),N.useEffect(()=>{v.current&&(b(),setTimeout(y))},[o]),N.useEffect(()=>(y(),()=>b()),[]),An.createElement("canvas",{ref:g,role:"img",height:r,width:a,...p},h)}const lU=N.forwardRef(oU);function xN(t,s){return Zp.register(s),N.forwardRef((r,a)=>An.createElement(lU,{...r,ref:a,type:t}))}const cU=xN("line",ub),t8=xN("bar",db),dU=xN("pie",Uw);async function uU(t){const{data:s}=await Ze.post("/login",t);await rE(s.token)}async function qb(){const{data:t}=await Ze.get("/user");return t}async function mU(){await Ze.get("/logout",{}),await rE(null)}const xb={admin:{dashboard:{view:!0,edit:!0},hrMaster:{view:!0},show:{view:!0,edit:!0},employeeMaster:{view:!0,edit:!0,delete:!0},departmentMaster:{view:!0,edit:!0},shiftTime:{view:!0,edit:!0},grouproster:{view:!0,edit:!0},resignation:{view:!0,edit:!0},termination:{view:!0,edit:!0},userManagement:{view:!0,edit:!0,delete:!0},allowanceDeduction:{view:!0},createNewAllowance:{view:!0,edit:!0},createNewDeduction:{view:!0,edit:!0},loans:{view:!0},viewLoans:{view:!0,edit:!0},employeeLoan:{view:!0,edit:!0},salaryProcess:{view:!0},SalaryProcessPage:{view:!0,edit:!0},SalaryPage:{view:!0},timeAttendance:{view:!0},TimeCard:{view:!0,edit:!0},Overtime:{view:!0,edit:!0},leaveMaster:{view:!0,edit:!0},leaveApproval:{view:!0,approve:!0},hrLeaveApproval:{view:!0,approve:!0},noPayManagement:{view:!0,edit:!0},leavecalendar:{view:!0},reports:{view:!0},utilities:{view:!0},pms:{view:!0},pmsDashboard:{view:!0},performanceReviews:{view:!0,edit:!0},kpis:{view:!0,edit:!0},taskApproval:{view:!0,approve:!0},myKPIs:{view:!0},employeeEvaluation:{view:!0,edit:!0},lms:{view:!0},lmsDashboard:{view:!0},manageExams:{view:!0,edit:!0},manageCourses:{view:!0,edit:!0},myProgress:{view:!0},lmsUserStats:{view:!0},accounting:{view:!0},accountingDashboard:{view:!0},customer:{view:!0,edit:!0},center:{view:!0,edit:!0},chartOfAccounts:{view:!0,edit:!0},accountList:{view:!0,edit:!0},supplierEnterBill:{view:!0,edit:!0},payment:{view:!0,edit:!0},advancePayment:{view:!0,edit:!0},makeDeposit:{view:!0,edit:!0},receipt:{view:!0,edit:!0},createUtilityBill:{view:!0,edit:!0},utilityBillPayment:{view:!0,edit:!0},journalEntry:{view:!0,edit:!0},pettyCash:{view:!0,edit:!0},cheque:{view:!0,edit:!0},bankReconciliation:{view:!0,edit:!0},transactions:{view:!0,edit:!0},transactionsList:{view:!0,edit:!0},salesOrder:{view:!0,edit:!0},salesReturn:{view:!0,edit:!0},grn:{view:!0,edit:!0},purchaseReturn:{view:!0,edit:!0},purchaseOrder:{view:!0,edit:!0},stockTransfer:{view:!0,edit:!0},stockVerification:{view:!0,edit:!0},ledger:{view:!0},trialBalance:{view:!0},incomeStatement:{view:!0},balanceSheet:{view:!0},cashFlowStatement:{view:!0},invoices:{view:!0,edit:!0},expenses:{view:!0,edit:!0},financeReports:{view:!0},accountingReports:{view:!0},accountingSettings:{view:!0,edit:!0},usersAndRoles:{view:!0,edit:!0},PerformanceAppraisal:{view:!0,edit:!0}},hr:{dashboard:{view:!0,edit:!0},hrMaster:{view:!0},show:{view:!0,edit:!0},employeeMaster:{view:!0,edit:!0,delete:!0},departmentMaster:{view:!0,edit:!0},shiftTime:{view:!0,edit:!0},grouproster:{view:!0,edit:!0},resignation:{view:!0,edit:!0},termination:{view:!0,edit:!0},userManagement:{view:!0,edit:!0,delete:!0},allowanceDeduction:{view:!0},createNewAllowance:{view:!0,edit:!0},createNewDeduction:{view:!0,edit:!0},loans:{view:!0},viewLoans:{view:!0,edit:!0},employeeLoan:{view:!0,edit:!0},salaryProcess:{view:!0},SalaryProcessPage:{view:!0,edit:!0},SalaryPage:{view:!0},timeAttendance:{view:!0},TimeCard:{view:!0,edit:!0},Overtime:{view:!0,edit:!0},leaveMaster:{view:!0,edit:!0},leaveApproval:{view:!0,approve:!0},hrLeaveApproval:{view:!0,approve:!0},noPayManagement:{view:!0,edit:!0},leavecalendar:{view:!0},reports:{view:!0},utilities:{view:!0},pms:{view:!0},pmsDashboard:{view:!0},performanceReviews:{view:!0,edit:!0},kpis:{view:!0,edit:!0},taskApproval:{view:!0,approve:!0},myKPIs:{view:!0},employeeEvaluation:{view:!0,edit:!0},lms:{view:!0},lmsDashboard:{view:!0},manageExams:{view:!0,edit:!0},manageCourses:{view:!0,edit:!0},myProgress:{view:!0},lmsUserStats:{view:!0},accounting:{view:!0},accountingDashboard:{view:!0},chartOfAccounts:{view:!0,edit:!0},transactions:{view:!0,edit:!0},transactionsList:{view:!0,edit:!0},salesOrder:{view:!0,edit:!0},salesReturn:{view:!0,edit:!0},grn:{view:!0,edit:!0},purchaseReturn:{view:!0,edit:!0},purchaseOrder:{view:!0,edit:!0},stockTransfer:{view:!0,edit:!0},stockVerification:{view:!0,edit:!0},ledger:{view:!0},trialBalance:{view:!0},incomeStatement:{view:!0},balanceSheet:{view:!0},cashFlowStatement:{view:!0},invoices:{view:!0,edit:!0},expenses:{view:!0,edit:!0},accountingReports:{view:!0},accountingSettings:{view:!0,edit:!0},usersAndRoles:{view:!0,edit:!0},PerformanceAppraisal:{view:!0,edit:!0}},supervisor:{dashboard:{view:!0},hrMaster:{view:!0},show:{view:!0},employeeMaster:{view:!0},departmentMaster:{view:!0},leaveApproval:{view:!0,approve:!0},hrLeaveApproval:{view:!0,approve:!0},leaveMaster:{view:!0},leavecalendar:{view:!0},reports:{view:!0},pms:{view:!0},pmsDashboard:{view:!0},performanceReviews:{view:!0,edit:!0},kpis:{view:!0,edit:!0},myKPIs:{view:!0},lms:{view:!0},lmsDashboard:{view:!0},manageExams:{view:!0,edit:!0},manageCourses:{view:!0,edit:!0},myProgress:{view:!0},lmsUserStats:{view:!0},accounting:{view:!0},accountingDashboard:{view:!0},chartOfAccounts:{view:!0},transactions:{view:!0},customer:{view:!0,edit:!0},center:{view:!0,edit:!0},chartOfAccounts:{view:!0,edit:!0},accountList:{view:!0,edit:!0},supplierEnterBill:{view:!0,edit:!0},payment:{view:!0,edit:!0},advancePayment:{view:!0,edit:!0},makeDeposit:{view:!0,edit:!0},receipt:{view:!0,edit:!0},createUtilityBill:{view:!0,edit:!0},utilityBillPayment:{view:!0,edit:!0},journalEntry:{view:!0,edit:!0},pettyCash:{view:!0,edit:!0},cheque:{view:!0,edit:!0},bankReconciliation:{view:!0,edit:!0},transactions:{view:!0,edit:!0},transactionsList:{view:!0,edit:!0},salesOrder:{view:!0,edit:!0},salesReturn:{view:!0,edit:!0},grn:{view:!0,edit:!0},purchaseReturn:{view:!0,edit:!0},purchaseOrder:{view:!0,edit:!0},stockTransfer:{view:!0,edit:!0},stockVerification:{view:!0,edit:!0},ledger:{view:!0},trialBalance:{view:!0},incomeStatement:{view:!0},balanceSheet:{view:!0},cashFlowStatement:{view:!0},invoices:{view:!0},expenses:{view:!0},accountingReports:{view:!0}},user:{dashboard:{view:!0},hrMaster:{view:!0},show:{view:!0},leaveMaster:{view:!0,edit:!0},leavecalendar:{view:!0},myKPIs:{view:!0},lms:{view:!0},lmsDashboard:{view:!0},manageCourses:{view:!0},manageExams:{view:!0},myProgress:{view:!0},accounting:{view:!0},accountingDashboard:{view:!0},pms:{view:!0},pmsDashboard:{view:!0},performanceReviews:{view:!0,edit:!0},myKPIs:{view:!0}},employee:{dashboard:{view:!0},hrMaster:{view:!0},show:{view:!0},leaveMaster:{view:!0,edit:!0},leavecalendar:{view:!0},myKPIs:{view:!0},lms:{view:!0},lmsDashboard:{view:!0},manageCourses:{view:!0},manageExams:{view:!0},myProgress:{view:!0},accounting:{view:!0},accountingDashboard:{view:!0},pms:{view:!0},pmsDashboard:{view:!0},performanceReviews:{view:!0,edit:!0},myKPIs:{view:!0}}},s8=N.createContext(),hU=({children:t})=>{const[s,r]=N.useState(null),[a,n]=N.useState({});N.useEffect(()=>{(async()=>{try{const u=await qb();r(u),n(xb[u.role]||{})}catch{r(null),n({})}})()},[]),N.useEffect(()=>{s&&s.role?n(xb[s.role]||{}):n({})},[s==null?void 0:s.role]);const i=d=>{r(d);const u=d==null?void 0:d.role;n(u?xb[u]||{}:{})},o=()=>{r(null),n({})},l=(d,u)=>{var h;return((h=a[d])==null?void 0:h[u])||!1};return e.jsx(s8.Provider,{value:{user:s,userPermissions:a,hasPermission:l,setAuthUser:i,clearAuth:o},children:t})},rd=()=>N.useContext(s8),xU=({user:t,onLogout:s,activeItem:r,setActiveItem:a,isOpen:n,setIsOpen:i})=>{const{hasPermission:o}=rd(),[l,d]=N.useState({hrMaster:!1,allowanceDeduction:!1,loans:!1,salaryProcess:!1,timeAttendance:!1,pms:!1,lms:!1,accounting:!1,chartOfAccounts:!1,transactions:!1,financeReports:!1}),u=[{id:"dashboard",name:"Dashboard",icon:wv,badge:null},{id:"userManagement",name:"User Management",icon:ta},{id:"hrMaster",name:"HR Master",icon:ta,badge:null,subItems:[{id:"show",name:"Show Employee",icon:cn},{id:"employeeMaster",name:" Add Employee Master"},{id:"departmentMaster",name:"Department Master"},{id:"shiftTime",name:"Shift Time"},{id:"grouproster",name:"Roster"},{id:"resignation",name:"Resignation"},{id:"termination",name:"Termination"},{id:"allowanceDeduction",name:"Compensation",icon:Qs,subItems:[{id:"createNewAllowance",name:"Allowance"},{id:"createNewDeduction",name:"Deduction"}]},{id:"loans",name:"Loans",icon:Qs,subItems:[{id:"viewLoans",name:"View Loans"},{id:"employeeLoan",name:"Employee Wise Loan"}]},{id:"salaryProcess",name:"Salary Process",icon:Qs,subItems:[{id:"SalaryProcessPage",name:"Salary Process"},{id:"SalaryPage",name:"View Salary"}]},{id:"timeAttendance",name:"Time Attendance",icon:cn,subItems:[{id:"TimeCard",name:"Time Card"},{id:"Overtime",name:"Over Time"},{id:"leaveMaster",name:"Leave Master"},{id:"leaveApproval",name:"Leave Approval"},{id:"hrLeaveApproval",name:"HR Leave Approval"},{id:"noPayManagement",name:"NoPay"},{id:"leavecalendar",name:"Leave Calendar"}]}]},{id:"pms",name:"PMS",icon:TA,badge:null,subItems:[{id:"pmsDashboard",name:"PMS Dashboard",icon:wv},{id:"performanceReviews",name:"Performance Reviews",icon:Gl},{id:"kpis",name:"KPIs",icon:ed},{id:"taskApproval",name:"Task Approval",icon:P0},{id:"myKPIs",name:"My KPI Tasks",icon:er},{id:"employeeEvaluation",name:"Employee Evaluation",icon:ln},{id:"PerformanceAppraisal",name:"Performance Appraisal",icon:ln}]},{id:"lms",name:"Learning Management",icon:dl,badge:null,subItems:[{id:"lmsDashboard",name:"LMS Dashboard",icon:wv},{id:"manageExams",name:"Exams",icon:xs},{id:"manageCourses",name:"Courses",icon:dl},{id:"myProgress",name:"My Progress",icon:Hc},{id:"lmsUserStats",name:"User Stats",icon:Hc}]},{id:"accounting",name:"Accounting",icon:QL,badge:null,subItems:[{id:"accountingDashboard",name:"Dashboard"},{id:"customer",name:"Customer"},{id:"center",name:"Center"},{id:"chartOfAccounts",name:"Chart of Accounts",subItems:[{id:"accountList",name:"Account List"},{id:"supplierEnterBill",name:"Supplier Enter Bill"},{id:"payment",name:"Payment"},{id:"advancePayment",name:"Advance Payment"},{id:"makeDeposit",name:"Make Deposit"},{id:"receipt",name:"Receipt"},{id:"createUtilityBill",name:"Create Utility Bill"},{id:"utilityBillPayment",name:"Utility Bill Payment"},{id:"journalEntry",name:"Journal Entry"},{id:"pettyCash",name:"Petty Cash"},{id:"cheque",name:"Cheque"},{id:"bankReconciliation",name:"Bank Reconciliation"}]},{id:"transactions",name:"Transactions",subItems:[{id:"transactionsList",name:"Transaction List"},{id:"invoices",name:"Invoices"},{id:"salesOrder",name:"Sales Order"},{id:"salesReturn",name:"Sales Return"},{id:"grn",name:"GRN"},{id:"purchaseReturn",name:"Purchase Return"},{id:"purchaseOrder",name:"Purchase Order"},{id:"stockTransfer",name:"Stock Transfer"},{id:"stockVerification",name:"Stock Verification"}]},{id:"financeReports",name:"Finance Reports",subItems:[{id:"trialBalance",name:"Trial Balance"},{id:"incomeStatement",name:"Income Statement"},{id:"balanceSheet",name:"Balance Sheet"},{id:"cashFlowStatement",name:"Cash Flow Statement"}]},{id:"accountingSettings",name:"Settings"}]},{id:"reports",name:"Reports",icon:Hc,badge:null},{id:"utilities",name:"Utilities",icon:xs,badge:null}];N.useEffect(()=>{const S=(I,B)=>{for(const T of I){if(T.id===B)return[T.id];if(T.subItems){const w=S(T.subItems,B);if(w)return[T.id,...w]}}return null},L=S(u,r)||[];d({hrMaster:L.includes("hrMaster"),allowanceDeduction:L.includes("allowanceDeduction")||r==="allowanceDeduction",loans:L.includes("loans")||r==="loans",salaryProcess:L.includes("salaryProcess")||r==="salaryProcess",timeAttendance:L.includes("timeAttendance")||r==="timeAttendance",pms:L.includes("pms")||r==="pms",lms:L.includes("lms")||r==="lms",accounting:L.includes("accounting")||r==="accounting",chartOfAccounts:L.includes("chartOfAccounts")||r==="chartOfAccounts"||["accountList","supplierEnterBill","payment","advancePayment","makeDeposit","receipt","createUtilityBill","utilityBillPayment","journalEntry","pettyCash","cheque","bankReconciliation"].includes(r),transactions:L.includes("transactions")||r==="transactions"||["transactionsList","invoices","salesOrder","salesReturn","grn","purchaseReturn","purchaseOrder","stockTransfer","stockVerification"].includes(r),financeReports:L.includes("financeReports")||r==="financeReports"||["trialBalance","incomeStatement","balanceSheet","cashFlowStatement"].includes(r)})},[r]);const h=()=>{d(S=>({...S,hrMaster:!S.hrMaster}))},f=()=>{d(S=>({...S,allowanceDeduction:!S.allowanceDeduction}))},p=()=>{d(S=>({...S,loans:!S.loans}))},g=()=>{d(S=>({...S,salaryProcess:!S.salaryProcess}))},v=()=>{d(S=>({...S,timeAttendance:!S.timeAttendance}))},y=()=>{d(S=>({...S,pms:!S.pms}))},b=()=>{d(S=>({...S,lms:!S.lms}))},_=()=>{d(S=>({...S,accounting:!S.accounting}))},k=()=>{d(S=>({...S,chartOfAccounts:!S.chartOfAccounts}))},A=()=>{d(S=>({...S,transactions:!S.transactions}))},R=()=>{d(S=>({...S,financeReports:!S.financeReports}))},F=S=>S.map(L=>{if(L.subItems){const I=F(L.subItems);if(I.length>0&&o(L.id,"view"))return{...L,subItems:I}}else if(o(L.id,"view"))return L;return null}).filter(Boolean),V=F(u);return e.jsxs(e.Fragment,{children:[n&&e.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-40 lg:hidden",onClick:()=>i(!1)}),e.jsxs("div",{className:`
        min-h-screen bg-white border-r border-gray-200 shadow-lg z-50
        transform transition-transform duration-300 ease-in-out
        w-64
        fixed left-0 top-0
        lg:static lg:z-0 lg:translate-x-0
        ${n?"translate-x-0":"-translate-x-full"}
      `,children:[e.jsx("div",{className:"p-6 border-b border-gray-100 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-indigo-600 p-2 rounded-lg",children:e.jsx(Kn,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-gray-900",children:"HRM System"}),e.jsx("p",{className:"text-xs text-gray-500",children:"v2.1.0"})]})]}),e.jsx("button",{onClick:()=>i(!1),className:"lg:hidden text-gray-400 hover:text-gray-600",children:e.jsx(zt,{className:"h-5 w-5"})})]})}),e.jsx("div",{className:"p-4 border-b border-gray-100 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold text-sm",children:t.name.split(" ").map(S=>S[0]).join("")})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.name}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:"HR Manager"})]})]})}),e.jsx("nav",{className:"flex-1 overflow-y-auto",children:e.jsx("div",{className:"p-4",children:e.jsx("ul",{className:"space-y-2",children:V.map(S=>e.jsx("li",{children:S.subItems?e.jsxs(e.Fragment,{children:[(()=>{const I={hrMaster:{toggle:h,expanded:l.hrMaster},pms:{toggle:y,expanded:l.pms},lms:{toggle:b,expanded:l.lms},accounting:{toggle:_,expanded:l.accounting},chartOfAccounts:{toggle:k,expanded:l.chartOfAccounts},transactions:{toggle:A,expanded:l.transactions},financeReports:{toggle:R,expanded:l.financeReports}}[S.id]||{toggle:()=>{},expanded:!1};return e.jsxs("button",{onClick:I.toggle,className:`
    w-full flex items-right justify-between gap-3 px-3 py-2.5 rounded-lg text-sm font-medium
    transition-all duration-200 group
    ${r===S.id||S.subItems.some(B=>r===B.id)?"bg-indigo-50 text-indigo-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}
  `,children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx(S.icon,{className:`h-5 w-5 flex-shrink-0 ${r===S.id||S.subItems.some(B=>r===B.id)?"text-indigo-600":"text-gray-400 group-hover:text-gray-600"}`}),e.jsx("span",{className:"flex-1 text-left truncate",children:S.name})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[S.badge&&e.jsx("span",{className:`
          px-2 py-0.5 text-xs rounded-full font-medium
          ${r===S.id||S.subItems.some(B=>r===B.id)?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-600"}
        `,children:S.badge}),I.expanded?e.jsx(dn,{className:"h-4 w-4 text-gray-500"}):e.jsx(Pn,{className:"h-4 w-4 text-gray-500"})]})]})})(),(S.id==="hrMaster"?l.hrMaster:S.id==="pms"?l.pms:S.id==="lms"?l.lms:S.id==="accounting"?l.accounting:!1)?e.jsx("ul",{className:"ml-4 mt-1 space-y-1",children:S.subItems.map(I=>{const B={allowanceDeduction:{toggle:f,expanded:l.allowanceDeduction},loans:{toggle:p,expanded:l.loans},salaryProcess:{toggle:g,expanded:l.salaryProcess},timeAttendance:{toggle:v,expanded:l.timeAttendance},chartOfAccounts:{toggle:k,expanded:l.chartOfAccounts},transactions:{toggle:A,expanded:l.transactions},financeReports:{toggle:R,expanded:l.financeReports}};if(I.subItems){const T=B[I.id]||{},w=["chartOfAccounts","transactions","financeReports"].includes(I.id);return e.jsxs("li",{children:[e.jsxs("button",{onClick:T.toggle||(w?I.id==="chartOfAccounts"?k:I.id==="transactions"?A:I.id==="financeReports"?R:void 0:void 0),className:`
                                     w-full flex items-center justify-between gap-3 px-3 py-2 rounded-lg text-sm font-medium
                                     transition-all duration-200
                                     ${r===I.id||I.subItems.some(E=>r===E.id)?"bg-indigo-50 text-indigo-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}
                                   `,children:[e.jsxs("span",{className:"flex items-center gap-2 flex-1 text-left",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-400 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:I.name})]}),e.jsx("span",{className:"flex-shrink-0",children:T.expanded?e.jsx(dn,{className:"h-4 w-4 text-gray-500"}):e.jsx(Pn,{className:"h-4 w-4 text-gray-500"})})]}),(T.expanded||I.id==="chartOfAccounts"&&l.chartOfAccounts||I.id==="transactions"&&l.transactions||I.id==="financeReports"&&l.financeReports)&&e.jsx("ul",{className:"ml-4 mt-1 space-y-1",children:I.subItems.map(E=>e.jsx("li",{children:e.jsxs("button",{onClick:()=>a(E.id),className:`
                                             w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium
                                             transition-all duration-200
                                             ${r===E.id?"bg-indigo-50 text-indigo-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}
                                           `,children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-300 flex-shrink-0"}),e.jsx("span",{className:"flex-1 text-left truncate",children:E.name})]})},E.id))})]},I.id)}return e.jsx("li",{children:e.jsxs("button",{onClick:()=>a(I.id),className:`
                                   w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium
                                   transition-all duration-200
                                   ${r===I.id?"bg-indigo-50 text-indigo-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}
                                 `,children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-400 flex-shrink-0"}),e.jsx("span",{className:"flex-1 text-left truncate",children:I.name})]})},I.id)})}):null]}):e.jsxs("button",{onClick:()=>a(S.id),className:`
                      w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium
                      transition-all duration-200 group
                      ${r===S.id?"bg-indigo-50 text-indigo-700 border-r-2 border-indigo-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}
                    `,children:[e.jsx(S.icon,{className:`h-5 w-5 ${r===S.id?"text-indigo-600":"text-gray-400 group-hover:text-gray-600"}`}),e.jsx("span",{className:"flex-1 text-left",children:S.name}),S.badge&&e.jsx("span",{className:`
                        px-2 py-0.5 text-xs rounded-full font-medium
                        ${r===S.id?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-600"}
                      `,children:S.badge})]})},S.id))})})}),e.jsxs("div",{className:"p-4 border-t border-gray-100 space-y-2 flex-shrink-0",children:[e.jsxs("button",{onClick:()=>a("settings"),className:`
              w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium
              transition-all duration-200 group
              ${r==="settings"?"bg-indigo-50 text-indigo-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}
            `,children:[e.jsx(N1,{className:`h-5 w-5 ${r==="settings"?"text-indigo-600":"text-gray-400 group-hover:text-gray-600"}`}),e.jsx("span",{children:"Settings"})]}),e.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-red-600 hover:text-red-700 hover:bg-red-50 transition-all duration-200 group",children:[e.jsx(XF,{className:"h-5 w-5 text-red-500 group-hover:text-red-600"}),e.jsx("span",{children:"Logout"})]})]})]})]})},r8=N.createContext(),zS={personal:{id:"",title:"",attendanceEmpNo:"",epfNo:"",nicNumber:"",dob:"",gender:"",religion:"",countryOfBirth:"",profilePicture:null,profilePicturePreview:null,employmentStatus:"",nameWithInitial:"",fullName:"",displayName:"",maritalStatus:"",relationshipType:"",spouseTitle:"",spouseName:"",spouseAge:"",spouseDob:"",spouseNic:"",children:[{name:"",age:"",dob:"",nic:""}]},address:{permanentAddress:"",temporaryAddress:"",email:"",landLine:"",mobileLine:"",gnDivision:"",policeStation:"",district:"",province:"",electoralDivision:"",emergencyContact:{relationship:"",contactName:"",contactAddress:"",contactTel:""}},compensation:{basicSalary:"",incrementValue:"",incrementEffectiveFrom:"",bankName:"",branchName:"",bankCode:"",branchCode:"",bankAccountNo:"",comments:"",secondaryEmp:!1,primaryEmploymentBasic:!1,enableEpfEtf:!1,otActive:!1,earlyDeduction:!1,incrementActive:!1,nopayActive:!1,morningOt:!1,ot_morning_rate:"0",ot_night_rate:"0",eveningOt:!1,budgetaryReliefAllowance2015:!1,budgetaryReliefAllowance2016:!1,stamp:!1},organization:{company:"",department:"",subDepartment:"",companyName:"",departmentName:"",subDepartmentName:"",currentSupervisor:"",dateOfJoined:"",designation:"",designationName:"",probationPeriod:!1,trainingPeriod:!1,contractPeriod:!1,probationFrom:"",probationTo:"",trainingFrom:"",trainingTo:"",contractFrom:"",contractTo:"",confirmationDate:"",resignationDate:"",resignationLetter:null,resignationApproved:!1,currentStatus:1,dayOff:""},documents:[]},fU=({children:t})=>{const[s,r]=N.useState(zS),[a,n]=N.useState(!1),[i,o]=N.useState({}),[l,d]=N.useState(!1);N.useEffect(()=>{(()=>{var k;try{const A=localStorage.getItem("employeeFormData");if(A){const R=JSON.parse(A),F=((k=R.documents)==null?void 0:k.map(V=>({...V,preview:null})))||[];r({...R,documents:F,personal:{...R.personal,profilePicture:null}})}}catch(A){console.error("Error loading form data:",A)}})()},[]),N.useEffect(()=>{(()=>{try{const k={...s,personal:{...s.personal,profilePicture:s.personal.profilePicturePreview},documents:s.documents.map(A=>({...A,file:null,type:A.type,name:A.name,size:A.size,status:A.status}))};localStorage.setItem("employeeFormData",JSON.stringify(k))}catch(k){console.error("Error saving form data:",k)}})()},[s]);const u=N.useCallback((_,k)=>{r(A=>({...A,[_]:{...A[_],...k}}))},[]),h=N.useCallback(_=>{const k=Array.from(_).map(A=>({file:A,type:"",preview:A.type.startsWith("image/")?URL.createObjectURL(A):null,name:A.name,size:(A.size/1048576).toFixed(2)+" MB",status:"pending"}));r(A=>({...A,documents:[...A.documents,...k]}))},[]),f=N.useCallback((_,k)=>{r(A=>{const R=[...A.documents];return R[_]={...R[_],type:k},{...A,documents:R}})},[]),p=N.useCallback(_=>{r(k=>{const A=k.documents[_];return A!=null&&A.preview&&URL.revokeObjectURL(A.preview),{...k,documents:k.documents.filter((R,F)=>F!==_)}})},[]),g=N.useCallback(()=>{s.documents.forEach(_=>{_!=null&&_.preview&&URL.revokeObjectURL(_.preview)}),r(zS),o({}),localStorage.removeItem("employeeFormData")},[s.documents]),v=N.useCallback(_=>{o(_)},[]),y=N.useCallback(_=>{o(k=>{const A={...k};return delete A[_],A})},[]),b=N.useCallback((_,k)=>{o(A=>{if(!A[_])return A;const R={...A};return delete R[_][k],Object.keys(R[_]).length===0&&delete R[_],R})},[]);return e.jsx(r8.Provider,{value:{formData:s,updateFormData:u,setFormData:r,addDocuments:h,removeDocument:p,clearForm:g,isLoading:a,setIsLoading:n,errors:i,setFormErrors:v,clearSectionErrors:y,clearFieldError:b,isSubmitting:l,setIsSubmitting:d,updateDocumentType:f},children:t})},L0=()=>{const t=N.useContext(r8);if(!t)throw new Error("useEmployeeForm must be used within an EmployeeFormProvider");return t},hs=({error:t,fieldName:s})=>{if(!t)return null;const r=s?`${s} ${t}`:t;return e.jsxs("div",{className:"mt-1 flex items-start text-red-600 text-sm",children:[e.jsx(Hs,{className:"w-4 h-4 mt-0.5 mr-1 flex-shrink-0"}),e.jsx("span",{children:r})]})};function a8(t,s){const[r,a]=N.useState(t);return N.useEffect(()=>{const n=setTimeout(()=>{a(t)},s);return()=>{clearTimeout(n)}},[t,s]),r}const ul={async submitEmployee(t){try{const s=new FormData;return t.personal.profilePicture&&s.append("profile_picture",t.personal.profilePicture),s.append("personal",JSON.stringify({...t.personal,profilePicture:void 0})),s.append("address",JSON.stringify(t.address)),s.append("compensation",JSON.stringify(t.compensation)),s.append("organization",JSON.stringify(t.organization)),t.documents&&t.documents.length>0&&t.documents.forEach((a,n)=>{a.file&&s.append(`documents[${n}]`,a.file)}),(await Ze.post("/employees",s,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(s){throw s.response?s:s.request?new Error("No response from server"):new Error("Error setting up request")}},async updateEmployee(t,s){try{const r=new FormData;s.personal.profilePicture&&r.append("profile_picture",s.personal.profilePicture),r.append("personal",JSON.stringify({...s.personal,profilePicture:void 0})),r.append("address",JSON.stringify(s.address)),r.append("compensation",JSON.stringify(s.compensation)),r.append("organization",JSON.stringify(s.organization)),s.documents&&s.documents.length>0&&s.documents.forEach((n,i)=>{n.file&&r.append(`documents[${i}]`,n.file)});const a=await Ze.post("/employes/post/update",r,{headers:{"Content-Type":"multipart/form-data"}});return console.log("Update response:",JSON.stringify(a.data,null,2)),a.data}catch(r){throw r.response?r:r.request?new Error("No response from server"):new Error("Error setting up request")}},async searchEmployees(t){try{return(await Ze.get("/emp/search",{params:{search:t}})).data}catch(s){return console.error("Error fetching employees:",s),[]}},async searchByAttendanceNo(t){try{return(await Ze.get(`/emp/search/empno?attendance_no=${t}`)).data}catch(s){return console.error("Error fetching employees:",s),[]}},async fetchEmployees(){try{return(await Ze.get("/employees")).data}catch(t){return console.error("Error fetching employees:",t),[]}},async fetchEmployeesForTable(t=1,s=10,r=""){try{return(await Ze.get(`/emp/table?page=${t}&per_page=${s}&search=${r}`)).data}catch(a){return console.error("Error fetching employees:",a),[]}},async fetchEmployeeById(t){try{return(await Ze.get(`/employees/${t}`)).data}catch(s){return console.error("Error fetching employees:",s),[]}},async deleteEmployeeById(t){try{const s=await Ze.delete(`/employees/${t}`);return!0}catch(s){return console.error("Error delete employees:",s),[]}}};let Mh=null;function Yw(t){Mh=t,t?localStorage.setItem("user",JSON.stringify(t)):localStorage.removeItem("user")}function rp(){if(Mh)return Mh;const t=localStorage.getItem("user");return t?(Mh=JSON.parse(t),Mh):null}function Bv(){Mh=null,localStorage.removeItem("user")}const pU=[{value:"",label:"Select Relationship Type"},{value:"husband",label:"Husband"},{value:"wife",label:"Wife"},{value:"relation",label:"Relation"},{value:"non-relation",label:"Non-Relation"},{value:"friend",label:"Friend"}],gU=({isOpen:t,onClose:s,title:r,children:a})=>t?e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold",children:r}),e.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-700",children:e.jsx(zt,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"p-4",children:a})]})}):null,$S=t=>{if([46,8,9,27,13,110,190].includes(t.keyCode)||t.keyCode>=35&&t.keyCode<=40||t.keyCode>=48&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=105||t.keyCode===110||t.keyCode===190){(t.keyCode===110||t.keyCode===190)&&t.target.value.includes(".")&&t.preventDefault();return}t.preventDefault()},yU=({onNext:t,activeCategory:s})=>{var ce,U,O,z,q,te,ge,Q,ue,ie,oe,J,re,ve,pe,ae,he,Te,Ie,Be,Le,Ee,Ve,mt,gt,Pe,Ae,We,Xe,st,ke,ct,nt,Bt,Ge,St,bt;const{formData:r,updateFormData:a,errors:n,clearFieldError:i,clearForm:o,setFormData:l}=L0(),[d,u]=N.useState(null),[h,f]=N.useState(!1),[p,g]=N.useState(!1),[v,y]=N.useState(""),[b,_]=N.useState([]),[k,A]=N.useState(!1),[R,F]=N.useState(""),V=a8(v,500);N.useEffect(()=>{if(r.personal.profilePicture)if(r.personal.profilePicture instanceof File){const qe=new FileReader;qe.onload=Oe=>u(Oe.target.result),qe.readAsDataURL(r.personal.profilePicture)}else typeof r.personal.profilePicture=="string"&&u(r.personal.profilePicture)},[r.personal.profilePicture]),N.useEffect(()=>{(async()=>{if(!V){_([]);return}A(!0);try{const Oe=await ul.searchEmployees(V);_(Oe)}catch(Oe){console.error("Search error:",Oe),_([])}finally{A(!1)}})()},[V]);const S=qe=>{const Oe=qe.getFullYear(),jt=String(qe.getMonth()+1).padStart(2,"0"),Et=String(qe.getDate()).padStart(2,"0");return`${Oe}-${jt}-${Et}`},L=new Date,I=new Date(L.getFullYear()-15,L.getMonth(),L.getDate()),B=S(I),T=qe=>{var Gt;const{name:Oe,value:jt,type:Et,checked:qt}=qe.target;if(Oe==="dob")if(jt&&jt>B){F("Date of Birth must be at least 15 years before today.");return}else R&&F("");if((Gt=n.personal)!=null&&Gt[Oe]&&i("personal",Oe),a("personal",{[Oe]:Et==="checkbox"?qt:jt}),qe.target.type==="file"&&qe.target.files[0]){const Yt=qe.target.files[0],Xt=new FileReader;Xt.onload=is=>{u(is.target.result),a("personal",{profilePicture:Yt,profilePicturePreview:is.target.result})},Xt.readAsDataURL(Yt)}},w=(qe,Oe)=>{const{name:jt,value:Et}=Oe.target,qt=[...r.personal.children];qt[qe][jt]=Et,a("personal",{children:qt})},E=()=>{a("personal",{children:[...r.personal.children,{name:"",age:"",dob:"",nic:""}]})},D=qe=>{if(r.personal.children.length>1){const Oe=r.personal.children.filter((jt,Et)=>Et!==qe);a("personal",{children:Oe})}},G=qe=>{qe.preventDefault(),f(!1);const Oe=qe.dataTransfer.files[0];if(Oe&&Oe.type.startsWith("image/")){const jt=new FileReader;jt.onload=Et=>{u(Et.target.result),a("personal",{profilePicture:Oe,profilePicturePreview:Et.target.result})},jt.readAsDataURL(Oe)}},K=qe=>{qe.preventDefault(),f(!0)},X=qe=>{qe.preventDefault(),f(!1)},se=async qe=>{var Oe,jt,Et,qt,Gt,Yt,Xt,is,ws,Us,Zt,Wt,Es,Bs,sr,Ms,dt,le,Se,me,_e,De,Ne,Je,$e,Ke,ot,Fe,Ye,lt,Mt,Dt,Ht,rs,fs,Ue,vt,Ut,os,zs,Ls,Nr,Pr,lr,xr,Nn,Fn,mn,Ci,aa,Rn,Sr,ki,co,uo,On,zo,mo,Jn,ho,$o,Ai,ic,qi,bl,Hi,vl,pa,xo,Wi,_s,oc,cd,hn,In,wl,Ei,Bn;try{const Kt=await ul.fetchEmployeeById(qe),iu=Ys=>{if(!Ys)return"";const xn=Ys.toLowerCase();return xn==="male"?"Male":xn==="female"?"Female":xn==="other"?"Other":Ys},Uo=Ys=>{if(!Ys)return"";const xn=Ys.toLowerCase();return xn==="single"?"Single":xn==="married"?"Married":xn==="divorced"?"Divorced":xn==="widowed"?"Widowed":Ys},Gi=Ys=>Ys?typeof Ys=="number"?Ys.toString():Ys:"",fo=((Oe=Kt.spouse)==null?void 0:Oe.type)||"",Xa={personal:{id:Kt.id,title:Kt.title,attendanceEmpNo:Kt.attendance_employee_no,epfNo:Kt.epf,nicNumber:Kt.nic,dob:Kt.dob,gender:iu(Kt.gender),religion:Kt.religion,countryOfBirth:Kt.country_of_birth,profilePicture:null,profilePicturePreview:Kt.profile_photo_path?`${em.apiBaseUrl}/storage/${Kt.profile_photo_path}`:null,employmentStatus:Gi(Kt.employment_type_id),nameWithInitial:Kt.name_with_initials,fullName:Kt.full_name,displayName:Kt.display_name,maritalStatus:Uo(Kt.marital_status),relationshipType:fo,spouseTitle:(jt=Kt.spouse)==null?void 0:jt.title,spouseName:(Et=Kt.spouse)==null?void 0:Et.name,spouseAge:(qt=Kt.spouse)==null?void 0:qt.age,spouseDob:(Gt=Kt.spouse)==null?void 0:Gt.dob,spouseNic:(Yt=Kt.spouse)==null?void 0:Yt.nic,children:((Xt=Kt.children)==null?void 0:Xt.length)>0?Kt.children.map(Ys=>({name:Ys.name,age:Ys.age,dob:Ys.dob,nic:Ys.nic})):[{name:"",age:"",dob:"",nic:""}]},address:{permanentAddress:(is=Kt.contact_detail)==null?void 0:is.permanent_address,temporaryAddress:(ws=Kt.contact_detail)==null?void 0:ws.temporary_address,email:(Us=Kt.contact_detail)==null?void 0:Us.email,landLine:(Zt=Kt.contact_detail)==null?void 0:Zt.land_line,mobileLine:(Wt=Kt.contact_detail)==null?void 0:Wt.mobile_line,gnDivision:(Es=Kt.contact_detail)==null?void 0:Es.gn_division,policeStation:(Bs=Kt.contact_detail)==null?void 0:Bs.police_station,district:(sr=Kt.contact_detail)==null?void 0:sr.district,province:(Ms=Kt.contact_detail)==null?void 0:Ms.province,electoralDivision:(dt=Kt.contact_detail)==null?void 0:dt.electoral_division,emergencyContact:{relationship:(le=Kt.contact_detail)==null?void 0:le.emg_relationship,contactName:(Se=Kt.contact_detail)==null?void 0:Se.emg_name,contactAddress:(me=Kt.contact_detail)==null?void 0:me.emg_address,contactTel:(_e=Kt.contact_detail)==null?void 0:_e.emg_tel}},compensation:{basicSalary:(De=Kt.compensation)==null?void 0:De.basic_salary,incrementValue:(Ne=Kt.compensation)==null?void 0:Ne.increment_value,incrementEffectiveFrom:(Je=Kt.compensation)==null?void 0:Je.increment_effective_from,bankName:($e=Kt.compensation)==null?void 0:$e.bank_name,branchName:(Ke=Kt.compensation)==null?void 0:Ke.branch_name,bankCode:(ot=Kt.compensation)==null?void 0:ot.bank_code,branchCode:(Fe=Kt.compensation)==null?void 0:Fe.branch_code,bankAccountNo:(Ye=Kt.compensation)==null?void 0:Ye.bank_account_no,comments:(lt=Kt.compensation)==null?void 0:lt.comments,secondaryEmp:((Mt=Kt.compensation)==null?void 0:Mt.secondary_emp)===1,primaryEmploymentBasic:((Dt=Kt.compensation)==null?void 0:Dt.primary_employment_basic)===1,enableEpfEtf:((Ht=Kt.compensation)==null?void 0:Ht.enable_epf_etf)===1,otActive:((rs=Kt.compensation)==null?void 0:rs.ot_active)===1,earlyDeduction:((fs=Kt.compensation)==null?void 0:fs.early_deduction)===1,incrementActive:((Ue=Kt.compensation)==null?void 0:Ue.increment_active)===1,nopayActive:((vt=Kt.compensation)==null?void 0:vt.nopay_active)===1,morningOt:((Ut=Kt.compensation)==null?void 0:Ut.morning_ot)===1,eveningOt:((os=Kt.compensation)==null?void 0:os.evening_ot)===1,budgetaryReliefAllowance2015:((zs=Kt.compensation)==null?void 0:zs.budgetary_relief_allowance_2015)===1,budgetaryReliefAllowance2016:((Ls=Kt.compensation)==null?void 0:Ls.budgetary_relief_allowance_2016)===1,stamp:((Nr=Kt.compensation)==null?void 0:Nr.stamp)===1},organization:{company:(xr=(lr=(Pr=Kt.organization_assignment)==null?void 0:Pr.company)==null?void 0:lr.id)==null?void 0:xr.toString(),department:(mn=(Fn=(Nn=Kt.organization_assignment)==null?void 0:Nn.department)==null?void 0:Fn.id)==null?void 0:mn.toString(),subDepartment:(Rn=(aa=(Ci=Kt.organization_assignment)==null?void 0:Ci.sub_department)==null?void 0:aa.id)==null?void 0:Rn.toString(),companyName:(ki=(Sr=Kt.organization_assignment)==null?void 0:Sr.company)==null?void 0:ki.name,departmentName:(uo=(co=Kt.organization_assignment)==null?void 0:co.department)==null?void 0:uo.name,subDepartmentName:(zo=(On=Kt.organization_assignment)==null?void 0:On.sub_department)==null?void 0:zo.name,currentSupervisor:(mo=Kt.organization_assignment)==null?void 0:mo.current_supervisor,dateOfJoined:(Jn=Kt.organization_assignment)==null?void 0:Jn.date_of_joining,designation:(Ai=($o=(ho=Kt.organization_assignment)==null?void 0:ho.designation)==null?void 0:$o.id)==null?void 0:Ai.toString(),designationName:(qi=(ic=Kt.organization_assignment)==null?void 0:ic.designation)==null?void 0:qi.name,probationPeriod:((bl=Kt.organization_assignment)==null?void 0:bl.probationary_period)===1,trainingPeriod:((Hi=Kt.organization_assignment)==null?void 0:Hi.training_period)===1,contractPeriod:((vl=Kt.organization_assignment)==null?void 0:vl.contract_period)===1,probationFrom:(pa=Kt.organization_assignment)==null?void 0:pa.probationary_period_from,probationTo:(xo=Kt.organization_assignment)==null?void 0:xo.probationary_period_to,trainingFrom:(Wi=Kt.organization_assignment)==null?void 0:Wi.training_period_from,trainingTo:(_s=Kt.organization_assignment)==null?void 0:_s.training_period_to,contractFrom:(oc=Kt.organization_assignment)==null?void 0:oc.contract_period_from,contractTo:(cd=Kt.organization_assignment)==null?void 0:cd.contract_period_to,confirmationDate:(hn=Kt.organization_assignment)==null?void 0:hn.confirmation_date,resignationDate:(In=Kt.organization_assignment)==null?void 0:In.date_of_resigning,resignationLetter:null,resignationApproved:((wl=Kt.organization_assignment)==null?void 0:wl.resignation_approved)===1,currentStatus:Kt.is_active?1:0,dayOff:(Ei=Kt.organization_assignment)==null?void 0:Ei.day_off},documents:((Bn=Kt.documents)==null?void 0:Bn.map(Ys=>({id:Ys.id,name:Ys.name,type:Ys.type,size:Ys.size,status:Ys.status,preview:Ys.path?`${em.apiBaseUrl}/storage/${Ys.path}`:null})))||[]};l(Ys=>({...Ys,...Xa})),g(!1)}catch(lc){console.error("Error loading employee data:",lc)}},[Z,ee]=N.useState(rp());return e.jsxs("div",{className:"rounded-2xl overflow-hidden",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-xl mb-6 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-3 rounded-xl",children:e.jsx(er,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Employee Personal Details"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Complete employee information management system"})]})]}),Z.role=="admin"&&e.jsxs("button",{onClick:()=>g(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[e.jsx(tr,{className:"w-4 h-4"}),e.jsx("span",{children:"Edit Employee"})]})]})}),e.jsx(gU,{isOpen:p,onClose:()=>g(!1),title:"Search Employee",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(or,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search by name, ID, EPF, NIC...",value:v,onChange:qe=>y(qe.target.value)})]}),k&&e.jsx("div",{className:"flex justify-center py-4",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),!k&&b.length>0&&e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:b.map(qe=>e.jsxs("div",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",onClick:()=>se(qe.id),children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:qe.profile_photo_path?e.jsx("img",{src:qe.profile_photo_path,alt:qe.full_name,className:"h-full w-full object-cover"}):e.jsx(er,{className:"h-6 w-6 text-gray-500"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:qe.full_name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["No: ",qe.attendance_employee_no," | NIC:"," ",qe.nic]})]})]},qe.id))}),!k&&v&&b.length===0&&e.jsx("div",{className:"text-center py-4 text-gray-500",children:"No employees found matching your search."})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 p-2 rounded-lg",children:e.jsx(er,{className:"w-5 h-5 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Basic Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"title",value:r.personal.title,onChange:T,className:`w-full border ${(ce=n.personal)!=null&&ce.title?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white`,required:!0,children:[e.jsx("option",{value:"",children:"Select Title"}),e.jsx("option",{children:"Mr"}),e.jsx("option",{children:"Mrs"}),e.jsx("option",{children:"Miss"}),e.jsx("option",{children:"Ms"}),e.jsx("option",{children:"Dr"})]}),e.jsx(hs,{error:(U=n.personal)==null?void 0:U.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Attendance Emp No ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"attendanceEmpNo",value:r.personal.attendanceEmpNo,onChange:T,className:`w-full border ${(O=n.personal)!=null&&O.attendanceEmpNo?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`,placeholder:"Enter employee number",disabled:r.personal.id,required:!0}),e.jsx(hs,{error:(z=n.personal)==null?void 0:z.attendanceEmpNo})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["EPF No ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"epfNo",value:r.personal.epfNo,onChange:T,className:`w-full border ${(q=n.personal)!=null&&q.epfNo?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`,placeholder:"Enter EPF number",disabled:r.personal.id,required:!0}),e.jsx(hs,{error:(te=n.personal)==null?void 0:te.epfNo})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["NIC Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"nicNumber",value:r.personal.nicNumber,onChange:T,className:`w-full border ${(ge=n.personal)!=null&&ge.nicNumber?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`,placeholder:"Enter NIC number",required:!0}),e.jsx(hs,{error:(Q=n.personal)==null?void 0:Q.nicNumber})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Date of Birth ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",name:"dob",value:r.personal.dob,onChange:T,max:B,className:`w-full border ${(ue=n.personal)!=null&&ue.dob||R?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`,required:!0}),e.jsx(hs,{error:((ie=n.personal)==null?void 0:ie.dob)||R})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Gender ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"gender",value:r.personal.gender,onChange:T,className:`w-full border ${(oe=n.personal)!=null&&oe.gender?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white`,required:!0,children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{children:"Male"}),e.jsx("option",{children:"Female"}),e.jsx("option",{children:"Other"})]}),e.jsx(hs,{error:(J=n.personal)==null?void 0:J.gender})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Religion"}),e.jsx("input",{name:"religion",value:r.personal.religion,onChange:T,className:`w-full border ${(re=n.personal)!=null&&re.religion?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`,placeholder:"Enter religion"}),e.jsx(hs,{error:(ve=n.personal)==null?void 0:ve.religion})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Country of Birth"}),e.jsx("input",{name:"countryOfBirth",value:r.personal.countryOfBirth,onChange:T,className:`w-full border ${(pe=n.personal)!=null&&pe.countryOfBirth?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`,placeholder:"Enter country of birth"}),e.jsx(hs,{error:(ae=n.personal)==null?void 0:ae.countryOfBirth})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Profile Picture"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`w-16 h-16 rounded-full border-2  ${n!=null&&n.profile_picture?"border-red-500":"border-gray-200"}  overflow-hidden bg-gray-50 flex items-center justify-center`,children:d?e.jsx("img",{src:d,alt:"Profile preview",className:"w-full h-full object-cover"}):e.jsx(er,{className:"w-6 h-6 text-gray-400"})}),d&&e.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),e.jsxs("div",{className:`relative flex-1 border-2 border-dashed rounded-lg px-4 py-3 
              transition-all duration-200 cursor-pointer
              ${n!=null&&n.profile_picture?"border-red-500":"border-gray-300"}
              ${h?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}
            `,onDrop:G,onDragOver:K,onDragLeave:X,children:[e.jsx("input",{name:"profilePicture",type:"file",accept:"image/*",onChange:T,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(tF,{className:"w-4 h-4"}),e.jsx("span",{children:"Choose photo"})]}),e.jsx("div",{className:"text-gray-400",children:"or drag and drop"})]})]})]}),r.personal.profilePicture&&e.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[e.jsx(hl,{className:"w-3 h-3"}),e.jsx("span",{children:r.personal.profilePicture.name||"File selected"})]}),e.jsx(hs,{error:n==null?void 0:n.profile_picture})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 p-2 rounded-lg",children:e.jsx(j1,{className:"w-5 h-5 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Employment Status"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[{value:"1",label:"Permanent Basis"},{value:"2",label:"Training"},{value:"3",label:"Contract Basis"},{value:"4",label:"Daily Wages Salary"}].map(qe=>{var Oe;return e.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg border ${(Oe=n.personal)!=null&&Oe.employmentStatus?"border-red-500":"border-gray-200"} hover:bg-gray-50 transition-colors cursor-pointer`,children:[e.jsx("input",{type:"radio",name:"employmentStatus",value:qe.value,checked:r.personal.employmentStatus===qe.value,onChange:T,className:"w-4 h-4 text-blue-600 focus:ring-blue-500 focus:ring-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:qe.label})]},qe.value)})}),e.jsx(hs,{error:(he=n.personal)==null?void 0:he.employmentStatus})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 p-2 rounded-lg",children:e.jsx(er,{className:"w-5 h-5 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Name Details"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Name With Initial ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"nameWithInitial",value:r.personal.nameWithInitial,onChange:T,className:`w-full border ${(Te=n.personal)!=null&&Te.nameWithInitial?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`,placeholder:"e.g., J.A. Smith",required:!0}),e.jsx(hs,{error:(Ie=n.personal)==null?void 0:Ie.nameWithInitial})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"fullName",value:r.personal.fullName,onChange:T,className:`w-full border ${(Be=n.personal)!=null&&Be.fullName?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`,placeholder:"Enter full name",required:!0}),e.jsx(hs,{error:(Le=n.personal)==null?void 0:Le.fullName})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Display Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"displayName",value:r.personal.displayName,onChange:T,className:`w-full border ${(Ee=n.personal)!=null&&Ee.displayName?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`,placeholder:"Enter display name",required:!0}),e.jsx(hs,{error:(Ve=n.personal)==null?void 0:Ve.displayName})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Marital Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"maritalStatus",value:r.personal.maritalStatus,onChange:T,className:`w-full lg:w-1/3 border ${(mt=n.personal)!=null&&mt.maritalStatus?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white`,children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{children:"Single"}),e.jsx("option",{children:"Married"}),e.jsx("option",{children:"Divorced"}),e.jsx("option",{children:"Widowed"})]}),e.jsx(hs,{error:(gt=n.personal)==null?void 0:gt.maritalStatus})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-rose-500 to-pink-500 p-2 rounded-lg",children:e.jsx(ta,{className:"w-5 h-5 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Relationship Details"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Relationship Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("select",{name:"relationshipType",value:r.personal.relationshipType||"",onChange:T,className:`w-full border ${(Pe=n.personal)!=null&&Pe.relationshipType?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white`,children:pU.map(qe=>e.jsx("option",{value:qe.value,children:qe.label},qe.value))}),e.jsx(hs,{error:(Ae=n.personal)==null?void 0:Ae.relationshipType})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"spouseTitle",value:r.personal.spouseTitle||"",onChange:T,className:`w-full border ${(We=n.personal)!=null&&We.spouseTitle?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white`,required:!0,children:[e.jsx("option",{value:"",children:"Select Title"}),e.jsx("option",{children:"Mr"}),e.jsx("option",{children:"Mrs"}),e.jsx("option",{children:"Miss"}),e.jsx("option",{children:"Ms"}),e.jsx("option",{children:"Dr"})]}),e.jsx(hs,{error:(Xe=n.personal)==null?void 0:Xe.spouseTitle})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"spouseName",value:r.personal.spouseName,onChange:T,className:`w-full border ${(st=n.personal)!=null&&st.spouseName?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`,placeholder:"Enter spouse name"}),e.jsx(hs,{error:(ke=n.personal)==null?void 0:ke.spouseName})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Age ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"spouseAge",type:"text",min:"0",value:r.personal.spouseAge,onChange:T,onKeyDown:$S,className:`w-full border ${(ct=n.personal)!=null&&ct.spouseAge?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`,placeholder:"Enter age"}),e.jsx(hs,{error:(nt=n.personal)==null?void 0:nt.spouseAge})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Date of Birth ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"spouseDob",type:"date",value:r.personal.spouseDob,onChange:T,max:B,className:`w-full border ${(Bt=n.personal)!=null&&Bt.spouseDob?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`}),e.jsx(hs,{error:(Ge=n.personal)==null?void 0:Ge.spouseDob})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["NIC ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"spouseNic",value:r.personal.spouseNic,onChange:T,className:`w-full border ${(St=n.personal)!=null&&St.spouseNic?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`,placeholder:"Enter NIC number"}),e.jsx(hs,{error:(bt=n.personal)==null?void 0:bt.spouseNic})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-500 p-2 rounded-lg",children:e.jsx(SA,{className:"w-5 h-5 text-white"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Children Details"})]}),e.jsxs("button",{onClick:E,className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2 hover:shadow-lg transform hover:scale-105 transition-all duration-200",children:[e.jsx(bs,{className:"w-4 h-4"}),"Add Child"]})]}),e.jsx("div",{className:"space-y-4",children:r.personal.children.map((qe,Oe)=>{var jt,Et,qt,Gt,Yt,Xt,is,ws,Us,Zt,Wt,Es,Bs,sr;return e.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-600",children:["Child ",Oe+1]}),r.personal.children.length>1&&e.jsx("button",{onClick:()=>D(Oe),className:"bg-red-500 hover:bg-red-600 text-white p-1.5 rounded-lg transition-colors duration-200 flex items-center gap-1",children:e.jsx(ns,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("input",{name:"name",placeholder:"Child name",value:qe.name,onChange:Ms=>w(Oe,Ms),className:`w-full border ${(qt=(Et=(jt=n.personal)==null?void 0:jt.children)==null?void 0:Et[Oe])!=null&&qt.name?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`}),e.jsx("input",{name:"age",type:"text",min:"0",placeholder:"Age",value:qe.age,onChange:Ms=>w(Oe,Ms),onKeyDown:$S,className:`w-full border ${(Xt=(Yt=(Gt=n.personal)==null?void 0:Gt.children)==null?void 0:Yt[Oe])!=null&&Xt.age?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`}),e.jsx("input",{name:"dob",type:"date",value:qe.dob,onChange:Ms=>w(Oe,Ms),className:`w-full border ${(Us=(ws=(is=n.personal)==null?void 0:is.children)==null?void 0:ws[Oe])!=null&&Us.dob?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`}),e.jsx("input",{name:"nic",placeholder:"NIC number",value:qe.nic,onChange:Ms=>w(Oe,Ms),className:`w-full border ${(Es=(Wt=(Zt=n.personal)==null?void 0:Zt.children)==null?void 0:Wt[Oe])!=null&&Es.nic?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`})]}),((sr=(Bs=n.personal)==null?void 0:Bs.children)==null?void 0:sr[Oe])&&e.jsx("div",{className:"mt-2 text-sm text-red-600",children:Object.values(n.personal.children[Oe]).map((Ms,dt)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"mr-1",children:""}),e.jsx("span",{children:Ms})]},dt))})]},Oe)})})]})]}),e.jsx("div",{className:"flex justify-end mt-8",children:e.jsx("button",{type:"button",onClick:t,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Next"})})]})},US={Provinces:[{name:"Central Province",districts:["Kandy","Matale","Nuwara Eliya"]},{name:"Eastern Province",districts:["Ampara","Batticaloa","Trincomalee"]},{name:"Northern Province",districts:["Jaffna","Kilinochchi","Mannar","Mullaitivu","Vavuniya"]},{name:"North Central Province",districts:["Anuradhapura","Polonnaruwa"]},{name:"North Western Province",districts:["Kurunegala","Puttalam"]},{name:"Sabaragamuwa Province",districts:["Kegalle","Ratnapura"]},{name:"Southern Province",districts:["Galle","Matara","Hambantota"]},{name:"Uva Province",districts:["Badulla","Monaragala"]},{name:"Western Province",districts:["Colombo","Gampaha","Kalutara"]}]},bU=({onNext:t,onPrevious:s,activeCategory:r})=>{var h,f,p,g,v,y,b,_,k,A,R,F,V,S,L,I,B,T,w,E,D,G,K,X,se,Z,ee,ce,U,O,z,q,te,ge,Q,ue;const{formData:a,updateFormData:n,errors:i,clearFieldError:o}=L0(),l=ie=>{var re;const{name:oe,value:J}=ie.target;(re=i.address)!=null&&re[oe]&&o("address",oe),oe==="province"?n("address",{[oe]:J,district:""}):n("address",{[oe]:J})},d=ie=>{var re,ve;const{name:oe,value:J}=ie.target;(ve=(re=i.address)==null?void 0:re.emergencyContact)!=null&&ve[oe]&&o("address",`emergencyContact.${oe}`),n("address",{emergencyContact:{...a.address.emergencyContact,[oe]:J}})},u=()=>{if(!a.address.province)return[];const ie=US.Provinces.find(oe=>oe.name===a.address.province);return ie?ie.districts:[]};return e.jsx("div",{id:"address",className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 p-3 rounded-xl",children:e.jsx(xx,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Address And Contact Details"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(sx,{className:"w-5 h-5 text-blue-600"}),"Personal Information"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Permanent Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{name:"permanentAddress",value:a.address.permanentAddress,onChange:l,rows:"3",className:`w-full border ${(h=i.address)!=null&&h.permanentAddress?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none`,placeholder:"Enter permanent address"}),e.jsx(hs,{error:(f=i.address)==null?void 0:f.permanentAddress})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Temporary Address"}),e.jsx("textarea",{name:"temporaryAddress",value:a.address.temporaryAddress,onChange:l,rows:"3",className:`w-full border ${(p=i.address)!=null&&p.temporaryAddress?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none`,placeholder:"Enter temporary address"}),e.jsx(hs,{error:(g=i.address)==null?void 0:g.temporaryAddress})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(Yl,{className:"w-5 h-5 text-green-600"}),"Contact Information"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(hx,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),e.jsx("input",{name:"email",type:"email",value:a.address.email,onChange:l,className:`w-full border ${(v=i.address)!=null&&v.email?"border-red-500":"border-gray-300"} rounded-lg pl-10 pr-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter email address"})]}),e.jsx(hs,{error:(y=i.address)==null?void 0:y.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Land Line"}),e.jsxs("div",{className:"relative",children:[e.jsx(Yl,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),e.jsx("input",{name:"landLine",value:a.address.landLine,onChange:ie=>{const oe=ie.target.value.replace(/\D/g,"").slice(0,10);l({target:{name:"landLine",value:oe}})},className:`w-full border ${(b=i.address)!=null&&b.landLine?"border-red-500":"border-gray-300"} rounded-lg pl-10 pr-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter land line number"})]}),e.jsx(hs,{error:(_=i.address)==null?void 0:_.landLine}),a.address.landLine&&a.address.landLine.length!==10&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Land line must be 10 digits"})]}),e.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Mobile Line ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Yl,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),e.jsx("input",{name:"mobileLine",value:a.address.mobileLine,onChange:ie=>{const oe=ie.target.value.replace(/\D/g,"").slice(0,10);l({target:{name:"mobileLine",value:oe}})},className:`w-full border ${(k=i.address)!=null&&k.mobileLine?"border-red-500":"border-gray-300"} rounded-lg pl-10 pr-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter mobile number"})]}),e.jsx(hs,{error:(A=i.address)==null?void 0:A.mobileLine}),a.address.mobileLine&&a.address.mobileLine.length!==10&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Mobile number must be 10 digits"})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(RF,{className:"w-5 h-5 text-purple-600"}),"Location Details"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Province ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"province",value:a.address.province,onChange:l,className:`w-full border ${(R=i.address)!=null&&R.province?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white`,children:[e.jsx("option",{value:"",children:"Select Province"}),US.Provinces.map((ie,oe)=>e.jsx("option",{value:ie.name,children:ie.name},oe))]}),e.jsx(hs,{error:(F=i.address)==null?void 0:F.province})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Electoral Division"}),e.jsx("input",{name:"electoralDivision",value:a.address.electoralDivision,onChange:l,className:`w-full border ${(V=i.address)!=null&&V.electoralDivision?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter electoral division"}),e.jsx(hs,{error:(S=i.address)==null?void 0:S.electoralDivision})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"GN Division"}),e.jsx("input",{name:"gnDivision",value:a.address.gnDivision,onChange:l,className:`w-full border ${(L=i.address)!=null&&L.gnDivision?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter GN division"}),e.jsx(hs,{error:(I=i.address)==null?void 0:I.gnDivision})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Police Station"}),e.jsx("input",{name:"policeStation",value:a.address.policeStation,onChange:l,className:`w-full border ${(B=i.address)!=null&&B.policeStation?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter police station"}),e.jsx(hs,{error:(T=i.address)==null?void 0:T.policeStation})]}),e.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["District ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"district",value:a.address.district,onChange:l,disabled:!a.address.province,className:`w-full border ${(w=i.address)!=null&&w.district?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white ${a.address.province?"":"opacity-70 cursor-not-allowed"}`,children:[e.jsx("option",{value:"",children:"Select District"}),u().map((ie,oe)=>e.jsx("option",{value:ie,children:ie},oe))]}),e.jsx(hs,{error:(E=i.address)==null?void 0:E.district})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(P0,{className:"w-5 h-5 text-red-600"}),"Emergency Contact"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Relationship ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"relationship",value:a.address.emergencyContact.relationship,onChange:d,className:`w-full border ${(G=(D=i.address)==null?void 0:D.emergencyContact)!=null&&G.relationship?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white`,children:[e.jsx("option",{value:"",children:"Select Relationship"}),e.jsx("option",{value:"Spouse",children:"Spouse"}),e.jsx("option",{value:"Parent",children:"Parent"}),e.jsx("option",{value:"Sibling",children:"Sibling"}),e.jsx("option",{value:"Child",children:"Child"}),e.jsx("option",{value:"Friend",children:"Friend"})]}),e.jsx(hs,{error:(X=(K=i.address)==null?void 0:K.emergencyContact)==null?void 0:X.relationship})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Contact Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"contactName",value:a.address.emergencyContact.contactName,onChange:d,className:`w-full border ${(Z=(se=i.address)==null?void 0:se.emergencyContact)!=null&&Z.contactName?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter contact name"}),e.jsx(hs,{error:(ce=(ee=i.address)==null?void 0:ee.emergencyContact)==null?void 0:ce.contactName})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Contact Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{name:"contactAddress",value:a.address.emergencyContact.contactAddress,onChange:d,rows:"2",className:`w-full border ${(O=(U=i.address)==null?void 0:U.emergencyContact)!=null&&O.contactAddress?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none`,placeholder:"Enter contact address"}),e.jsx(hs,{error:(q=(z=i.address)==null?void 0:z.emergencyContact)==null?void 0:q.contactAddress})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Contact Tel ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Yl,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),e.jsx("input",{name:"contactTel",value:a.address.emergencyContact.contactTel,onChange:ie=>{const oe=ie.target.value.replace(/\D/g,"").slice(0,10);d({target:{name:"contactTel",value:oe}})},className:`w-full border ${(ge=(te=i.address)==null?void 0:te.emergencyContact)!=null&&ge.contactTel?"border-red-500":"border-gray-300"} rounded-lg pl-10 pr-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter contact telephone"})]}),e.jsx(hs,{error:(ue=(Q=i.address)==null?void 0:Q.emergencyContact)==null?void 0:ue.contactTel}),a.address.emergencyContact.contactTel&&a.address.emergencyContact.contactTel.length!==10&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Contact number must be 10 digits"})]})]})]})]})]}),e.jsxs("div",{className:"flex justify-between mt-8",children:[e.jsx("button",{type:"button",onClick:s,className:"bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400",children:"Previous"}),e.jsx("button",{type:"button",onClick:t,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Next"})]})]})})},au="/apiData",Qd=async()=>{try{return(await Ze.get(`${au}/companies`)).data}catch(t){return console.error("Error fetching companies:",t),[]}},ix=async()=>{try{return(await Ze.get(`${au}/departments`)).data}catch(t){return console.error("Error fetching departments:",t),[]}},fN=async t=>{try{return(await Ze.get(`${au}/departments/${t}`)).data}catch(s){return console.error("Error fetching departments:",s),[]}},Kw=async()=>{try{return(await Ze.get(`${au}/subDepartments`)).data}catch(t){return console.error("Error fetching sub-departments:",t),[]}},vU=async t=>{try{return(await Ze.get(`${au}/subDepartments/${t}`)).data}catch(s){return console.error("Error fetching sub-departments:",s),[]}},VS=async()=>{try{return(await Ze.get(`${au}/designations`)).data}catch(t){return console.error("Error fetching Designations:",t),[]}},wU=async t=>{try{return(await Ze.post("/companies",t)).data}catch(s){throw console.error("Error adding companies:",s),s}},jU=async(t,s)=>{try{return(await Ze.put(`/companies/${t}`,s)).data}catch(r){throw console.error("Error updating company:",r),r}},NU=async t=>{try{await Ze.delete(`/companies/${t}`)}catch(s){throw console.error("Error deleting company:",s),s}},SU=async t=>(await Ze.post("/departments",t)).data,_U=async(t,s)=>(await Ze.put(`/departments/${t}`,s)).data,CU=async t=>{await Ze.delete(`/departments/${t}`)},kU=async t=>{try{return(await Ze.post("/subdepartments",t)).data}catch(s){throw console.error("Error creating sub-department:",s),s}},AU=async(t,s)=>{try{return(await Ze.put(`/subdepartments/${t}`,s)).data}catch(r){throw console.error("Error updating sub-department:",r),r}},EU=async t=>{try{await Ze.delete(`/subdepartments/${t}`)}catch(s){throw console.error("Error deleting sub-department:",s),s}},Af=async()=>{try{return(await Ze.get("/time-cards")).data}catch(t){return console.error("Error fetching time cards:",t),[]}},TU=async t=>{try{return(await Ze.get(`${au}/subDepartments/${t}/employees`)).data}catch(s){return console.error("Error fetching employees by sub-department:",s),[]}},DU=async t=>{try{const s=await Ze.post("/time-cards",t);return console.log("Time card added successfully:",s.data),s.data}catch(s){throw s}},PU=async t=>{try{return(await Ze.get(`${au}/companies/${t}/employees`)).data}catch(s){return console.error("Error fetching employees by company:",s),[]}},MU=async t=>{try{return(await Ze.post(`${au}/addNewDesignation`,{name:t})).data}catch(s){throw console.error("Error adding addNewDesignation:",s),s}},LU=({onNext:t,onPrevious:s,activeCategory:r})=>{var U,O,z,q,te,ge,Q,ue,ie,oe,J,re,ve,pe,ae,he,Te,Ie,Be,Le,Ee,Ve,mt,gt,Pe,Ae,We;const{formData:a,updateFormData:n,errors:i,clearFieldError:o}=L0(),[l,d]=N.useState(!0),[u,h]=N.useState(!1),[f,p]=N.useState(!1),[g,v]=N.useState(!0),[y,b]=N.useState([]),[_,k]=N.useState([]),[A,R]=N.useState([]),[F,V]=N.useState([]),[S,L]=N.useState({probationEnabled:!1,trainingEnabled:!1,contractEnabled:!1,confirmationEnabled:!1}),[I,B]=N.useState(!1),[T,w]=N.useState(""),[E,D]=N.useState(""),[G,K]=N.useState(!1),X=Xe=>{Xe.target.value==="add-new"?(B(!0),Xe.target.value=a.organization.designation||""):Z(Xe)},se=async()=>{if(!T.trim()){D("Please enter a designation name");return}K(!0);try{const Xe=await MU(T.trim()),st=await VS();V(st),w(""),D(""),B(!1),K(!1)}catch{D("Failed to add designation. Please try again.")}};N.useEffect(()=>{(async()=>{try{const[st,ke]=await Promise.all([Qd(),VS()]);b(st),d(!1),V(ke),v(!1)}catch(st){console.error("Error loading data:",st)}})()},[]),N.useEffect(()=>{a.organization.company?(async()=>{h(!0);try{const st=await fN(a.organization.company);k(st),n("organization",{department:"",subDepartment:""}),R([])}catch(st){console.error("Error loading departments:",st)}finally{h(!1)}})():(k([]),R([]))},[a.organization.company]),N.useEffect(()=>{a.organization.department?(async()=>{p(!0);try{const st=await vU(a.organization.department);R(st),n("organization",{subDepartment:""})}catch(st){console.error("Error loading sub-departments:",st)}finally{p(!1)}})():R([])},[a.organization.department]);const Z=Xe=>{var St;const{name:st,value:ke,type:ct,checked:nt,files:Bt}=Xe.target,Ge=ke===""?"":Number(ke);if((St=i.organization)!=null&&St[st]&&o("organization",st),st==="company"){const bt=y.find(qe=>qe.id===Ge);n("organization",{company:Ge.toString(),companyName:(bt==null?void 0:bt.name)||"",department:"",departmentName:"",subDepartment:"",subDepartmentName:""});return}if(st==="department"){const bt=_.find(qe=>qe.id===Ge);n("organization",{department:Ge.toString(),departmentName:(bt==null?void 0:bt.name)||"",subDepartment:"",subDepartmentName:""});return}if(st==="subDepartment"){const bt=A.find(qe=>qe.id===Ge);n("organization",{subDepartment:Ge.toString(),subDepartmentName:(bt==null?void 0:bt.name)||""});return}if(st==="designation"){const bt=F.find(qe=>qe.id===Ge);n("organization",{designation:Ge.toString(),designationName:(bt==null?void 0:bt.name)||""});return}n("organization",{[st]:ct==="checkbox"?nt:ct==="file"?Bt[0]:ke})},ee=Xe=>{L(st=>{const ke=!st[Xe],nt={probationEnabled:"probationPeriod",trainingEnabled:"trainingPeriod",contractEnabled:"contractPeriod",confirmationEnabled:null}[Xe];return nt&&n("organization",{[nt]:ke}),{...st,[Xe]:ke}})},ce=({enabled:Xe,onToggle:st,label:ke,value:ct})=>e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",onChange:st,className:"sr-only peer","aria-label":`Toggle ${ke}`}),e.jsx("div",{className:`w-11 h-6 rounded-full transition-colors ${Xe?"bg-blue-600":"bg-gray-300"} peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500 peer-focus:ring-offset-2`}),e.jsx("div",{className:`absolute left-1 top-1 h-4 w-4 rounded-full bg-white transition-transform ${Xe?"translate-x-5":"translate-x-0"}`})]});return e.jsxs("div",{className:"p-4 md:p-6 bg-white rounded-lg shadow-md",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[e.jsx(Kn,{className:"text-blue-600",size:24}),"Organization Details"]}),e.jsxs("form",{children:[e.jsxs("div",{className:"mb-8 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[e.jsx(ta,{className:"text-blue-500",size:20}),"Company Information"]}),e.jsx("p",{className:"text-gray-500 mb-4 pl-7",children:"Basic company and employee details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"text-gray-700 font-medium mb-2 flex items-center gap-1",children:[e.jsx(Kn,{className:"text-gray-500",size:16}),"Company ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative flex-1",children:[l?e.jsx("div",{className:"flex items-center justify-center h-10 border border-gray-300 rounded-md bg-gray-100",children:e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-purple-500"})}):e.jsxs("select",{name:"company",value:a.organization.company,onChange:Z,className:`w-full pl-8 pr-3 py-2 border ${(U=i.organization)!=null&&U.company?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[e.jsx("option",{value:"",children:"Select Company"}),y.map(Xe=>e.jsx("option",{value:Xe.id,children:Xe.name},Xe.id))]}),e.jsx(hs,{error:(O=i.organization)==null?void 0:O.company})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"text-gray-700 font-medium mb-2 flex items-center gap-1",children:[e.jsx(Uh,{className:"text-gray-500",size:16}),"Department"]}),e.jsxs("div",{className:"relative flex-1",children:[u?e.jsx("div",{className:"flex items-center justify-center h-10 border border-gray-300 rounded-md bg-gray-100",children:e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-purple-500"})}):e.jsxs("select",{name:"department",value:a.organization.department,onChange:Z,disabled:!a.organization.company||u,className:`w-full pl-8 pr-3 py-2 border ${(z=i.organization)!=null&&z.department?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${a.organization.company?"":"bg-gray-100 cursor-not-allowed"}`,children:[e.jsx("option",{value:"",children:"Select Department"}),_.map(Xe=>e.jsx("option",{value:Xe.id,children:Xe.name},Xe.id))]}),e.jsx(hs,{error:(q=i.organization)==null?void 0:q.department})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"text-gray-700 font-medium mb-2 flex items-center gap-1",children:[e.jsx(Uh,{className:"text-gray-500",size:16}),"Sub Department"]}),e.jsxs("div",{className:"relative flex-1",children:[f?e.jsx("div",{className:"flex items-center justify-center h-10 border border-gray-300 rounded-md bg-gray-100",children:e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-purple-500"})}):e.jsxs("select",{name:"subDepartment",value:a.organization.subDepartment,onChange:Z,disabled:!a.organization.department||f,className:`w-full pl-8 pr-3 py-2 border ${(te=i.organization)!=null&&te.subDepartment?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${a.organization.department?"":"bg-gray-100 cursor-not-allowed"}`,required:!0,children:[e.jsx("option",{value:"",children:"Select Sub Department"}),A.map(Xe=>e.jsx("option",{value:Xe.id,children:Xe.name},Xe.id))]}),e.jsx(hs,{error:(ge=i.organization)==null?void 0:ge.subDepartment})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"text-gray-700 font-medium mb-2 flex items-center gap-1",children:[e.jsx(er,{className:"text-gray-500",size:16}),"Current Supervisor"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",name:"currentSupervisor",value:a.organization.currentSupervisor,onChange:Z,placeholder:"e.g., John Doe",className:`w-full pl-8 pr-3 py-2 border ${(Q=i.organization)!=null&&Q.currentSupervisor?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`}),e.jsx(er,{className:"absolute left-2 top-2.5 text-gray-400",size:16})]}),e.jsx(hs,{error:(ue=i.organization)==null?void 0:ue.currentSupervisor})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"text-gray-700 font-medium mb-2 flex items-center gap-1",children:[e.jsx(ys,{className:"text-gray-500",size:16}),"Date of Joined ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"date",name:"dateOfJoined",value:a.organization.dateOfJoined,max:new Date().toISOString().split("T")[0],onChange:Z,className:`w-full pl-8 pr-3 py-2 border ${(ie=i.organization)!=null&&ie.dateOfJoined?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`})}),e.jsx(hs,{error:(oe=i.organization)==null?void 0:oe.dateOfJoined})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"text-gray-700 font-medium mb-2 flex items-center gap-1",children:[e.jsx(j1,{className:"text-gray-500",size:16}),"Designation ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"relative",children:g?e.jsx("div",{className:"flex items-center justify-center h-10 border border-gray-300 rounded-md bg-gray-100",children:e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-purple-500"})}):e.jsxs(e.Fragment,{children:[e.jsxs("select",{name:"designation",value:a.organization.designation,onChange:X,className:`w-full pl-8 pr-3 py-2 border ${(J=i.organization)!=null&&J.designation?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`,required:!0,children:[e.jsx("option",{value:"",children:"Select designation"}),F.map(Xe=>e.jsx("option",{value:Xe.id,children:Xe.name},Xe.id)),e.jsx("option",{value:"add-new",className:"text-blue-500 font-medium",children:"+ Add New Designation"})]}),I&&e.jsx("div",{className:"fixed inset-0 backdrop-blur-md bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Add New Designation"}),e.jsx("button",{onClick:()=>B(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx(zt,{size:20})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Designation Name"}),e.jsx("input",{type:"text",value:T,onChange:Xe=>w(Xe.target.value),placeholder:"Enter designation name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0})]}),E&&e.jsx("p",{className:"text-red-500 text-sm",children:E}),e.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[e.jsx("button",{onClick:()=>{B(!1),w(""),D("")},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),G?e.jsxs("button",{disabled:!0,className:"px-4 py-2 bg-blue-500 text-white rounded-md flex items-center justify-center gap-2 cursor-not-allowed opacity-80",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Adding..."})]}):e.jsx("button",{onClick:se,disabled:!T.trim(),className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"Add Designation"})]})]})]})})]})}),e.jsx(hs,{error:(re=i.organization)==null?void 0:re.designation})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"text-gray-700 font-medium mb-2 flex items-center gap-1",children:[e.jsx(Uh,{className:"text-gray-500",size:16}),"Day Off"]}),e.jsx("div",{className:"relative",children:e.jsxs("select",{name:"dayOff",value:a.organization.dayOff||"",onChange:Z,className:`w-full pl-8 pr-3 py-2 border ${(ve=i.organization)!=null&&ve.dayOff?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`,required:!0,children:[e.jsx("option",{value:"",children:"Select Day Off"}),e.jsx("option",{value:"Sunday",children:"Sunday"}),e.jsx("option",{value:"Monday",children:"Monday"}),e.jsx("option",{value:"Tuesday",children:"Tuesday"}),e.jsx("option",{value:"Wednesday",children:"Wednesday"}),e.jsx("option",{value:"Thursday",children:"Thursday"}),e.jsx("option",{value:"Friday",children:"Friday"}),e.jsx("option",{value:"Saturday",children:"Saturday"}),e.jsx("option",{value:"none",children:"None"})]})}),e.jsx(hs,{error:(pe=i.organization)==null?void 0:pe.dayOff})]})]})]}),e.jsxs("div",{className:"mb-8 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[e.jsx(Ns,{className:"text-blue-500",size:20}),"Employment Periods"]}),e.jsx("p",{className:"text-gray-500 mb-4 pl-7",children:"Define training, probation, and contract periods"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h3",{className:"font-medium text-gray-700 flex items-center gap-2",children:[e.jsx("span",{className:"bg-blue-100 text-blue-800 rounded-full w-6 h-6 flex items-center justify-center text-sm",children:"1"}),"Probation Period"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-sm ${a.organization.probationPeriod?"text-blue-600":"text-red-400"}`,children:a.organization.probationPeriod?"Enabled":"Disabled"}),e.jsx(ce,{enabled:a.organization.probationPeriod,onToggle:()=>ee("probationEnabled"),label:"Probation Period",value:a.organization.probationPeriod})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 mb-1",children:"From Date"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"date",name:"probationFrom",value:a.organization.probationFrom,onChange:Z,min:a.organization.dateOfJoined||"",max:a.organization.probationTo||"",disabled:!a.organization.probationPeriod,className:`w-full pl-8 pr-3 py-2 border ${a.organization.probationPeriod?(ae=i.organization)!=null&&ae.probationFrom?"border-red-500":"border-gray-300":"bg-gray-100 text-gray-400 cursor-not-allowed"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`}),e.jsx(ys,{className:`absolute left-2 top-2.5 ${a.organization.probationPeriod?"text-gray-400":"text-gray-300"}`,size:16})]}),e.jsx(hs,{error:(he=i.organization)==null?void 0:he.probationFrom})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 mb-1",children:"To Date"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"date",name:"probationTo",value:a.organization.probationTo,onChange:Z,min:a.organization.probationFrom||"",disabled:!a.organization.probationPeriod,className:`w-full pl-8 pr-3 py-2 border ${a.organization.probationPeriod?(Te=i.organization)!=null&&Te.probationTo?"border-red-500":"border-gray-300":"bg-gray-100 text-gray-400 cursor-not-allowed"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`}),e.jsx(ys,{className:`absolute left-2 top-2.5 ${a.organization.probationPeriod?"text-gray-400":"text-gray-300"}`,size:16})]}),e.jsx(hs,{error:(Ie=i.organization)==null?void 0:Ie.probationTo})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h3",{className:"font-medium text-gray-700 flex items-center gap-2",children:[e.jsx("span",{className:"bg-blue-100 text-blue-800 rounded-full w-6 h-6 flex items-center justify-center text-sm",children:"2"}),"Training Period"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-sm ${a.organization.trainingPeriod?"text-blue-600":"text-red-400"}`,children:a.organization.trainingPeriod?"Enabled":"Disabled"}),e.jsx(ce,{enabled:a.organization.trainingPeriod,onToggle:()=>ee("trainingEnabled"),value:a.organization.trainingPeriod,label:"Training Period"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 mb-1",children:"From Date"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"date",name:"trainingFrom",value:a.organization.trainingFrom,onChange:Z,min:a.organization.dateOfJoined||"",max:a.organization.trainingTo||"",disabled:!a.organization.trainingPeriod,className:`w-full pl-8 pr-3 py-2 border ${a.organization.trainingPeriod?(Be=i.organization)!=null&&Be.trainingFrom?"border-red-500":"border-gray-300":"bg-gray-100 text-gray-400 cursor-not-allowed"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`}),e.jsx(ys,{className:`absolute left-2 top-2.5 ${a.organization.trainingPeriod?"text-gray-400":"text-gray-300"}`,size:16})]}),e.jsx(hs,{error:(Le=i.organization)==null?void 0:Le.trainingFrom})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 mb-1",children:"To Date"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"date",name:"trainingTo",value:a.organization.trainingTo,onChange:Z,min:a.organization.trainingFrom||"",disabled:!a.organization.trainingPeriod,className:`w-full pl-8 pr-3 py-2 border ${a.organization.trainingPeriod?(Ee=i.organization)!=null&&Ee.trainingTo?"border-red-500":"border-gray-300":"bg-gray-100 text-gray-400 cursor-not-allowed"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`}),e.jsx(ys,{className:`absolute left-2 top-2.5 ${a.organization.trainingPeriod?"text-gray-400":"text-gray-300"}`,size:16})]}),e.jsx(hs,{error:(Ve=i.organization)==null?void 0:Ve.trainingTo})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h3",{className:"font-medium text-gray-700 flex items-center gap-2",children:[e.jsx("span",{className:"bg-blue-100 text-blue-800 rounded-full w-6 h-6 flex items-center justify-center text-sm",children:"3"}),"Contract Period"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-sm ${a.organization.contractPeriod?"text-blue-600":"text-red-400"}`,children:a.organization.contractPeriod?"Enabled":"Disabled"}),e.jsx(ce,{enabled:a.organization.contractPeriod,onToggle:()=>ee("contractEnabled"),label:"Contract Period",value:a.organization.contractPeriod})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 mb-1",children:"From Date"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"date",name:"contractFrom",value:a.organization.contractFrom,onChange:Z,min:a.organization.dateOfJoined||"",max:a.organization.contractTo||"",disabled:!a.organization.contractPeriod,className:`w-full pl-8 pr-3 py-2 border ${a.organization.contractPeriod?(mt=i.organization)!=null&&mt.contractFrom?"border-red-500":"border-gray-300":"bg-gray-100 text-gray-400 cursor-not-allowed"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`}),e.jsx(ys,{className:`absolute left-2 top-2.5 ${a.organization.contractPeriod?"text-gray-400":"text-gray-300"}`,size:16})]}),e.jsx(hs,{error:(gt=i.organization)==null?void 0:gt.contractFrom})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 mb-1",children:"To Date"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"date",name:"contractTo",value:a.organization.contractTo,onChange:Z,min:a.organization.contractFrom||"",disabled:!a.organization.contractPeriod,className:`w-full pl-8 pr-3 py-2 border ${a.organization.contractPeriod?(Pe=i.organization)!=null&&Pe.contractTo?"border-red-500":"border-gray-300":"bg-gray-100 text-gray-400 cursor-not-allowed"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`}),e.jsx(ys,{className:`absolute left-2 top-2.5 ${a.organization.contractPeriod?"text-gray-400":"text-gray-300"}`,size:16})]}),e.jsx(hs,{error:(Ae=i.organization)==null?void 0:Ae.contractTo})]})]})]}),e.jsxs("div",{className:"md:w-1/2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:"text-gray-700 font-medium flex items-center gap-1",children:[e.jsx(vs,{className:"text-gray-500",size:16}),"Confirmation Date"]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:`text-sm ${S.confirmationEnabled?"text-blue-600":"text-red-400"}`})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"date",name:"confirmationDate",value:a.organization.confirmationDate,onChange:Z,className:"w-full pl-8 pr-3 py-2 border  rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx(ys,{className:`absolute left-2 top-2.5 ${S.confirmationEnabled?"text-gray-400":"text-gray-300"}`,size:16})]}),e.jsx(hs,{error:(We=i.organization)==null?void 0:We.confirmationDate})]})]})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 flex justify-between space-x-4",children:[e.jsx("button",{type:"button",onClick:s,className:"bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400",children:"Previous"}),e.jsx("button",{type:"button",onClick:t,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Next"})]})]})]})},n8=["Alliance Finance Company PLC","Amana Bank PLC","Axis Bank","Bank of Ceylon","Cargills Bank Limited","Central Bank of Sri Lanka","Central Finance PLC","Citizen Development Business Finance PLC","Citi Bank","Commercial Bank PLC","Commercial Credit & Finance PLC","Commercial Leasing and Finance","Deutsche Bank","DFCC Bank PLC","Habib Bank Ltd","Hatton National Bank PLC","HDFC Bank","HNB Grameen Finance Limited","Hongkong Shanghai Bank","ICICI Bank Ltd","Indian Bank","Indian Overseas Bank","Kanrich Finance Limited","LB Finance PLC","LOLC Finance PLC","MCB Bank Ltd","Merchant Bank of Sri Lanka & Finance PLC","Mercantile Investment and Finance PLC","National Development Bank PLC","National Savings Bank","Nations Trust Bank PLC","Pan Asia Banking Corporation PLC","Peoples Bank","People's Leasing & Finance PLC","Public Bank","Regional Development Bank","Sampath Bank PLC","Sanasa Development Bank","Senkadagala Finance PLC","Seylan Bank PLC","Standard Chartered Bank","State Bank of India","State Mortgage & Investment Bank","Union Bank of Colombo PLC","Vallibel Finance PLC"];n8.sort((t,s)=>t.localeCompare(s));const Nh=t=>{if([46,8,9,27,13,110,190].includes(t.keyCode)||t.keyCode>=35&&t.keyCode<=40||t.keyCode>=48&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=105||t.keyCode===110||t.keyCode===190){(t.keyCode===110||t.keyCode===190)&&t.target.value.includes(".")&&t.preventDefault();return}t.preventDefault()},FU=({onNext:t,onPrevious:s,activeCategory:r})=>{var h,f,p,g,v,y,b,_,k,A,R,F,V,S,L,I,B,T,w,E,D,G,K;const{formData:a,updateFormData:n,errors:i,clearFieldError:o}=L0(),l=(X,se)=>{var Z;(Z=i.compensation)!=null&&Z[X]&&o("compensation",X),n("compensation",{[X]:se})},d=X=>{n("compensation",{[X]:!a.compensation[X]})},u=Number(((h=a.compensation)==null?void 0:h.basicSalary)||0)>4e4;return e.jsx("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"flex items-center gap-3 mb-6",children:e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[e.jsx(Qs,{className:"w-6 h-6 mr-2 text-green-600"}),"Compensation Management"]})}),e.jsxs("form",{children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-xl border border-green-200",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx(Qs,{className:"w-5 h-5 mr-2 text-green-600"}),"Salary Information"]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Basic Salary ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:a.compensation.basicSalary,onChange:X=>l("basicSalary",X.target.value),onKeyDown:Nh,className:`w-full pl-10 pr-4 py-3 border ${(f=i.compensation)!=null&&f.basicSalary?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter basic salary",required:!0})]}),e.jsx(hs,{error:(p=i.compensation)==null?void 0:p.basicSalary})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-violet-50 p-6 rounded-xl border border-indigo-200",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx(ys,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Increment Settings"]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border mb-4",children:[e.jsx("label",{htmlFor:"incrementActive",className:"text-sm font-medium text-gray-700",children:"Increment Active"}),e.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer",style:{backgroundColor:a.compensation.incrementActive?"#3b82f6":"#e5e7eb"},onClick:()=>d("incrementActive"),children:e.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${a.compensation.incrementActive?"translate-x-6":"translate-x-1"}`})})]}),a.compensation.incrementActive&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Increment Value"}),e.jsxs("div",{className:"relative",children:[e.jsx(Qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:a.compensation.incrementValue,onChange:X=>l("incrementValue",X.target.value),onKeyDown:Nh,className:`w-full pl-10 pr-4 py-3 border ${(g=i.compensation)!=null&&g.incrementValue?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter increment"})]}),e.jsx(hs,{error:(v=i.compensation)==null?void 0:v.incrementValue})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Increment Effective From"}),e.jsxs("div",{className:"relative",children:[e.jsx(ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"date",value:a.compensation.incrementEffectiveFrom,onChange:X=>l("incrementEffectiveFrom",X.target.value),className:`w-full pl-10 pr-4 py-3 border ${(y=i.compensation)!=null&&y.incrementEffectiveFrom?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`})]}),e.jsx(hs,{error:(b=i.compensation)==null?void 0:b.incrementEffectiveFrom})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-violet-50 p-6 rounded-xl border border-purple-200",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx(er,{className:"w-5 h-5 mr-2 text-purple-600"}),"Employment Settings"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[e.jsx("label",{htmlFor:"secondaryEmp",className:"text-sm font-medium text-gray-700",children:"Secondary Employment"}),e.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer",style:{backgroundColor:a.compensation.secondaryEmp?"#3b82f6":"#e5e7eb"},onClick:()=>d("secondaryEmp"),children:e.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${a.compensation.secondaryEmp?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[e.jsx("label",{htmlFor:"Stamp",className:"text-sm font-medium text-gray-700",children:"Stamp"}),e.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer",style:{backgroundColor:a.compensation.stamp?"#3b82f6":"#e5e7eb"},onClick:()=>d("stamp"),children:e.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${a.compensation.stamp?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[e.jsx("label",{htmlFor:"enableEpfEtf",className:"text-sm font-medium text-gray-700",children:"Enable EPF/ETF"}),e.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer",style:{backgroundColor:a.compensation.enableEpfEtf?"#3b82f6":"#e5e7eb"},onClick:()=>d("enableEpfEtf"),children:e.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${a.compensation.enableEpfEtf?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[e.jsx("label",{htmlFor:"otActive",className:"text-sm font-medium text-gray-700",children:"OT Active"}),e.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer",style:{backgroundColor:a.compensation.otActive?"#3b82f6":"#e5e7eb"},onClick:()=>d("otActive"),children:e.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${a.compensation.otActive?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[e.jsx("label",{htmlFor:"nopayActive",className:"text-sm font-medium text-gray-700",children:"No-pay Active"}),e.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer",style:{backgroundColor:a.compensation.nopayActive?"#3b82f6":"#e5e7eb"},onClick:()=>d("nopayActive"),children:e.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${a.compensation.nopayActive?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[e.jsx("label",{htmlFor:"earlyDeduction",className:"text-sm font-medium text-gray-700",children:"Early Deduction"}),e.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer",style:{backgroundColor:a.compensation.earlyDeduction?"#3b82f6":"#e5e7eb"},onClick:()=>d("earlyDeduction"),children:e.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${a.compensation.earlyDeduction?"translate-x-6":"translate-x-1"}`})})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 p-6 rounded-xl border border-orange-200",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx(Hs,{className:"w-5 h-5 mr-2 text-orange-600"}),"Overtime Settings"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[e.jsx("label",{htmlFor:"morningOt",className:"text-sm font-medium text-gray-700",children:"Morning OT"}),e.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer",style:{backgroundColor:a.compensation.morningOt?"#3b82f6":"#e5e7eb"},onClick:()=>d("morningOt"),children:e.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${a.compensation.morningOt?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[e.jsx("label",{htmlFor:"eveningOt",className:"text-sm font-medium text-gray-700",children:"Evening OT"}),e.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer",style:{backgroundColor:a.compensation.eveningOt?"#3b82f6":"#e5e7eb"},onClick:()=>d("eveningOt"),children:e.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${a.compensation.eveningOt?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Morning OT Rate ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:a.compensation.ot_morning_rate,onChange:X=>l("ot_morning_rate",X.target.value),onKeyDown:Nh,className:`w-full pl-10 pr-4 py-3 border ${(_=i.compensation)!=null&&_.ot_morning_rate?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter Morning OT Rate",required:!0})]}),e.jsx(hs,{error:(k=i.compensation)==null?void 0:k.ot_morning_rate})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Night OT Rate ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:a.compensation.ot_night_rate,onChange:X=>l("ot_night_rate",X.target.value),onKeyDown:Nh,className:`w-full pl-10 pr-4 py-3 border ${(A=i.compensation)!=null&&A.ot_night_rate?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter Night OT Rate",required:!0})]}),e.jsx(hs,{error:(R=i.compensation)==null?void 0:R.ot_night_rate})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 p-6 rounded-xl border border-blue-200",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx(Kn,{className:"w-5 h-5 mr-2 text-blue-600"}),"Bank Information"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Bank Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:a.compensation.bankName,onChange:X=>l("bankName",X.target.value),className:`w-full px-4 py-3 border ${(F=i.compensation)!=null&&F.bankName?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,children:[e.jsx("option",{value:"",children:"Select Bank"}),n8.map((X,se)=>e.jsx("option",{value:X,children:X},se))]}),e.jsx(hs,{error:(V=i.compensation)==null?void 0:V.bankName})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Branch Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:a.compensation.branchName,onChange:X=>l("branchName",X.target.value),className:`w-full px-4 py-3 border ${(S=i.compensation)!=null&&S.branchName?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter branch name"}),e.jsx(hs,{error:(L=i.compensation)==null?void 0:L.branchName})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Bank Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:a.compensation.bankCode,onChange:X=>l("bankCode",X.target.value),onKeyDown:Nh,className:`w-full px-4 py-3 border ${(I=i.compensation)!=null&&I.bankCode?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter bank code"}),e.jsx(hs,{error:(B=i.compensation)==null?void 0:B.bankCode})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Branch Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:a.compensation.branchCode,onChange:X=>l("branchCode",X.target.value),className:`w-full px-4 py-3 border ${(T=i.compensation)!=null&&T.branchCode?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter branch code"}),e.jsx(hs,{error:(w=i.compensation)==null?void 0:w.branchCode})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Bank Account Number"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Zl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:a.compensation.bankAccountNo,onChange:X=>l("bankAccountNo",X.target.value),onKeyDown:Nh,className:`w-full pl-10 pr-4 py-3 border ${(E=i.compensation)!=null&&E.bankAccountNo?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter account number"})]}),e.jsx(hs,{error:(D=i.compensation)==null?void 0:D.bankAccountNo})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 p-6 rounded-xl border border-emerald-200",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Budgetary Relief Allowances"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-800",children:"Budgetary Relief Allowance 2015"}),e.jsx("p",{className:"text-sm text-gray-600",children:"BR1 Relief allowance for 2015"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer",style:{backgroundColor:a.compensation.budgetaryReliefAllowance2015?"#3b82f6":"#e5e7eb"},onClick:()=>d("budgetaryReliefAllowance2015"),children:e.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${a.compensation.budgetaryReliefAllowance2015?"translate-x-6":"translate-x-1"}`})}),u&&e.jsx("span",{className:"text-xs text-green-600",children:"Eligible"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-800",children:"Budgetary Relief Allowance 2016"}),e.jsx("p",{className:"text-sm text-gray-600",children:"BR2 Relief allowance for 2016"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer",style:{backgroundColor:a.compensation.budgetaryReliefAllowance2016?"#3b82f6":"#e5e7eb"},onClick:()=>d("budgetaryReliefAllowance2016"),children:e.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${a.compensation.budgetaryReliefAllowance2016?"translate-x-6":"translate-x-1"}`})}),u&&e.jsx("span",{className:"text-xs text-green-600",children:"Eligible"})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 p-6 rounded-xl border border-gray-200",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Primary Employment Basic"}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border",children:[e.jsx("div",{children:e.jsx("h3",{className:"font-medium text-gray-800",children:"Primary Employment Basic"})}),e.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer",style:{backgroundColor:a.compensation.primaryEmploymentBasic?"#3b82f6":"#e5e7eb"},onClick:()=>d("primaryEmploymentBasic"),children:e.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${a.compensation.primaryEmploymentBasic?"translate-x-6":"translate-x-1"}`})})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 p-6 rounded-xl border border-yellow-200",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Comments"}),e.jsx("textarea",{value:a.compensation.comments,onChange:X=>l("comments",X.target.value),rows:"4",className:`w-full px-4 py-3 border ${(G=i.compensation)!=null&&G.comments?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none`,placeholder:"Add any additional comments or notes..."}),e.jsx(hs,{error:(K=i.compensation)==null?void 0:K.comments})]})]})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 flex justify-between space-x-4",children:[e.jsx("button",{type:"button",onClick:s,className:"bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400",children:"Previous"}),e.jsx("button",{type:"button",onClick:t,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Next"})]})]})]})})};/*!
* sweetalert2 v11.22.2
* Released under the MIT License.
*/function i8(t,s,r){if(typeof t=="function"?t===s:t.has(s))return arguments.length<3?s:r;throw new TypeError("Private element is not present on this object")}function RU(t,s){if(s.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function qS(t,s){return t.get(i8(t,s))}function OU(t,s,r){RU(t,s),s.set(t,r)}function IU(t,s,r){return t.set(i8(t,s),r),r}const BU=100,Ss={},zU=()=>{Ss.previousActiveElement instanceof HTMLElement?(Ss.previousActiveElement.focus(),Ss.previousActiveElement=null):document.body&&document.body.focus()},$U=t=>new Promise(s=>{if(!t)return s();const r=window.scrollX,a=window.scrollY;Ss.restoreFocusTimeout=setTimeout(()=>{zU(),s()},BU),window.scrollTo(r,a)}),o8="swal2-",UU=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],kt=UU.reduce((t,s)=>(t[s]=o8+s,t),{}),VU=["success","warning","info","question","error"],Hb=VU.reduce((t,s)=>(t[s]=o8+s,t),{}),l8="SweetAlert2:",pN=t=>t.charAt(0).toUpperCase()+t.slice(1),$i=t=>{console.warn(`${l8} ${typeof t=="object"?t.join(" "):t}`)},F0=t=>{console.error(`${l8} ${t}`)},HS=[],qU=t=>{HS.includes(t)||(HS.push(t),$i(t))},c8=(t,s=null)=>{qU(`"${t}" is deprecated and will be removed in the next major release.${s?` Use "${s}" instead.`:""}`)},O1=t=>typeof t=="function"?t():t,gN=t=>t&&typeof t.toPromise=="function",eg=t=>gN(t)?t.toPromise():Promise.resolve(t),yN=t=>t&&Promise.resolve(t)===t,Vi=()=>document.body.querySelector(`.${kt.container}`),tg=t=>{const s=Vi();return s?s.querySelector(t):null},Io=t=>tg(`.${t}`),Dr=()=>Io(kt.popup),yx=()=>Io(kt.icon),HU=()=>Io(kt["icon-content"]),d8=()=>Io(kt.title),bN=()=>Io(kt["html-container"]),u8=()=>Io(kt.image),vN=()=>Io(kt["progress-steps"]),I1=()=>Io(kt["validation-message"]),td=()=>tg(`.${kt.actions} .${kt.confirm}`),bx=()=>tg(`.${kt.actions} .${kt.cancel}`),R0=()=>tg(`.${kt.actions} .${kt.deny}`),WU=()=>Io(kt["input-label"]),vx=()=>tg(`.${kt.loader}`),sg=()=>Io(kt.actions),m8=()=>Io(kt.footer),B1=()=>Io(kt["timer-progress-bar"]),wN=()=>Io(kt.close),GU=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,jN=()=>{const t=Dr();if(!t)return[];const s=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),r=Array.from(s).sort((i,o)=>{const l=parseInt(i.getAttribute("tabindex")||"0"),d=parseInt(o.getAttribute("tabindex")||"0");return l>d?1:l<d?-1:0}),a=t.querySelectorAll(GU),n=Array.from(a).filter(i=>i.getAttribute("tabindex")!=="-1");return[...new Set(r.concat(n))].filter(i=>oo(i))},NN=()=>Wd(document.body,kt.shown)&&!Wd(document.body,kt["toast-shown"])&&!Wd(document.body,kt["no-backdrop"]),z1=()=>{const t=Dr();return t?Wd(t,kt.toast):!1},YU=()=>{const t=Dr();return t?t.hasAttribute("data-loading"):!1},Bo=(t,s)=>{if(t.textContent="",s){const a=new DOMParser().parseFromString(s,"text/html"),n=a.querySelector("head");n&&Array.from(n.childNodes).forEach(o=>{t.appendChild(o)});const i=a.querySelector("body");i&&Array.from(i.childNodes).forEach(o=>{o instanceof HTMLVideoElement||o instanceof HTMLAudioElement?t.appendChild(o.cloneNode(!0)):t.appendChild(o)})}},Wd=(t,s)=>{if(!s)return!1;const r=s.split(/\s+/);for(let a=0;a<r.length;a++)if(!t.classList.contains(r[a]))return!1;return!0},KU=(t,s)=>{Array.from(t.classList).forEach(r=>{!Object.values(kt).includes(r)&&!Object.values(Hb).includes(r)&&!Object.values(s.showClass||{}).includes(r)&&t.classList.remove(r)})},Fo=(t,s,r)=>{if(KU(t,s),!s.customClass)return;const a=s.customClass[r];if(a){if(typeof a!="string"&&!a.forEach){$i(`Invalid type of customClass.${r}! Expected string or iterable object, got "${typeof a}"`);return}Mr(t,a)}},$1=(t,s)=>{if(!s)return null;switch(s){case"select":case"textarea":case"file":return t.querySelector(`.${kt.popup} > .${kt[s]}`);case"checkbox":return t.querySelector(`.${kt.popup} > .${kt.checkbox} input`);case"radio":return t.querySelector(`.${kt.popup} > .${kt.radio} input:checked`)||t.querySelector(`.${kt.popup} > .${kt.radio} input:first-child`);case"range":return t.querySelector(`.${kt.popup} > .${kt.range} input`);default:return t.querySelector(`.${kt.popup} > .${kt.input}`)}},h8=t=>{if(t.focus(),t.type!=="file"){const s=t.value;t.value="",t.value=s}},x8=(t,s,r)=>{!t||!s||(typeof s=="string"&&(s=s.split(/\s+/).filter(Boolean)),s.forEach(a=>{Array.isArray(t)?t.forEach(n=>{r?n.classList.add(a):n.classList.remove(a)}):r?t.classList.add(a):t.classList.remove(a)}))},Mr=(t,s)=>{x8(t,s,!0)},fl=(t,s)=>{x8(t,s,!1)},am=(t,s)=>{const r=Array.from(t.children);for(let a=0;a<r.length;a++){const n=r[a];if(n instanceof HTMLElement&&Wd(n,s))return n}},p0=(t,s,r)=>{r===`${parseInt(r)}`&&(r=parseInt(r)),r||parseInt(r)===0?t.style.setProperty(s,typeof r=="number"?`${r}px`:r):t.style.removeProperty(s)},Ln=(t,s="flex")=>{t&&(t.style.display=s)},Ni=t=>{t&&(t.style.display="none")},SN=(t,s="block")=>{t&&new MutationObserver(()=>{rg(t,t.innerHTML,s)}).observe(t,{childList:!0,subtree:!0})},WS=(t,s,r,a)=>{const n=t.querySelector(s);n&&n.style.setProperty(r,a)},rg=(t,s,r="flex")=>{s?Ln(t,r):Ni(t)},oo=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),XU=()=>!oo(td())&&!oo(R0())&&!oo(bx()),Xw=t=>t.scrollHeight>t.clientHeight,QU=(t,s)=>{let r=t;for(;r&&r!==s;){if(Xw(r))return!0;r=r.parentElement}return!1},f8=t=>{const s=window.getComputedStyle(t),r=parseFloat(s.getPropertyValue("animation-duration")||"0"),a=parseFloat(s.getPropertyValue("transition-duration")||"0");return r>0||a>0},_N=(t,s=!1)=>{const r=B1();r&&oo(r)&&(s&&(r.style.transition="none",r.style.width="100%"),setTimeout(()=>{r.style.transition=`width ${t/1e3}s linear`,r.style.width="0%"},10))},JU=()=>{const t=B1();if(!t)return;const s=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const r=parseInt(window.getComputedStyle(t).width),a=s/r*100;t.style.width=`${a}%`},ZU=()=>typeof window>"u"||typeof document>"u",eV=`
 <div aria-labelledby="${kt.title}" aria-describedby="${kt["html-container"]}" class="${kt.popup}" tabindex="-1">
   <button type="button" class="${kt.close}"></button>
   <ul class="${kt["progress-steps"]}"></ul>
   <div class="${kt.icon}"></div>
   <img class="${kt.image}" />
   <h2 class="${kt.title}" id="${kt.title}"></h2>
   <div class="${kt["html-container"]}" id="${kt["html-container"]}"></div>
   <input class="${kt.input}" id="${kt.input}" />
   <input type="file" class="${kt.file}" />
   <div class="${kt.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${kt.select}" id="${kt.select}"></select>
   <div class="${kt.radio}"></div>
   <label class="${kt.checkbox}">
     <input type="checkbox" id="${kt.checkbox}" />
     <span class="${kt.label}"></span>
   </label>
   <textarea class="${kt.textarea}" id="${kt.textarea}"></textarea>
   <div class="${kt["validation-message"]}" id="${kt["validation-message"]}"></div>
   <div class="${kt.actions}">
     <div class="${kt.loader}"></div>
     <button type="button" class="${kt.confirm}"></button>
     <button type="button" class="${kt.deny}"></button>
     <button type="button" class="${kt.cancel}"></button>
   </div>
   <div class="${kt.footer}"></div>
   <div class="${kt["timer-progress-bar-container"]}">
     <div class="${kt["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),tV=()=>{const t=Vi();return t?(t.remove(),fl([document.documentElement,document.body],[kt["no-backdrop"],kt["toast-shown"],kt["has-column"]]),!0):!1},Zm=()=>{Ss.currentInstance.resetValidationMessage()},sV=()=>{const t=Dr(),s=am(t,kt.input),r=am(t,kt.file),a=t.querySelector(`.${kt.range} input`),n=t.querySelector(`.${kt.range} output`),i=am(t,kt.select),o=t.querySelector(`.${kt.checkbox} input`),l=am(t,kt.textarea);s.oninput=Zm,r.onchange=Zm,i.onchange=Zm,o.onchange=Zm,l.oninput=Zm,a.oninput=()=>{Zm(),n.value=a.value},a.onchange=()=>{Zm(),n.value=a.value}},rV=t=>typeof t=="string"?document.querySelector(t):t,aV=t=>{const s=Dr();s.setAttribute("role",t.toast?"alert":"dialog"),s.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||s.setAttribute("aria-modal","true")},nV=t=>{window.getComputedStyle(t).direction==="rtl"&&Mr(Vi(),kt.rtl)},iV=t=>{const s=tV();if(ZU()){F0("SweetAlert2 requires document to initialize");return}const r=document.createElement("div");r.className=kt.container,s&&Mr(r,kt["no-transition"]),Bo(r,eV),r.dataset.swal2Theme=t.theme;const a=rV(t.target);a.appendChild(r),t.topLayer&&(r.setAttribute("popover",""),r.showPopover()),aV(t),nV(a),sV()},CN=(t,s)=>{t instanceof HTMLElement?s.appendChild(t):typeof t=="object"?oV(t,s):t&&Bo(s,t)},oV=(t,s)=>{t.jquery?lV(s,t):Bo(s,t.toString())},lV=(t,s)=>{if(t.textContent="",0 in s)for(let r=0;r in s;r++)t.appendChild(s[r].cloneNode(!0));else t.appendChild(s.cloneNode(!0))},cV=(t,s)=>{const r=sg(),a=vx();!r||!a||(!s.showConfirmButton&&!s.showDenyButton&&!s.showCancelButton?Ni(r):Ln(r),Fo(r,s,"actions"),dV(r,a,s),Bo(a,s.loaderHtml||""),Fo(a,s,"loader"))};function dV(t,s,r){const a=td(),n=R0(),i=bx();!a||!n||!i||($v(a,"confirm",r),$v(n,"deny",r),$v(i,"cancel",r),uV(a,n,i,r),r.reverseButtons&&(r.toast?(t.insertBefore(i,a),t.insertBefore(n,a)):(t.insertBefore(i,s),t.insertBefore(n,s),t.insertBefore(a,s))))}function uV(t,s,r,a){if(!a.buttonsStyling){fl([t,s,r],kt.styled);return}Mr([t,s,r],kt.styled),a.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",a.confirmButtonColor),a.denyButtonColor&&s.style.setProperty("--swal2-deny-button-background-color",a.denyButtonColor),a.cancelButtonColor&&r.style.setProperty("--swal2-cancel-button-background-color",a.cancelButtonColor),zv(t),zv(s),zv(r)}function zv(t){const s=window.getComputedStyle(t);if(s.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const r=s.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",s.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${r}`))}function $v(t,s,r){const a=pN(s);rg(t,r[`show${a}Button`],"inline-block"),Bo(t,r[`${s}ButtonText`]||""),t.setAttribute("aria-label",r[`${s}ButtonAriaLabel`]||""),t.className=kt[s],Fo(t,r,`${s}Button`)}const mV=(t,s)=>{const r=wN();r&&(Bo(r,s.closeButtonHtml||""),Fo(r,s,"closeButton"),rg(r,s.showCloseButton),r.setAttribute("aria-label",s.closeButtonAriaLabel||""))},hV=(t,s)=>{const r=Vi();r&&(xV(r,s.backdrop),fV(r,s.position),pV(r,s.grow),Fo(r,s,"container"))};function xV(t,s){typeof s=="string"?t.style.background=s:s||Mr([document.documentElement,document.body],kt["no-backdrop"])}function fV(t,s){s&&(s in kt?Mr(t,kt[s]):($i('The "position" parameter is not valid, defaulting to "center"'),Mr(t,kt.center)))}function pV(t,s){s&&Mr(t,kt[`grow-${s}`])}var ra={innerParams:new WeakMap,domCache:new WeakMap};const gV=["input","file","range","select","radio","checkbox","textarea"],yV=(t,s)=>{const r=Dr();if(!r)return;const a=ra.innerParams.get(t),n=!a||s.input!==a.input;gV.forEach(i=>{const o=am(r,kt[i]);o&&(wV(i,s.inputAttributes),o.className=kt[i],n&&Ni(o))}),s.input&&(n&&bV(s),jV(s))},bV=t=>{if(!t.input)return;if(!Va[t.input]){F0(`Unexpected type of input! Expected ${Object.keys(Va).join(" | ")}, got "${t.input}"`);return}const s=p8(t.input);if(!s)return;const r=Va[t.input](s,t);Ln(s),t.inputAutoFocus&&setTimeout(()=>{h8(r)})},vV=t=>{for(let s=0;s<t.attributes.length;s++){const r=t.attributes[s].name;["id","type","value","style"].includes(r)||t.removeAttribute(r)}},wV=(t,s)=>{const r=Dr();if(!r)return;const a=$1(r,t);if(a){vV(a);for(const n in s)a.setAttribute(n,s[n])}},jV=t=>{if(!t.input)return;const s=p8(t.input);s&&Fo(s,t,"input")},kN=(t,s)=>{!t.placeholder&&s.inputPlaceholder&&(t.placeholder=s.inputPlaceholder)},ag=(t,s,r)=>{if(r.inputLabel){const a=document.createElement("label"),n=kt["input-label"];a.setAttribute("for",t.id),a.className=n,typeof r.customClass=="object"&&Mr(a,r.customClass.inputLabel),a.innerText=r.inputLabel,s.insertAdjacentElement("beforebegin",a)}},p8=t=>{const s=Dr();if(s)return am(s,kt[t]||kt.input)},Wb=(t,s)=>{["string","number"].includes(typeof s)?t.value=`${s}`:yN(s)||$i(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof s}"`)},Va={};Va.text=Va.email=Va.password=Va.number=Va.tel=Va.url=Va.search=Va.date=Va["datetime-local"]=Va.time=Va.week=Va.month=(t,s)=>(Wb(t,s.inputValue),ag(t,t,s),kN(t,s),t.type=s.input,t);Va.file=(t,s)=>(ag(t,t,s),kN(t,s),t);Va.range=(t,s)=>{const r=t.querySelector("input"),a=t.querySelector("output");return Wb(r,s.inputValue),r.type=s.input,Wb(a,s.inputValue),ag(r,t,s),t};Va.select=(t,s)=>{if(t.textContent="",s.inputPlaceholder){const r=document.createElement("option");Bo(r,s.inputPlaceholder),r.value="",r.disabled=!0,r.selected=!0,t.appendChild(r)}return ag(t,t,s),t};Va.radio=t=>(t.textContent="",t);Va.checkbox=(t,s)=>{const r=$1(Dr(),"checkbox");r.value="1",r.checked=!!s.inputValue;const a=t.querySelector("span");return Bo(a,s.inputPlaceholder||s.inputLabel),r};Va.textarea=(t,s)=>{Wb(t,s.inputValue),kN(t,s),ag(t,t,s);const r=a=>parseInt(window.getComputedStyle(a).marginLeft)+parseInt(window.getComputedStyle(a).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const a=parseInt(window.getComputedStyle(Dr()).width),n=()=>{if(!document.body.contains(t))return;const i=t.offsetWidth+r(t);i>a?Dr().style.width=`${i}px`:p0(Dr(),"width",s.width)};new MutationObserver(n).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const NV=(t,s)=>{const r=bN();r&&(SN(r),Fo(r,s,"htmlContainer"),s.html?(CN(s.html,r),Ln(r,"block")):s.text?(r.textContent=s.text,Ln(r,"block")):Ni(r),yV(t,s))},SV=(t,s)=>{const r=m8();r&&(SN(r),rg(r,s.footer,"block"),s.footer&&CN(s.footer,r),Fo(r,s,"footer"))},_V=(t,s)=>{const r=ra.innerParams.get(t),a=yx();if(!a)return;if(r&&s.icon===r.icon){YS(a,s),GS(a,s);return}if(!s.icon&&!s.iconHtml){Ni(a);return}if(s.icon&&Object.keys(Hb).indexOf(s.icon)===-1){F0(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${s.icon}"`),Ni(a);return}Ln(a),YS(a,s),GS(a,s),Mr(a,s.showClass&&s.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",g8)},GS=(t,s)=>{for(const[r,a]of Object.entries(Hb))s.icon!==r&&fl(t,a);Mr(t,s.icon&&Hb[s.icon]),AV(t,s),g8(),Fo(t,s,"icon")},g8=()=>{const t=Dr();if(!t)return;const s=window.getComputedStyle(t).getPropertyValue("background-color"),r=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let a=0;a<r.length;a++)r[a].style.backgroundColor=s},CV=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,kV=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,YS=(t,s)=>{if(!s.icon&&!s.iconHtml)return;let r=t.innerHTML,a="";s.iconHtml?a=KS(s.iconHtml):s.icon==="success"?(a=CV(s),r=r.replace(/ style=".*?"/g,"")):s.icon==="error"?a=kV:s.icon&&(a=KS({question:"?",warning:"!",info:"i"}[s.icon])),r.trim()!==a.trim()&&Bo(t,a)},AV=(t,s)=>{if(s.iconColor){t.style.color=s.iconColor,t.style.borderColor=s.iconColor;for(const r of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])WS(t,r,"background-color",s.iconColor);WS(t,".swal2-success-ring","border-color",s.iconColor)}},KS=t=>`<div class="${kt["icon-content"]}">${t}</div>`,EV=(t,s)=>{const r=u8();if(r){if(!s.imageUrl){Ni(r);return}Ln(r,""),r.setAttribute("src",s.imageUrl),r.setAttribute("alt",s.imageAlt||""),p0(r,"width",s.imageWidth),p0(r,"height",s.imageHeight),r.className=kt.image,Fo(r,s,"image")}};let AN=!1,y8=0,b8=0,v8=0,w8=0;const TV=t=>{t.addEventListener("mousedown",Gb),document.body.addEventListener("mousemove",Yb),t.addEventListener("mouseup",Kb),t.addEventListener("touchstart",Gb),document.body.addEventListener("touchmove",Yb),t.addEventListener("touchend",Kb)},DV=t=>{t.removeEventListener("mousedown",Gb),document.body.removeEventListener("mousemove",Yb),t.removeEventListener("mouseup",Kb),t.removeEventListener("touchstart",Gb),document.body.removeEventListener("touchmove",Yb),t.removeEventListener("touchend",Kb)},Gb=t=>{const s=Dr();if(t.target===s||yx().contains(t.target)){AN=!0;const r=j8(t);y8=r.clientX,b8=r.clientY,v8=parseInt(s.style.insetInlineStart)||0,w8=parseInt(s.style.insetBlockStart)||0,Mr(s,"swal2-dragging")}},Yb=t=>{const s=Dr();if(AN){let{clientX:r,clientY:a}=j8(t);s.style.insetInlineStart=`${v8+(r-y8)}px`,s.style.insetBlockStart=`${w8+(a-b8)}px`}},Kb=()=>{const t=Dr();AN=!1,fl(t,"swal2-dragging")},j8=t=>{let s=0,r=0;return t.type.startsWith("mouse")?(s=t.clientX,r=t.clientY):t.type.startsWith("touch")&&(s=t.touches[0].clientX,r=t.touches[0].clientY),{clientX:s,clientY:r}},PV=(t,s)=>{const r=Vi(),a=Dr();if(!(!r||!a)){if(s.toast){p0(r,"width",s.width),a.style.width="100%";const n=vx();n&&a.insertBefore(n,yx())}else p0(a,"width",s.width);p0(a,"padding",s.padding),s.color&&(a.style.color=s.color),s.background&&(a.style.background=s.background),Ni(I1()),MV(a,s),s.draggable&&!s.toast?(Mr(a,kt.draggable),TV(a)):(fl(a,kt.draggable),DV(a))}},MV=(t,s)=>{const r=s.showClass||{};t.className=`${kt.popup} ${oo(t)?r.popup:""}`,s.toast?(Mr([document.documentElement,document.body],kt["toast-shown"]),Mr(t,kt.toast)):Mr(t,kt.modal),Fo(t,s,"popup"),typeof s.customClass=="string"&&Mr(t,s.customClass),s.icon&&Mr(t,kt[`icon-${s.icon}`])},LV=(t,s)=>{const r=vN();if(!r)return;const{progressSteps:a,currentProgressStep:n}=s;if(!a||a.length===0||n===void 0){Ni(r);return}Ln(r),r.textContent="",n>=a.length&&$i("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),a.forEach((i,o)=>{const l=FV(i);if(r.appendChild(l),o===n&&Mr(l,kt["active-progress-step"]),o!==a.length-1){const d=RV(s);r.appendChild(d)}})},FV=t=>{const s=document.createElement("li");return Mr(s,kt["progress-step"]),Bo(s,t),s},RV=t=>{const s=document.createElement("li");return Mr(s,kt["progress-step-line"]),t.progressStepsDistance&&p0(s,"width",t.progressStepsDistance),s},OV=(t,s)=>{const r=d8();r&&(SN(r),rg(r,s.title||s.titleText,"block"),s.title&&CN(s.title,r),s.titleText&&(r.innerText=s.titleText),Fo(r,s,"title"))},N8=(t,s)=>{PV(t,s),hV(t,s),LV(t,s),_V(t,s),EV(t,s),OV(t,s),mV(t,s),NV(t,s),cV(t,s),SV(t,s);const r=Dr();typeof s.didRender=="function"&&r&&s.didRender(r),Ss.eventEmitter.emit("didRender",r)},IV=()=>oo(Dr()),S8=()=>{var t;return(t=td())===null||t===void 0?void 0:t.click()},BV=()=>{var t;return(t=R0())===null||t===void 0?void 0:t.click()},zV=()=>{var t;return(t=bx())===null||t===void 0?void 0:t.click()},wx=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),_8=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},$V=(t,s,r)=>{_8(t),s.toast||(t.keydownHandler=a=>VV(s,a,r),t.keydownTarget=s.keydownListenerCapture?window:Dr(),t.keydownListenerCapture=s.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Qw=(t,s)=>{var r;const a=jN();if(a.length){t=t+s,t===-2&&(t=a.length-1),t===a.length?t=0:t===-1&&(t=a.length-1),a[t].focus();return}(r=Dr())===null||r===void 0||r.focus()},C8=["ArrowRight","ArrowDown"],UV=["ArrowLeft","ArrowUp"],VV=(t,s,r)=>{t&&(s.isComposing||s.keyCode===229||(t.stopKeydownPropagation&&s.stopPropagation(),s.key==="Enter"?qV(s,t):s.key==="Tab"?HV(s):[...C8,...UV].includes(s.key)?WV(s.key):s.key==="Escape"&&GV(s,t,r)))},qV=(t,s)=>{if(!O1(s.allowEnterKey))return;const r=$1(Dr(),s.input);if(t.target&&r&&t.target instanceof HTMLElement&&t.target.outerHTML===r.outerHTML){if(["textarea","file"].includes(s.input))return;S8(),t.preventDefault()}},HV=t=>{const s=t.target,r=jN();let a=-1;for(let n=0;n<r.length;n++)if(s===r[n]){a=n;break}t.shiftKey?Qw(a,-1):Qw(a,1),t.stopPropagation(),t.preventDefault()},WV=t=>{const s=sg(),r=td(),a=R0(),n=bx();if(!s||!r||!a||!n)return;const i=[r,a,n];if(document.activeElement instanceof HTMLElement&&!i.includes(document.activeElement))return;const o=C8.includes(t)?"nextElementSibling":"previousElementSibling";let l=document.activeElement;if(l){for(let d=0;d<s.children.length;d++){if(l=l[o],!l)return;if(l instanceof HTMLButtonElement&&oo(l))break}l instanceof HTMLButtonElement&&l.focus()}},GV=(t,s,r)=>{t.preventDefault(),O1(s.allowEscapeKey)&&r(wx.esc)};var ox={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const YV=()=>{const t=Vi();Array.from(document.body.children).forEach(r=>{r.contains(t)||(r.hasAttribute("aria-hidden")&&r.setAttribute("data-previous-aria-hidden",r.getAttribute("aria-hidden")||""),r.setAttribute("aria-hidden","true"))})},k8=()=>{Array.from(document.body.children).forEach(s=>{s.hasAttribute("data-previous-aria-hidden")?(s.setAttribute("aria-hidden",s.getAttribute("data-previous-aria-hidden")||""),s.removeAttribute("data-previous-aria-hidden")):s.removeAttribute("aria-hidden")})},A8=typeof window<"u"&&!!window.GestureEvent,KV=()=>{if(A8&&!Wd(document.body,kt.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,Mr(document.body,kt.iosfix),XV()}},XV=()=>{const t=Vi();if(!t)return;let s;t.ontouchstart=r=>{s=QV(r)},t.ontouchmove=r=>{s&&(r.preventDefault(),r.stopPropagation())}},QV=t=>{const s=t.target,r=Vi(),a=bN();return!r||!a||JV(t)||ZV(t)?!1:s===r||!Xw(r)&&s instanceof HTMLElement&&!QU(s,a)&&s.tagName!=="INPUT"&&s.tagName!=="TEXTAREA"&&!(Xw(a)&&a.contains(s))},JV=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",ZV=t=>t.touches&&t.touches.length>1,eq=()=>{if(Wd(document.body,kt.iosfix)){const t=parseInt(document.body.style.top,10);fl(document.body,kt.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},tq=()=>{const t=document.createElement("div");t.className=kt["scrollbar-measure"],document.body.appendChild(t);const s=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),s};let Hh=null;const sq=t=>{Hh===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(Hh=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Hh+tq()}px`)},rq=()=>{Hh!==null&&(document.body.style.paddingRight=`${Hh}px`,Hh=null)};function E8(t,s,r,a){z1()?XS(t,a):($U(r).then(()=>XS(t,a)),_8(Ss)),A8?(s.setAttribute("style","display:none !important"),s.removeAttribute("class"),s.innerHTML=""):s.remove(),NN()&&(rq(),eq(),k8()),aq()}function aq(){fl([document.documentElement,document.body],[kt.shown,kt["height-auto"],kt["no-backdrop"],kt["toast-shown"]])}function nm(t){t=iq(t);const s=ox.swalPromiseResolve.get(this),r=nq(this);this.isAwaitingPromise?t.isDismissed||(ng(this),s(t)):r&&s(t)}const nq=t=>{const s=Dr();if(!s)return!1;const r=ra.innerParams.get(t);if(!r||Wd(s,r.hideClass.popup))return!1;fl(s,r.showClass.popup),Mr(s,r.hideClass.popup);const a=Vi();return fl(a,r.showClass.backdrop),Mr(a,r.hideClass.backdrop),oq(t,s,r),!0};function T8(t){const s=ox.swalPromiseReject.get(this);ng(this),s&&s(t)}const ng=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,ra.innerParams.get(t)||t._destroy())},iq=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),oq=(t,s,r)=>{var a;const n=Vi(),i=f8(s);typeof r.willClose=="function"&&r.willClose(s),(a=Ss.eventEmitter)===null||a===void 0||a.emit("willClose",s),i?lq(t,s,n,r.returnFocus,r.didClose):E8(t,n,r.returnFocus,r.didClose)},lq=(t,s,r,a,n)=>{Ss.swalCloseEventFinishedCallback=E8.bind(null,t,r,a,n);const i=function(o){if(o.target===s){var l;(l=Ss.swalCloseEventFinishedCallback)===null||l===void 0||l.call(Ss),delete Ss.swalCloseEventFinishedCallback,s.removeEventListener("animationend",i),s.removeEventListener("transitionend",i)}};s.addEventListener("animationend",i),s.addEventListener("transitionend",i)},XS=(t,s)=>{setTimeout(()=>{var r;typeof s=="function"&&s.bind(t.params)(),(r=Ss.eventEmitter)===null||r===void 0||r.emit("didClose"),t._destroy&&t._destroy()})},lx=t=>{let s=Dr();if(s||new Me,s=Dr(),!s)return;const r=vx();z1()?Ni(yx()):cq(s,t),Ln(r),s.setAttribute("data-loading","true"),s.setAttribute("aria-busy","true"),s.focus()},cq=(t,s)=>{const r=sg(),a=vx();!r||!a||(!s&&oo(td())&&(s=td()),Ln(r),s&&(Ni(s),a.setAttribute("data-button-to-replace",s.className),r.insertBefore(a,s)),Mr([t,r],kt.loading))},dq=(t,s)=>{s.input==="select"||s.input==="radio"?fq(t,s):["text","email","number","tel","textarea"].some(r=>r===s.input)&&(gN(s.inputValue)||yN(s.inputValue))&&(lx(td()),pq(t,s))},uq=(t,s)=>{const r=t.getInput();if(!r)return null;switch(s.input){case"checkbox":return mq(r);case"radio":return hq(r);case"file":return xq(r);default:return s.inputAutoTrim?r.value.trim():r.value}},mq=t=>t.checked?1:0,hq=t=>t.checked?t.value:null,xq=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,fq=(t,s)=>{const r=Dr();if(!r)return;const a=n=>{s.input==="select"?gq(r,Xb(n),s):s.input==="radio"&&yq(r,Xb(n),s)};gN(s.inputOptions)||yN(s.inputOptions)?(lx(td()),eg(s.inputOptions).then(n=>{t.hideLoading(),a(n)})):typeof s.inputOptions=="object"?a(s.inputOptions):F0(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof s.inputOptions}`)},pq=(t,s)=>{const r=t.getInput();r&&(Ni(r),eg(s.inputValue).then(a=>{r.value=s.input==="number"?`${parseFloat(a)||0}`:`${a}`,Ln(r),r.focus(),t.hideLoading()}).catch(a=>{F0(`Error in inputValue promise: ${a}`),r.value="",Ln(r),r.focus(),t.hideLoading()}))};function gq(t,s,r){const a=am(t,kt.select);if(!a)return;const n=(i,o,l)=>{const d=document.createElement("option");d.value=l,Bo(d,o),d.selected=D8(l,r.inputValue),i.appendChild(d)};s.forEach(i=>{const o=i[0],l=i[1];if(Array.isArray(l)){const d=document.createElement("optgroup");d.label=o,d.disabled=!1,a.appendChild(d),l.forEach(u=>n(d,u[1],u[0]))}else n(a,l,o)}),a.focus()}function yq(t,s,r){const a=am(t,kt.radio);if(!a)return;s.forEach(i=>{const o=i[0],l=i[1],d=document.createElement("input"),u=document.createElement("label");d.type="radio",d.name=kt.radio,d.value=o,D8(o,r.inputValue)&&(d.checked=!0);const h=document.createElement("span");Bo(h,l),h.className=kt.label,u.appendChild(d),u.appendChild(h),a.appendChild(u)});const n=a.querySelectorAll("input");n.length&&n[0].focus()}const Xb=t=>{const s=[];return t instanceof Map?t.forEach((r,a)=>{let n=r;typeof n=="object"&&(n=Xb(n)),s.push([a,n])}):Object.keys(t).forEach(r=>{let a=t[r];typeof a=="object"&&(a=Xb(a)),s.push([r,a])}),s},D8=(t,s)=>!!s&&s.toString()===t.toString(),bq=t=>{const s=ra.innerParams.get(t);t.disableButtons(),s.input?P8(t,"confirm"):TN(t,!0)},vq=t=>{const s=ra.innerParams.get(t);t.disableButtons(),s.returnInputValueOnDeny?P8(t,"deny"):EN(t,!1)},wq=(t,s)=>{t.disableButtons(),s(wx.cancel)},P8=(t,s)=>{const r=ra.innerParams.get(t);if(!r.input){F0(`The "input" parameter is needed to be set when using returnInputValueOn${pN(s)}`);return}const a=t.getInput(),n=uq(t,r);r.inputValidator?jq(t,n,s):a&&!a.checkValidity()?(t.enableButtons(),t.showValidationMessage(r.validationMessage||a.validationMessage)):s==="deny"?EN(t,n):TN(t,n)},jq=(t,s,r)=>{const a=ra.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>eg(a.inputValidator(s,a.validationMessage))).then(i=>{t.enableButtons(),t.enableInput(),i?t.showValidationMessage(i):r==="deny"?EN(t,s):TN(t,s)})},EN=(t,s)=>{const r=ra.innerParams.get(t||void 0);r.showLoaderOnDeny&&lx(R0()),r.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>eg(r.preDeny(s,r.validationMessage))).then(n=>{n===!1?(t.hideLoading(),ng(t)):t.close({isDenied:!0,value:typeof n>"u"?s:n})}).catch(n=>M8(t||void 0,n))):t.close({isDenied:!0,value:s})},QS=(t,s)=>{t.close({isConfirmed:!0,value:s})},M8=(t,s)=>{t.rejectPromise(s)},TN=(t,s)=>{const r=ra.innerParams.get(t||void 0);r.showLoaderOnConfirm&&lx(),r.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>eg(r.preConfirm(s,r.validationMessage))).then(n=>{oo(I1())||n===!1?(t.hideLoading(),ng(t)):QS(t,typeof n>"u"?s:n)}).catch(n=>M8(t||void 0,n))):QS(t,s)};function Qb(){const t=ra.innerParams.get(this);if(!t)return;const s=ra.domCache.get(this);Ni(s.loader),z1()?t.icon&&Ln(yx()):Nq(s),fl([s.popup,s.actions],kt.loading),s.popup.removeAttribute("aria-busy"),s.popup.removeAttribute("data-loading"),s.confirmButton.disabled=!1,s.denyButton.disabled=!1,s.cancelButton.disabled=!1}const Nq=t=>{const s=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));s.length?Ln(s[0],"inline-block"):XU()&&Ni(t.actions)};function L8(){const t=ra.innerParams.get(this),s=ra.domCache.get(this);return s?$1(s.popup,t.input):null}function F8(t,s,r){const a=ra.domCache.get(t);s.forEach(n=>{a[n].disabled=r})}function R8(t,s){const r=Dr();if(!(!r||!t))if(t.type==="radio"){const a=r.querySelectorAll(`[name="${kt.radio}"]`);for(let n=0;n<a.length;n++)a[n].disabled=s}else t.disabled=s}function O8(){F8(this,["confirmButton","denyButton","cancelButton"],!1)}function I8(){F8(this,["confirmButton","denyButton","cancelButton"],!0)}function B8(){R8(this.getInput(),!1)}function z8(){R8(this.getInput(),!0)}function $8(t){const s=ra.domCache.get(this),r=ra.innerParams.get(this);Bo(s.validationMessage,t),s.validationMessage.className=kt["validation-message"],r.customClass&&r.customClass.validationMessage&&Mr(s.validationMessage,r.customClass.validationMessage),Ln(s.validationMessage);const a=this.getInput();a&&(a.setAttribute("aria-invalid","true"),a.setAttribute("aria-describedby",kt["validation-message"]),h8(a),Mr(a,kt.inputerror))}function U8(){const t=ra.domCache.get(this);t.validationMessage&&Ni(t.validationMessage);const s=this.getInput();s&&(s.removeAttribute("aria-invalid"),s.removeAttribute("aria-describedby"),fl(s,kt.inputerror))}const Wh={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},Sq=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],_q={allowEnterKey:void 0},Cq=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],V8=t=>Object.prototype.hasOwnProperty.call(Wh,t),q8=t=>Sq.indexOf(t)!==-1,H8=t=>_q[t],kq=t=>{V8(t)||$i(`Unknown parameter "${t}"`)},Aq=t=>{Cq.includes(t)&&$i(`The parameter "${t}" is incompatible with toasts`)},Eq=t=>{const s=H8(t);s&&c8(t,s)},W8=t=>{t.backdrop===!1&&t.allowOutsideClick&&$i('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&$i(`Invalid theme "${t.theme}"`);for(const s in t)kq(s),t.toast&&Aq(s),Eq(s)};function G8(t){const s=Vi(),r=Dr(),a=ra.innerParams.get(this);if(!r||Wd(r,a.hideClass.popup)){$i("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const n=Tq(t),i=Object.assign({},a,n);W8(i),s.dataset.swal2Theme=i.theme,N8(this,i),ra.innerParams.set(this,i),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const Tq=t=>{const s={};return Object.keys(t).forEach(r=>{q8(r)?s[r]=t[r]:$i(`Invalid parameter to update: ${r}`)}),s};function Y8(){const t=ra.domCache.get(this),s=ra.innerParams.get(this);if(!s){K8(this);return}t.popup&&Ss.swalCloseEventFinishedCallback&&(Ss.swalCloseEventFinishedCallback(),delete Ss.swalCloseEventFinishedCallback),typeof s.didDestroy=="function"&&s.didDestroy(),Ss.eventEmitter.emit("didDestroy"),Dq(this)}const Dq=t=>{K8(t),delete t.params,delete Ss.keydownHandler,delete Ss.keydownTarget,delete Ss.currentInstance},K8=t=>{t.isAwaitingPromise?(Uv(ra,t),t.isAwaitingPromise=!0):(Uv(ox,t),Uv(ra,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},Uv=(t,s)=>{for(const r in t)t[r].delete(s)};var Pq=Object.freeze({__proto__:null,_destroy:Y8,close:nm,closeModal:nm,closePopup:nm,closeToast:nm,disableButtons:I8,disableInput:z8,disableLoading:Qb,enableButtons:O8,enableInput:B8,getInput:L8,handleAwaitingPromise:ng,hideLoading:Qb,rejectPromise:T8,resetValidationMessage:U8,showValidationMessage:$8,update:G8});const Mq=(t,s,r)=>{t.toast?Lq(t,s,r):(Rq(s),Oq(s),Iq(t,s,r))},Lq=(t,s,r)=>{s.popup.onclick=()=>{t&&(Fq(t)||t.timer||t.input)||r(wx.close)}},Fq=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let Jb=!1;const Rq=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(s){t.container.onmouseup=()=>{},s.target===t.container&&(Jb=!0)}}},Oq=t=>{t.container.onmousedown=s=>{s.target===t.container&&s.preventDefault(),t.popup.onmouseup=function(r){t.popup.onmouseup=()=>{},(r.target===t.popup||r.target instanceof HTMLElement&&t.popup.contains(r.target))&&(Jb=!0)}}},Iq=(t,s,r)=>{s.container.onclick=a=>{if(Jb){Jb=!1;return}a.target===s.container&&O1(t.allowOutsideClick)&&r(wx.backdrop)}},Bq=t=>typeof t=="object"&&t.jquery,JS=t=>t instanceof Element||Bq(t),zq=t=>{const s={};return typeof t[0]=="object"&&!JS(t[0])?Object.assign(s,t[0]):["title","html","icon"].forEach((r,a)=>{const n=t[a];typeof n=="string"||JS(n)?s[r]=n:n!==void 0&&F0(`Unexpected type of ${r}! Expected "string" or "Element", got ${typeof n}`)}),s};function $q(...t){return new this(...t)}function Uq(t){class s extends this{_main(a,n){return super._main(a,Object.assign({},t,n))}}return s}const Vq=()=>Ss.timeout&&Ss.timeout.getTimerLeft(),X8=()=>{if(Ss.timeout)return JU(),Ss.timeout.stop()},Q8=()=>{if(Ss.timeout){const t=Ss.timeout.start();return _N(t),t}},qq=()=>{const t=Ss.timeout;return t&&(t.running?X8():Q8())},Hq=t=>{if(Ss.timeout){const s=Ss.timeout.increase(t);return _N(s,!0),s}},Wq=()=>!!(Ss.timeout&&Ss.timeout.isRunning());let ZS=!1;const Jw={};function Gq(t="data-swal-template"){Jw[t]=this,ZS||(document.body.addEventListener("click",Yq),ZS=!0)}const Yq=t=>{for(let s=t.target;s&&s!==document;s=s.parentNode)for(const r in Jw){const a=s.getAttribute(r);if(a){Jw[r].fire({template:a});return}}};class Kq{constructor(){this.events={}}_getHandlersByEventName(s){return typeof this.events[s]>"u"&&(this.events[s]=[]),this.events[s]}on(s,r){const a=this._getHandlersByEventName(s);a.includes(r)||a.push(r)}once(s,r){const a=(...n)=>{this.removeListener(s,a),r.apply(this,n)};this.on(s,a)}emit(s,...r){this._getHandlersByEventName(s).forEach(a=>{try{a.apply(this,r)}catch(n){console.error(n)}})}removeListener(s,r){const a=this._getHandlersByEventName(s),n=a.indexOf(r);n>-1&&a.splice(n,1)}removeAllListeners(s){this.events[s]!==void 0&&(this.events[s].length=0)}reset(){this.events={}}}Ss.eventEmitter=new Kq;const Xq=(t,s)=>{Ss.eventEmitter.on(t,s)},Qq=(t,s)=>{Ss.eventEmitter.once(t,s)},Jq=(t,s)=>{if(!t){Ss.eventEmitter.reset();return}s?Ss.eventEmitter.removeListener(t,s):Ss.eventEmitter.removeAllListeners(t)};var Zq=Object.freeze({__proto__:null,argsToParams:zq,bindClickHandler:Gq,clickCancel:zV,clickConfirm:S8,clickDeny:BV,enableLoading:lx,fire:$q,getActions:sg,getCancelButton:bx,getCloseButton:wN,getConfirmButton:td,getContainer:Vi,getDenyButton:R0,getFocusableElements:jN,getFooter:m8,getHtmlContainer:bN,getIcon:yx,getIconContent:HU,getImage:u8,getInputLabel:WU,getLoader:vx,getPopup:Dr,getProgressSteps:vN,getTimerLeft:Vq,getTimerProgressBar:B1,getTitle:d8,getValidationMessage:I1,increaseTimer:Hq,isDeprecatedParameter:H8,isLoading:YU,isTimerRunning:Wq,isUpdatableParameter:q8,isValidParameter:V8,isVisible:IV,mixin:Uq,off:Jq,on:Xq,once:Qq,resumeTimer:Q8,showLoading:lx,stopTimer:X8,toggleTimer:qq});class eH{constructor(s,r){this.callback=s,this.remaining=r,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(s){const r=this.running;return r&&this.stop(),this.remaining+=s,r&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const J8=["swal-title","swal-html","swal-footer"],tH=t=>{const s=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!s)return{};const r=s.content;return cH(r),Object.assign(sH(r),rH(r),aH(r),nH(r),iH(r),oH(r),lH(r,J8))},sH=t=>{const s={};return Array.from(t.querySelectorAll("swal-param")).forEach(a=>{C0(a,["name","value"]);const n=a.getAttribute("name"),i=a.getAttribute("value");!n||!i||(typeof Wh[n]=="boolean"?s[n]=i!=="false":typeof Wh[n]=="object"?s[n]=JSON.parse(i):s[n]=i)}),s},rH=t=>{const s={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(a=>{const n=a.getAttribute("name"),i=a.getAttribute("value");!n||!i||(s[n]=new Function(`return ${i}`)())}),s},aH=t=>{const s={};return Array.from(t.querySelectorAll("swal-button")).forEach(a=>{C0(a,["type","color","aria-label"]);const n=a.getAttribute("type");!n||!["confirm","cancel","deny"].includes(n)||(s[`${n}ButtonText`]=a.innerHTML,s[`show${pN(n)}Button`]=!0,a.hasAttribute("color")&&(s[`${n}ButtonColor`]=a.getAttribute("color")),a.hasAttribute("aria-label")&&(s[`${n}ButtonAriaLabel`]=a.getAttribute("aria-label")))}),s},nH=t=>{const s={},r=t.querySelector("swal-image");return r&&(C0(r,["src","width","height","alt"]),r.hasAttribute("src")&&(s.imageUrl=r.getAttribute("src")||void 0),r.hasAttribute("width")&&(s.imageWidth=r.getAttribute("width")||void 0),r.hasAttribute("height")&&(s.imageHeight=r.getAttribute("height")||void 0),r.hasAttribute("alt")&&(s.imageAlt=r.getAttribute("alt")||void 0)),s},iH=t=>{const s={},r=t.querySelector("swal-icon");return r&&(C0(r,["type","color"]),r.hasAttribute("type")&&(s.icon=r.getAttribute("type")),r.hasAttribute("color")&&(s.iconColor=r.getAttribute("color")),s.iconHtml=r.innerHTML),s},oH=t=>{const s={},r=t.querySelector("swal-input");r&&(C0(r,["type","label","placeholder","value"]),s.input=r.getAttribute("type")||"text",r.hasAttribute("label")&&(s.inputLabel=r.getAttribute("label")),r.hasAttribute("placeholder")&&(s.inputPlaceholder=r.getAttribute("placeholder")),r.hasAttribute("value")&&(s.inputValue=r.getAttribute("value")));const a=Array.from(t.querySelectorAll("swal-input-option"));return a.length&&(s.inputOptions={},a.forEach(n=>{C0(n,["value"]);const i=n.getAttribute("value");if(!i)return;const o=n.innerHTML;s.inputOptions[i]=o})),s},lH=(t,s)=>{const r={};for(const a in s){const n=s[a],i=t.querySelector(n);i&&(C0(i,[]),r[n.replace(/^swal-/,"")]=i.innerHTML.trim())}return r},cH=t=>{const s=J8.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(r=>{const a=r.tagName.toLowerCase();s.includes(a)||$i(`Unrecognized element <${a}>`)})},C0=(t,s)=>{Array.from(t.attributes).forEach(r=>{s.indexOf(r.name)===-1&&$i([`Unrecognized attribute "${r.name}" on <${t.tagName.toLowerCase()}>.`,`${s.length?`Allowed attributes are: ${s.join(", ")}`:"To set the value, use HTML within the element."}`])})},Z8=10,dH=t=>{const s=Vi(),r=Dr();typeof t.willOpen=="function"&&t.willOpen(r),Ss.eventEmitter.emit("willOpen",r);const n=window.getComputedStyle(document.body).overflowY;hH(s,r,t),setTimeout(()=>{uH(s,r)},Z8),NN()&&(mH(s,t.scrollbarPadding,n),YV()),!z1()&&!Ss.previousActiveElement&&(Ss.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(r)),Ss.eventEmitter.emit("didOpen",r),fl(s,kt["no-transition"])},Zb=t=>{const s=Dr();if(t.target!==s)return;const r=Vi();s.removeEventListener("animationend",Zb),s.removeEventListener("transitionend",Zb),r.style.overflowY="auto"},uH=(t,s)=>{f8(s)?(t.style.overflowY="hidden",s.addEventListener("animationend",Zb),s.addEventListener("transitionend",Zb)):t.style.overflowY="auto"},mH=(t,s,r)=>{KV(),s&&r!=="hidden"&&sq(r),setTimeout(()=>{t.scrollTop=0})},hH=(t,s,r)=>{Mr(t,r.showClass.backdrop),r.animation?(s.style.setProperty("opacity","0","important"),Ln(s,"grid"),setTimeout(()=>{Mr(s,r.showClass.popup),s.style.removeProperty("opacity")},Z8)):Ln(s,"grid"),Mr([document.documentElement,document.body],kt.shown),r.heightAuto&&r.backdrop&&!r.toast&&Mr([document.documentElement,document.body],kt["height-auto"])};var e_={email:(t,s)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(s||"Invalid email address"),url:(t,s)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(s||"Invalid URL")};function xH(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=e_.email),t.input==="url"&&(t.inputValidator=e_.url))}function fH(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&($i('Target parameter is not valid, defaulting to "body"'),t.target="body")}function pH(t){xH(t),t.showLoaderOnConfirm&&!t.preConfirm&&$i(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),fH(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),iV(t)}let Uc;var My=new WeakMap;class Ka{constructor(...s){if(OU(this,My,void 0),typeof window>"u")return;Uc=this;const r=Object.freeze(this.constructor.argsToParams(s));this.params=r,this.isAwaitingPromise=!1,IU(My,this,this._main(Uc.params))}_main(s,r={}){if(W8(Object.assign({},r,s)),Ss.currentInstance){const i=ox.swalPromiseResolve.get(Ss.currentInstance),{isAwaitingPromise:o}=Ss.currentInstance;Ss.currentInstance._destroy(),o||i({isDismissed:!0}),NN()&&k8()}Ss.currentInstance=Uc;const a=yH(s,r);pH(a),Object.freeze(a),Ss.timeout&&(Ss.timeout.stop(),delete Ss.timeout),clearTimeout(Ss.restoreFocusTimeout);const n=bH(Uc);return N8(Uc,a),ra.innerParams.set(Uc,a),gH(Uc,n,a)}then(s){return qS(My,this).then(s)}finally(s){return qS(My,this).finally(s)}}const gH=(t,s,r)=>new Promise((a,n)=>{const i=o=>{t.close({isDismissed:!0,dismiss:o})};ox.swalPromiseResolve.set(t,a),ox.swalPromiseReject.set(t,n),s.confirmButton.onclick=()=>{bq(t)},s.denyButton.onclick=()=>{vq(t)},s.cancelButton.onclick=()=>{wq(t,i)},s.closeButton.onclick=()=>{i(wx.close)},Mq(r,s,i),$V(Ss,r,i),dq(t,r),dH(r),vH(Ss,r,i),wH(s,r),setTimeout(()=>{s.container.scrollTop=0})}),yH=(t,s)=>{const r=tH(t),a=Object.assign({},Wh,s,r,t);return a.showClass=Object.assign({},Wh.showClass,a.showClass),a.hideClass=Object.assign({},Wh.hideClass,a.hideClass),a.animation===!1&&(a.showClass={backdrop:"swal2-noanimation"},a.hideClass={}),a},bH=t=>{const s={popup:Dr(),container:Vi(),actions:sg(),confirmButton:td(),denyButton:R0(),cancelButton:bx(),loader:vx(),closeButton:wN(),validationMessage:I1(),progressSteps:vN()};return ra.domCache.set(t,s),s},vH=(t,s,r)=>{const a=B1();Ni(a),s.timer&&(t.timeout=new eH(()=>{r("timer"),delete t.timeout},s.timer),s.timerProgressBar&&(Ln(a),Fo(a,s,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&_N(s.timer)})))},wH=(t,s)=>{if(!s.toast){if(!O1(s.allowEnterKey)){c8("allowEnterKey"),SH();return}jH(t)||NH(t,s)||Qw(-1,1)}},jH=t=>{const s=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const r of s)if(r instanceof HTMLElement&&oo(r))return r.focus(),!0;return!1},NH=(t,s)=>s.focusDeny&&oo(t.denyButton)?(t.denyButton.focus(),!0):s.focusCancel&&oo(t.cancelButton)?(t.cancelButton.focus(),!0):s.focusConfirm&&oo(t.confirmButton)?(t.confirmButton.focus(),!0):!1,SH=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const t=new Date,s=localStorage.getItem("swal-initiation");s?(t.getTime()-Date.parse(s))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const r=document.createElement("audio");r.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",r.loop=!0,document.body.appendChild(r),setTimeout(()=>{r.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${t}`)}Ka.prototype.disableButtons=I8;Ka.prototype.enableButtons=O8;Ka.prototype.getInput=L8;Ka.prototype.disableInput=z8;Ka.prototype.enableInput=B8;Ka.prototype.hideLoading=Qb;Ka.prototype.disableLoading=Qb;Ka.prototype.showValidationMessage=$8;Ka.prototype.resetValidationMessage=U8;Ka.prototype.close=nm;Ka.prototype.closePopup=nm;Ka.prototype.closeModal=nm;Ka.prototype.closeToast=nm;Ka.prototype.rejectPromise=T8;Ka.prototype.update=G8;Ka.prototype._destroy=Y8;Object.assign(Ka,Zq);Object.keys(Pq).forEach(t=>{Ka[t]=function(...s){return Uc&&Uc[t]?Uc[t](...s):null}});Ka.DismissReason=wx;Ka.version="11.22.2";const Me=Ka;Me.default=Me;typeof document<"u"&&function(t,s){var r=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(r),r.styleSheet)r.styleSheet.disabled||(r.styleSheet.cssText=s);else try{r.innerHTML=s}catch{r.innerText=s}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const _H=[{label:"National ID",value:"nid",icon:""},{label:"Passport",value:"passport",icon:""},{label:"Profile Photo",value:"photo",icon:""},{label:"Resume",value:"resume",icon:""},{label:"Educational Certificates",value:"education",icon:""},{label:"Experience Letters",value:"experience",icon:""},{label:"Other Documents",value:"other",icon:""}],CH=({onNext:t,onPrevious:s,onSubmit:r,activeCategory:a})=>{const{formData:n,addDocuments:i,removeDocument:o,updateDocumentType:l}=L0(),[d,u]=N.useState(!1),[h,f]=N.useState({}),[p,g]=N.useState(!1),v=k=>{const A=Array.from(k.target.files);A.length!==0&&i(A)},y=k=>{k.preventDefault(),k.stopPropagation(),k.type==="dragenter"||k.type==="dragover"?g(!0):k.type==="dragleave"&&g(!1)},b=k=>{if(k.preventDefault(),k.stopPropagation(),g(!1),k.dataTransfer.files&&k.dataTransfer.files[0]){const A=Array.from(k.dataTransfer.files);i(A)}},_=(k,A)=>{l(k,A)};return e.jsx("div",{className:"min-h-screen bg-via-white p-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full mb-4 shadow-lg",children:e.jsx(hl,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Employee Document Upload"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Securely upload and manage your important documents"})]}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:`relative border-2 border-dashed rounded-2xl p-8 text-center transition-all duration-300 ${p?"border-indigo-500 bg-indigo-50 scale-105":"border-gray-300 hover:border-indigo-400 hover:bg-gray-50"}`,onDragEnter:y,onDragLeave:y,onDragOver:y,onDrop:b,children:[e.jsx("input",{type:"file",multiple:!0,onChange:v,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:d}),e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(hl,{className:"w-10 h-10 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Drop files here or click to browse"}),e.jsx("p",{className:"text-gray-500",children:"Support for multiple file types  Maximum 10MB per file"})]}),e.jsx("button",{type:"button",className:"px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl font-medium hover:from-indigo-600 hover:to-purple-700 transform hover:scale-105 transition-all duration-200 shadow-lg",disabled:d,children:"Choose Files"})]})]})}),n.documents.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(Wc,{className:"w-6 h-6 text-indigo-600 mr-3"}),e.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:["Documents Ready for Upload (",n.documents.length,")"]})]}),e.jsx("div",{className:"space-y-4",children:n.documents.map((k,A)=>e.jsx("div",{className:"group relative bg-gradient-to-r from-gray-50 to-white rounded-xl p-4 border border-gray-200 hover:shadow-md transition-all duration-200 hover:border-indigo-300",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:k.preview?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:k.preview,alt:"preview",className:"w-16 h-16 object-cover rounded-lg border-2 border-gray-200 shadow-sm"}),e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx(zF,{className:"w-2 h-2 text-white"})})]}):e.jsxs("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-100 to-purple-100 rounded-lg border-2 border-gray-200 flex flex-col items-center justify-center text-indigo-600 shadow-sm",children:[e.jsx(Wc,{className:"w-6 h-6 mb-1"}),e.jsx("span",{className:"text-xs font-medium",children:k.file.name.split(".").pop().toUpperCase()})]})}),e.jsxs("div",{className:"flex-grow min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800 truncate",children:k.name}),e.jsx("p",{className:"text-sm text-gray-500",children:k.size})]}),e.jsx("button",{onClick:()=>o(A),className:"opacity-0 group-hover:opacity-100 p-1 text-gray-400 hover:text-red-500 transition-all duration-200",disabled:d,children:e.jsx(zt,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"mb-3",children:e.jsxs("select",{value:k.type,onChange:R=>_(A,R.target.value),className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200",disabled:k.status==="uploaded",children:[e.jsx("option",{value:"",children:"Select Document Type"}),_H.map(R=>e.jsxs("option",{value:R.value,children:[R.icon," ",R.label]},R.value))]})}),h[A]!==void 0&&e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-indigo-600",children:"Uploading..."}),e.jsxs("span",{className:"text-sm text-gray-500",children:[h[A],"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 h-2 rounded-full transition-all duration-300 ease-out",style:{width:`${h[A]}%`}})})]}),k.status==="uploaded"&&e.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[e.jsx(vs,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Uploaded successfully"})]}),!k.type&&k.status!=="uploaded"&&e.jsxs("div",{className:"flex items-center space-x-2 text-amber-600",children:[e.jsx(Hs,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Please select document type"})]})]})]})},A))})]}),e.jsxs("div",{className:"mt-8 flex justify-between",children:[e.jsx("button",{type:"button",onClick:s,className:"inline-flex items-center px-8 py-3 rounded-xl font-medium text-white transition-all duration-200 transform bg-gradient-to-r from-blue-500 to-blue-700 hover:from-blue-600 hover:to-blue-800 hover:scale-105 shadow-lg hover:shadow-xl",children:"Previous"}),e.jsx("button",{type:"button",onClick:t,className:"inline-flex items-center px-8 py-3 rounded-xl font-medium text-white transition-all duration-200 transform bg-gradient-to-r from-blue-500 to-blue-700 hover:from-blue-600 hover:to-blue-800 hover:scale-105 shadow-lg hover:shadow-xl",children:"Next"})]})]})})},kH=({onPrevious:t,onSubmit:s})=>{const{formData:r,errors:a,clearForm:n}=L0(),[i,o]=N.useState(!1),l=g=>!g||g==="1/1/1900"?"Not specified":new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),d=g=>g?"Yes":"No",u=g=>({probationPeriod:"Probation Period",trainingPeriod:"Training Period",contractPeriod:"Contract Period",Active:"Active",Inactive:"Inactive"})[g]||g,h=async()=>{o(!0);try{await s(r)}finally{o(!1)}},f=()=>{n(),Me.fire({icon:"success",title:"Success!",text:"Employee Form Cleared successfully!"})},p=()=>{if(!a)return null;const g=(b,_="")=>Object.entries(b).reduce((k,[A,R])=>{const F=_?`${_}.${A}`:A;return typeof R=="object"&&R!==null?[...k,...g(R,F)]:[...k,{field:F,message:R}]},[]),v=g(a);if(v.length===0)return null;const y=b=>({"personal.title":"Title","personal.attendanceEmpNo":"Attendance employee number","personal.epfNo":"EPF number","personal.nicNumber":"NIC number","personal.dob":"Date of birth","personal.gender":"Gender","personal.employmentStatus":"Employment status","personal.nameWithInitial":"Name with initials","personal.fullName":"Full name","personal.displayName":"Display name","personal.maritalStatus":"Marital status","personal.relationshipType":"Relationship type","personal.spouseTitle":"Spouse title","personal.spouseName":"Spouse name","personal.spouseAge":"Spouse age","personal.spouseDob":"Spouse date of birth","personal.spouseNic":"Spouse NIC","address.permanentAddress":"Permanent address","address.email":"Email","address.district":"District","address.province":"Province","address.emergencyContact.relationship":"Emergency contact relationship","address.emergencyContact.contactName":"Emergency contact name","address.emergencyContact.contactAddress":"Emergency contact address","address.emergencyContact.contactTel":"Emergency contact telephone","compensation.basicSalary":"Basic salary","compensation.bankName":"Bank name","compensation.branchName":"Branch name","compensation.bankCode":"Bank code","compensation.branchCode":"Branch code","compensation.bankAccountNo":"Bank account number","organization.company":"Company","organization.dateOfJoined":"Date of joining","organization.designation":"Designation"})[b]||b.split(".").map(k=>k.replace(/([A-Z])/g," $1").replace(/^./,A=>A.toUpperCase()).replace("Emp","Employee").replace("No","Number").replace("Nic","NIC")).join("  ");return e.jsxs("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 p-4 rounded",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Hs,{className:"w-5 h-5 text-red-500 mr-2"}),e.jsx("h3",{className:"text-lg font-medium text-red-800",children:"There were errors with your submission"})]}),e.jsx("div",{className:"mt-2 text-sm text-red-700",children:e.jsx("ul",{className:"list-disc pl-5 space-y-1",children:v.map((b,_)=>e.jsxs("li",{children:[e.jsxs("span",{className:"font-medium",children:[y(b.field),":"]})," ",b.message]},_))})})]})};return e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"rounded-4xl",children:r.personal.profilePicturePreview?e.jsx("img",{src:r.personal.profilePicturePreview,alt:"Profile",className:"w-16 h-16 rounded-full object-cover"}):e.jsx(er,{className:"w-16 h-16"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Employee Information"}),e.jsx("p",{className:"text-blue-100 mt-1",children:"Complete employee profile and details"})]})]})})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[p(),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:e.jsx(er,{className:"w-5 h-5 text-blue-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Personal Information"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Title"}),e.jsx("p",{className:"text-gray-800 font-medium mt-1",children:r.personal.title||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Attendance Employee No"}),e.jsx("p",{className:"text-gray-800 font-medium mt-1",children:r.personal.attendanceEmpNo||"Not specified"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"EPF No"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.personal.epfNo||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"NIC Number"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.personal.nicNumber||"Not specified"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Date of Birth"}),e.jsx("p",{className:"text-gray-800 mt-1",children:l(r.personal.dob)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Gender"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.personal.gender||"Not specified"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Religion"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.personal.religion||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Country of Birth"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.personal.countryOfBirth||"Not specified"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Name with Initial"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.personal.nameWithInitial||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Full Name"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.personal.fullName||"Not specified"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Marital Status"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.personal.maritalStatus||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Employment Status"}),e.jsx("p",{className:"text-gray-800 mt-1",children:u(r.personal.employmentStatus)||"Not specified"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"bg-red-100 p-2 rounded-lg",children:e.jsx(CA,{className:"w-5 h-5 text-red-500"})}),e.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:["Family Information (",r.personal.relationshipType||"Not specified",")"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Spouse Name"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.personal.spouseName||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Spouse NIC"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.personal.spouseNic||"Not specified"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Spouse Age"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.personal.spouseAge||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Spouse Date of Birth"}),e.jsx("p",{className:"text-gray-800 mt-1",children:l(r.personal.spouseDob)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Children"}),r.personal.children&&r.personal.children.length>0&&r.personal.children[0].name?e.jsx("div",{className:"mt-2 space-y-2",children:r.personal.children.map((g,v)=>e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsx("p",{className:"font-medium text-gray-800",children:g.name||"No name specified"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-1",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Age: ",g.age||"Not specified"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["DOB: ",l(g.dob)]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["NIC: ",g.nic||"Not specified"]})]})]},v))}):e.jsx("p",{className:"text-gray-500 mt-1",children:"No children specified"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:e.jsx(Yl,{className:"w-5 h-5 text-green-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Contact Information"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Mobile Number"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.address.mobileLine||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Landline"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.address.landLine||"Not specified"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Email Address"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.address.email||"Not specified"})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsx("h3",{className:"text-md font-medium text-gray-700 mb-3",children:"Emergency Contact"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Name"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.address.emergencyContact.contactName||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Relationship"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.address.emergencyContact.relationship||"Not specified"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Contact Number"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.address.emergencyContact.contactTel||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Address"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.address.emergencyContact.contactAddress||"Not specified"})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:e.jsx(xx,{className:"w-5 h-5 text-purple-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Address Information"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Permanent Address"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.address.permanentAddress||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Temporary Address"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.address.temporaryAddress||"Not specified"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"GN Division"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.address.gnDivision||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Police Station"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.address.policeStation||"Not specified"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"District"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.address.district||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Province"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.address.province||"Not specified"})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Electoral Division"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.address.electoralDivision||"Not specified"})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"bg-yellow-100 p-2 rounded-lg",children:e.jsx(sx,{className:"w-5 h-5 text-yellow-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Employment Information"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Company"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.organization.companyName||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Department"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.organization.departmentName||"Not specified"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Sub Department"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.organization.subDepartmentName||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Designation"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.organization.designationName||"Not specified"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Current Supervisor"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.organization.currentSupervisor||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Date of Joined"}),e.jsx("p",{className:"text-gray-800 mt-1",children:l(r.organization.dateOfJoined)})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Day Off"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.organization.dayOff||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Current Status"}),e.jsx("p",{className:"text-gray-800 mt-1",children:u(r.organization.currentStatus)})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-600",children:["Probation Period"," "]}),e.jsx("span",{className:`inline-block px-3 py-1 text-sm font-semibold rounded-full ${r.organization.probationPeriod?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:d(r.organization.probationPeriod)})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-600",children:["Training Period"," "]}),e.jsx("span",{className:`inline-block px-3 py-1 text-sm font-semibold rounded-full ${r.organization.trainingPeriod?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:d(r.organization.trainingPeriod)})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-600",children:["Contract Period"," "]}),e.jsx("span",{className:`inline-block px-3 py-1 text-sm font-semibold rounded-full ${r.organization.contractPeriod?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:d(r.organization.contractPeriod)})]})]}),r.organization.probationPeriod&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Probation From"}),e.jsx("p",{className:"text-gray-800 mt-1",children:l(r.organization.probationFrom)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Probation To"}),e.jsx("p",{className:"text-gray-800 mt-1",children:l(r.organization.probationTo)})]})]}),r.organization.trainingPeriod&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Training From"}),e.jsx("p",{className:"text-gray-800 mt-1",children:l(r.organization.trainingFrom)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Training To"}),e.jsx("p",{className:"text-gray-800 mt-1",children:l(r.organization.trainingTo)})]})]}),r.organization.contractPeriod&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Contract From"}),e.jsx("p",{className:"text-gray-800 mt-1",children:l(r.organization.contractFrom)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Contract To"}),e.jsx("p",{className:"text-gray-800 mt-1",children:l(r.organization.contractTo)})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"bg-indigo-100 p-2 rounded-lg",children:e.jsx(Zl,{className:"w-5 h-5 text-indigo-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Compensation & Bank Information"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Basic Salary"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.compensation.basicSalary?`Rs. ${r.compensation.basicSalary}`:"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Increment Value"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.compensation.incrementValue?`Rs. ${r.compensation.incrementValue}`:"Not specified"})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Increment Effective From"}),e.jsx("p",{className:"text-gray-800 mt-1",children:l(r.compensation.incrementEffectiveFrom)})]})}),e.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[e.jsx("h3",{className:"text-md font-medium text-gray-700 mb-3",children:"Bank Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Bank Name"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.compensation.bankName||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Branch Name"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.compensation.branchName||"Not specified"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Bank Code"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.compensation.bankCode||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Branch Code"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.compensation.branchCode||"Not specified"})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Account Number"}),e.jsx("p",{className:"text-gray-800 mt-1",children:r.compensation.bankAccountNo||"Not specified"})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[e.jsx("h3",{className:"text-md font-medium text-gray-700 mb-3",children:"Additional Settings"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Enable EPF/ETF"}),e.jsx("p",{className:"text-gray-800 mt-1",children:d(r.compensation.enableEpfEtf)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"OT Active"}),e.jsx("p",{className:"text-gray-800 mt-1",children:d(r.compensation.otActive)})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Primary Employment Basic"}),e.jsx("p",{className:"text-gray-800 mt-1",children:d(r.compensation.primaryEmploymentBasic)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Secondary Employee"}),e.jsx("p",{className:"text-gray-800 mt-1",children:d(r.compensation.secondaryEmp)})]})]})]})]})]})]}),e.jsxs("div",{className:"mt-8 flex justify-end space-x-4",children:[e.jsxs("button",{onClick:f,className:"px-6 py-3 bg-red-300 hover:bg-red-400 text-gray-800 font-medium rounded-lg transition duration-200 flex items-center space-x-2",children:[e.jsx(wF,{className:"w-5 h-5"}),e.jsx("span",{children:"Clear Form"})]}),r.personal.id?e.jsx("button",{onClick:h,disabled:i,className:`px-6 py-3 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition duration-200 flex items-center space-x-2 ${i?"opacity-75 cursor-not-allowed":""}`,children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),e.jsx("span",{children:"Submitting..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(fi,{className:"w-5 h-5"}),e.jsx("span",{children:"Confirm & Update"})]})}):e.jsx("button",{onClick:h,disabled:i,className:`px-6 py-3 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition duration-200 flex items-center space-x-2 ${i?"opacity-75 cursor-not-allowed":""}`,children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),e.jsx("span",{children:"Submitting..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(fi,{className:"w-5 h-5"}),e.jsx("span",{children:"Confirm & Submit"})]})})]})]})]})},Ef=["personal","address","compensation","organization","documents","confirmation"],t_=()=>e.jsx(fU,{children:e.jsx(AH,{})}),AH=()=>{const[t,s]=N.useState("personal"),r=Ef.indexOf(t),{setFormErrors:a,setIsSubmitting:n,errors:i,clearForm:o}=L0(),l=()=>{r<Ef.length-1&&s(Ef[r+1])},d=()=>{r>0&&s(Ef[r-1])},u=async h=>{var f,p,g;n(!0);try{let v;return(f=h.personal)!=null&&f.id?(v=await ul.updateEmployee(h.personal.id,h),Me.fire({icon:"success",title:"Success!",text:"Employee updated successfully!"}),o(),s("personal")):(v=await ul.submitEmployee(h),Me.fire({icon:"success",title:"Success!",text:"Employee submitted successfully!"}),o(),s("personal")),v}catch(v){if(console.error("Update error:",v),(g=(p=v.response)==null?void 0:p.data)!=null&&g.errors){const y={};Object.entries(v.response.data.errors).forEach(([b,_])=>{const k=b.split(".");let A=y;k.forEach((R,F)=>{F===k.length-1?A[R]=_[0]:(A[R]=A[R]||{},A=A[R])})}),a(y),Me.fire({icon:"error",title:"Oops...",text:"Please fix the errors in the form!"})}else Me.fire({icon:"error",title:"Oops...",text:"Error updating employee. Please try again.!"})}finally{n(!1)}};return e.jsxs("div",{children:[e.jsx("div",{className:"flex gap-2 px-4 py-2 border-b border-gray-200 bg-white",children:Ef.map(h=>e.jsx("button",{className:`px-4 py-2 rounded-md text-sm font-medium transition ${t===h?"bg-indigo-600 text-white":"text-indigo-700 hover:bg-indigo-100"}`,onClick:()=>s(h),children:h.charAt(0).toUpperCase()+h.slice(1)},h))}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"p-4",children:[t==="personal"&&e.jsx(yU,{onNext:l,activeCategory:t}),t==="address"&&e.jsx(bU,{onNext:l,onPrevious:d,activeCategory:t}),t==="compensation"&&e.jsx(FU,{onNext:l,onPrevious:d,activeCategory:t}),t==="organization"&&e.jsx(LU,{onNext:l,onPrevious:d,activeCategory:t}),t==="documents"&&e.jsx(CH,{onNext:l,onPrevious:d,onSubmit:u,activeCategory:t}),t==="confirmation"&&e.jsx(kH,{onPrevious:d,onSubmit:u,activeCategory:t})]})})]})},EH=()=>{const[t,s]=N.useState(!1),[r,a]=N.useState(1),[n,i]=N.useState(!1),[o,l]=N.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",zipCode:"",country:"",newsletter:!1,notifications:!1,comments:""}),d=()=>{try{const _="__localStorage_test__";return localStorage.setItem(_,_),localStorage.removeItem(_),!0}catch{return!1}};N.useEffect(()=>{if(console.log(" Component mounted, checking for saved data..."),d())try{const _=localStorage.getItem("multiStepFormData"),k=localStorage.getItem("multiStepFormStep"),A=localStorage.getItem("multiStepFormModalOpen");if(console.log(" Raw saved data:",{savedData:_,savedStep:k,savedModalState:A}),_&&_!=="null"){const R=JSON.parse(_);console.log(" Parsed form data:",R),l(R)}if(k&&k!=="null"){const R=parseInt(k);console.log(" Restored step:",R),a(R)}A==="true"&&(console.log(" Restoring modal open state"),s(!0))}catch(_){console.error(" Error loading data from localStorage:",_)}else console.warn(" localStorage is not available in this environment");i(!0),console.log(" Component loaded")},[]),N.useEffect(()=>{if(n&&d())try{console.log(" Saving data to localStorage...",{formData:o,currentStep:r,isModalOpen:t}),localStorage.setItem("multiStepFormData",JSON.stringify(o)),localStorage.setItem("multiStepFormStep",r.toString()),localStorage.setItem("multiStepFormModalOpen",t.toString()),console.log(" Data saved successfully")}catch(_){console.error(" Error saving data to localStorage:",_)}},[o,r,t,n]);const u=_=>{const{name:k,value:A,type:R,checked:F}=_.target;console.log(" Input changed:",{name:k,value:R==="checkbox"?F:A}),l(V=>({...V,[k]:R==="checkbox"?F:A}))},h=()=>{r<3&&(console.log(" Moving to next step:",r+1),a(r+1))},f=()=>{r>1&&(console.log(" Moving to previous step:",r-1),a(r-1))},p=()=>{if(console.log(" Form submitted:",o),alert("Form submitted successfully! Check console for submitted data."),l({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",zipCode:"",country:"",newsletter:!1,notifications:!1,comments:""}),a(1),s(!1),d())try{localStorage.removeItem("multiStepFormData"),localStorage.removeItem("multiStepFormStep"),localStorage.removeItem("multiStepFormModalOpen"),console.log(" Form data cleared from localStorage")}catch(k){console.error(" Error clearing localStorage:",k)}},g=()=>{console.log(" Closing modal"),s(!1)},v=()=>{console.log(" Opening modal"),s(!0)},y=()=>{if(d()){const _={test:"Hello World",timestamp:Date.now()};localStorage.setItem("test-key",JSON.stringify(_));const k=JSON.parse(localStorage.getItem("test-key"));console.log(" localStorage test:",k),alert("localStorage test successful! Check console."),localStorage.removeItem("test-key")}else alert("localStorage is not available!")},b=()=>{switch(r){case 1:return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),e.jsx("input",{type:"text",name:"firstName",value:o.firstName,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),e.jsx("input",{type:"text",name:"lastName",value:o.lastName,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),e.jsx("input",{type:"email",name:"email",value:o.email,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),e.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]});case 2:return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Address Information"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address"}),e.jsx("input",{type:"text",name:"address",value:o.address,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),e.jsx("input",{type:"text",name:"city",value:o.city,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),e.jsx("input",{type:"text",name:"zipCode",value:o.zipCode,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),e.jsxs("select",{name:"country",value:o.country,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select a country"}),e.jsx("option",{value:"US",children:"United States"}),e.jsx("option",{value:"CA",children:"Canada"}),e.jsx("option",{value:"UK",children:"United Kingdom"}),e.jsx("option",{value:"AU",children:"Australia"}),e.jsx("option",{value:"DE",children:"Germany"}),e.jsx("option",{value:"FR",children:"France"}),e.jsx("option",{value:"JP",children:"Japan"}),e.jsx("option",{value:"IN",children:"India"})]})]})]});case 3:return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Preferences & Comments"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"newsletter",checked:o.newsletter,onChange:u,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Subscribe to newsletter"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"notifications",checked:o.notifications,onChange:u,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Enable email notifications"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Comments"}),e.jsx("textarea",{name:"comments",value:o.comments,onChange:u,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Any additional information you'd like to share..."})]})]});default:return null}};return n?e.jsxs("div",{className:"flex gap-2 px-4 py-2 border-b border-gray-200 bg-white",children:[e.jsxs("div",{className:"text-center space-x-4",children:[e.jsx("button",{onClick:v,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg shadow-lg transition-colors duration-200",children:"Open Multi-Step Form"}),e.jsx("button",{onClick:y,className:"bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg shadow-lg transition-colors duration-200",children:"Test localStorage"})]}),t&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-screen overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Registration Form"}),e.jsx("button",{onClick:g,className:"text-gray-400 hover:text-gray-600 text-2xl font-bold",children:""})]}),e.jsxs("div",{className:"px-6 py-4 border-b",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Step ",r," of 3"]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(r/3*100),"% Complete"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${r/3*100}%`}})})]}),e.jsxs("div",{className:"p-6",children:[b(),e.jsxs("div",{className:"flex justify-between mt-8",children:[e.jsx("button",{type:"button",onClick:f,disabled:r===1,className:`px-4 py-2 rounded-md font-medium ${r===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300"} transition-colors duration-200`,children:"Previous"}),r<3?e.jsx("button",{type:"button",onClick:h,className:"px-6 py-2 bg-blue-600 text-white rounded-md font-medium hover:bg-blue-700 transition-colors duration-200",children:"Next"}):e.jsx("button",{type:"button",onClick:p,className:"px-6 py-2 bg-green-600 text-white rounded-md font-medium hover:bg-green-700 transition-colors duration-200",children:"Submit"})]})]})]})}),e.jsxs("div",{className:"fixed bottom-4 right-4 bg-white p-4 rounded-lg shadow-lg border max-w-sm",children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Debug Information:"}),e.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Loaded:"})," ",n?" Yes":" No"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Current Step:"})," ",r]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Modal Open:"})," ",t?"Yes":"No"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"localStorage:"}),e.jsx("span",{className:d()?"text-green-600":"text-red-600",children:d()?"  Available":"  Not Available"})]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Has Data:"})," ",Object.values(o).some(_=>_!==""&&_!==!1)?" Yes":" No"]})]}),e.jsxs("details",{className:"text-xs mt-2",children:[e.jsx("summary",{className:"cursor-pointer text-gray-700 font-medium",children:"Raw localStorage"}),e.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-xs font-mono",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Data:"})," ",localStorage.getItem("multiStepFormData")||"null"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Step:"})," ",localStorage.getItem("multiStepFormStep")||"null"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Modal:"})," ",localStorage.getItem("multiStepFormModalOpen")||"null"]})]})]})]})]}):e.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading form data..."})]})})},s_=em.apiBaseUrl,TH=()=>{var ge,Q,ue,ie,oe,J,re,ve,pe,ae,he,Te,Ie,Be,Le,Ee,Ve,mt,gt,Pe,Ae,We,Xe,st,ke,ct,nt,Bt,Ge,St,bt;const[t,s]=N.useState(null),[r,a]=N.useState([]),[n,i]=N.useState(!1),[o,l]=N.useState(!0),[d,u]=N.useState(!1),[h,f]=N.useState(!1),[p,g]=N.useState(null),[v,y]=N.useState(!1),[b,_]=N.useState(""),k=a8(b,500),[A,R]=N.useState(1),[F,V]=N.useState(10),[S,L]=N.useState(0),I=async()=>{l(!0);try{const qe=await ul.fetchEmployeesForTable(A,F,k);a(qe.data),L(qe.total)}catch(qe){console.error("Error loading data:",qe)}finally{l(!1),u(!1)}};N.useEffect(()=>{I()},[A,F,k]);const B=async qe=>{const Oe=await ul.fetchEmployeeById(qe);s(Oe),i(!0),g(null),y(!1)},T=()=>{i(!1),s(null)},w=qe=>{qe<1||qe>Math.ceil(S/F)||(u(!0),R(qe))},[E,D]=N.useState(!1),G=()=>{D(!0),g(null),y(!1)},K=async qe=>{f(!0);try{await ul.deleteEmployeeById(qe),y(!0),D(!1),i(!1),I()}catch(Oe){g(Oe.message||"Failed to delete employee")}finally{f(!1)}},X=()=>{D(!1)},se=qe=>{const Oe=qe===1?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200";return e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${Oe}`,children:qe===1?"Active":"Inactive"})},Z=qe=>{const Oe=qe==="PERMANENT"?"bg-blue-100 text-blue-800 border-blue-200":qe==="Training"?"bg-orange-100 text-orange-800 border-orange-200":"bg-purple-100 text-purple-800 border-purple-200";return e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${Oe}`,children:qe})},ee=qe=>{const Oe=qe==="married"?"bg-pink-100 text-pink-800 border-pink-200":"bg-gray-100 text-gray-800 border-gray-200";return e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${Oe}`,children:(qe==null?void 0:qe.charAt(0).toUpperCase())+(qe==null?void 0:qe.slice(1))||"Not specified"})},ce=qe=>qe?new Date(qe).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Not specified",U=qe=>{if(!qe)return"Not specified";const Oe=new Date,jt=new Date(qe);let Et=Oe.getFullYear()-jt.getFullYear();const qt=Oe.getMonth()-jt.getMonth();return(qt<0||qt===0&&Oe.getDate()<jt.getDate())&&Et--,`${Et} years old`},O=Math.ceil(S/F),z=5;let q=Math.max(1,A-Math.floor(z/2)),te=Math.min(O,q+z-1);return te-q+1<z&&(q=Math.max(1,te-z+1)),o?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ps,{className:"h-12 w-12 text-blue-600 animate-spin mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Loading Employee Data"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Please wait while we fetch the records..."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Employee Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage and view employee information"})]}),e.jsxs("div",{className:"relative w-full md:w-64",children:[e.jsx("input",{type:"text",placeholder:"Search employees...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",value:b,onChange:qe=>{_(qe.target.value),R(1)}}),e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[e.jsx(er,{className:"mr-2 h-5 w-5 text-blue-600"}),"Employee List"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee Info"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r&&r.length>0?r.map(qe=>{var Oe,jt,Et,qt;return e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-12 w-12",children:e.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-r from-blue-400 to-purple-500 flex items-center justify-center overflow-hidden",children:qe.profile_photo_path?e.jsx("img",{src:`${s_}/storage/${qe.profile_photo_path}`,alt:"Profile photo",className:"h-full w-full object-cover"}):e.jsx("span",{className:"text-white font-semibold text-sm",children:((Oe=qe.name_with_initials)==null?void 0:Oe.charAt(0))||"?"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:qe.full_name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Emp No: ",qe.attendance_employee_no]})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900 font-medium",children:qe.title}),e.jsx("div",{className:"text-sm text-gray-500"})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:se(qe.is_active)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Z((jt=qe.employment_type)==null?void 0:jt.name)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:(Et=qe.contact_detail)==null?void 0:Et.email}),e.jsx("div",{className:"text-sm text-gray-500",children:(qt=qe.contact_detail)==null?void 0:qt.mobile_line})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("button",{onClick:()=>B(qe.id),className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors duration-200 shadow-sm hover:shadow-md",children:[e.jsx(Or,{className:"h-4 w-4 mr-2"}),"View Details"]})})]},qe.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500",children:o?e.jsxs("div",{className:"flex justify-center items-center",children:[e.jsx(Ps,{className:"h-5 w-5 mr-2 animate-spin"}),"Loading employees..."]}):"No employees found"})})})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-6 py-4 border-t border-gray-200 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-0",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["Showing"," ",e.jsx("span",{className:"font-medium",children:(A-1)*F+1})," ","to"," ",e.jsx("span",{className:"font-medium",children:Math.min(A*F,S)})," ","of ",e.jsx("span",{className:"font-medium",children:S})," employees"]}),e.jsxs("select",{className:"text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",value:F,onChange:qe=>{V(Number(qe.target.value)),R(1)},disabled:d,children:[e.jsx("option",{value:"5",children:"5 per page"}),e.jsx("option",{value:"10",children:"10 per page"}),e.jsx("option",{value:"20",children:"20 per page"}),e.jsx("option",{value:"50",children:"50 per page"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>w(A-1),disabled:A===1||d,className:`px-3 py-1 rounded-md border flex items-center ${A===1||d?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(gl,{className:"h-4 w-4 mr-1"}),"Previous"]}),q>1&&e.jsx("button",{onClick:()=>w(1),disabled:d,className:`px-3 py-1 rounded-md border ${d?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"1"}),q>2&&e.jsx("span",{className:"px-2 text-gray-500",children:"..."}),Array.from({length:te-q+1},(qe,Oe)=>q+Oe).map(qe=>e.jsx("button",{onClick:()=>w(qe),disabled:d,className:`px-3 py-1 rounded-md border ${A===qe?"bg-blue-600 text-white":d?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:qe},qe)),te<O-1&&e.jsx("span",{className:"px-2 text-gray-500",children:"..."}),te<O&&e.jsx("button",{onClick:()=>w(O),disabled:d,className:`px-3 py-1 rounded-md border ${d?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:O}),e.jsxs("button",{onClick:()=>w(A+1),disabled:A>=O||d,className:`px-3 py-1 rounded-md border flex items-center ${A>=O||d?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:["Next",e.jsx(Pn,{className:"h-4 w-4 ml-1"})]})]})]})]}),d&&e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm  bg-opacity-50  flex items-center justify-center z-40",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg flex items-center space-x-3",children:[e.jsx(Ps,{className:"h-6 w-6 text-purple-600 animate-spin"}),e.jsx("span",{children:"Loading employees..."})]})}),n&&t&&e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm  bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[e.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 rounded-t-2xl",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-white/20 flex items-center justify-center overflow-hidden",children:t.profile_photo_path?e.jsx("img",{src:`${s_}/storage/${t.profile_photo_path}`,alt:"Profile photo",className:"h-full w-full object-cover"}):e.jsx("span",{className:"text-white font-semibold text-lg",children:((ge=t.name_with_initials)==null?void 0:ge.charAt(0))||"?"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:t.full_name}),e.jsx("p",{className:"text-blue-100",children:t.title}),e.jsxs("p",{className:"text-blue-200 text-sm",children:[t.display_name," "," ",U(t.dob)]})]})]}),e.jsx("button",{onClick:T,className:"text-white hover:text-gray-200 transition-colors p-2",children:e.jsx(zt,{className:"h-6 w-6"})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx(er,{className:"h-5 w-5 mr-2 text-blue-600"}),"Basic Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Employee No"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:t.attendance_employee_no})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Display Name"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:t.display_name})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Gender"}),e.jsx("p",{className:"text-gray-900 font-semibold capitalize",children:t.gender})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Date of Birth"}),e.jsxs("p",{className:"text-gray-900 font-semibold flex items-center",children:[e.jsx(ys,{className:"h-4 w-4 mr-1 text-gray-500"}),ce(t.dob)]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Religion"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:t.religion||"Not specified"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Country of Birth"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:t.country_of_birth||"Not specified"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"NIC Number"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:t.nic})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"EPF No"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:t.epf})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Marital Status"}),e.jsx("div",{className:"mt-2",children:ee(t.marital_status)})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx(j1,{className:"h-5 w-5 mr-2 text-purple-600"}),"Employment Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Employment Type"}),e.jsx("div",{className:"mt-2",children:Z((Q=t.employment_type)==null?void 0:Q.name)})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Company Name"}),e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium border bg-purple-100 text-purple-800 border-purple-200",children:(ie=(ue=t.organization_assignment)==null?void 0:ue.company)==null?void 0:ie.name})})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Department Name"}),e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium border bg-red-100 text-purple-800 border-purple-200",children:(J=(oe=t.organization_assignment)==null?void 0:oe.department)==null?void 0:J.name})})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Sub Department"}),e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium border bg-green-100 text-purple-800 border-purple-200",children:((ve=(re=t.organization_assignment)==null?void 0:re.sub_department)==null?void 0:ve.name)||"Not assigned"})})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Designation"}),e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium border bg-yellow-100 text-purple-800 border-purple-200",children:(ae=(pe=t.organization_assignment)==null?void 0:pe.designation)==null?void 0:ae.name})})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Date of Joining"}),e.jsxs("p",{className:"text-gray-900 font-semibold flex items-center",children:[e.jsx(ys,{className:"h-4 w-4 mr-1 text-gray-500"}),ce((he=t.organization_assignment)==null?void 0:he.date_of_joining)]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Current Supervisor"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:((Te=t.organization_assignment)==null?void 0:Te.current_supervisor)||"Not assigned"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Day Off"}),e.jsx("p",{className:"text-gray-900 font-semibold capitalize",children:((Ie=t.organization_assignment)==null?void 0:Ie.day_off)||"Not specified"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Confirmation Date"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:ce((Be=t.organization_assignment)==null?void 0:Be.confirmation_date)||"Not confirmed"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Status"}),e.jsx("div",{className:"mt-2",children:se(t.is_active)})]})]})]}),t.organization_assignment&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx(Ns,{className:"h-5 w-5 mr-2 text-orange-600"}),"Employment Periods"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.organization_assignment.probationary_period===1&&e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[e.jsx("label",{className:"block text-sm font-medium text-yellow-800 mb-2",children:"Probationary Period"}),e.jsxs("p",{className:"text-sm text-yellow-700",children:["From:"," ",ce(t.organization_assignment.probationary_period_from)]}),e.jsxs("p",{className:"text-sm text-yellow-700",children:["To:"," ",ce(t.organization_assignment.probationary_period_to)]})]}),t.organization_assignment.training_period===1&&e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("label",{className:"block text-sm font-medium text-blue-800 mb-2",children:"Training Period"}),e.jsxs("p",{className:"text-sm text-blue-700",children:["From:"," ",ce(t.organization_assignment.training_period_from)]}),e.jsxs("p",{className:"text-sm text-blue-700",children:["To:"," ",ce(t.organization_assignment.training_period_to)]})]}),t.organization_assignment.contract_period===1&&e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[e.jsx("label",{className:"block text-sm font-medium text-green-800 mb-2",children:"Contract Period"}),e.jsxs("p",{className:"text-sm text-green-700",children:["From:"," ",ce(t.organization_assignment.contract_period_from)]}),e.jsxs("p",{className:"text-sm text-green-700",children:["To:"," ",ce(t.organization_assignment.contract_period_to)]})]})]})]}),(t.spouse||((Le=t.children)==null?void 0:Le.length)>0)&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx(CA,{className:"h-5 w-5 mr-2 text-pink-600"}),"Family Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.spouse&&e.jsxs("div",{className:"bg-pink-50 p-4 rounded-lg border border-pink-200",children:[e.jsx("label",{className:"block text-sm font-medium text-pink-800 mb-2",children:"Spouse Information"}),e.jsxs("p",{className:"text-pink-700 font-semibold",children:[t.spouse.title," ",t.spouse.name]}),e.jsxs("p",{className:"text-sm text-pink-600",children:["Age: ",t.spouse.age," years"]}),e.jsxs("p",{className:"text-sm text-pink-600",children:["DOB: ",ce(t.spouse.dob)]}),e.jsxs("p",{className:"text-sm text-pink-600",children:["NIC: ",t.spouse.nic||"Not provided"]})]}),((Ee=t.children)==null?void 0:Ee.length)>0&&e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsxs("label",{className:"text-sm font-medium text-blue-800 mb-2 flex items-center",children:[e.jsx(SA,{className:"h-4 w-4 mr-1"}),"Children (",t.children.length,")"]}),e.jsx("div",{className:"space-y-2",children:t.children.map((qe,Oe)=>e.jsxs("div",{className:"text-sm",children:[e.jsxs("p",{className:"text-blue-700 font-semibold",children:[Oe+1,". ",qe.name]}),e.jsxs("p",{className:"text-blue-600",children:["Age: ",qe.age," years  DOB:"," ",ce(qe.dob)]})]},qe.id))})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx(xx,{className:"h-5 w-5 mr-2 text-green-600"}),"Address Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Permanent Address"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:((Ve=t.contact_detail)==null?void 0:Ve.permanent_address)||"Not provided"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Temporary Address"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:((mt=t.contact_detail)==null?void 0:mt.temporary_address)||"Not provided"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Province"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:((gt=t.contact_detail)==null?void 0:gt.province)||"Not specified"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"District"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:((Pe=t.contact_detail)==null?void 0:Pe.district)||"Not specified"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"GN Division"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:((Ae=t.contact_detail)==null?void 0:Ae.gn_division)||"Not specified"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Police Station"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:((We=t.contact_detail)==null?void 0:We.police_station)||"Not specified"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Electoral Division"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:((Xe=t.contact_detail)==null?void 0:Xe.electoral_division)||"Not specified"})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx(Yl,{className:"h-5 w-5 mr-2 text-blue-600"}),"Contact Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Email"}),e.jsxs("p",{className:"text-gray-900 font-semibold flex items-center",children:[e.jsx(hx,{className:"h-4 w-4 mr-1 text-gray-500"}),((st=t.contact_detail)==null?void 0:st.email)||"Not provided"]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Mobile"}),e.jsxs("p",{className:"text-gray-900 font-semibold flex items-center",children:[e.jsx(Yl,{className:"h-4 w-4 mr-1 text-gray-500"}),((ke=t.contact_detail)==null?void 0:ke.mobile_line)||"Not provided"]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Land Line"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:((ct=t.contact_detail)==null?void 0:ct.land_line)||"Not provided"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx(P0,{className:"h-5 w-5 mr-2 text-red-600"}),"Emergency Contact"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[e.jsx("label",{className:"block text-sm font-medium text-red-800 mb-1",children:"Name"}),e.jsx("p",{className:"text-red-900 font-semibold",children:((nt=t.contact_detail)==null?void 0:nt.emg_name)||"Not specified"})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[e.jsx("label",{className:"block text-sm font-medium text-red-800 mb-1",children:"Relationship"}),e.jsx("p",{className:"text-red-900 font-semibold",children:((Bt=t.contact_detail)==null?void 0:Bt.emg_relationship)||"Not specified"})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[e.jsx("label",{className:"block text-sm font-medium text-red-800 mb-1",children:"Emergency Contact Number"}),e.jsx("p",{className:"text-red-900 font-semibold",children:((Ge=t.contact_detail)==null?void 0:Ge.emg_tel)||"Not provided"})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200 md:col-span-2 lg:col-span-3",children:[e.jsx("label",{className:"block text-sm font-medium text-red-800 mb-1",children:"Emergency Contact Address"}),e.jsx("p",{className:"text-red-900 font-semibold",children:((St=t.contact_detail)==null?void 0:St.emg_address)||"Not provided"})]})]})]}),t.compensation&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx(Qs,{className:"h-5 w-5 mr-2 text-green-600"}),"Compensation Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[e.jsx("label",{className:"block text-sm font-medium text-green-800 mb-1",children:"Basic Salary"}),e.jsxs("p",{className:"text-green-900 font-semibold",children:["Rs. ",t.compensation.basic_salary]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[e.jsx("label",{className:"block text-sm font-medium text-green-800 mb-1",children:"Bank Name"}),e.jsx("p",{className:"text-green-900 font-semibold",children:t.compensation.bank_name||"Not specified"})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[e.jsx("label",{className:"block text-sm font-medium text-green-800 mb-1",children:"Branch Name"}),e.jsx("p",{className:"text-green-900 font-semibold",children:t.compensation.branch_name||"Not specified"})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[e.jsx("label",{className:"block text-sm font-medium text-green-800 mb-1",children:"Account Number"}),e.jsx("p",{className:"text-green-900 font-semibold",children:t.compensation.bank_account_no||"Not specified"})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[e.jsx("label",{className:"block text-sm font-medium text-green-800 mb-1",children:"EPF/ETF Enabled"}),e.jsx("p",{className:"text-green-900 font-semibold",children:t.compensation.enable_epf_etf?"Yes":"No"})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[e.jsx("label",{className:"block text-sm font-medium text-green-800 mb-1",children:"OT Active"}),e.jsx("p",{className:"text-green-900 font-semibold",children:t.compensation.ot_active?"Yes":"No"})]})]})]}),((bt=t.organization_assignment)==null?void 0:bt.date_of_resigning)&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx(cn,{className:"h-5 w-5 mr-2 text-gray-600"}),"Additional Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Date of Resignation"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:ce(t.organization_assignment.date_of_resigning)})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Resignation Reason"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:t.organization_assignment.resigned_reason||"Not specified"})]})]})]})]}),e.jsx("div",{className:"bg-gray-50 px-6 py-4 rounded-b-lg flex justify-between items-center",children:E&&e.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[e.jsxs("span",{children:["Are you sure you want to delete"," ",t.full_name,"?"]}),e.jsx("button",{onClick:()=>K(t.id),className:"px-3 py-1 bg-red-600 hover:bg-red-700 text-white rounded-md text-sm",children:"Confirm"}),e.jsx("button",{onClick:X,className:"px-3 py-1 bg-gray-500 hover:bg-gray-600 text-white rounded-md text-sm",children:"Cancel"})]})}),e.jsx("div",{className:"bg-gray-50 px-6 py-4 rounded-b-2xl",children:e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsxs("button",{onClick:G,className:"flex items-center px-4 py-2 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition-colors duration-200",children:[e.jsx(ns,{className:"h-4 w-4 mr-2"}),"Delete"]}),e.jsx("button",{onClick:T,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors duration-200",children:"Close"})]})})]})})]})})},r_=async t=>{try{return(await Ze.get(`/apiData/departments/${t}`)).data}catch(s){return console.error("Error fetching departments:",s),[]}},DH=async()=>{try{return(await Ze.get("/apiData/companies")).data}catch(t){return console.error("Error fetching companies:",t),[]}},a_=async()=>{try{return(await Ze.get("/deductions")).data}catch(t){return console.error("Error fetching deductions:",t),[]}},PH=async()=>{try{return(await Ze.get("/deduction/by-company-or-department")).data.data}catch(t){return console.error("Error fetching deductions:",t),[]}},MH=async t=>{try{return(await Ze.post("/deductions",t)).data}catch(s){throw console.error("Error creating deduction:",s),s}},n_=async(t,s)=>{try{return(await Ze.put(`/deductions/${t}`,s)).data}catch(r){throw console.error("Error updating deduction:",r),r}},LH=async t=>{try{return(await Ze.delete(`/deductions/${t}`)).data}catch(s){throw console.error("Error deleting deduction:",s),s}},FH=async()=>{try{return await Ze.get("/deductions/template/download",{responseType:"blob"})}catch(t){throw console.error("Error downloading template:",t),t}},RH=async t=>{var s;try{const r=new FormData;return r.append("file",t),(await Ze.post("/deductions/import",r,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(r){throw console.error("Error importing deductions:",r),((s=r.response)==null?void 0:s.data)||r.message}},OH=()=>{const[t,s]=N.useState([]),[r,a]=N.useState(!0),[n,i]=N.useState(null),[o,l]=N.useState([]),[d,u]=N.useState([]),[h,f]=N.useState(!1),[p,g]=N.useState(!1);new Date().toISOString().split("T")[0];const v=()=>{const re=new Date,ve=re.getFullYear(),pe=String(re.getMonth()+1).padStart(2,"0"),ae=String(re.getDate()).padStart(2,"0");return`${ve}-${pe}-${ae}`},[y,b]=N.useState({company_id:"",department_id:"",deduction_code:"",deduction_name:"",description:"",status:"active",deduction_type:"fixed",startDate:v(),endDate:""}),[_,k]=N.useState(!1),[A,R]=N.useState(!1),[F,V]=N.useState(""),[S,L]=N.useState("all"),[I,B]=N.useState(""),[T,w]=N.useState(null),[E,D]=N.useState(!1),[G,K]=N.useState(!1),[X,se]=N.useState({});N.useEffect(()=>{v(),(async()=>{a(!0);try{const[ve,pe]=await Promise.all([a_(),DH()]);s(ve),l(pe),i(null)}catch(ve){i("Failed to load data. Please try again later."),console.error("Error loading initial data:",ve)}finally{a(!1)}})()},[]),N.useEffect(()=>{(async()=>{if(y.company_id){f(!0);try{const ve=await r_(y.company_id);u(ve)}catch(ve){console.error("Error loading departments:",ve)}finally{f(!1)}}else u([])})()},[y.company_id]);const Z=async re=>{const ve=re.target.files[0];if(ve){g(!0);try{const pe=await RH(ve);Me.fire({icon:"success",title:"Import Successful",text:pe.message||"Deductions imported successfully",timer:2e3,showConfirmButton:!1});const ae=await a_();s(ae)}catch(pe){Me.fire({icon:"error",title:"Import Failed",text:pe.message||"Failed to import deductions"})}finally{g(!1),re.target.value=""}}},ee=async()=>{try{const re=await FH(),ve=window.URL.createObjectURL(new Blob([re.data])),pe=document.createElement("a");pe.href=ve,pe.setAttribute("download","deductions_template.xlsx"),document.body.appendChild(pe),pe.click(),pe.parentNode.removeChild(pe)}catch(re){console.error("Error downloading template:",re),Me.fire({icon:"error",title:"Download Failed",text:"Failed to download template. Please try again."})}},ce=t.filter(re=>{var pe,ae,he,Te,Ie,Be,Le,Ee;const ve=F.toLowerCase();if(F==="")return!0;switch(S){case"deduction_code":return(pe=re.deduction_code)==null?void 0:pe.toLowerCase().includes(ve);case"deduction_type":return(ae=re.deduction_type)==null?void 0:ae.toLowerCase().includes(ve);case"category":return((he=re.category)==null?void 0:he.toLowerCase().includes(ve))||!1;default:return((Te=re.deduction_code)==null?void 0:Te.toLowerCase().includes(ve))||((Ie=re.deduction_name)==null?void 0:Ie.toLowerCase().includes(ve))||((Be=re.deduction_type)==null?void 0:Be.toLowerCase().includes(ve))||((Le=re.category)==null?void 0:Le.toLowerCase().includes(ve))||!1||((Ee=re.description)==null?void 0:Ee.toLowerCase().includes(ve))}}),U=re=>{const{name:ve,value:pe,type:ae,checked:he}=re.target;b(Te=>({...Te,[ve]:ae==="checkbox"?he:pe})),ve==="company_id"&&b(Te=>({...Te,department_id:""})),ve==="startDate"&&(y.endDate&&pe>=y.endDate?B("Start Date must be before End Date."):B("")),ve==="endDate"&&(pe<=y.startDate?B("End Date must be after Start Date."):B("")),ve==="deduction_type"&&pe==="fixed"&&b(Te=>({...Te,endDate:""}))},O=()=>{b(re=>({...re,status:re.status==="active"?"inactive":"active"}))},z=()=>{const re={};return y.company_id||(re.company_id="Company is required"),y.deduction_code||(re.deduction_code="Deduction code is required"),y.deduction_name||(re.deduction_name="Deduction name is required"),["active","inactive"].includes(y.status)||(re.status="Status must be active or inactive"),["fixed","variable"].includes(y.deduction_type)||(re.deduction_type="Deduction type must be fixed or variable"),y.startDate||(re.startDate="Start date is required"),y.deduction_type==="variable"&&!y.endDate&&(re.endDate="End date is required for variable deductions"),y.deduction_type==="variable"&&y.startDate&&y.endDate&&y.startDate>=y.endDate&&(re.endDate="End date must be after start date"),!y.id&&t.some(ve=>ve.deduction_code.trim().toLowerCase()===y.deduction_code.trim().toLowerCase())&&(re.deduction_code="Deduction code must be unique"),re},q=async re=>{re.preventDefault(),se({}),B("");const ve=z();if(Object.keys(ve).length>0){se(ve);return}K(!0);try{const pe={company_id:parseInt(y.company_id),department_id:y.department_id?parseInt(y.department_id):null,deduction_code:y.deduction_code,deduction_name:y.deduction_name,description:y.description,status:y.status,category:"Other",deduction_type:y.deduction_type,startDate:y.startDate,endDate:y.deduction_type==="variable"?y.endDate:null},ae=await MH(pe),he=o.find(Ie=>Ie.id===parseInt(y.company_id)),Te=y.department_id?d.find(Ie=>Ie.id===parseInt(y.department_id)):null;s(Ie=>[...Ie,{...ae,company:{id:he.id,name:he.name},department:Te?{id:Te.id,name:Te.name}:{id:null,name:"Unknown"},created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]),Me.fire({icon:"success",title:"Success",text:"Deduction created successfully!",timer:2e3,showConfirmButton:!1}),ue(),k(!1)}catch(pe){pe.response&&pe.response.status===422&&pe.response.data.errors?se(pe.response.data.errors):Me.fire({icon:"error",title:"Error",text:"Failed to save deduction. Please try again."})}finally{K(!1)}},te=async re=>{var ve;try{f(!0);const pe=re.company.id,ae=await r_(pe);u(ae);const he=!["EPF","ETF"].includes(re.category);b({...re,company_id:pe,department_id:((ve=re.department)==null?void 0:ve.id)||"",category:he?"other":re.category,customCategory:he?re.category:""}),R(!0)}catch(pe){console.error("Error loading departments for edit:",pe),Me.fire({icon:"error",title:"Error",text:"Failed to load department data. Please try again."})}finally{f(!1)}},ge=re=>{w(re),D(!0)},Q=async()=>{try{await LH(T),s(t.filter(re=>re.id!==T)),Me.fire({icon:"success",title:"Deleted!",text:"Deduction has been deleted successfully.",timer:2e3,showConfirmButton:!1})}catch(re){console.error("Error deleting deduction:",re),Me.fire({icon:"error",title:"Error",text:"Failed to delete deduction. Please try again."})}finally{D(!1),w(null)}},ue=()=>{b({company_id:"",department_id:"",deduction_code:"",deduction_name:"",description:"",status:"active",deduction_type:"fixed",startDate:v(),endDate:""}),B("")},ie=async re=>{const ve=t.find(ae=>ae.id===re);if(!ve)return;const pe=ve.status==="active"?"inactive":"active";try{s(ae=>ae.map(he=>he.id===re?{...he,status:pe,updated_at:new Date().toISOString()}:he)),await n_(re,{...ve,status:pe}),Me.fire({icon:"success",title:"Status Updated",text:`Deduction status changed to ${pe}`,timer:1500,showConfirmButton:!1})}catch(ae){s(he=>he.map(Te=>Te.id===re?{...Te,status:ve.status}:Te)),console.error("Error updating deduction status:",ae),Me.fire({icon:"error",title:"Error",text:"Failed to update deduction status. Please try again."})}},oe=re=>re?new Date(re).toLocaleDateString():"-",J=async re=>{re.preventDefault(),se({}),B("");const ve=z();if(delete ve.deduction_code,Object.keys(ve).length>0){se(ve);return}K(!0);try{const pe={company_id:parseInt(y.company_id),department_id:y.department_id?parseInt(y.department_id):null,deduction_name:y.deduction_name,description:y.description,status:y.status,category:y.category||"Other",deduction_type:y.deduction_type,startDate:y.startDate,endDate:y.deduction_type==="variable"?y.endDate:null},ae=await n_(y.id,pe);s(he=>he.map(Te=>{var Ie,Be;return Te.id===y.id?{...ae,company:{id:parseInt(y.company_id),name:(Ie=o.find(Le=>Le.id==y.company_id))==null?void 0:Ie.name},department:y.department_id?{id:parseInt(y.department_id),name:(Be=d.find(Le=>Le.id==y.department_id))==null?void 0:Be.name}:{id:null,name:"Unknown"},updated_at:new Date().toISOString()}:Te})),Me.fire({icon:"success",title:"Success",text:"Deduction updated successfully!",timer:2e3,showConfirmButton:!1}),R(!1)}catch(pe){pe.response&&pe.response.status===422&&pe.response.data.errors?se(pe.response.data.errors):Me.fire({icon:"error",title:"Error",text:"Failed to update deduction. Please try again."})}finally{K(!1)}};return e.jsxs("div",{className:"p-6 bg-white rounded-2xl shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 p-3 rounded-xl",children:e.jsx(Qs,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Deductions Management"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>{ue(),k(!0)},className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 flex items-center gap-2 shadow-md",children:[e.jsx(bs,{className:"w-4 h-4"}),e.jsx("span",{children:"Add New Deductions"})]}),e.jsxs("label",{className:"px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 flex items-center gap-2 shadow-md cursor-pointer",children:[e.jsx(hl,{className:"w-4 h-4"}),e.jsx("span",{children:"Import Deductions"}),e.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:Z,className:"hidden",disabled:p})]}),e.jsxs("button",{onClick:ee,className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg hover:from-purple-700 hover:to-indigo-700 flex items-center gap-2 shadow-md",children:[e.jsx(Mn,{className:"w-4 h-4"}),e.jsx("span",{children:"Export Deductions Template"})]})]})]}),e.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-grow",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(or,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",placeholder:"Search deductions...",value:F,onChange:re=>V(re.target.value),className:"block w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("select",{value:S,onChange:re=>L(re.target.value),className:"bg-white border border-gray-300 text-gray-700 rounded-lg px-4 py-2.5 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All Fields"}),e.jsx("option",{value:"deduction_code",children:"Deduction Code"}),e.jsx("option",{value:"deduction_type",children:"Deduction Type"}),e.jsx("option",{value:"category",children:"Category"})]})})]}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsx("div",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Existing Deductions"}),e.jsx("div",{className:"overflow-x-auto",children:r?e.jsx("div",{className:"flex justify-center items-center py-10",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-500"})}):n?e.jsx("div",{className:"text-center py-8 text-red-500",children:n}):e.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Department"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Company"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Start Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"End Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:ce.length>0?ce.map(re=>{var ve;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:re.deduction_code}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:re.deduction_name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:re.description||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:((ve=re.department)==null?void 0:ve.name)||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:re.company.name||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:typeof re.amount=="number"?re.amount.toFixed(2):re.amount}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${re.deduction_type==="fixed"?"bg-purple-100 text-purple-800":"bg-pink-100 text-pink-800"}`,children:re.deduction_type==="fixed"?"Fixed":"Variable"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:oe(re.startDate)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:re.deduction_type==="fixed"?"-":oe(re.endDate)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{type:"button",onClick:()=>ie(re.id),className:"relative inline-flex h-5 w-9 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",style:{backgroundColor:re.status==="active"?"#3b82f6":"#e5e7eb"},children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${re.status==="active"?"translate-x-5":"translate-x-1"}`})}),e.jsx("span",{className:`ml-2 text-xs font-medium ${re.status==="active"?"text-green-600":"text-red-600"}`,children:re.status==="active"?"Active":"Inactive"})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium",children:[e.jsxs("button",{onClick:()=>te(re),className:"text-blue-600 hover:text-blue-900 mr-3 flex items-center justify-center",children:[e.jsx(tr,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"Edit"})]}),e.jsxs("button",{onClick:()=>ge(re.id),className:"text-red-600 hover:text-red-900 flex items-center justify-center mt-1",children:[e.jsx(ns,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"Delete"})]})]})]},re.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"11",className:"px-6 py-8 text-center text-gray-500",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(or,{className:"h-12 w-12 text-gray-300 mb-2"}),e.jsx("p",{className:"text-lg font-medium",children:"No deductions found"}),e.jsx("p",{className:"text-sm",children:"Try adjusting your search or filter to find what you're looking for"})]})})})})]})})]}),(_||A)&&e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-opacity-30 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white z-10",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[e.jsx(Qs,{className:"w-5 h-5 mr-2 text-orange-500"}),A?"Edit Deduction":"Create New Deduction"]}),e.jsx("button",{onClick:()=>{k(!1),R(!1)},className:"text-gray-500 hover:text-gray-700 focus:outline-none",children:e.jsx(zt,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:A?J:q,className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Company ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),e.jsxs("select",{name:"company_id",value:y.company_id,onChange:U,required:!0,className:"w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white",children:[e.jsx("option",{value:"",children:"Select Company"}),o.map(re=>e.jsx("option",{value:re.id,children:re.name},re.id))]}),X.company_id&&e.jsx("div",{className:"text-red-500 text-xs mt-1",children:X.company_id})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Department"}),e.jsxs("div",{className:"relative",children:[e.jsx(Uh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),e.jsxs("select",{name:"department_id",value:y.department_id,onChange:U,disabled:!y.company_id||h,className:`w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white ${!y.company_id||h?"bg-gray-100 cursor-not-allowed":""}`,children:[e.jsx("option",{value:"",children:"Select Department"}),d.map(re=>e.jsx("option",{value:re.id,children:re.name},re.id))]}),h&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"})}),X.department_id&&e.jsx("div",{className:"text-red-500 text-xs mt-1",children:X.department_id})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Deduction Code"," ",!A&&e.jsx("span",{className:"text-red-500",children:"*"})]}),A?e.jsx("div",{className:"w-full px-3 py-2.5 bg-gray-100 border border-gray-300 rounded-lg text-gray-700",children:y.deduction_code}):e.jsx("input",{name:"deduction_code",value:y.deduction_code,onChange:U,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"e.g., D001, EPF"}),!A&&X.deduction_code&&e.jsx("div",{className:"text-red-500 text-xs mt-1",children:X.deduction_code})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Deduction Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"deduction_name",value:y.deduction_name,onChange:U,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"e.g., Health Insurance"}),X.deduction_name&&e.jsx("div",{className:"text-red-500 text-xs mt-1",children:X.deduction_name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),e.jsx("textarea",{name:"description",value:y.description||"",onChange:U,className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter deduction description",rows:"3"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Deduction Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:"fixed",name:"deduction_type",value:"fixed",checked:y.deduction_type==="fixed",onChange:U,className:"w-4 h-4 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"fixed",className:"ml-2 text-sm font-medium text-gray-700",children:"Fixed"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:"variable",name:"deduction_type",value:"variable",checked:y.deduction_type==="variable",onChange:U,className:"w-4 h-4 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"variable",className:"ml-2 text-sm font-medium text-gray-700",children:"Variable"})]})]}),X.deduction_type&&e.jsx("div",{className:"text-red-500 text-xs mt-1",children:X.deduction_type})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Start Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",name:"startDate",value:y.startDate||"",onChange:U,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"}),X.startDate&&e.jsx("div",{className:"text-red-500 text-xs mt-1",children:X.startDate})]}),y.deduction_type==="variable"&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["End Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",name:"endDate",value:y.endDate||"",onChange:U,required:y.deduction_type==="variable",className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"}),X.endDate&&e.jsx("div",{className:"text-red-500 text-xs mt-1",children:X.endDate})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-gray-200 bg-white",children:[e.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer",style:{backgroundColor:y.status==="active"?"#3b82f6":"#e5e7eb"},onClick:O,children:e.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${y.status==="active"?"translate-x-6":"translate-x-1"}`})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:y.status==="active"?"Active":"Inactive"})]})]})]}),I&&e.jsx("div",{className:"text-red-600 text-sm mt-2",children:I}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-4 border-t pt-4",children:[e.jsxs("button",{type:"button",onClick:()=>{k(!1),R(!1)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 flex items-center space-x-2",disabled:G,children:[e.jsx(zt,{className:"w-4 h-4"}),e.jsx("span",{children:"Cancel"})]}),e.jsx("button",{type:"submit",disabled:G,className:`px-6 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 flex items-center space-x-2 ${G?"opacity-70 cursor-not-allowed":""}`,children:G?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e.jsx("span",{children:"Saving..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(D0,{className:"w-4 h-4"}),e.jsxs("span",{children:[A?"Update":"Save"," Deduction"]})]})})]})]})]})}),E&&e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-opacity-30 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md p-6",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(ns,{className:"w-12 h-12 text-red-500 mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Confirm Deletion"}),e.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Are you sure you want to delete this deduction? This action cannot be undone."}),e.jsxs("div",{className:"flex justify-center space-x-4 w-full",children:[e.jsx("button",{onClick:()=>D(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 flex-1 max-w-[150px]",children:"Cancel"}),e.jsx("button",{onClick:Q,className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex-1 max-w-[150px]",children:"Delete"})]})]})})})]})},Hf={getAllShifts:async()=>{try{return(await Ze.get("/shifts")).data.data}catch(t){throw console.error("Error fetching shifts:",t),t}},createShift:async t=>{try{return(await Ze.post("/shifts",{shift_code:t.code,shift_description:t.description,start_time:t.startTime,end_time:t.endTime,midnight_roster:t.midnightRoster})).data.data}catch(s){throw console.error("Error creating shift:",s),s}},updateShift:async(t,s)=>{try{return(await Ze.put(`/shifts/${t}`,{shift_code:s.code,shift_description:s.description,start_time:s.startTime,end_time:s.endTime,midnight_roster:s.midnightRoster})).data.data}catch(r){throw console.error("Error updating shift:",r),r}},deleteShift:async t=>{try{return await Ze.delete(`/shifts/${t}`),!0}catch(s){throw console.error("Error deleting shift:",s),s}}},IH=({open:t,onClose:s,onSave:r,initialData:a={},isEdit:n=!1,errors:i={}})=>{const[o,l]=N.useState({code:"",description:"",startTime:"",endTime:"",midnightRoster:!1,...a});An.useEffect(()=>{l({...o,...a})},[a,t]);const d=u=>{u.preventDefault(),r(o)};return t?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl relative max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:n?"Edit Shift":"Add New Shift"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n?"Update shift details":"Create a new shift schedule"})]}),e.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200",onClick:s,children:e.jsx(zt,{className:"w-5 h-5 text-gray-400"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Basic Information"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Shift Code *"}),e.jsx("input",{required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 disabled:bg-gray-50 disabled:text-gray-500",placeholder:"Enter shift code",value:o.code,disabled:n,onChange:u=>l({...o,code:u.target.value})}),i.shift_code&&e.jsx("div",{className:"text-xs text-red-600 mt-1",children:i.shift_code[0]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Description *"}),e.jsx("input",{required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter shift description",value:o.description,onChange:u=>l({...o,description:u.target.value})}),i.shift_description&&e.jsx("div",{className:"text-xs text-red-600 mt-1",children:i.shift_description[0]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Time Settings"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Start Time *"}),e.jsx("input",{required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",type:"time",value:o.startTime,onChange:u=>l({...o,startTime:u.target.value})}),i.start_time&&e.jsx("div",{className:"text-xs text-red-600 mt-1",children:i.start_time[0]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"End Time *"}),e.jsx("input",{required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",type:"time",value:o.endTime,onChange:u=>l({...o,endTime:u.target.value})}),i.end_time&&e.jsx("div",{className:"text-xs text-red-600 mt-1",children:i.end_time[0]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-100",children:[e.jsx("button",{type:"button",className:"px-6 py-3 rounded-lg bg-gray-100 text-gray-700 font-medium hover:bg-gray-200 transition-colors duration-200",onClick:s,children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-3 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 transition-colors duration-200 shadow-lg hover:shadow-xl",onClick:d,children:n?"Update Shift":"Create Shift"})]})]})]})}):null},BH=({open:t,onClose:s,onConfirm:r,shift:a})=>t?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-sm relative",children:[e.jsx("button",{className:"absolute top-3 right-3 text-gray-400 hover:text-gray-700",onClick:s,children:e.jsx(zt,{})}),e.jsxs("h2",{className:"text-lg font-bold mb-2 text-red-600 flex items-center gap-2",children:[e.jsx(ns,{className:"w-5 h-5"})," Delete Shift"]}),e.jsxs("p",{className:"mb-4",children:["Are you sure you want to delete shift"," ",e.jsx("span",{className:"font-bold",children:a==null?void 0:a.code})," -"," ",e.jsx("span",{children:a==null?void 0:a.description}),"?"]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{className:"px-4 py-2 rounded bg-gray-100 text-gray-700",onClick:s,children:"Cancel"}),e.jsx("button",{className:"px-4 py-2 rounded bg-red-600 text-white font-semibold",onClick:r,children:"Delete"})]})]})}):null,zH=()=>{const[t,s]=N.useState(""),[r,a]=N.useState(new Set),[n,i]=N.useState("all"),[o,l]=N.useState([]),[d,u]=N.useState(!0),[h,f]=N.useState(!1),[p,g]=N.useState(null),[v,y]=N.useState(!1),[b,_]=N.useState(null),[k,A]=N.useState({});N.useEffect(()=>{R()},[]);const R=async()=>{try{u(!0);const w=await Hf.getAllShifts();l(w.map(E=>({code:E.shift_code,description:E.shift_description,startTime:E.start_time,endTime:E.end_time,midnightRoster:E.midnight_roster,id:E.id})))}catch(w){console.error("Failed to fetch shifts:",w)}finally{u(!1)}},F=async w=>{var E,D,G,K;try{await Hf.createShift(w),await R(),f(!1),A({}),Me.fire({icon:"success",title:"Shift Created",text:"The shift was created successfully!",timer:2e3,showConfirmButton:!1})}catch(X){(D=(E=X.response)==null?void 0:E.data)!=null&&D.errors?A(X.response.data.errors):Me.fire({icon:"error",title:"Error",text:((K=(G=X==null?void 0:X.response)==null?void 0:G.data)==null?void 0:K.message)||"Failed to create shift."})}},V=async w=>{var E,D,G,K;try{await Hf.updateShift(w.id,w),await R(),g(null),f(!1),A({}),Me.fire({icon:"success",title:"Shift Updated",text:"The shift was updated successfully!",timer:2e3,showConfirmButton:!1})}catch(X){(D=(E=X.response)==null?void 0:E.data)!=null&&D.errors?A(X.response.data.errors):Me.fire({icon:"error",title:"Error",text:((K=(G=X==null?void 0:X.response)==null?void 0:G.data)==null?void 0:K.message)||"Failed to update shift."})}},S=async()=>{var w,E;try{await Hf.deleteShift(b.id),await R(),y(!1),_(null),a(D=>{const G=new Set(D);return G.delete(b.code),G}),Me.fire({icon:"success",title:"Shift Deleted",text:"The shift was deleted successfully!",timer:2e3,showConfirmButton:!1})}catch(D){Me.fire({icon:"error",title:"Error",text:((E=(w=D==null?void 0:D.response)==null?void 0:w.data)==null?void 0:E.message)||"Failed to delete shift."})}},L=o.filter(w=>{const E=w.code.toLowerCase().includes(t.toLowerCase())||w.description.toLowerCase().includes(t.toLowerCase());return n==="all"?E:n==="weekday"?E&&w.description.includes("WD"):n==="weekend"?E&&w.description.includes("WE"):n==="night"?E&&(w.description.includes("Night")||w.midnightRoster):n==="security"?E&&w.department==="Security":n==="production"?E&&w.department==="Production":E}),I=w=>w.slice(0,5),B=(w,E)=>{const D=new Date(`2000-01-01 ${w}`);let G=new Date(`2000-01-01 ${E}`);G<=D&&G.setDate(G.getDate()+1);const K=G-D,X=Math.floor(K/(1e3*60*60)),se=Math.floor(K%(1e3*60*60)/(1e3*60));return`${X}h ${se>0?se+"m":""}`.trim()},T={total:o.length,weekday:o.filter(w=>w.description.includes("WD")).length,weekend:o.filter(w=>w.description.includes("WE")).length,night:o.filter(w=>w.description.includes("Night")||w.midnightRoster).length};return d?e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx(Ps,{className:"w-8 h-8 animate-spin text-blue-600"})}):e.jsxs(e.Fragment,{children:[e.jsx(IH,{open:h,onClose:()=>{f(!1),g(null),A({})},onSave:p?V:F,initialData:p||{},isEdit:!!p,errors:k}),e.jsx(BH,{open:v,onClose:()=>y(!1),onConfirm:S,shift:b}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl",children:e.jsx(ys,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent",children:"Shift Schedule Manager"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and optimize employee work schedules"})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:e.jsx("div",{className:"bg-white rounded-lg p-4 border-l-4 border-blue-500 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Shifts"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:T.total})]}),e.jsx(ta,{className:"w-8 h-8 text-blue-500"})]})})})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search shifts, codes, or departments...",value:t,onChange:w=>s(w.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-gray-50 focus:bg-white"})]}),e.jsxs("button",{onClick:()=>{g(null),f(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[e.jsx(bs,{className:"w-4 h-4"})," Add Shift"]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Code"}),e.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Shift Details"}),e.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Schedule"}),e.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:L.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-4 py-6 text-center text-gray-500",children:"No shifts found matching your criteria"})}):L.map((w,E)=>e.jsxs("tr",{className:`hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 transition-all duration-200 ${E%2===0?"bg-white":"bg-gray-50/30"}`,children:[e.jsx("td",{className:"px-4 py-4",children:e.jsx("div",{className:"font-mono text-sm font-bold text-white bg-gradient-to-r from-gray-700 to-gray-800 px-3 py-2 rounded-lg shadow-sm",children:w.code})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:w.description})}),e.jsx("div",{className:"flex items-center gap-4 text-xs text-gray-600",children:e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("span",{className:"font-medium",children:w.department})})})]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ns,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm font-mono font-semibold text-gray-900",children:I(w.startTime)})]}),e.jsx("span",{className:"text-gray-400",children:""}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ns,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"text-sm font-mono font-semibold text-gray-900",children:I(w.endTime)})]})]}),e.jsx("div",{className:"text-xs text-gray-600",children:e.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full font-medium",children:B(w.startTime,w.endTime)})})]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"p-1 rounded hover:bg-blue-100",title:"Edit",onClick:()=>{g(w),f(!0)},children:e.jsx(Gc,{className:"w-4 h-4 text-blue-600"})}),e.jsx("button",{className:"p-1 rounded hover:bg-red-100",title:"Delete",onClick:()=>{_(w),y(!0)},children:e.jsx(ns,{className:"w-4 h-4 text-red-600"})})]})})]},w.code))})]})})}),e.jsx("div",{className:"mt-6 bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsxs("span",{children:["Showing"," ",e.jsx("span",{className:"font-semibold text-gray-900",children:L.length})," ","of"," ",e.jsx("span",{className:"font-semibold text-gray-900",children:o.length})," ","shifts"]}),n!=="all"&&e.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:["Filtered by: ",n]})]}),r.size>0&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-semibold text-blue-600",children:r.size})," ","shifts selected"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1.5 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Export Selected"}),e.jsx("button",{onClick:()=>a(new Set),className:"px-3 py-1.5 bg-gray-100 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-200 transition-colors",children:"Clear Selection"})]})]})]})})]})},$H=async()=>{try{return(await Ze.get("/allowances")).data.data}catch(t){throw console.error("Error fetching allowances:",t),t}},UH=async t=>{var s,r;try{return(await Ze.post("/allowances",t)).data.data}catch(a){throw console.error("Error creating allowance:",a),((r=(s=a.response)==null?void 0:s.data)==null?void 0:r.errors)||a.message}},VH=async(t,s)=>{var r,a;try{return(await Ze.put(`/allowances/${t}`,s)).data.data}catch(n){throw console.error("Error updating allowance:",n),((a=(r=n.response)==null?void 0:r.data)==null?void 0:a.errors)||n.message}},qH=async t=>{try{await Ze.delete(`/allowances/${t}`)}catch(s){throw console.error("Error deleting allowance:",s),s}},HH=async(t,s)=>{try{return(await Ze.get("/allowance/by-company-or-department",{params:{companyId:t,departmentId:s}})).data.data}catch(r){throw console.error("Error fetching allowances by company or department:",r),r}},WH=async()=>{try{return await Ze.get("/allowances/template/download",{responseType:"blob"})}catch(t){throw console.error("Error downloading template:",t),t}},GH=async t=>{var s;try{const r=new FormData;return r.append("file",t),(await Ze.post("/allowances/import",r,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(r){throw console.error("Error importing allowances:",r),((s=r.response)==null?void 0:s.data)||r.message}},Ju={getAllAllowances:$H,createAllowance:UH,updateAllowance:VH,deleteAllowance:qH,getAllowancesByCompanyOrDepartment:HH,downloadTemplate:WH,importAllowances:GH},YH=()=>{const[t,s]=N.useState([]),[r,a]=N.useState([]),[n,i]=N.useState([]),[o,l]=N.useState("all"),[d,u]=N.useState([]),[h,f]=N.useState(!0),[p,g]=N.useState(null),[v,y]=N.useState(!1),[b,_]=N.useState(!1),[k,A]=N.useState(!1),[R,F]=N.useState(!1),[V,S]=N.useState(""),[L,I]=N.useState(null),[B,T]=N.useState(!1),[w,E]=N.useState(null),[D,G]=N.useState([]),[K,X]=N.useState(!1),se=()=>{const Pe=new Date,Ae=Pe.getFullYear(),We=String(Pe.getMonth()+1).padStart(2,"0"),Xe=String(Pe.getDate()).padStart(2,"0");return`${Ae}-${We}-${Xe}`},[Z,ee]=N.useState({id:null,allowance_code:"",allowance_name:"",company_id:"",amount:"",department_id:"",status:"active",allowance_type:"fixed",fixed_date:"",variable_from:"",variable_to:""}),[ce,U]=N.useState({allowance_code:"",allowance_name:"",company_id:"",department_id:"",amount:"",status:"active",allowance_type:"fixed",fixed_date:se(),variable_from:"",variable_to:""}),[O,z]=N.useState({add:{},edit:{}}),q=["active","inactive"],te=["fixed","variable"],ge=Pe=>{if(!Pe)return"";const Ae=new Date(Pe),We=Ae.getFullYear(),Xe=String(Ae.getMonth()+1).padStart(2,"0"),st=String(Ae.getDate()).padStart(2,"0");return`${We}-${Xe}-${st}`},Q=Pe=>{Me.fire({title:"Success!",text:Pe,icon:"success",confirmButtonText:"OK",customClass:{confirmButton:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg"}})},ue=Pe=>{Me.fire({title:"Error!",text:Pe,icon:"error",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg"}})};N.useEffect(()=>{ie(),se()},[]);const ie=async()=>{try{f(!0);const[Pe,Ae,We]=await Promise.all([Ju.getAllAllowances(),Qd(),ix()]);if(u(Pe),s(Ae),a(We),Ae.length>0&&!ce.company_id){U(st=>({...st,company_id:Ae[0].id,department_id:""}));const Xe=We.filter(st=>st.company_id===Ae[0].id);i(Xe)}o!=="all"&&!Ae.some(Xe=>Xe.id==o)&&l("all")}catch(Pe){console.error("Fetch error:",Pe),g(Pe.message||"Failed to fetch data"),ue(Pe.message||"Failed to fetch data")}finally{f(!1)}};N.useEffect(()=>{if(ce.company_id){const Pe=r.filter(Ae=>Ae.company_id==ce.company_id);i(Pe),ce.department_id&&!Pe.some(Ae=>Ae.id==ce.department_id)&&U(Ae=>({...Ae,department_id:""}))}},[ce.company_id,r]),N.useEffect(()=>{if(Z.company_id){const Pe=r.filter(Ae=>Ae.company_id==Z.company_id);Z.department_id&&!Pe.some(Ae=>Ae.id==Z.department_id)&&ee(Ae=>({...Ae,department_id:""}))}},[Z.company_id,r]);const oe=d.filter(Pe=>{const Ae=o==="all"||Pe.company_id==o,We=Pe.allowance_name.toLowerCase().includes(V.toLowerCase())||Pe.allowance_code.toLowerCase().includes(V.toLowerCase());return Ae&&We}),J=async()=>{X(!0);try{const Pe=await Ju.downloadTemplate(),Ae=window.URL.createObjectURL(new Blob([Pe.data])),We=document.createElement("a");We.href=Ae,We.setAttribute("download","allowances_template.xlsx"),document.body.appendChild(We),We.click(),We.parentNode.removeChild(We),Q("Template downloaded successfully!")}catch(Pe){ue(Pe.message||"Failed to download template")}finally{X(!1)}},re=Pe=>{E(Pe.target.files[0]),G([])},ve=async()=>{if(!w){ue("Please select a file to import");return}T(!0),G([]);try{const Pe=await Ju.importAllowances(w);Q(Pe.message||"Allowances imported successfully!"),F(!1),E(null),ie()}catch(Pe){console.error("Import error:",Pe);let Ae="There were errors in your import file:",We=[];if(Pe.message.includes("Row")){const Xe=Pe.message.split(`
`);We=Xe,Ae+=`

`+Xe.map(st=>` ${st}`).join(`
`)}else We=[Pe.message],Ae+=`

 ${Pe.message}`;G(We),ue(Ae)}finally{T(!1)}},pe=async()=>{var Pe,Ae,We;T(!0),z({...O,add:{}});try{const Xe={};if(ce.allowance_code.trim()||(Xe.allowance_code=["Allowance code is required"]),ce.allowance_name.trim()||(Xe.allowance_name=["Allowance name is required"]),ce.company_id||(Xe.company_id=["Company is required"]),ce.allowance_type==="fixed"?ce.fixed_date||(Xe.fixed_date=["Fixed date is required"]):(ce.variable_from||(Xe.variable_from=["Start date is required"]),ce.variable_to||(Xe.variable_to=["End date is required"]),ce.variable_from&&ce.variable_to&&new Date(ce.variable_from)>new Date(ce.variable_to)&&(Xe.variable_to=["End date must be after start date"])),Object.keys(Xe).length>0){z({...O,add:Xe});return}const st=await Ju.createAllowance(ce),ke=t.find(nt=>nt.id==ce.company_id),ct=r.find(nt=>nt.id==ce.department_id);u(nt=>[...nt,{...st,company:ke?{id:ke.id,name:ke.name}:null,department:ct?{id:ct.id,name:ct.name}:null}]),U({allowance_code:"",allowance_name:"",company_id:((Pe=t[0])==null?void 0:Pe.id)||"",department_id:"",status:"active",allowance_type:"fixed",amount:"",fixed_date:se(),variable_from:"",variable_to:""}),y(!1),Q("Allowance created successfully!")}catch(Xe){console.error("Add error:",Xe),(We=(Ae=Xe.response)==null?void 0:Ae.data)!=null&&We.errors?z({...O,add:Xe.response.data.errors}):ue(Xe.message||"Failed to create allowance")}finally{T(!1)}},ae=async()=>{var Pe,Ae;T(!0),z({...O,edit:{}});try{const We={};if(Z.allowance_code.trim()||(We.allowance_code=["Allowance code is required"]),Z.allowance_name.trim()||(We.allowance_name=["Allowance name is required"]),Z.company_id||(We.company_id=["Company is required"]),Z.allowance_type==="fixed"?Z.fixed_date||(We.fixed_date=["Fixed date is required"]):(Z.variable_from||(We.variable_from=["Start date is required"]),Z.variable_to||(We.variable_to=["End date is required"]),Z.variable_from&&Z.variable_to&&new Date(Z.variable_from)>new Date(Z.variable_to)&&(We.variable_to=["End date must be after start date"])),Object.keys(We).length>0){z({...O,edit:We});return}const Xe=t.find(ct=>ct.id==Z.company_id),st=r.find(ct=>ct.id==Z.department_id),ke=await Ju.updateAllowance(Z.id,Z);u(ct=>ct.map(nt=>nt.id===Z.id?{...ke,company:Xe?{id:Xe.id,name:Xe.name}:null,department:st?{id:st.id,name:st.name}:null}:nt)),_(!1),Q("Allowance updated successfully!")}catch(We){console.error("Update error:",We),(Ae=(Pe=We.response)==null?void 0:Pe.data)!=null&&Ae.errors?z({...O,edit:We.response.data.errors}):ue(We.message||"Failed to update allowance")}finally{T(!1)}},he=async()=>{T(!0);try{await Ju.deleteAllowance(L.id),u(Pe=>Pe.filter(Ae=>Ae.id!==L.id)),A(!1),Q("Allowance deleted successfully!")}catch(Pe){ue(Pe.message||"Failed to delete allowance")}finally{T(!1)}},Te=Pe=>{const Ae={...Pe,department_id:Pe.department_id||"",fixed_date:ge(Pe.fixed_date),variable_from:ge(Pe.variable_from),variable_to:ge(Pe.variable_to)};ee(Ae),_(!0)},Ie=Pe=>{I(Pe),A(!0)},Be=(Pe,Ae)=>{U(We=>({...We,[Pe]:Ae}))},Le=(Pe,Ae)=>{ee(We=>({...We,[Pe]:Ae}))},Ee=()=>{var Pe;y(!1),U({allowance_code:"",allowance_name:"",company_id:((Pe=t[0])==null?void 0:Pe.id)||"",department_id:"",amount:"",status:"active",allowance_type:"fixed",fixed_date:se(),variable_from:"",variable_to:""}),z({...O,add:{}})},Ve=()=>{var Pe;_(!1),ee({id:null,allowance_code:"",allowance_name:"",amount:"",company_id:((Pe=t[0])==null?void 0:Pe.id)||"",department_id:"",status:"active",allowance_type:"fixed",fixed_date:se(),variable_from:"",variable_to:""}),z({...O,edit:{}})},mt=()=>{A(!1),I(null)},gt=Pe=>Pe==="active"?"bg-green-100 text-green-800 border-green-200":"bg-gray-100 text-gray-600 border-gray-200";return h?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx(Ps,{className:"animate-spin h-12 w-12 text-blue-500"})}):p?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[e.jsx("strong",{children:"Error: "})," ",p]})}):e.jsxs("div",{className:"p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:e.jsx(xs,{className:"w-6 h-6 text-white"})}),"Allowance Management"]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and organize employee allowances"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("button",{onClick:()=>y(!0),className:"flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[e.jsx(bs,{size:20}),e.jsx("span",{className:"font-medium",children:"Add New Allowance"})]}),e.jsxs("button",{onClick:()=>F(!0),className:"flex items-center justify-center gap-2 bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-xl hover:from-green-700 hover:to-green-800 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[e.jsx(hl,{size:20}),e.jsx("span",{className:"font-medium",children:"Import Allowances"})]}),e.jsx("button",{onClick:J,disabled:K,className:"flex items-center justify-center gap-2 bg-gradient-to-r from-purple-600 to-purple-700 text-white px-6 py-3 rounded-xl hover:from-purple-700 hover:to-purple-800 disabled:from-gray-300 disabled:to-gray-300 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:K?e.jsxs(e.Fragment,{children:[e.jsx(Ps,{className:"animate-spin h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Downloading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Mn,{size:20}),e.jsx("span",{className:"font-medium",children:"Export Allowance Template"})]})})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Allowances"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.length})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:e.jsx(xs,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:d.filter(Pe=>Pe.status==="active").length})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:e.jsx(ta,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Inactive"}),e.jsx("p",{className:"text-2xl font-bold text-gray-500",children:d.filter(Pe=>Pe.status==="inactive").length})]}),e.jsx("div",{className:"p-3 bg-gray-100 rounded-xl",children:e.jsx(N1,{className:"w-6 h-6 text-gray-500"})})]})}),e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Allowance Types"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:te.length})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:e.jsx(xs,{className:"w-6 h-6 text-purple-600"})})]})})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 mb-8",children:e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search allowances by name or code...",value:V,onChange:Pe=>S(Pe.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})})})}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Company"}),e.jsxs("select",{value:o,onChange:Pe=>l(Pe.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Companies"}),t.map(Pe=>e.jsx("option",{value:Pe.id,children:Pe.name},Pe.id))]})]})}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700",children:"Code"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700",children:"Allowance Name"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700 hidden lg:table-cell",children:"Company"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700 hidden lg:table-cell",children:"Department"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700 hidden sm:table-cell",children:"Amount"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700 hidden lg:table-cell",children:"Type"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700 hidden sm:table-cell",children:"Fixed Date"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700 hidden sm:table-cell",children:"Start Date"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700 hidden sm:table-cell",children:"End Date"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700 hidden lg:table-cell",children:"Status"}),e.jsx("th",{className:"text-right py-4 px-6 font-semibold text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:oe.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"11",className:"text-center py-12",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full",children:e.jsx(or,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"No allowances found"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Try adjusting your search criteria"})]})})}):oe.map(Pe=>{var Ae,We;return e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"py-4 px-6",children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("div",{className:"w-20 h-20  rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-bold text-sm",children:Pe.allowance_code})})})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"font-medium text-gray-900",children:Pe.allowance_name})})}),e.jsx("td",{className:"py-4 px-6 hidden sm:table-cell",children:((Ae=Pe.company)==null?void 0:Ae.name)||"Unknown Company"}),e.jsx("td",{className:"py-4 px-6 hidden lg:table-cell",children:((We=Pe.department)==null?void 0:We.name)||""}),e.jsxs("td",{className:"py-4 px-6 hidden lg:table-cell",children:["LKR ",parseFloat(Pe.amount).toFixed(2)]}),e.jsx("td",{className:"py-4 px-6 hidden lg:table-cell",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${Pe.allowance_type==="fixed"?"bg-purple-100 text-purple-800 border-purple-200":"bg-orange-100 text-orange-800 border-orange-200"}`,children:Pe.allowance_type})}),e.jsx("td",{className:"py-4 px-6 hidden sm:table-cell",children:Pe.allowance_type==="fixed"?ge(Pe.fixed_date):"-"}),e.jsx("td",{className:"py-4 px-6 hidden sm:table-cell",children:Pe.allowance_type==="variable"?ge(Pe.variable_from):"-"}),e.jsx("td",{className:"py-4 px-6 hidden sm:table-cell",children:Pe.allowance_type==="variable"?ge(Pe.variable_to):"-"}),e.jsx("td",{className:"py-4 px-6 hidden lg:table-cell",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${gt(Pe.status)}`,children:Pe.status.charAt(0).toUpperCase()+Pe.status.slice(1)})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>Te(Pe),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Edit Allowance",children:e.jsx(s9,{size:16})}),e.jsx("button",{onClick:()=>Ie(Pe),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete Allowance",children:e.jsx(ns,{size:16})})]})})]},Pe.id)})})]})})})]}),v&&e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Add New Allowance"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Create a new allowance entry"})]}),e.jsx("button",{onClick:Ee,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:e.jsx(zt,{size:20})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Allowance Code"}),e.jsx("input",{type:"text",value:ce.allowance_code,onChange:Pe=>Be("allowance_code",Pe.target.value),className:`w-full px-4 py-3 border ${O.add.allowance_code?"border-red-500":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter allowance code"}),O.add.allowance_code&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.add.allowance_code[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status *"}),e.jsx("select",{value:ce.status,onChange:Pe=>Be("status",Pe.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:q.map(Pe=>e.jsx("option",{value:Pe,children:Pe.charAt(0).toUpperCase()+Pe.slice(1)},Pe))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Allowance Name *"}),e.jsx("input",{type:"text",value:ce.allowance_name,onChange:Pe=>Be("allowance_name",Pe.target.value),className:`w-full px-4 py-3 border ${O.add.allowance_name?"border-red-500":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter allowance name"}),O.add.allowance_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.add.allowance_name[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Allowance Type *"}),e.jsx("select",{value:ce.allowance_type,onChange:Pe=>Be("allowance_type",Pe.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:te.map(Pe=>e.jsx("option",{value:Pe,children:Pe.charAt(0).toUpperCase()+Pe.slice(1)},Pe))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date Configuration *"}),ce.allowance_type==="fixed"?e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fixed Date"}),e.jsx("input",{type:"date",value:ce.fixed_date,onChange:Pe=>Be("fixed_date",Pe.target.value),className:`w-full px-4 py-3 border ${O.add.fixed_date?"border-red-500":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus-border-transparent transition-all`,required:!0}),O.add.fixed_date&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.add.fixed_date[0]})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),e.jsx("input",{type:"date",value:ce.variable_from,onChange:Pe=>Be("variable_from",Pe.target.value),className:`w-full px-4 py-3 border ${O.add.variable_from?"border-red-500":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus-border-transparent transition-all`,required:!0}),O.add.variable_from&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.add.variable_from[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),e.jsx("input",{type:"date",value:ce.variable_to,onChange:Pe=>Be("variable_to",Pe.target.value),className:`w-full px-4 py-3 border ${O.add.variable_to?"border-red-500":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus-border-transparent transition-all`,required:!0,min:ce.variable_from}),O.add.variable_to&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.add.variable_to[0]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Company *"}),e.jsx("select",{value:ce.company_id,onChange:Pe=>Be("company_id",Pe.target.value),className:`w-full px-4 py-3 border ${O.add.company_id?"border-red-500":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus-border-transparent transition-all`,children:t.map(Pe=>e.jsx("option",{value:Pe.id,children:Pe.name},Pe.id))}),O.add.company_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.add.company_id[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Department"}),e.jsxs("select",{value:ce.department_id,onChange:Pe=>Be("department_id",Pe.target.value),className:`w-full px-4 py-3 border ${O.add.department_id?"border-red-500":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus-border-transparent transition-all`,disabled:!ce.company_id||n.length===0,children:[e.jsx("option",{value:"",children:"None / Select Department"}),n.map(Pe=>e.jsx("option",{value:Pe.id,children:Pe.name},Pe.id))]}),O.add.department_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.add.department_id[0]}),ce.company_id&&n.length===0&&e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No departments available for selected company"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-100 bg-gray-50",children:[e.jsx("button",{onClick:Ee,className:"px-6 py-3 text-gray-600 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 transition-all font-medium",disabled:B,children:"Cancel"}),e.jsx("button",{onClick:pe,disabled:B,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl hover:from-blue-700 hover:to-blue-800 disabled:from-gray-300 disabled:to-gray-300 disabled:cursor-not-allowed transition-all font-medium shadow-lg disabled:shadow-none flex items-center gap-2",children:B?e.jsxs(e.Fragment,{children:[e.jsx(Ps,{className:"animate-spin h-4 w-4"}),"Processing..."]}):"Add Allowance"})]})]})}),b&&e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Allowance"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Modify allowance details"})]}),e.jsx("button",{onClick:Ve,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:e.jsx(zt,{size:20})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Allowance Code"}),e.jsx("div",{className:"w-full px-4 py-3 bg-gray-100 rounded-xl",children:Z.allowance_code})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status *"}),e.jsx("select",{value:Z.status,onChange:Pe=>Le("status",Pe.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus-border-transparent transition-all",children:q.map(Pe=>e.jsx("option",{value:Pe,children:Pe.charAt(0).toUpperCase()+Pe.slice(1)},Pe))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Allowance Name *"}),e.jsx("input",{type:"text",value:Z.allowance_name,onChange:Pe=>Le("allowance_name",Pe.target.value),className:`w-full px-4 py-3 border ${O.edit.allowance_name?"border-red-500":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus-border-transparent transition-all`,placeholder:"Enter allowance name"}),O.edit.allowance_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.edit.allowance_name[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Allowance Type *"}),e.jsx("select",{value:Z.allowance_type,onChange:Pe=>Le("allowance_type",Pe.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus-border-transparent transition-all",children:te.map(Pe=>e.jsx("option",{value:Pe,children:Pe.charAt(0).toUpperCase()+Pe.slice(1)},Pe))}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date Configuration *"}),Z.allowance_type==="fixed"?e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fixed Date"}),e.jsx("input",{type:"date",value:Z.fixed_date||"",onChange:Pe=>Le("fixed_date",Pe.target.value),className:`w-full px-4 py-3 border ${O.edit.fixed_date?"border-red-500":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus-border-transparent transition-all`,required:!0}),O.edit.fixed_date&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.edit.fixed_date[0]})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),e.jsx("input",{type:"date",value:Z.variable_from||"",onChange:Pe=>Le("variable_from",Pe.target.value),className:`w-full px-4 py-3 border ${O.edit.variable_from?"border-red-500":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus-border-transparent transition-all`,required:!0}),O.edit.variable_from&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.edit.variable_from[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),e.jsx("input",{type:"date",value:Z.variable_to||"",onChange:Pe=>Le("variable_to",Pe.target.value),className:`w-full px-4 py-3 border ${O.edit.variable_to?"border-red-500":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus-border-transparent transition-all`,required:!0,min:Z.variable_from}),O.edit.variable_to&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.edit.variable_to[0]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Amount *"}),e.jsx("input",{type:"number",value:Z.amount,onChange:Pe=>Le("amount",Pe.target.value),className:`w-full px-4 py-3 border ${O.edit.amount?"border-red-500":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus-border-transparent transition-all`,placeholder:"Enter allowance amount"}),O.edit.amount&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.edit.amount[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Company *"}),e.jsx("select",{value:Z.company_id,onChange:Pe=>Le("company_id",Pe.target.value),className:`w-full px-4 py-3 border ${O.edit.company_id?"border-red-500":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus-border-transparent transition-all`,children:t.map(Pe=>e.jsx("option",{value:Pe.id,children:Pe.name},Pe.id))}),O.edit.company_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.edit.company_id[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Department"}),e.jsxs("select",{value:Z.department_id,onChange:Pe=>Le("department_id",Pe.target.value),className:`w-full px-4 py-3 border ${O.edit.department_id?"border-red-500":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus-border-transparent transition-all`,children:[e.jsx("option",{value:"",children:"None / Select Department"}),r.map(Pe=>e.jsx("option",{value:Pe.id,children:Pe.name},Pe.id))]}),O.edit.department_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.edit.department_id[0]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-100 bg-gray-50",children:[e.jsx("button",{onClick:Ve,className:"px-6 py-3 text-gray-600 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 transition-all font-medium",disabled:B,children:"Cancel"}),e.jsx("button",{onClick:ae,disabled:B,className:"px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-xl hover:from-green-700 hover:to-green-800 disabled:from-gray-300 disabled:to-gray-300 disabled:cursor-not-allowed transition-all font-medium shadow-lg disabled:shadow-none flex items-center gap-2",children:B?e.jsxs(e.Fragment,{children:[e.jsx(Ps,{className:"animate-spin h-4 w-4"}),"Processing..."]}):"Update Allowance"})]})]})}),k&&L&&e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4",children:e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(ns,{className:"w-8 h-8 text-red-600"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Delete Allowance"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to delete the allowance",e.jsxs("span",{className:"font-semibold text-gray-900",children:[" ",'"',L.allowance_name,'"']}),"? This action cannot be undone."]}),e.jsxs("div",{className:"flex justify-center gap-3",children:[e.jsx("button",{onClick:mt,className:"px-6 py-3 text-gray-600 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 transition-all font-medium",disabled:B,children:"Cancel"}),e.jsx("button",{onClick:he,disabled:B,className:"px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl hover:from-red-700 hover:to-red-800 disabled:from-gray-300 disabled:to-gray-300 transition-all font-medium shadow-lg disabled:shadow-none flex items-center gap-2",children:B?e.jsxs(e.Fragment,{children:[e.jsx(Ps,{className:"animate-spin h-4 w-4"}),"Deleting..."]}):"Delete"})]})]})})}),R&&e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Import Allowances"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Upload an Excel file to import multiple allowances"})]}),e.jsx("button",{onClick:()=>{F(!1),E(null),G([])},className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:e.jsx(zt,{size:20})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center",children:[e.jsx(hl,{className:"w-10 h-10 mx-auto text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-600 mb-3",children:w?w.name:"Drag and drop your Excel file here or click to browse"}),e.jsx("input",{type:"file",id:"file-upload",accept:".xlsx, .xls",onChange:re,className:"hidden"}),e.jsx("label",{htmlFor:"file-upload",className:"inline-flex items-center justify-center px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 cursor-pointer transition-colors",children:"Browse Files"}),e.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Only Excel files (.xlsx, .xls) are accepted"})]}),D.length>0&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-red-700 mb-2",children:"Import Errors:"}),e.jsx("ul",{className:"text-sm text-red-600 list-disc pl-5 space-y-1",children:D.map((Pe,Ae)=>e.jsx("li",{children:Pe},Ae))})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[e.jsx(Mn,{className:"w-4 h-4"}),e.jsx("button",{onClick:J,className:"text-blue-600 hover:text-blue-800 hover:underline",children:"Download template file"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-100 bg-gray-50",children:[e.jsx("button",{onClick:()=>{F(!1),E(null),G([])},className:"px-6 py-3 text-gray-600 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 transition-all font-medium",children:"Cancel"}),e.jsx("button",{onClick:ve,disabled:!w||B,className:"px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-xl hover:from-green-700 hover:to-green-800 disabled:from-gray-300 disabled:to-gray-300 disabled:cursor-not-allowed transition-all font-medium shadow-lg disabled:shadow-none flex items-center gap-2",children:B?e.jsxs(e.Fragment,{children:[e.jsx(Ps,{className:"animate-spin h-4 w-4"}),"Importing..."]}):"Import Allowances"})]})]})})]})},KH="/loans",XH=async t=>{try{return(await Ze.post("/loans",t)).data}catch(s){throw console.error("Error creating loan:",s),s}},QH=async()=>{try{return(await Ze.get(KH)).data}catch(t){return console.error("Error fetching loans:",t),[]}},JH=async t=>{try{return(await Ze.get(`/loans/employee-by-number/${t}`)).data||""}catch(s){return console.error("Error fetching employee name:",s),""}},ZH=()=>{const[t,s]=N.useState(""),[r,a]=N.useState("withInterest"),[n,i]=N.useState(""),[o,l]=N.useState(""),[d,u]=N.useState(""),[h,f]=N.useState(""),[p,g]=N.useState(""),[v,y]=N.useState(""),[b,_]=N.useState([]),[k,A]=N.useState(!1),[R,F]=N.useState(""),[V,S]=N.useState("byAmount"),[L,I]=N.useState(""),B=se=>new Intl.NumberFormat("en-LK",{style:"currency",currency:"LKR",minimumFractionDigits:2,maximumFractionDigits:2}).format(se),T=(se,Z)=>{Me.fire({position:"center",icon:"success",title:se,text:Z,showConfirmButton:!0,confirmButtonColor:"#3085d6",timer:3e3,customClass:{popup:"rounded-xl shadow-2xl",title:"text-2xl font-bold text-gray-800",confirmButton:"px-6 py-2 rounded-lg font-medium"}})},w=(se,Z)=>{Me.fire({position:"center",icon:"error",title:se,text:Z,showConfirmButton:!0,confirmButtonColor:"#d33",customClass:{popup:"rounded-xl shadow-2xl",title:"text-2xl font-bold text-gray-800",confirmButton:"px-6 py-2 rounded-lg font-medium"}})},E=async()=>{var se,Z;try{if(!k||b.length===0){w("Calculation Required","Please calculate the loan before saving");return}const ee={loan_id:t,employee_id:o,loan_amount:parseFloat(h),interest_rate_per_annum:r==="withInterest"?parseFloat(p):0,installment_amount:parseFloat(v),start_from:d,with_interest:r==="withInterest",installment_count:b.length};await XH(ee),T("Loan Saved!","Employee loan has been successfully saved"),D()}catch(ee){console.error("Error saving loan:",ee),w("Save Failed",((Z=(se=ee.response)==null?void 0:se.data)==null?void 0:Z.message)||"Failed to save loan. Please try again.")}},D=()=>{i(""),u(""),f(""),g(""),y(""),_([]),A(!1),I(""),S("byAmount")};N.useEffect(()=>{if(n&&d){const se=new Date(d),Z=`${se.getFullYear()}${String(se.getMonth()+1).padStart(2,"0")}${String(se.getDate()).padStart(2,"0")}`,ee=Math.floor(1e3+Math.random()*9e3);s(`LN-${n}-${Z}-${ee}`)}else s("")},[n,d]),N.useEffect(()=>{(async()=>{if(n){const Z=await JH(n);F(Z.full_name),l(Z.id)}else F(""),l("")})()},[n]);const G=()=>{if(!n||!d||!h||V==="byAmount"&&!v||V==="byCount"&&!L||r==="withInterest"&&!p){w("Missing Information","Please fill all required fields");return}const se=ie=>Math.round((Number(ie)+Number.EPSILON)*100)/100,Z=parseFloat(h),ee=r==="withInterest"?parseFloat(p):0;if(isNaN(Z)||Z<=0){w("Invalid Amount","Please enter a valid loan amount");return}if(r==="withInterest"&&(isNaN(ee)||ee<0)){w("Invalid Rate","Please enter a valid interest rate");return}const ce=se(Z*(ee/100)),U=se(Z+ce);let O,z;if(V==="byCount"){if(O=parseInt(L,10),!O||O<=0){w("Invalid Count","Installment count must be a positive integer");return}const ie=U/O;z=se(ie),y(z.toFixed(2))}else{if(z=parseFloat(v),isNaN(z)||z<=0){w("Invalid Installment","Installment amount must be greater than 0");return}O=Math.ceil(U/z),I(O.toString())}const q=[];let te=Z,ge=0,Q=0;const ue=O>0?ce/O:0;for(let ie=1;ie<=O;ie++){let oe;V==="byCount"?ie<O?oe=se(U/O):oe=se(U-ge):ie<O?oe=se(z):oe=se(U-ge);let J;ie<O?J=se(ue):J=se(ce-Q);let re=se(oe-J);re<0&&(J=oe,re=0),te=se(te-re),te<.01&&(te=0),q.push({no:ie,dueDate:K(d,ie),days:30,capitalOutstanding:te,capitalRepayment:re,interestPayment:J,installmentAmount:oe,dueBalance:te}),ge=se(ge+oe),Q=se(Q+J)}_(q),A(!0),Me.fire({position:"center",icon:"success",title:"Loan Calculated",showConfirmButton:!1,timer:1500})},K=(se,Z)=>{if(!se)return"N/A";const ee=new Date(se);return ee.setMonth(ee.getMonth()+Z),ee.toLocaleDateString("en-LK",{year:"numeric",month:"short",day:"numeric"})},X=se=>{Me.fire({title:`<span class="text-xl font-bold text-blue-600">Installment #${se.no}</span>`,html:`
        <div class="text-left space-y-3">
          <div class="flex justify-between border-b pb-2">
            <span class="font-semibold text-gray-700">Due Date:</span>
            <span class="font-medium">${se.dueDate}</span>
          </div>
          <div class="flex justify-between border-b pb-2">
            <span class="font-semibold text-gray-700">Capital Outstanding:</span>
            <span class="font-mono font-bold">${B(se.capitalOutstanding)}</span>
          </div>
          <div class="flex justify-between border-b pb-2">
            <span class="font-semibold text-gray-700">Capital Repayment:</span>
            <span class="font-mono text-green-600">${B(se.capitalRepayment)}</span>
          </div>
          <div class="flex justify-between border-b pb-2">
            <span class="font-semibold text-gray-700">Interest Payment:</span>
            <span class="font-mono text-purple-600">${B(se.interestPayment)}</span>
          </div>
          <div class="flex justify-between border-b pb-2">
            <span class="font-semibold text-gray-700">Total Installment:</span>
            <span class="font-mono font-bold text-blue-600">${B(se.installmentAmount)}</span>
          </div>
          <div class="flex justify-between">
            <span class="font-semibold text-gray-700">Remaining Balance:</span>
            <span class="font-mono">${B(se.dueBalance)}</span>
          </div>
        </div>
      `,showConfirmButton:!0,confirmButtonText:"Close",confirmButtonColor:"#3085d6",customClass:{popup:"rounded-xl shadow-2xl",title:"mb-4",confirmButton:"px-6 py-2 rounded-lg font-medium mt-4"},background:"#f9fafb",width:"500px"})};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"container mx-auto p-4 max-w-6xl",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-gray-100",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800 text-center border-b border-gray-200 pb-4",children:"Employee Wise Loan Calculator"}),e.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg shadow-sm",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 text-blue-800 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),"Loan Information"]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Loan ID"}),e.jsx("input",{type:"text",className:"w-full p-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 hover:border-gray-400",value:t,readOnly:!0,placeholder:"Auto-generated Loan ID"})]})})]}),e.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg shadow-sm",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 text-green-800 flex items-center",children:[e.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z",clipRule:"evenodd"})]}),"Interest Type"]}),e.jsxs("div",{className:"flex space-x-6",children:[e.jsxs("label",{className:"inline-flex items-center cursor-pointer group",children:[e.jsx("input",{type:"radio",className:"form-radio h-5 w-5 text-blue-600 focus:ring-blue-500 focus:ring-2",checked:r==="withInterest",onChange:()=>a("withInterest")}),e.jsx("span",{className:"ml-3 text-lg font-medium text-gray-700 group-hover:text-blue-600 transition-colors",children:"With Interest"})]}),e.jsxs("label",{className:"inline-flex items-center cursor-pointer group",children:[e.jsx("input",{type:"radio",className:"form-radio h-5 w-5 text-blue-600 focus:ring-blue-500 focus:ring-2",checked:r==="withoutInterest",onChange:()=>a("withoutInterest")}),e.jsx("span",{className:"ml-3 text-lg font-medium text-gray-700 group-hover:text-blue-600 transition-colors",children:"Without Interest"})]})]})]}),e.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-lg shadow-sm",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 text-purple-800 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),"Loan Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Employee Number",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("input",{type:"text",className:"w-full p-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 hover:border-gray-400",value:n,onChange:se=>i(se.target.value),placeholder:"Enter Employee No.",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Employee Name"}),e.jsx("input",{type:"text",className:"w-full p-3 border-2 border-gray-200 rounded-lg bg-gray-100 text-gray-600",value:R,readOnly:!0,placeholder:"Employee name"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Start Date",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("input",{type:"date",className:"w-full p-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 hover:border-gray-400",value:d,onChange:se=>u(se.target.value),required:!0,min:new Date().toISOString().split("T")[0]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Loan Amount (LKR)",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("input",{type:"number",className:"w-full p-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 hover:border-gray-400",value:h,onChange:se=>f(se.target.value),placeholder:"Enter Amount",required:!0,min:"0",step:"0.01"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Interest Rate (%)",r==="withInterest"&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("input",{type:"number",className:`w-full p-3 border-2 rounded-lg transition-all duration-200 ${r==="withoutInterest"?"border-gray-200 bg-gray-100 cursor-not-allowed":"border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 hover:border-gray-400"}`,value:p,onChange:se=>g(se.target.value),placeholder:"Enter Rate",disabled:r==="withoutInterest",required:r==="withInterest",min:"0",max:"100",step:"0.01"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Calculation Type"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"inline-flex items-center",children:[e.jsx("input",{type:"radio",className:"form-radio",value:"byAmount",checked:V==="byAmount",onChange:se=>{S(se.target.value),I(""),y("")}}),e.jsx("span",{className:"ml-2",children:"By Installment Amount"})]}),e.jsxs("label",{className:"inline-flex items-center",children:[e.jsx("input",{type:"radio",className:"form-radio",value:"byCount",checked:V==="byCount",onChange:se=>{S(se.target.value),I(""),y("")}}),e.jsx("span",{className:"ml-2",children:"By Installment Count"})]})]})]}),V==="byAmount"?e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Installment Amount (LKR)",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("input",{type:"number",className:"w-full p-3 border-2 border-gray-300 rounded-lg",value:v,onChange:se=>y(se.target.value),placeholder:"Enter Amount per Installment",required:!0,min:"0",step:"0.01"})]}):e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Number of Installments",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("input",{type:"number",className:"w-full p-3 border-2 border-gray-300 rounded-lg",value:L,onChange:se=>I(se.target.value),placeholder:"Enter Number of Installments",required:!0,min:"1",step:"1"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 mb-8",children:[e.jsxs("button",{className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold rounded-lg hover:from-blue-700 hover:to-blue-800 transform hover:scale-105 transition-all duration-200 shadow-lg focus:outline-none focus:ring-4 focus:ring-blue-300",onClick:G,children:[e.jsx("svg",{className:"w-5 h-5 inline-block mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),"Calculate"]}),e.jsx("button",{className:`px-8 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white font-semibold rounded-lg transform transition-all duration-200 shadow-lg focus:outline-none focus:ring-4 focus:ring-green-300 ${k?"hover:from-green-700 hover:to-green-800 hover:scale-105":"opacity-50 cursor-not-allowed"}`,onClick:E,disabled:!k,children:"Save Loan"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200",children:[e.jsx("div",{className:"bg-gradient-to-r from-gray-800 to-gray-900 px-6 py-4",children:e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center",children:[e.jsx("svg",{className:"w-6 h-6 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5 4a3 3 0 00-3 3v6a3 3 0 003 3h10a3 3 0 003-3V7a3 3 0 00-3-3H5zm-1 9v-1h5v2H5a1 1 0 01-1-1zm0-4h5V8H4v2zm7 8a7 7 0 100-14 7 7 0 000 14zm1-11a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662V13a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 10.766 14 9.991 14 9c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 6.092V5a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Loan Repayment Schedule"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:[e.jsx("th",{className:"py-4 px-6 text-left font-semibold",children:"No"}),e.jsx("th",{className:"py-4 px-6 text-left font-semibold",children:"Due Date"}),e.jsx("th",{className:"py-4 px-6 text-left font-semibold",children:"Days"}),e.jsx("th",{className:"py-4 px-6 text-right font-semibold",children:"Outstanding"}),e.jsx("th",{className:"py-4 px-6 text-right font-semibold",children:"Capital Repayment"}),e.jsx("th",{className:"py-4 px-6 text-right font-semibold",children:"Interest"}),e.jsx("th",{className:"py-4 px-6 text-right font-semibold",children:"Installment"}),e.jsx("th",{className:"py-4 px-6 text-right font-semibold",children:"Balance"}),e.jsx("th",{className:"py-4 px-6 text-center font-semibold",children:"Actions"})]})}),e.jsx("tbody",{children:k&&b.length>0?b.map((se,Z)=>e.jsxs("tr",{className:`transition-colors hover:bg-blue-50 ${Z%2===0?"bg-white":"bg-gray-50"}`,children:[e.jsx("td",{className:"py-4 px-6 border-b border-gray-200",children:e.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-blue-100 text-blue-800 font-bold text-sm",children:se.no})}),e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 font-medium text-gray-700",children:se.dueDate}),e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-center text-gray-600",children:se.days}),e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-right font-mono text-gray-700",children:B(se.capitalOutstanding)}),e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-right font-mono text-gray-700",children:B(se.capitalRepayment)}),e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-right font-mono text-gray-700",children:B(se.interestPayment)}),e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-right font-mono font-bold text-blue-600",children:B(se.installmentAmount)}),e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-right font-mono text-gray-700",children:B(se.dueBalance)}),e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-center",children:e.jsxs("button",{className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 transform hover:scale-105 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-300 text-sm font-medium shadow-md",onClick:()=>X(se),children:[e.jsxs("svg",{className:"w-4 h-4 inline-block mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),e.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),"View"]})})]},Z)):e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"py-16 text-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("svg",{className:"w-16 h-16 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),e.jsxs("div",{className:"text-gray-500",children:[e.jsx("p",{className:"text-lg font-medium mb-1",children:k?"No loan details available":"Ready to Calculate"}),e.jsx("p",{className:"text-sm",children:k?"Please check your input values":"Enter loan details and click Calculate to view schedule"})]})]})})})})]})})]})]})})})},Eo={async fetchEmployeeByNic(t){try{return(await Ze.get(`/employees/by-nic/${t}`)).data}catch(s){return console.error("Error fetching employee by NIC:",s),null}},markAbsentees:async t=>(await Ze.post("/attendance/mark-absentees",{date:t})).data,updateTimeCard:async(t,s)=>{try{return(await Ze.put(`/time-cards/${t}`,s)).data}catch(r){throw console.error("Error updating time card:",r),r}},deleteTimeCard:async t=>{try{return(await Ze.delete(`/time-cards/${t}`)).data}catch(s){throw console.error("Error deleting time card:",s),s}},async searchEmployeeTimeCards(t){return(await Ze.get(`/time-cards/search-employee?q=${encodeURIComponent(t)}`)).data},async importExcel(t){return(await Ze.post("/attendance/import-excel",t,{headers:{"Content-Type":"multipart/form-data"}})).data},async importExcelData(t){var r;if(!t||!t.from_date||!t.to_date)throw new Error("Both From Date and To Date are required for import.");const s=new FormData;if(s.append("from_date",String(t.from_date)),s.append("to_date",String(t.to_date)),t.company_id!==void 0&&t.company_id!==""&&s.append("company_id",String(t.company_id)),t.records&&s.append("records",JSON.stringify(t.records)),t.file){const a=t.file.name||"import.xlsx";s.append("file",t.file,a),s.append("file_type",t.file.type||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"),s.append("file_ext",a.split(".").pop().toLowerCase())}try{return(await Ze.post("/attendance/import-excel",s,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){throw console.error("Excel import error:",((r=a.response)==null?void 0:r.data)||a.message),a}},async fetchCompanies(){return(await Ze.get("/companies")).data},async fetchTodayStats(){return(await Ze.get("/dashboard/stats/today")).data},async fetchAbsentees({date:t,search:s=""}){return(await Ze.get("/attendance/absentees",{params:{date:t,search:s}})).data},downloadTemplate:async()=>{const t="/attendance-template";try{const s=await Ze.get(t,{responseType:"blob"});if(s.status!==200||!s.data)throw new Error("Download failed");const r=new Blob([s.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=document.createElement("a");a.href=window.URL.createObjectURL(r),a.setAttribute("download","attendance_template.xlsx"),document.body.appendChild(a),a.click(),a.remove()}catch(s){throw new Error(s.response&&s.response.status===404?"Template not found (404)":"Download failed")}}};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var eT=1252,eW=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],DN={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},PN=function(t){eW.indexOf(t)!=-1&&(eT=DN[0]=t)};function tW(){PN(1252)}var Kl=function(t){PN(t)};function tT(){Kl(1200),tW()}function i_(t){for(var s=[],r=0,a=t.length;r<a;++r)s[r]=t.charCodeAt(r);return s}function sW(t){for(var s=[],r=0;r<t.length>>1;++r)s[r]=String.fromCharCode(t.charCodeAt(2*r)+(t.charCodeAt(2*r+1)<<8));return s.join("")}function sT(t){for(var s=[],r=0;r<t.length>>1;++r)s[r]=String.fromCharCode(t.charCodeAt(2*r+1)+(t.charCodeAt(2*r)<<8));return s.join("")}var Wf=function(t){var s=t.charCodeAt(0),r=t.charCodeAt(1);return s==255&&r==254?sW(t.slice(2)):s==254&&r==255?sT(t.slice(2)):s==65279?t.slice(1):t},Ly=function(s){return String.fromCharCode(s)},o_=function(s){return String.fromCharCode(s)},Ep,im="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function l_(t){for(var s="",r=0,a=0,n=0,i=0,o=0,l=0,d=0,u=0;u<t.length;)r=t.charCodeAt(u++),i=r>>2,a=t.charCodeAt(u++),o=(r&3)<<4|a>>4,n=t.charCodeAt(u++),l=(a&15)<<2|n>>6,d=n&63,isNaN(a)?l=d=64:isNaN(n)&&(d=64),s+=im.charAt(i)+im.charAt(o)+im.charAt(l)+im.charAt(d);return s}function Ro(t){var s="",r=0,a=0,n=0,i=0,o=0,l=0,d=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<t.length;)i=im.indexOf(t.charAt(u++)),o=im.indexOf(t.charAt(u++)),r=i<<2|o>>4,s+=String.fromCharCode(r),l=im.indexOf(t.charAt(u++)),a=(o&15)<<4|l>>2,l!==64&&(s+=String.fromCharCode(a)),d=im.indexOf(t.charAt(u++)),n=(l&3)<<6|d,d!==64&&(s+=String.fromCharCode(n));return s}var gr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),O0=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(s,r){return r?new Buffer(s,r):new Buffer(s)}:Buffer.from.bind(Buffer)}return function(){}}();function mm(t){return gr?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function c_(t){return gr?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Wl=function(s){return gr?O0(s,"binary"):s.split("").map(function(r){return r.charCodeAt(0)&255})};function I0(t){if(Array.isArray(t))return t.map(function(a){return String.fromCharCode(a)}).join("");for(var s=[],r=0;r<t.length;++r)s[r]=String.fromCharCode(t[r]);return s.join("")}function MN(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return MN(new Uint8Array(t));for(var s=new Array(t.length),r=0;r<t.length;++r)s[r]=t[r];return s}var Zu=gr?function(t){return Buffer.concat(t.map(function(s){return Buffer.isBuffer(s)?s:O0(s)}))}:function(t){if(typeof Uint8Array<"u"){var s=0,r=0;for(s=0;s<t.length;++s)r+=t[s].length;var a=new Uint8Array(r),n=0;for(s=0,r=0;s<t.length;r+=n,++s)if(n=t[s].length,t[s]instanceof Uint8Array)a.set(t[s],r);else{if(typeof t[s]=="string")throw"wtf";a.set(new Uint8Array(t[s]),r)}return a}return[].concat.apply([],t.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function rW(t){for(var s=[],r=0,a=t.length+250,n=mm(t.length+255),i=0;i<t.length;++i){var o=t.charCodeAt(i);if(o<128)n[r++]=o;else if(o<2048)n[r++]=192|o>>6&31,n[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=t.charCodeAt(++i)&1023;n[r++]=240|o>>8&7,n[r++]=128|o>>2&63,n[r++]=128|l>>6&15|(o&3)<<4,n[r++]=128|l&63}else n[r++]=224|o>>12&15,n[r++]=128|o>>6&63,n[r++]=128|o&63;r>a&&(s.push(n.slice(0,r)),r=0,n=mm(65535),a=65530)}return s.push(n.slice(0,r)),Zu(s)}var zi=/\u0000/g,Gf=/[\u0001-\u0006]/g;function Gh(t){for(var s="",r=t.length-1;r>=0;)s+=t.charAt(r--);return s}function Xl(t,s){var r=""+t;return r.length>=s?r:Da("0",s-r.length)+r}function LN(t,s){var r=""+t;return r.length>=s?r:Da(" ",s-r.length)+r}function e1(t,s){var r=""+t;return r.length>=s?r:r+Da(" ",s-r.length)}function aW(t,s){var r=""+Math.round(t);return r.length>=s?r:Da("0",s-r.length)+r}function nW(t,s){var r=""+t;return r.length>=s?r:Da("0",s-r.length)+r}var d_=Math.pow(2,32);function Sh(t,s){if(t>d_||t<-d_)return aW(t,s);var r=Math.round(t);return nW(r,s)}function t1(t,s){return s=s||0,t.length>=7+s&&(t.charCodeAt(s)|32)===103&&(t.charCodeAt(s+1)|32)===101&&(t.charCodeAt(s+2)|32)===110&&(t.charCodeAt(s+3)|32)===101&&(t.charCodeAt(s+4)|32)===114&&(t.charCodeAt(s+5)|32)===97&&(t.charCodeAt(s+6)|32)===108}var u_=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Vv=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function iW(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Ks={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},m_={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},oW={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function s1(t,s,r){for(var a=t<0?-1:1,n=t*a,i=0,o=1,l=0,d=1,u=0,h=0,f=Math.floor(n);u<s&&(f=Math.floor(n),l=f*o+i,h=f*u+d,!(n-f<5e-8));)n=1/(n-f),i=o,o=l,d=u,u=h;if(h>s&&(u>s?(h=d,l=i):(h=u,l=o)),!r)return[0,a*l,h];var p=Math.floor(a*l/h);return[p,a*l-p*h,h]}function d0(t,s,r){if(t>2958465||t<0)return null;var a=t|0,n=Math.floor(86400*(t-a)),i=0,o=[],l={D:a,T:n,u:86400*(t-a)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),s&&s.date1904&&(a+=1462),l.u>.9999&&(l.u=0,++n==86400&&(l.T=n=0,++a,++l.D)),a===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(a===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{a>60&&--a;var d=new Date(1900,0,1);d.setDate(d.getDate()+a-1),o=[d.getFullYear(),d.getMonth()+1,d.getDate()],i=d.getDay(),a<60&&(i=(i+6)%7),r&&(i=hW(d,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=n%60,n=Math.floor(n/60),l.M=n%60,n=Math.floor(n/60),l.H=n,l.q=i,l}var rT=new Date(1899,11,31,0,0,0),lW=rT.getTime(),cW=new Date(1900,2,1,0,0,0);function aT(t,s){var r=t.getTime();return s?r-=1461*24*60*60*1e3:t>=cW&&(r+=24*60*60*1e3),(r-(lW+(t.getTimezoneOffset()-rT.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function FN(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function dW(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function uW(t){var s=t<0?12:11,r=FN(t.toFixed(12));return r.length<=s||(r=t.toPrecision(10),r.length<=s)?r:t.toExponential(5)}function mW(t){var s=FN(t.toFixed(11));return s.length>(t<0?12:11)||s==="0"||s==="-0"?t.toPrecision(6):s}function Tp(t){var s=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return s>=-4&&s<=-1?r=t.toPrecision(10+s):Math.abs(s)<=9?r=uW(t):s===10?r=t.toFixed(10).substr(0,12):r=mW(t),FN(dW(r.toUpperCase()))}function k0(t,s){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Tp(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return pl(14,aT(t,s&&s.date1904),s)}throw new Error("unsupported value in General format: "+t)}function hW(t,s){s[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function xW(t,s,r,a){var n="",i=0,o=0,l=r.y,d,u=0;switch(t){case 98:l=r.y+543;case 121:switch(s.length){case 1:case 2:d=l%100,u=2;break;default:d=l%1e4,u=4;break}break;case 109:switch(s.length){case 1:case 2:d=r.m,u=s.length;break;case 3:return Vv[r.m-1][1];case 5:return Vv[r.m-1][0];default:return Vv[r.m-1][2]}break;case 100:switch(s.length){case 1:case 2:d=r.d,u=s.length;break;case 3:return u_[r.q][0];default:return u_[r.q][1]}break;case 104:switch(s.length){case 1:case 2:d=1+(r.H+11)%12,u=s.length;break;default:throw"bad hour format: "+s}break;case 72:switch(s.length){case 1:case 2:d=r.H,u=s.length;break;default:throw"bad hour format: "+s}break;case 77:switch(s.length){case 1:case 2:d=r.M,u=s.length;break;default:throw"bad minute format: "+s}break;case 115:if(s!="s"&&s!="ss"&&s!=".0"&&s!=".00"&&s!=".000")throw"bad second format: "+s;return r.u===0&&(s=="s"||s=="ss")?Xl(r.S,s.length):(a>=2?o=a===3?1e3:100:o=a===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),s==="s"?i===0?"0":""+i/o:(n=Xl(i,2+a),s==="ss"?n.substr(0,2):"."+n.substr(2,s.length-1)));case 90:switch(s){case"[h]":case"[hh]":d=r.D*24+r.H;break;case"[m]":case"[mm]":d=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":d=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+s}u=s.length===3?1:2;break;case 101:d=l,u=1;break}var h=u>0?Xl(d,u):"";return h}function om(t){var s=3;if(t.length<=s)return t;for(var r=t.length%s,a=t.substr(0,r);r!=t.length;r+=s)a+=(a.length>0?",":"")+t.substr(r,s);return a}var nT=/%/g;function fW(t,s,r){var a=s.replace(nT,""),n=s.length-a.length;return Gd(t,a,r*Math.pow(10,2*n))+Da("%",n)}function pW(t,s,r){for(var a=s.length-1;s.charCodeAt(a-1)===44;)--a;return Gd(t,s.substr(0,a),r/Math.pow(10,3*(s.length-a)))}function iT(t,s){var r,a=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(s==0)return"0.0E+0";if(s<0)return"-"+iT(t,-s);var n=t.indexOf(".");n===-1&&(n=t.indexOf("E"));var i=Math.floor(Math.log(s)*Math.LOG10E)%n;if(i<0&&(i+=n),r=(s/Math.pow(10,i)).toPrecision(a+1+(n+i)%n),r.indexOf("e")===-1){var o=Math.floor(Math.log(s)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,n)+"."+r.substr(2+n),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,d,u,h){return d+u+h.substr(0,(n+i)%n)+"."+h.substr(i)+"E"})}else r=s.toExponential(a);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var oT=/# (\?+)( ?)\/( ?)(\d+)/;function gW(t,s,r){var a=parseInt(t[4],10),n=Math.round(s*a),i=Math.floor(n/a),o=n-i*a,l=a;return r+(i===0?"":""+i)+" "+(o===0?Da(" ",t[1].length+1+t[4].length):LN(o,t[1].length)+t[2]+"/"+t[3]+Xl(l,t[4].length))}function yW(t,s,r){return r+(s===0?"":""+s)+Da(" ",t[1].length+2+t[4].length)}var lT=/^#*0*\.([0#]+)/,cT=/\).*[0#]/,dT=/\(###\) ###\\?-####/;function Fi(t){for(var s="",r,a=0;a!=t.length;++a)switch(r=t.charCodeAt(a)){case 35:break;case 63:s+=" ";break;case 48:s+="0";break;default:s+=String.fromCharCode(r)}return s}function h_(t,s){var r=Math.pow(10,s);return""+Math.round(t*r)/r}function x_(t,s){var r=t-Math.floor(t),a=Math.pow(10,s);return s<(""+Math.round(r*a)).length?0:Math.round(r*a)}function bW(t,s){return s<(""+Math.round((t-Math.floor(t))*Math.pow(10,s))).length?1:0}function vW(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function nl(t,s,r){if(t.charCodeAt(0)===40&&!s.match(cT)){var a=s.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?nl("n",a,r):"("+nl("n",a,-r)+")"}if(s.charCodeAt(s.length-1)===44)return pW(t,s,r);if(s.indexOf("%")!==-1)return fW(t,s,r);if(s.indexOf("E")!==-1)return iT(s,r);if(s.charCodeAt(0)===36)return"$"+nl(t,s.substr(s.charAt(1)==" "?2:1),r);var n,i,o,l,d=Math.abs(r),u=r<0?"-":"";if(s.match(/^00+$/))return u+Sh(d,s.length);if(s.match(/^[#?]+$/))return n=Sh(r,0),n==="0"&&(n=""),n.length>s.length?n:Fi(s.substr(0,s.length-n.length))+n;if(i=s.match(oT))return gW(i,d,u);if(s.match(/^#+0+$/))return u+Sh(d,s.length-s.indexOf("0"));if(i=s.match(lT))return n=h_(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Fi(i[1])).replace(/\.$/,"."+Fi(i[1])).replace(/\.(\d*)$/,function(v,y){return"."+y+Da("0",Fi(i[1]).length-y.length)}),s.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(s=s.replace(/^#+([0.])/,"$1"),i=s.match(/^(0*)\.(#*)$/))return u+h_(d,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=s.match(/^#{1,3},##0(\.?)$/))return u+om(Sh(d,0));if(i=s.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+nl(t,s,-r):om(""+(Math.floor(r)+bW(r,i[1].length)))+"."+Xl(x_(r,i[1].length),i[1].length);if(i=s.match(/^#,#*,#0/))return nl(t,s.replace(/^#,#*,/,""),r);if(i=s.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Gh(nl(t,s.replace(/[\\-]/g,""),r)),o=0,Gh(Gh(s.replace(/\\/g,"")).replace(/[0#]/g,function(v){return o<n.length?n.charAt(o++):v==="0"?"0":""}));if(s.match(dT))return n=nl(t,"##########",r),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var h="";if(i=s.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=s1(d,Math.pow(10,o)-1,!1),n=""+u,h=Gd("n",i[1],l[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),n+=h+i[2]+"/"+i[3],h=e1(l[2],o),h.length<i[4].length&&(h=Fi(i[4].substr(i[4].length-h.length))+h),n+=h,n;if(i=s.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=s1(d,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?LN(l[1],o)+i[2]+"/"+i[3]+e1(l[2],o):Da(" ",2*o+1+i[2].length+i[3].length));if(i=s.match(/^[#0?]+$/))return n=Sh(r,0),s.length<=n.length?n:Fi(s.substr(0,s.length-n.length))+n;if(i=s.match(/^([#0?]+)\.([#0]+)$/)){n=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=n.indexOf(".");var f=s.indexOf(".")-o,p=s.length-n.length-f;return Fi(s.substr(0,f)+n+s.substr(s.length-p))}if(i=s.match(/^00,000\.([#0]*0)$/))return o=x_(r,i[1].length),r<0?"-"+nl(t,s,-r):om(vW(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?Xl(0,3-v.length):"")+v})+"."+Xl(o,i[1].length);switch(s){case"###,##0.00":return nl(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var g=om(Sh(d,0));return g!=="0"?u+g:"";case"###,###.00":return nl(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return nl(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+s+"|")}function wW(t,s,r){for(var a=s.length-1;s.charCodeAt(a-1)===44;)--a;return Gd(t,s.substr(0,a),r/Math.pow(10,3*(s.length-a)))}function jW(t,s,r){var a=s.replace(nT,""),n=s.length-a.length;return Gd(t,a,r*Math.pow(10,2*n))+Da("%",n)}function uT(t,s){var r,a=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(s==0)return"0.0E+0";if(s<0)return"-"+uT(t,-s);var n=t.indexOf(".");n===-1&&(n=t.indexOf("E"));var i=Math.floor(Math.log(s)*Math.LOG10E)%n;if(i<0&&(i+=n),r=(s/Math.pow(10,i)).toPrecision(a+1+(n+i)%n),!r.match(/[Ee]/)){var o=Math.floor(Math.log(s)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,d,u,h){return d+u+h.substr(0,(n+i)%n)+"."+h.substr(i)+"E"})}else r=s.toExponential(a);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Bc(t,s,r){if(t.charCodeAt(0)===40&&!s.match(cT)){var a=s.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Bc("n",a,r):"("+Bc("n",a,-r)+")"}if(s.charCodeAt(s.length-1)===44)return wW(t,s,r);if(s.indexOf("%")!==-1)return jW(t,s,r);if(s.indexOf("E")!==-1)return uT(s,r);if(s.charCodeAt(0)===36)return"$"+Bc(t,s.substr(s.charAt(1)==" "?2:1),r);var n,i,o,l,d=Math.abs(r),u=r<0?"-":"";if(s.match(/^00+$/))return u+Xl(d,s.length);if(s.match(/^[#?]+$/))return n=""+r,r===0&&(n=""),n.length>s.length?n:Fi(s.substr(0,s.length-n.length))+n;if(i=s.match(oT))return yW(i,d,u);if(s.match(/^#+0+$/))return u+Xl(d,s.length-s.indexOf("0"));if(i=s.match(lT))return n=(""+r).replace(/^([^\.]+)$/,"$1."+Fi(i[1])).replace(/\.$/,"."+Fi(i[1])),n=n.replace(/\.(\d*)$/,function(v,y){return"."+y+Da("0",Fi(i[1]).length-y.length)}),s.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(s=s.replace(/^#+([0.])/,"$1"),i=s.match(/^(0*)\.(#*)$/))return u+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=s.match(/^#{1,3},##0(\.?)$/))return u+om(""+d);if(i=s.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Bc(t,s,-r):om(""+r)+"."+Da("0",i[1].length);if(i=s.match(/^#,#*,#0/))return Bc(t,s.replace(/^#,#*,/,""),r);if(i=s.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Gh(Bc(t,s.replace(/[\\-]/g,""),r)),o=0,Gh(Gh(s.replace(/\\/g,"")).replace(/[0#]/g,function(v){return o<n.length?n.charAt(o++):v==="0"?"0":""}));if(s.match(dT))return n=Bc(t,"##########",r),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var h="";if(i=s.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=s1(d,Math.pow(10,o)-1,!1),n=""+u,h=Gd("n",i[1],l[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),n+=h+i[2]+"/"+i[3],h=e1(l[2],o),h.length<i[4].length&&(h=Fi(i[4].substr(i[4].length-h.length))+h),n+=h,n;if(i=s.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=s1(d,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?LN(l[1],o)+i[2]+"/"+i[3]+e1(l[2],o):Da(" ",2*o+1+i[2].length+i[3].length));if(i=s.match(/^[#0?]+$/))return n=""+r,s.length<=n.length?n:Fi(s.substr(0,s.length-n.length))+n;if(i=s.match(/^([#0]+)\.([#0]+)$/)){n=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=n.indexOf(".");var f=s.indexOf(".")-o,p=s.length-n.length-f;return Fi(s.substr(0,f)+n+s.substr(s.length-p))}if(i=s.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Bc(t,s,-r):om(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?Xl(0,3-v.length):"")+v})+"."+Xl(0,i[1].length);switch(s){case"###,###":case"##,###":case"#,###":var g=om(""+d);return g!=="0"?u+g:"";default:if(s.match(/\.[0#?]*$/))return Bc(t,s.slice(0,s.lastIndexOf(".")),r)+Fi(s.slice(s.lastIndexOf(".")))}throw new Error("unsupported format |"+s+"|")}function Gd(t,s,r){return(r|0)===r?Bc(t,s,r):nl(t,s,r)}function NW(t){for(var s=[],r=!1,a=0,n=0;a<t.length;++a)switch(t.charCodeAt(a)){case 34:r=!r;break;case 95:case 42:case 92:++a;break;case 59:s[s.length]=t.substr(n,a-n),n=a+1}if(s[s.length]=t.substr(n),r===!0)throw new Error("Format |"+t+"| unterminated string ");return s}var mT=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function jx(t){for(var s=0,r="",a="";s<t.length;)switch(r=t.charAt(s)){case"G":t1(t,s)&&(s+=6),s++;break;case'"':for(;t.charCodeAt(++s)!==34&&s<t.length;);++s;break;case"\\":s+=2;break;case"_":s+=2;break;case"@":++s;break;case"B":case"b":if(t.charAt(s+1)==="1"||t.charAt(s+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(s,3).toUpperCase()==="A/P"||t.substr(s,5).toUpperCase()==="AM/PM"||t.substr(s,5).toUpperCase()==="/")return!0;++s;break;case"[":for(a=r;t.charAt(s++)!=="]"&&s<t.length;)a+=t.charAt(s);if(a.match(mT))return!0;break;case".":case"0":case"#":for(;s<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++s))>-1||r=="\\"&&t.charAt(s+1)=="-"&&"0#".indexOf(t.charAt(s+2))>-1););break;case"?":for(;t.charAt(++s)===r;);break;case"*":++s,(t.charAt(s)==" "||t.charAt(s)=="*")&&++s;break;case"(":case")":++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;s<t.length&&"0123456789".indexOf(t.charAt(++s))>-1;);break;case" ":++s;break;default:++s;break}return!1}function SW(t,s,r,a){for(var n=[],i="",o=0,l="",d="t",u,h,f,p="H";o<t.length;)switch(l=t.charAt(o)){case"G":if(!t1(t,o))throw new Error("unrecognized character "+l+" in "+t);n[n.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=t.charCodeAt(++o))!==34&&o<t.length;)i+=String.fromCharCode(f);n[n.length]={t:"t",v:i},++o;break;case"\\":var g=t.charAt(++o),v=g==="("||g===")"?g:"t";n[n.length]={t:v,v:g},++o;break;case"_":n[n.length]={t:"t",v:" "},o+=2;break;case"@":n[n.length]={t:"T",v:s},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(u==null&&(u=d0(s,r,t.charAt(o+1)==="2"),u==null))return"";n[n.length]={t:"X",v:t.substr(o,2)},d=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(s<0||u==null&&(u=d0(s,r),u==null))return"";for(i=l;++o<t.length&&t.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&d.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=p),n[n.length]={t:l,v:i},d=l;break;case"A":case"a":case"":var y={t:l,v:l};if(u==null&&(u=d0(s,r)),t.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(y.v=u.H>=12?"P":"A"),y.t="T",p="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(y.v=u.H>=12?"PM":"AM"),y.t="T",o+=5,p="h"):t.substr(o,5).toUpperCase()==="/"?(u!=null&&(y.v=u.H>=12?"":""),y.t="T",o+=5,p="h"):(y.t="t",++o),u==null&&y.t==="T")return"";n[n.length]=y,d=l;break;case"[":for(i=l;t.charAt(o++)!=="]"&&o<t.length;)i+=t.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(mT)){if(u==null&&(u=d0(s,r),u==null))return"";n[n.length]={t:"Z",v:i.toLowerCase()},d=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",jx(t)||(n[n.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=l;++o<t.length&&(l=t.charAt(o))==="0";)i+=l;n[n.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<t.length&&"0#?.,E+-%".indexOf(l=t.charAt(o))>-1;)i+=l;n[n.length]={t:"n",v:i};break;case"?":for(i=l;t.charAt(++o)===l;)i+=l;n[n.length]={t:l,v:i},d=l;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":n[n.length]={t:a===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)i+=t.charAt(o);n[n.length]={t:"D",v:i};break;case" ":n[n.length]={t:l,v:l},++o;break;case"$":n[n.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+t);n[n.length]={t:"t",v:l},++o;break}var b=0,_=0,k;for(o=n.length-1,d="t";o>=0;--o)switch(n[o].t){case"h":case"H":n[o].t=p,d="h",b<1&&(b=1);break;case"s":(k=n[o].v.match(/\.0+$/))&&(_=Math.max(_,k[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":d=n[o].t;break;case"m":d==="s"&&(n[o].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&n[o].v.match(/[Hh]/)&&(b=1),b<2&&n[o].v.match(/[Mm]/)&&(b=2),b<3&&n[o].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var A="",R;for(o=0;o<n.length;++o)switch(n[o].t){case"t":case"T":case" ":case"D":break;case"X":n[o].v="",n[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":n[o].v=xW(n[o].t.charCodeAt(0),n[o].v,u,_),n[o].t="t";break;case"n":case"?":for(R=o+1;n[R]!=null&&((l=n[R].t)==="?"||l==="D"||(l===" "||l==="t")&&n[R+1]!=null&&(n[R+1].t==="?"||n[R+1].t==="t"&&n[R+1].v==="/")||n[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(n[R].v==="/"||n[R].v===" "&&n[R+1]!=null&&n[R+1].t=="?"));)n[o].v+=n[R].v,n[R]={v:"",t:";"},++R;A+=n[o].v,o=R-1;break;case"G":n[o].t="t",n[o].v=k0(s,r);break}var F="",V,S;if(A.length>0){A.charCodeAt(0)==40?(V=s<0&&A.charCodeAt(0)===45?-s:s,S=Gd("n",A,V)):(V=s<0&&a>1?-s:s,S=Gd("n",A,V),V<0&&n[0]&&n[0].t=="t"&&(S=S.substr(1),n[0].v="-"+n[0].v)),R=S.length-1;var L=n.length;for(o=0;o<n.length;++o)if(n[o]!=null&&n[o].t!="t"&&n[o].v.indexOf(".")>-1){L=o;break}var I=n.length;if(L===n.length&&S.indexOf("E")===-1){for(o=n.length-1;o>=0;--o)n[o]==null||"n?".indexOf(n[o].t)===-1||(R>=n[o].v.length-1?(R-=n[o].v.length,n[o].v=S.substr(R+1,n[o].v.length)):R<0?n[o].v="":(n[o].v=S.substr(0,R+1),R=-1),n[o].t="t",I=o);R>=0&&I<n.length&&(n[I].v=S.substr(0,R+1)+n[I].v)}else if(L!==n.length&&S.indexOf("E")===-1){for(R=S.indexOf(".")-1,o=L;o>=0;--o)if(!(n[o]==null||"n?".indexOf(n[o].t)===-1)){for(h=n[o].v.indexOf(".")>-1&&o===L?n[o].v.indexOf(".")-1:n[o].v.length-1,F=n[o].v.substr(h+1);h>=0;--h)R>=0&&(n[o].v.charAt(h)==="0"||n[o].v.charAt(h)==="#")&&(F=S.charAt(R--)+F);n[o].v=F,n[o].t="t",I=o}for(R>=0&&I<n.length&&(n[I].v=S.substr(0,R+1)+n[I].v),R=S.indexOf(".")+1,o=L;o<n.length;++o)if(!(n[o]==null||"n?(".indexOf(n[o].t)===-1&&o!==L)){for(h=n[o].v.indexOf(".")>-1&&o===L?n[o].v.indexOf(".")+1:0,F=n[o].v.substr(0,h);h<n[o].v.length;++h)R<S.length&&(F+=S.charAt(R++));n[o].v=F,n[o].t="t",I=o}}}for(o=0;o<n.length;++o)n[o]!=null&&"n?".indexOf(n[o].t)>-1&&(V=a>1&&s<0&&o>0&&n[o-1].v==="-"?-s:s,n[o].v=Gd(n[o].t,n[o].v,V),n[o].t="t");var B="";for(o=0;o!==n.length;++o)n[o]!=null&&(B+=n[o].v);return B}var f_=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function p_(t,s){if(s==null)return!1;var r=parseFloat(s[2]);switch(s[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function _W(t,s){var r=NW(t),a=r.length,n=r[a-1].indexOf("@");if(a<4&&n>-1&&--a,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof s!="number")return[4,r.length===4||n>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=n>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=n>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=n>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=s>0?r[0]:s<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[a,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(f_),l=r[1].match(f_);return p_(s,o)?[a,r[0]]:p_(s,l)?[a,r[1]]:[a,r[o!=null&&l!=null?2:1]]}return[a,i]}function pl(t,s,r){r==null&&(r={});var a="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?a=r.dateNF:a=t;break;case"number":t==14&&r.dateNF?a=r.dateNF:a=(r.table!=null?r.table:Ks)[t],a==null&&(a=r.table&&r.table[m_[t]]||Ks[m_[t]]),a==null&&(a=oW[t]||"General");break}if(t1(a,0))return k0(s,r);s instanceof Date&&(s=aT(s,r.date1904));var n=_W(a,s);if(t1(n[1]))return k0(s,r);if(s===!0)s="TRUE";else if(s===!1)s="FALSE";else if(s===""||s==null)return"";return SW(n[1],s,r,n[0])}function g0(t,s){if(typeof s!="number"){s=+s||-1;for(var r=0;r<392;++r){if(Ks[r]==null){s<0&&(s=r);continue}if(Ks[r]==t){s=r;break}}s<0&&(s=391)}return Ks[s]=t,s}function hT(){Ks=iW()}var CW={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},xT=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function kW(t){var s=typeof t=="number"?Ks[t]:t;return s=s.replace(xT,"(\\d+)"),new RegExp("^"+s+"$")}function AW(t,s,r){var a=-1,n=-1,i=-1,o=-1,l=-1,d=-1;(s.match(xT)||[]).forEach(function(f,p){var g=parseInt(r[p+1],10);switch(f.toLowerCase().charAt(0)){case"y":a=g;break;case"d":i=g;break;case"h":o=g;break;case"s":d=g;break;case"m":o>=0?l=g:n=g;break}}),d>=0&&l==-1&&n>=0&&(l=n,n=-1);var u=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var h=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return o==-1&&l==-1&&d==-1?u:a==-1&&n==-1&&i==-1?h:u+"T"+h}var EW=function(){var t={};t.version="1.2.0";function s(){for(var S=0,L=new Array(256),I=0;I!=256;++I)S=I,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,L[I]=S;return typeof Int32Array<"u"?new Int32Array(L):L}var r=s();function a(S){var L=0,I=0,B=0,T=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(B=0;B!=256;++B)T[B]=S[B];for(B=0;B!=256;++B)for(I=S[B],L=256+B;L<4096;L+=256)I=T[L]=I>>>8^S[I&255];var w=[];for(B=1;B!=16;++B)w[B-1]=typeof Int32Array<"u"?T.subarray(B*256,B*256+256):T.slice(B*256,B*256+256);return w}var n=a(r),i=n[0],o=n[1],l=n[2],d=n[3],u=n[4],h=n[5],f=n[6],p=n[7],g=n[8],v=n[9],y=n[10],b=n[11],_=n[12],k=n[13],A=n[14];function R(S,L){for(var I=L^-1,B=0,T=S.length;B<T;)I=I>>>8^r[(I^S.charCodeAt(B++))&255];return~I}function F(S,L){for(var I=L^-1,B=S.length-15,T=0;T<B;)I=A[S[T++]^I&255]^k[S[T++]^I>>8&255]^_[S[T++]^I>>16&255]^b[S[T++]^I>>>24]^y[S[T++]]^v[S[T++]]^g[S[T++]]^p[S[T++]]^f[S[T++]]^h[S[T++]]^u[S[T++]]^d[S[T++]]^l[S[T++]]^o[S[T++]]^i[S[T++]]^r[S[T++]];for(B+=15;T<B;)I=I>>>8^r[(I^S[T++])&255];return~I}function V(S,L){for(var I=L^-1,B=0,T=S.length,w=0,E=0;B<T;)w=S.charCodeAt(B++),w<128?I=I>>>8^r[(I^w)&255]:w<2048?(I=I>>>8^r[(I^(192|w>>6&31))&255],I=I>>>8^r[(I^(128|w&63))&255]):w>=55296&&w<57344?(w=(w&1023)+64,E=S.charCodeAt(B++)&1023,I=I>>>8^r[(I^(240|w>>8&7))&255],I=I>>>8^r[(I^(128|w>>2&63))&255],I=I>>>8^r[(I^(128|E>>6&15|(w&3)<<4))&255],I=I>>>8^r[(I^(128|E&63))&255]):(I=I>>>8^r[(I^(224|w>>12&15))&255],I=I>>>8^r[(I^(128|w>>6&63))&255],I=I>>>8^r[(I^(128|w&63))&255]);return~I}return t.table=r,t.bstr=R,t.buf=F,t.str=V,t}(),wr=function(){var s={};s.version="1.2.1";function r(le,Se){for(var me=le.split("/"),_e=Se.split("/"),De=0,Ne=0,Je=Math.min(me.length,_e.length);De<Je;++De){if(Ne=me[De].length-_e[De].length)return Ne;if(me[De]!=_e[De])return me[De]<_e[De]?-1:1}return me.length-_e.length}function a(le){if(le.charAt(le.length-1)=="/")return le.slice(0,-1).indexOf("/")===-1?le:a(le.slice(0,-1));var Se=le.lastIndexOf("/");return Se===-1?le:le.slice(0,Se+1)}function n(le){if(le.charAt(le.length-1)=="/")return n(le.slice(0,-1));var Se=le.lastIndexOf("/");return Se===-1?le:le.slice(Se+1)}function i(le,Se){typeof Se=="string"&&(Se=new Date(Se));var me=Se.getHours();me=me<<6|Se.getMinutes(),me=me<<5|Se.getSeconds()>>>1,le.write_shift(2,me);var _e=Se.getFullYear()-1980;_e=_e<<4|Se.getMonth()+1,_e=_e<<5|Se.getDate(),le.write_shift(2,_e)}function o(le){var Se=le.read_shift(2)&65535,me=le.read_shift(2)&65535,_e=new Date,De=me&31;me>>>=5;var Ne=me&15;me>>>=4,_e.setMilliseconds(0),_e.setFullYear(me+1980),_e.setMonth(Ne-1),_e.setDate(De);var Je=Se&31;Se>>>=5;var $e=Se&63;return Se>>>=6,_e.setHours(Se),_e.setMinutes($e),_e.setSeconds(Je<<1),_e}function l(le){Yn(le,0);for(var Se={},me=0;le.l<=le.length-4;){var _e=le.read_shift(2),De=le.read_shift(2),Ne=le.l+De,Je={};switch(_e){case 21589:me=le.read_shift(1),me&1&&(Je.mtime=le.read_shift(4)),De>5&&(me&2&&(Je.atime=le.read_shift(4)),me&4&&(Je.ctime=le.read_shift(4))),Je.mtime&&(Je.mt=new Date(Je.mtime*1e3));break}le.l=Ne,Se[_e]=Je}return Se}var d;function u(){return d||(d={})}function h(le,Se){if(le[0]==80&&le[1]==75)return jt(le,Se);if((le[0]|32)==109&&(le[1]|32)==105)return Zt(le,Se);if(le.length<512)throw new Error("CFB file size "+le.length+" < 512");var me=3,_e=512,De=0,Ne=0,Je=0,$e=0,Ke=0,ot=[],Fe=le.slice(0,512);Yn(Fe,0);var Ye=f(Fe);switch(me=Ye[0],me){case 3:_e=512;break;case 4:_e=4096;break;case 0:if(Ye[1]==0)return jt(le,Se);default:throw new Error("Major Version: Expected 3 or 4 saw "+me)}_e!==512&&(Fe=le.slice(0,_e),Yn(Fe,28));var lt=le.slice(0,_e);p(Fe,me);var Mt=Fe.read_shift(4,"i");if(me===3&&Mt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Mt);Fe.l+=4,Je=Fe.read_shift(4,"i"),Fe.l+=4,Fe.chk("00100000","Mini Stream Cutoff Size: "),$e=Fe.read_shift(4,"i"),De=Fe.read_shift(4,"i"),Ke=Fe.read_shift(4,"i"),Ne=Fe.read_shift(4,"i");for(var Dt=-1,Ht=0;Ht<109&&(Dt=Fe.read_shift(4,"i"),!(Dt<0));++Ht)ot[Ht]=Dt;var rs=g(le,_e);b(Ke,Ne,rs,_e,ot);var fs=k(rs,Je,ot,_e);fs[Je].name="!Directory",De>0&&$e!==E&&(fs[$e].name="!MiniFAT"),fs[ot[0]].name="!FAT",fs.fat_addrs=ot,fs.ssz=_e;var Ue={},vt=[],Ut=[],os=[];A(Je,fs,rs,vt,De,Ue,Ut,$e),v(Ut,os,vt),vt.shift();var zs={FileIndex:Ut,FullPaths:os};return Se&&Se.raw&&(zs.raw={header:lt,sectors:rs}),zs}function f(le){if(le[le.l]==80&&le[le.l+1]==75)return[0,0];le.chk(D,"Header Signature: "),le.l+=16;var Se=le.read_shift(2,"u");return[le.read_shift(2,"u"),Se]}function p(le,Se){var me=9;switch(le.l+=2,me=le.read_shift(2)){case 9:if(Se!=3)throw new Error("Sector Shift: Expected 9 saw "+me);break;case 12:if(Se!=4)throw new Error("Sector Shift: Expected 12 saw "+me);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+me)}le.chk("0600","Mini Sector Shift: "),le.chk("000000000000","Reserved: ")}function g(le,Se){for(var me=Math.ceil(le.length/Se)-1,_e=[],De=1;De<me;++De)_e[De-1]=le.slice(De*Se,(De+1)*Se);return _e[me-1]=le.slice(me*Se),_e}function v(le,Se,me){for(var _e=0,De=0,Ne=0,Je=0,$e=0,Ke=me.length,ot=[],Fe=[];_e<Ke;++_e)ot[_e]=Fe[_e]=_e,Se[_e]=me[_e];for(;$e<Fe.length;++$e)_e=Fe[$e],De=le[_e].L,Ne=le[_e].R,Je=le[_e].C,ot[_e]===_e&&(De!==-1&&ot[De]!==De&&(ot[_e]=ot[De]),Ne!==-1&&ot[Ne]!==Ne&&(ot[_e]=ot[Ne])),Je!==-1&&(ot[Je]=_e),De!==-1&&_e!=ot[_e]&&(ot[De]=ot[_e],Fe.lastIndexOf(De)<$e&&Fe.push(De)),Ne!==-1&&_e!=ot[_e]&&(ot[Ne]=ot[_e],Fe.lastIndexOf(Ne)<$e&&Fe.push(Ne));for(_e=1;_e<Ke;++_e)ot[_e]===_e&&(Ne!==-1&&ot[Ne]!==Ne?ot[_e]=ot[Ne]:De!==-1&&ot[De]!==De&&(ot[_e]=ot[De]));for(_e=1;_e<Ke;++_e)if(le[_e].type!==0){if($e=_e,$e!=ot[$e])do $e=ot[$e],Se[_e]=Se[$e]+"/"+Se[_e];while($e!==0&&ot[$e]!==-1&&$e!=ot[$e]);ot[_e]=-1}for(Se[0]+="/",_e=1;_e<Ke;++_e)le[_e].type!==2&&(Se[_e]+="/")}function y(le,Se,me){for(var _e=le.start,De=le.size,Ne=[],Je=_e;me&&De>0&&Je>=0;)Ne.push(Se.slice(Je*w,Je*w+w)),De-=w,Je=i0(me,Je*4);return Ne.length===0?gn(0):Zu(Ne).slice(0,le.size)}function b(le,Se,me,_e,De){var Ne=E;if(le===E){if(Se!==0)throw new Error("DIFAT chain shorter than expected")}else if(le!==-1){var Je=me[le],$e=(_e>>>2)-1;if(!Je)return;for(var Ke=0;Ke<$e&&(Ne=i0(Je,Ke*4))!==E;++Ke)De.push(Ne);b(i0(Je,_e-4),Se-1,me,_e,De)}}function _(le,Se,me,_e,De){var Ne=[],Je=[];De||(De=[]);var $e=_e-1,Ke=0,ot=0;for(Ke=Se;Ke>=0;){De[Ke]=!0,Ne[Ne.length]=Ke,Je.push(le[Ke]);var Fe=me[Math.floor(Ke*4/_e)];if(ot=Ke*4&$e,_e<4+ot)throw new Error("FAT boundary crossed: "+Ke+" 4 "+_e);if(!le[Fe])break;Ke=i0(le[Fe],ot)}return{nodes:Ne,data:C_([Je])}}function k(le,Se,me,_e){var De=le.length,Ne=[],Je=[],$e=[],Ke=[],ot=_e-1,Fe=0,Ye=0,lt=0,Mt=0;for(Fe=0;Fe<De;++Fe)if($e=[],lt=Fe+Se,lt>=De&&(lt-=De),!Je[lt]){Ke=[];var Dt=[];for(Ye=lt;Ye>=0;){Dt[Ye]=!0,Je[Ye]=!0,$e[$e.length]=Ye,Ke.push(le[Ye]);var Ht=me[Math.floor(Ye*4/_e)];if(Mt=Ye*4&ot,_e<4+Mt)throw new Error("FAT boundary crossed: "+Ye+" 4 "+_e);if(!le[Ht]||(Ye=i0(le[Ht],Mt),Dt[Ye]))break}Ne[lt]={nodes:$e,data:C_([Ke])}}return Ne}function A(le,Se,me,_e,De,Ne,Je,$e){for(var Ke=0,ot=_e.length?2:0,Fe=Se[le].data,Ye=0,lt=0,Mt;Ye<Fe.length;Ye+=128){var Dt=Fe.slice(Ye,Ye+128);Yn(Dt,64),lt=Dt.read_shift(2),Mt=zN(Dt,0,lt-ot),_e.push(Mt);var Ht={name:Mt,type:Dt.read_shift(1),color:Dt.read_shift(1),L:Dt.read_shift(4,"i"),R:Dt.read_shift(4,"i"),C:Dt.read_shift(4,"i"),clsid:Dt.read_shift(16),state:Dt.read_shift(4,"i"),start:0,size:0},rs=Dt.read_shift(2)+Dt.read_shift(2)+Dt.read_shift(2)+Dt.read_shift(2);rs!==0&&(Ht.ct=R(Dt,Dt.l-8));var fs=Dt.read_shift(2)+Dt.read_shift(2)+Dt.read_shift(2)+Dt.read_shift(2);fs!==0&&(Ht.mt=R(Dt,Dt.l-8)),Ht.start=Dt.read_shift(4,"i"),Ht.size=Dt.read_shift(4,"i"),Ht.size<0&&Ht.start<0&&(Ht.size=Ht.type=0,Ht.start=E,Ht.name=""),Ht.type===5?(Ke=Ht.start,De>0&&Ke!==E&&(Se[Ke].name="!StreamData")):Ht.size>=4096?(Ht.storage="fat",Se[Ht.start]===void 0&&(Se[Ht.start]=_(me,Ht.start,Se.fat_addrs,Se.ssz)),Se[Ht.start].name=Ht.name,Ht.content=Se[Ht.start].data.slice(0,Ht.size)):(Ht.storage="minifat",Ht.size<0?Ht.size=0:Ke!==E&&Ht.start!==E&&Se[Ke]&&(Ht.content=y(Ht,Se[Ke].data,(Se[$e]||{}).data))),Ht.content&&Yn(Ht.content,0),Ne[Mt]=Ht,Je.push(Ht)}}function R(le,Se){return new Date((Do(le,Se+4)/1e7*Math.pow(2,32)+Do(le,Se)/1e7-11644473600)*1e3)}function F(le,Se){return u(),h(d.readFileSync(le),Se)}function V(le,Se){var me=Se&&Se.type;switch(me||gr&&Buffer.isBuffer(le)&&(me="buffer"),me||"base64"){case"file":return F(le,Se);case"base64":return h(Wl(Ro(le)),Se);case"binary":return h(Wl(le),Se)}return h(le,Se)}function S(le,Se){var me=Se||{},_e=me.root||"Root Entry";if(le.FullPaths||(le.FullPaths=[]),le.FileIndex||(le.FileIndex=[]),le.FullPaths.length!==le.FileIndex.length)throw new Error("inconsistent CFB structure");le.FullPaths.length===0&&(le.FullPaths[0]=_e+"/",le.FileIndex[0]={name:_e,type:5}),me.CLSID&&(le.FileIndex[0].clsid=me.CLSID),L(le)}function L(le){var Se="Sh33tJ5";if(!wr.find(le,"/"+Se)){var me=gn(4);me[0]=55,me[1]=me[3]=50,me[2]=54,le.FileIndex.push({name:Se,type:2,content:me,size:4,L:69,R:69,C:69}),le.FullPaths.push(le.FullPaths[0]+Se),I(le)}}function I(le,Se){S(le);for(var me=!1,_e=!1,De=le.FullPaths.length-1;De>=0;--De){var Ne=le.FileIndex[De];switch(Ne.type){case 0:_e?me=!0:(le.FileIndex.pop(),le.FullPaths.pop());break;case 1:case 2:case 5:_e=!0,isNaN(Ne.R*Ne.L*Ne.C)&&(me=!0),Ne.R>-1&&Ne.L>-1&&Ne.R==Ne.L&&(me=!0);break;default:me=!0;break}}if(!(!me&&!Se)){var Je=new Date(1987,1,19),$e=0,Ke=Object.create?Object.create(null):{},ot=[];for(De=0;De<le.FullPaths.length;++De)Ke[le.FullPaths[De]]=!0,le.FileIndex[De].type!==0&&ot.push([le.FullPaths[De],le.FileIndex[De]]);for(De=0;De<ot.length;++De){var Fe=a(ot[De][0]);_e=Ke[Fe],_e||(ot.push([Fe,{name:n(Fe).replace("/",""),type:1,clsid:K,ct:Je,mt:Je,content:null}]),Ke[Fe]=!0)}for(ot.sort(function(Mt,Dt){return r(Mt[0],Dt[0])}),le.FullPaths=[],le.FileIndex=[],De=0;De<ot.length;++De)le.FullPaths[De]=ot[De][0],le.FileIndex[De]=ot[De][1];for(De=0;De<ot.length;++De){var Ye=le.FileIndex[De],lt=le.FullPaths[De];if(Ye.name=n(lt).replace("/",""),Ye.L=Ye.R=Ye.C=-(Ye.color=1),Ye.size=Ye.content?Ye.content.length:0,Ye.start=0,Ye.clsid=Ye.clsid||K,De===0)Ye.C=ot.length>1?1:-1,Ye.size=0,Ye.type=5;else if(lt.slice(-1)=="/"){for($e=De+1;$e<ot.length&&a(le.FullPaths[$e])!=lt;++$e);for(Ye.C=$e>=ot.length?-1:$e,$e=De+1;$e<ot.length&&a(le.FullPaths[$e])!=a(lt);++$e);Ye.R=$e>=ot.length?-1:$e,Ye.type=1}else a(le.FullPaths[De+1]||"")==a(lt)&&(Ye.R=De+1),Ye.type=2}}}function B(le,Se){var me=Se||{};if(me.fileType=="mad")return Wt(le,me);switch(I(le),me.fileType){case"zip":return qt(le,me)}var _e=function(Mt){for(var Dt=0,Ht=0,rs=0;rs<Mt.FileIndex.length;++rs){var fs=Mt.FileIndex[rs];if(fs.content){var Ue=fs.content.length;Ue>0&&(Ue<4096?Dt+=Ue+63>>6:Ht+=Ue+511>>9)}}for(var vt=Mt.FullPaths.length+3>>2,Ut=Dt+7>>3,os=Dt+127>>7,zs=Ut+Ht+vt+os,Ls=zs+127>>7,Nr=Ls<=109?0:Math.ceil((Ls-109)/127);zs+Ls+Nr+127>>7>Ls;)Nr=++Ls<=109?0:Math.ceil((Ls-109)/127);var Pr=[1,Nr,Ls,os,vt,Ht,Dt,0];return Mt.FileIndex[0].size=Dt<<6,Pr[7]=(Mt.FileIndex[0].start=Pr[0]+Pr[1]+Pr[2]+Pr[3]+Pr[4]+Pr[5])+(Pr[6]+7>>3),Pr}(le),De=gn(_e[7]<<9),Ne=0,Je=0;{for(Ne=0;Ne<8;++Ne)De.write_shift(1,G[Ne]);for(Ne=0;Ne<8;++Ne)De.write_shift(2,0);for(De.write_shift(2,62),De.write_shift(2,3),De.write_shift(2,65534),De.write_shift(2,9),De.write_shift(2,6),Ne=0;Ne<3;++Ne)De.write_shift(2,0);for(De.write_shift(4,0),De.write_shift(4,_e[2]),De.write_shift(4,_e[0]+_e[1]+_e[2]+_e[3]-1),De.write_shift(4,0),De.write_shift(4,4096),De.write_shift(4,_e[3]?_e[0]+_e[1]+_e[2]-1:E),De.write_shift(4,_e[3]),De.write_shift(-4,_e[1]?_e[0]-1:E),De.write_shift(4,_e[1]),Ne=0;Ne<109;++Ne)De.write_shift(-4,Ne<_e[2]?_e[1]+Ne:-1)}if(_e[1])for(Je=0;Je<_e[1];++Je){for(;Ne<236+Je*127;++Ne)De.write_shift(-4,Ne<_e[2]?_e[1]+Ne:-1);De.write_shift(-4,Je===_e[1]-1?E:Je+1)}var $e=function(Mt){for(Je+=Mt;Ne<Je-1;++Ne)De.write_shift(-4,Ne+1);Mt&&(++Ne,De.write_shift(-4,E))};for(Je=Ne=0,Je+=_e[1];Ne<Je;++Ne)De.write_shift(-4,X.DIFSECT);for(Je+=_e[2];Ne<Je;++Ne)De.write_shift(-4,X.FATSECT);$e(_e[3]),$e(_e[4]);for(var Ke=0,ot=0,Fe=le.FileIndex[0];Ke<le.FileIndex.length;++Ke)Fe=le.FileIndex[Ke],Fe.content&&(ot=Fe.content.length,!(ot<4096)&&(Fe.start=Je,$e(ot+511>>9)));for($e(_e[6]+7>>3);De.l&511;)De.write_shift(-4,X.ENDOFCHAIN);for(Je=Ne=0,Ke=0;Ke<le.FileIndex.length;++Ke)Fe=le.FileIndex[Ke],Fe.content&&(ot=Fe.content.length,!(!ot||ot>=4096)&&(Fe.start=Je,$e(ot+63>>6)));for(;De.l&511;)De.write_shift(-4,X.ENDOFCHAIN);for(Ne=0;Ne<_e[4]<<2;++Ne){var Ye=le.FullPaths[Ne];if(!Ye||Ye.length===0){for(Ke=0;Ke<17;++Ke)De.write_shift(4,0);for(Ke=0;Ke<3;++Ke)De.write_shift(4,-1);for(Ke=0;Ke<12;++Ke)De.write_shift(4,0);continue}Fe=le.FileIndex[Ne],Ne===0&&(Fe.start=Fe.size?Fe.start-1:E);var lt=Ne===0&&me.root||Fe.name;if(ot=2*(lt.length+1),De.write_shift(64,lt,"utf16le"),De.write_shift(2,ot),De.write_shift(1,Fe.type),De.write_shift(1,Fe.color),De.write_shift(-4,Fe.L),De.write_shift(-4,Fe.R),De.write_shift(-4,Fe.C),Fe.clsid)De.write_shift(16,Fe.clsid,"hex");else for(Ke=0;Ke<4;++Ke)De.write_shift(4,0);De.write_shift(4,Fe.state||0),De.write_shift(4,0),De.write_shift(4,0),De.write_shift(4,0),De.write_shift(4,0),De.write_shift(4,Fe.start),De.write_shift(4,Fe.size),De.write_shift(4,0)}for(Ne=1;Ne<le.FileIndex.length;++Ne)if(Fe=le.FileIndex[Ne],Fe.size>=4096)if(De.l=Fe.start+1<<9,gr&&Buffer.isBuffer(Fe.content))Fe.content.copy(De,De.l,0,Fe.size),De.l+=Fe.size+511&-512;else{for(Ke=0;Ke<Fe.size;++Ke)De.write_shift(1,Fe.content[Ke]);for(;Ke&511;++Ke)De.write_shift(1,0)}for(Ne=1;Ne<le.FileIndex.length;++Ne)if(Fe=le.FileIndex[Ne],Fe.size>0&&Fe.size<4096)if(gr&&Buffer.isBuffer(Fe.content))Fe.content.copy(De,De.l,0,Fe.size),De.l+=Fe.size+63&-64;else{for(Ke=0;Ke<Fe.size;++Ke)De.write_shift(1,Fe.content[Ke]);for(;Ke&63;++Ke)De.write_shift(1,0)}if(gr)De.l=De.length;else for(;De.l<De.length;)De.write_shift(1,0);return De}function T(le,Se){var me=le.FullPaths.map(function(Ke){return Ke.toUpperCase()}),_e=me.map(function(Ke){var ot=Ke.split("/");return ot[ot.length-(Ke.slice(-1)=="/"?2:1)]}),De=!1;Se.charCodeAt(0)===47?(De=!0,Se=me[0].slice(0,-1)+Se):De=Se.indexOf("/")!==-1;var Ne=Se.toUpperCase(),Je=De===!0?me.indexOf(Ne):_e.indexOf(Ne);if(Je!==-1)return le.FileIndex[Je];var $e=!Ne.match(Gf);for(Ne=Ne.replace(zi,""),$e&&(Ne=Ne.replace(Gf,"!")),Je=0;Je<me.length;++Je)if(($e?me[Je].replace(Gf,"!"):me[Je]).replace(zi,"")==Ne||($e?_e[Je].replace(Gf,"!"):_e[Je]).replace(zi,"")==Ne)return le.FileIndex[Je];return null}var w=64,E=-2,D="d0cf11e0a1b11ae1",G=[208,207,17,224,161,177,26,225],K="00000000000000000000000000000000",X={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:E,FREESECT:-1,HEADER_SIGNATURE:D,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:K,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function se(le,Se,me){u();var _e=B(le,me);d.writeFileSync(Se,_e)}function Z(le){for(var Se=new Array(le.length),me=0;me<le.length;++me)Se[me]=String.fromCharCode(le[me]);return Se.join("")}function ee(le,Se){var me=B(le,Se);switch(Se&&Se.type||"buffer"){case"file":return u(),d.writeFileSync(Se.filename,me),me;case"binary":return typeof me=="string"?me:Z(me);case"base64":return l_(typeof me=="string"?me:Z(me));case"buffer":if(gr)return Buffer.isBuffer(me)?me:O0(me);case"array":return typeof me=="string"?Wl(me):me}return me}var ce;function U(le){try{var Se=le.InflateRaw,me=new Se;if(me._processChunk(new Uint8Array([3,0]),me._finishFlushFlag),me.bytesRead)ce=le;else throw new Error("zlib does not expose bytesRead")}catch(_e){console.error("cannot use native zlib: "+(_e.message||_e))}}function O(le,Se){if(!ce)return qe(le,Se);var me=ce.InflateRaw,_e=new me,De=_e._processChunk(le.slice(le.l),_e._finishFlushFlag);return le.l+=_e.bytesRead,De}function z(le){return ce?ce.deflateRawSync(le):st(le)}var q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],te=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ge=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Q(le){var Se=(le<<1|le<<11)&139536|(le<<5|le<<15)&558144;return(Se>>16|Se>>8|Se)&255}for(var ue=typeof Uint8Array<"u",ie=ue?new Uint8Array(256):[],oe=0;oe<256;++oe)ie[oe]=Q(oe);function J(le,Se){var me=ie[le&255];return Se<=8?me>>>8-Se:(me=me<<8|ie[le>>8&255],Se<=16?me>>>16-Se:(me=me<<8|ie[le>>16&255],me>>>24-Se))}function re(le,Se){var me=Se&7,_e=Se>>>3;return(le[_e]|(me<=6?0:le[_e+1]<<8))>>>me&3}function ve(le,Se){var me=Se&7,_e=Se>>>3;return(le[_e]|(me<=5?0:le[_e+1]<<8))>>>me&7}function pe(le,Se){var me=Se&7,_e=Se>>>3;return(le[_e]|(me<=4?0:le[_e+1]<<8))>>>me&15}function ae(le,Se){var me=Se&7,_e=Se>>>3;return(le[_e]|(me<=3?0:le[_e+1]<<8))>>>me&31}function he(le,Se){var me=Se&7,_e=Se>>>3;return(le[_e]|(me<=1?0:le[_e+1]<<8))>>>me&127}function Te(le,Se,me){var _e=Se&7,De=Se>>>3,Ne=(1<<me)-1,Je=le[De]>>>_e;return me<8-_e||(Je|=le[De+1]<<8-_e,me<16-_e)||(Je|=le[De+2]<<16-_e,me<24-_e)||(Je|=le[De+3]<<24-_e),Je&Ne}function Ie(le,Se,me){var _e=Se&7,De=Se>>>3;return _e<=5?le[De]|=(me&7)<<_e:(le[De]|=me<<_e&255,le[De+1]=(me&7)>>8-_e),Se+3}function Be(le,Se,me){var _e=Se&7,De=Se>>>3;return me=(me&1)<<_e,le[De]|=me,Se+1}function Le(le,Se,me){var _e=Se&7,De=Se>>>3;return me<<=_e,le[De]|=me&255,me>>>=8,le[De+1]=me,Se+8}function Ee(le,Se,me){var _e=Se&7,De=Se>>>3;return me<<=_e,le[De]|=me&255,me>>>=8,le[De+1]=me&255,le[De+2]=me>>>8,Se+16}function Ve(le,Se){var me=le.length,_e=2*me>Se?2*me:Se+5,De=0;if(me>=Se)return le;if(gr){var Ne=c_(_e);if(le.copy)le.copy(Ne);else for(;De<le.length;++De)Ne[De]=le[De];return Ne}else if(ue){var Je=new Uint8Array(_e);if(Je.set)Je.set(le);else for(;De<me;++De)Je[De]=le[De];return Je}return le.length=_e,le}function mt(le){for(var Se=new Array(le),me=0;me<le;++me)Se[me]=0;return Se}function gt(le,Se,me){var _e=1,De=0,Ne=0,Je=0,$e=0,Ke=le.length,ot=ue?new Uint16Array(32):mt(32);for(Ne=0;Ne<32;++Ne)ot[Ne]=0;for(Ne=Ke;Ne<me;++Ne)le[Ne]=0;Ke=le.length;var Fe=ue?new Uint16Array(Ke):mt(Ke);for(Ne=0;Ne<Ke;++Ne)ot[De=le[Ne]]++,_e<De&&(_e=De),Fe[Ne]=0;for(ot[0]=0,Ne=1;Ne<=_e;++Ne)ot[Ne+16]=$e=$e+ot[Ne-1]<<1;for(Ne=0;Ne<Ke;++Ne)$e=le[Ne],$e!=0&&(Fe[Ne]=ot[$e+16]++);var Ye=0;for(Ne=0;Ne<Ke;++Ne)if(Ye=le[Ne],Ye!=0)for($e=J(Fe[Ne],_e)>>_e-Ye,Je=(1<<_e+4-Ye)-1;Je>=0;--Je)Se[$e|Je<<Ye]=Ye&15|Ne<<4;return _e}var Pe=ue?new Uint16Array(512):mt(512),Ae=ue?new Uint16Array(32):mt(32);if(!ue){for(var We=0;We<512;++We)Pe[We]=0;for(We=0;We<32;++We)Ae[We]=0}(function(){for(var le=[],Se=0;Se<32;Se++)le.push(5);gt(le,Ae,32);var me=[];for(Se=0;Se<=143;Se++)me.push(8);for(;Se<=255;Se++)me.push(9);for(;Se<=279;Se++)me.push(7);for(;Se<=287;Se++)me.push(8);gt(me,Pe,288)})();var Xe=function(){for(var Se=ue?new Uint8Array(32768):[],me=0,_e=0;me<ge.length-1;++me)for(;_e<ge[me+1];++_e)Se[_e]=me;for(;_e<32768;++_e)Se[_e]=29;var De=ue?new Uint8Array(259):[];for(me=0,_e=0;me<te.length-1;++me)for(;_e<te[me+1];++_e)De[_e]=me;function Ne($e,Ke){for(var ot=0;ot<$e.length;){var Fe=Math.min(65535,$e.length-ot),Ye=ot+Fe==$e.length;for(Ke.write_shift(1,+Ye),Ke.write_shift(2,Fe),Ke.write_shift(2,~Fe&65535);Fe-- >0;)Ke[Ke.l++]=$e[ot++]}return Ke.l}function Je($e,Ke){for(var ot=0,Fe=0,Ye=ue?new Uint16Array(32768):[];Fe<$e.length;){var lt=Math.min(65535,$e.length-Fe);if(lt<10){for(ot=Ie(Ke,ot,+(Fe+lt==$e.length)),ot&7&&(ot+=8-(ot&7)),Ke.l=ot/8|0,Ke.write_shift(2,lt),Ke.write_shift(2,~lt&65535);lt-- >0;)Ke[Ke.l++]=$e[Fe++];ot=Ke.l*8;continue}ot=Ie(Ke,ot,+(Fe+lt==$e.length)+2);for(var Mt=0;lt-- >0;){var Dt=$e[Fe];Mt=(Mt<<5^Dt)&32767;var Ht=-1,rs=0;if((Ht=Ye[Mt])&&(Ht|=Fe&-32768,Ht>Fe&&(Ht-=32768),Ht<Fe))for(;$e[Ht+rs]==$e[Fe+rs]&&rs<250;)++rs;if(rs>2){Dt=De[rs],Dt<=22?ot=Le(Ke,ot,ie[Dt+1]>>1)-1:(Le(Ke,ot,3),ot+=5,Le(Ke,ot,ie[Dt-23]>>5),ot+=3);var fs=Dt<8?0:Dt-4>>2;fs>0&&(Ee(Ke,ot,rs-te[Dt]),ot+=fs),Dt=Se[Fe-Ht],ot=Le(Ke,ot,ie[Dt]>>3),ot-=3;var Ue=Dt<4?0:Dt-2>>1;Ue>0&&(Ee(Ke,ot,Fe-Ht-ge[Dt]),ot+=Ue);for(var vt=0;vt<rs;++vt)Ye[Mt]=Fe&32767,Mt=(Mt<<5^$e[Fe])&32767,++Fe;lt-=rs-1}else Dt<=143?Dt=Dt+48:ot=Be(Ke,ot,1),ot=Le(Ke,ot,ie[Dt]),Ye[Mt]=Fe&32767,++Fe}ot=Le(Ke,ot,0)-1}return Ke.l=(ot+7)/8|0,Ke.l}return function(Ke,ot){return Ke.length<8?Ne(Ke,ot):Je(Ke,ot)}}();function st(le){var Se=gn(50+Math.floor(le.length*1.1)),me=Xe(le,Se);return Se.slice(0,me)}var ke=ue?new Uint16Array(32768):mt(32768),ct=ue?new Uint16Array(32768):mt(32768),nt=ue?new Uint16Array(128):mt(128),Bt=1,Ge=1;function St(le,Se){var me=ae(le,Se)+257;Se+=5;var _e=ae(le,Se)+1;Se+=5;var De=pe(le,Se)+4;Se+=4;for(var Ne=0,Je=ue?new Uint8Array(19):mt(19),$e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ke=1,ot=ue?new Uint8Array(8):mt(8),Fe=ue?new Uint8Array(8):mt(8),Ye=Je.length,lt=0;lt<De;++lt)Je[q[lt]]=Ne=ve(le,Se),Ke<Ne&&(Ke=Ne),ot[Ne]++,Se+=3;var Mt=0;for(ot[0]=0,lt=1;lt<=Ke;++lt)Fe[lt]=Mt=Mt+ot[lt-1]<<1;for(lt=0;lt<Ye;++lt)(Mt=Je[lt])!=0&&($e[lt]=Fe[Mt]++);var Dt=0;for(lt=0;lt<Ye;++lt)if(Dt=Je[lt],Dt!=0){Mt=ie[$e[lt]]>>8-Dt;for(var Ht=(1<<7-Dt)-1;Ht>=0;--Ht)nt[Mt|Ht<<Dt]=Dt&7|lt<<3}var rs=[];for(Ke=1;rs.length<me+_e;)switch(Mt=nt[he(le,Se)],Se+=Mt&7,Mt>>>=3){case 16:for(Ne=3+re(le,Se),Se+=2,Mt=rs[rs.length-1];Ne-- >0;)rs.push(Mt);break;case 17:for(Ne=3+ve(le,Se),Se+=3;Ne-- >0;)rs.push(0);break;case 18:for(Ne=11+he(le,Se),Se+=7;Ne-- >0;)rs.push(0);break;default:rs.push(Mt),Ke<Mt&&(Ke=Mt);break}var fs=rs.slice(0,me),Ue=rs.slice(me);for(lt=me;lt<286;++lt)fs[lt]=0;for(lt=_e;lt<30;++lt)Ue[lt]=0;return Bt=gt(fs,ke,286),Ge=gt(Ue,ct,30),Se}function bt(le,Se){if(le[0]==3&&!(le[1]&3))return[mm(Se),2];for(var me=0,_e=0,De=c_(Se||1<<18),Ne=0,Je=De.length>>>0,$e=0,Ke=0;(_e&1)==0;){if(_e=ve(le,me),me+=3,_e>>>1)_e>>1==1?($e=9,Ke=5):(me=St(le,me),$e=Bt,Ke=Ge);else{me&7&&(me+=8-(me&7));var ot=le[me>>>3]|le[(me>>>3)+1]<<8;if(me+=32,ot>0)for(!Se&&Je<Ne+ot&&(De=Ve(De,Ne+ot),Je=De.length);ot-- >0;)De[Ne++]=le[me>>>3],me+=8;continue}for(;;){!Se&&Je<Ne+32767&&(De=Ve(De,Ne+32767),Je=De.length);var Fe=Te(le,me,$e),Ye=_e>>>1==1?Pe[Fe]:ke[Fe];if(me+=Ye&15,Ye>>>=4,(Ye>>>8&255)===0)De[Ne++]=Ye;else{if(Ye==256)break;Ye-=257;var lt=Ye<8?0:Ye-4>>2;lt>5&&(lt=0);var Mt=Ne+te[Ye];lt>0&&(Mt+=Te(le,me,lt),me+=lt),Fe=Te(le,me,Ke),Ye=_e>>>1==1?Ae[Fe]:ct[Fe],me+=Ye&15,Ye>>>=4;var Dt=Ye<4?0:Ye-2>>1,Ht=ge[Ye];for(Dt>0&&(Ht+=Te(le,me,Dt),me+=Dt),!Se&&Je<Mt&&(De=Ve(De,Mt+100),Je=De.length);Ne<Mt;)De[Ne]=De[Ne-Ht],++Ne}}}return Se?[De,me+7>>>3]:[De.slice(0,Ne),me+7>>>3]}function qe(le,Se){var me=le.slice(le.l||0),_e=bt(me,Se);return le.l+=_e[1],_e[0]}function Oe(le,Se){if(le)typeof console<"u"&&console.error(Se);else throw new Error(Se)}function jt(le,Se){var me=le;Yn(me,0);var _e=[],De=[],Ne={FileIndex:_e,FullPaths:De};S(Ne,{root:Se.root});for(var Je=me.length-4;(me[Je]!=80||me[Je+1]!=75||me[Je+2]!=5||me[Je+3]!=6)&&Je>=0;)--Je;me.l=Je+4,me.l+=4;var $e=me.read_shift(2);me.l+=6;var Ke=me.read_shift(4);for(me.l=Ke,Je=0;Je<$e;++Je){me.l+=20;var ot=me.read_shift(4),Fe=me.read_shift(4),Ye=me.read_shift(2),lt=me.read_shift(2),Mt=me.read_shift(2);me.l+=8;var Dt=me.read_shift(4),Ht=l(me.slice(me.l+Ye,me.l+Ye+lt));me.l+=Ye+lt+Mt;var rs=me.l;me.l=Dt+4,Et(me,ot,Fe,Ne,Ht),me.l=rs}return Ne}function Et(le,Se,me,_e,De){le.l+=2;var Ne=le.read_shift(2),Je=le.read_shift(2),$e=o(le);if(Ne&8257)throw new Error("Unsupported ZIP encryption");for(var Ke=le.read_shift(4),ot=le.read_shift(4),Fe=le.read_shift(4),Ye=le.read_shift(2),lt=le.read_shift(2),Mt="",Dt=0;Dt<Ye;++Dt)Mt+=String.fromCharCode(le[le.l++]);if(lt){var Ht=l(le.slice(le.l,le.l+lt));(Ht[21589]||{}).mt&&($e=Ht[21589].mt),((De||{})[21589]||{}).mt&&($e=De[21589].mt)}le.l+=lt;var rs=le.slice(le.l,le.l+ot);switch(Je){case 8:rs=O(le,Fe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Je)}var fs=!1;Ne&8&&(Ke=le.read_shift(4),Ke==134695760&&(Ke=le.read_shift(4),fs=!0),ot=le.read_shift(4),Fe=le.read_shift(4)),ot!=Se&&Oe(fs,"Bad compressed size: "+Se+" != "+ot),Fe!=me&&Oe(fs,"Bad uncompressed size: "+me+" != "+Fe),Bs(_e,Mt,rs,{unsafe:!0,mt:$e})}function qt(le,Se){var me=Se||{},_e=[],De=[],Ne=gn(1),Je=me.compression?8:0,$e=0,Ke=0,ot=0,Fe=0,Ye=0,lt=le.FullPaths[0],Mt=lt,Dt=le.FileIndex[0],Ht=[],rs=0;for(Ke=1;Ke<le.FullPaths.length;++Ke)if(Mt=le.FullPaths[Ke].slice(lt.length),Dt=le.FileIndex[Ke],!(!Dt.size||!Dt.content||Mt=="Sh33tJ5")){var fs=Fe,Ue=gn(Mt.length);for(ot=0;ot<Mt.length;++ot)Ue.write_shift(1,Mt.charCodeAt(ot)&127);Ue=Ue.slice(0,Ue.l),Ht[Ye]=EW.buf(Dt.content,0);var vt=Dt.content;Je==8&&(vt=z(vt)),Ne=gn(30),Ne.write_shift(4,67324752),Ne.write_shift(2,20),Ne.write_shift(2,$e),Ne.write_shift(2,Je),Dt.mt?i(Ne,Dt.mt):Ne.write_shift(4,0),Ne.write_shift(-4,Ht[Ye]),Ne.write_shift(4,vt.length),Ne.write_shift(4,Dt.content.length),Ne.write_shift(2,Ue.length),Ne.write_shift(2,0),Fe+=Ne.length,_e.push(Ne),Fe+=Ue.length,_e.push(Ue),Fe+=vt.length,_e.push(vt),Ne=gn(46),Ne.write_shift(4,33639248),Ne.write_shift(2,0),Ne.write_shift(2,20),Ne.write_shift(2,$e),Ne.write_shift(2,Je),Ne.write_shift(4,0),Ne.write_shift(-4,Ht[Ye]),Ne.write_shift(4,vt.length),Ne.write_shift(4,Dt.content.length),Ne.write_shift(2,Ue.length),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(4,0),Ne.write_shift(4,fs),rs+=Ne.l,De.push(Ne),rs+=Ue.length,De.push(Ue),++Ye}return Ne=gn(22),Ne.write_shift(4,101010256),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,Ye),Ne.write_shift(2,Ye),Ne.write_shift(4,rs),Ne.write_shift(4,Fe),Ne.write_shift(2,0),Zu([Zu(_e),Zu(De),Ne])}var Gt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Yt(le,Se){if(le.ctype)return le.ctype;var me=le.name||"",_e=me.match(/\.([^\.]+)$/);return _e&&Gt[_e[1]]||Se&&(_e=(me=Se).match(/[\.\\]([^\.\\])+$/),_e&&Gt[_e[1]])?Gt[_e[1]]:"application/octet-stream"}function Xt(le){for(var Se=l_(le),me=[],_e=0;_e<Se.length;_e+=76)me.push(Se.slice(_e,_e+76));return me.join(`\r
`)+`\r
`}function is(le){var Se=le.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ot){var Fe=ot.charCodeAt(0).toString(16).toUpperCase();return"="+(Fe.length==1?"0"+Fe:Fe)});Se=Se.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Se.charAt(0)==`
`&&(Se="=0D"+Se.slice(1)),Se=Se.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var me=[],_e=Se.split(`\r
`),De=0;De<_e.length;++De){var Ne=_e[De];if(Ne.length==0){me.push("");continue}for(var Je=0;Je<Ne.length;){var $e=76,Ke=Ne.slice(Je,Je+$e);Ke.charAt($e-1)=="="?$e--:Ke.charAt($e-2)=="="?$e-=2:Ke.charAt($e-3)=="="&&($e-=3),Ke=Ne.slice(Je,Je+$e),Je+=$e,Je<Ne.length&&(Ke+="="),me.push(Ke)}}return me.join(`\r
`)}function ws(le){for(var Se=[],me=0;me<le.length;++me){for(var _e=le[me];me<=le.length&&_e.charAt(_e.length-1)=="=";)_e=_e.slice(0,_e.length-1)+le[++me];Se.push(_e)}for(var De=0;De<Se.length;++De)Se[De]=Se[De].replace(/[=][0-9A-Fa-f]{2}/g,function(Ne){return String.fromCharCode(parseInt(Ne.slice(1),16))});return Wl(Se.join(`\r
`))}function Us(le,Se,me){for(var _e="",De="",Ne="",Je,$e=0;$e<10;++$e){var Ke=Se[$e];if(!Ke||Ke.match(/^\s*$/))break;var ot=Ke.match(/^(.*?):\s*([^\s].*)$/);if(ot)switch(ot[1].toLowerCase()){case"content-location":_e=ot[2].trim();break;case"content-type":Ne=ot[2].trim();break;case"content-transfer-encoding":De=ot[2].trim();break}}switch(++$e,De.toLowerCase()){case"base64":Je=Wl(Ro(Se.slice($e).join("")));break;case"quoted-printable":Je=ws(Se.slice($e));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+De)}var Fe=Bs(le,_e.slice(me.length),Je,{unsafe:!0});Ne&&(Fe.ctype=Ne)}function Zt(le,Se){if(Z(le.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var me=Se&&Se.root||"",_e=(gr&&Buffer.isBuffer(le)?le.toString("binary"):Z(le)).split(`\r
`),De=0,Ne="";for(De=0;De<_e.length;++De)if(Ne=_e[De],!!/^Content-Location:/i.test(Ne)&&(Ne=Ne.slice(Ne.indexOf("file")),me||(me=Ne.slice(0,Ne.lastIndexOf("/")+1)),Ne.slice(0,me.length)!=me))for(;me.length>0&&(me=me.slice(0,me.length-1),me=me.slice(0,me.lastIndexOf("/")+1),Ne.slice(0,me.length)!=me););var Je=(_e[1]||"").match(/boundary="(.*?)"/);if(!Je)throw new Error("MAD cannot find boundary");var $e="--"+(Je[1]||""),Ke=[],ot=[],Fe={FileIndex:Ke,FullPaths:ot};S(Fe);var Ye,lt=0;for(De=0;De<_e.length;++De){var Mt=_e[De];Mt!==$e&&Mt!==$e+"--"||(lt++&&Us(Fe,_e.slice(Ye,De),me),Ye=De)}return Fe}function Wt(le,Se){var me=Se||{},_e=me.boundary||"SheetJS";_e="------="+_e;for(var De=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+_e.slice(2)+'"',"","",""],Ne=le.FullPaths[0],Je=Ne,$e=le.FileIndex[0],Ke=1;Ke<le.FullPaths.length;++Ke)if(Je=le.FullPaths[Ke].slice(Ne.length),$e=le.FileIndex[Ke],!(!$e.size||!$e.content||Je=="Sh33tJ5")){Je=Je.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(rs){return"_x"+rs.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(rs){return"_u"+rs.charCodeAt(0).toString(16)+"_"});for(var ot=$e.content,Fe=gr&&Buffer.isBuffer(ot)?ot.toString("binary"):Z(ot),Ye=0,lt=Math.min(1024,Fe.length),Mt=0,Dt=0;Dt<=lt;++Dt)(Mt=Fe.charCodeAt(Dt))>=32&&Mt<128&&++Ye;var Ht=Ye>=lt*4/5;De.push(_e),De.push("Content-Location: "+(me.root||"file:///C:/SheetJS/")+Je),De.push("Content-Transfer-Encoding: "+(Ht?"quoted-printable":"base64")),De.push("Content-Type: "+Yt($e,Je)),De.push(""),De.push(Ht?is(Fe):Xt(Fe))}return De.push(_e+`--\r
`),De.join(`\r
`)}function Es(le){var Se={};return S(Se,le),Se}function Bs(le,Se,me,_e){var De=_e&&_e.unsafe;De||S(le);var Ne=!De&&wr.find(le,Se);if(!Ne){var Je=le.FullPaths[0];Se.slice(0,Je.length)==Je?Je=Se:(Je.slice(-1)!="/"&&(Je+="/"),Je=(Je+Se).replace("//","/")),Ne={name:n(Se),type:2},le.FileIndex.push(Ne),le.FullPaths.push(Je),De||wr.utils.cfb_gc(le)}return Ne.content=me,Ne.size=me?me.length:0,_e&&(_e.CLSID&&(Ne.clsid=_e.CLSID),_e.mt&&(Ne.mt=_e.mt),_e.ct&&(Ne.ct=_e.ct)),Ne}function sr(le,Se){S(le);var me=wr.find(le,Se);if(me){for(var _e=0;_e<le.FileIndex.length;++_e)if(le.FileIndex[_e]==me)return le.FileIndex.splice(_e,1),le.FullPaths.splice(_e,1),!0}return!1}function Ms(le,Se,me){S(le);var _e=wr.find(le,Se);if(_e){for(var De=0;De<le.FileIndex.length;++De)if(le.FileIndex[De]==_e)return le.FileIndex[De].name=n(me),le.FullPaths[De]=me,!0}return!1}function dt(le){I(le,!0)}return s.find=T,s.read=V,s.parse=h,s.write=ee,s.writeFile=se,s.utils={cfb_new:Es,cfb_add:Bs,cfb_del:sr,cfb_mov:Ms,cfb_gc:dt,ReadShift:ap,CheckField:RT,prep_blob:Yn,bconcat:Zu,use_zlib:U,_deflateRaw:st,_inflateRaw:qe,consts:X},s}();function TW(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var s=File(t);s.open("r"),s.encoding="binary";var r=s.read();return s.close(),r}catch(a){if(!a.message||!a.message.match(/onstruct/))throw a}throw new Error("Cannot access file "+t)}function sd(t){for(var s=Object.keys(t),r=[],a=0;a<s.length;++a)Object.prototype.hasOwnProperty.call(t,s[a])&&r.push(s[a]);return r}function RN(t){for(var s=[],r=sd(t),a=0;a!==r.length;++a)s[t[r[a]]]=r[a];return s}var r1=new Date(1899,11,30,0,0,0);function Ui(t,s){var r=t.getTime(),a=r1.getTime()+(t.getTimezoneOffset()-r1.getTimezoneOffset())*6e4;return(r-a)/(24*60*60*1e3)}var fT=new Date,DW=r1.getTime()+(fT.getTimezoneOffset()-r1.getTimezoneOffset())*6e4,g_=fT.getTimezoneOffset();function U1(t){var s=new Date;return s.setTime(t*24*60*60*1e3+DW),s.getTimezoneOffset()!==g_&&s.setTime(s.getTime()+(s.getTimezoneOffset()-g_)*6e4),s}function PW(t){var s=0,r=0,a=!1,n=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!n)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var i=1;i!=n.length;++i)if(n[i]){switch(r=1,i>3&&(a=!0),n[i].slice(n[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+n[i].slice(n[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(a)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}s+=r*parseInt(n[i],10)}return s}var y_=new Date("2017-02-19T19:06:09.000Z"),pT=isNaN(y_.getFullYear())?new Date("2/19/17"):y_,MW=pT.getFullYear()==2017;function Dn(t,s){var r=new Date(t);if(MW)return s>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):s<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(pT.getFullYear()==1917&&!isNaN(r.getFullYear())){var a=r.getFullYear();return t.indexOf(""+a)>-1||r.setFullYear(r.getFullYear()+100),r}var n=t.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return t.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function A0(t,s){if(gr&&Buffer.isBuffer(t)){if(s){if(t[0]==255&&t[1]==254)return Kf(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return Kf(sT(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(s){if(t[0]==255&&t[1]==254)return Kf(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return Kf(new TextDecoder("utf-16be").decode(t.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var a=[],n=0;n!=t.length;++n)a.push(String.fromCharCode(t[n]));return a.join("")}function Xn(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=Xn(t[r]));return s}function Da(t,s){for(var r="";r.length<s;)r+=t;return r}function Ql(t){var s=Number(t);if(!isNaN(s))return isFinite(s)?s:NaN;if(!/\d/.test(t))return s;var r=1,a=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(s=Number(a))||(a=a.replace(/[(](.*)[)]/,function(n,i){return r=-r,i}),!isNaN(s=Number(a)))?s/r:s}var LW=["january","february","march","april","may","june","july","august","september","october","november","december"];function cx(t){var s=new Date(t),r=new Date(NaN),a=s.getYear(),n=s.getMonth(),i=s.getDate();if(isNaN(i))return r;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&LW.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return a<0||a>8099?r:(n>0||i>1)&&a!=101?s:t.match(/[^-0-9:,\/\\]/)?r:s}var FW=function(){var t="abacaba".split(/(:?b)/i).length==5;return function(r,a,n){if(t||typeof a=="string")return r.split(a);for(var i=r.split(a),o=[i[0]],l=1;l<i.length;++l)o.push(n),o.push(i[l]);return o}}();function gT(t){return t?t.content&&t.type?A0(t.content,!0):t.data?Wf(t.data):t.asNodeBuffer&&gr?Wf(t.asNodeBuffer().toString("binary")):t.asBinary?Wf(t.asBinary()):t._data&&t._data.getContent?Wf(A0(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function yT(t){if(!t)return null;if(t.data)return i_(t.data);if(t.asNodeBuffer&&gr)return t.asNodeBuffer();if(t._data&&t._data.getContent){var s=t._data.getContent();return typeof s=="string"?i_(s):Array.prototype.slice.call(s)}return t.content&&t.type?t.content:null}function RW(t){return t&&t.name.slice(-4)===".bin"?yT(t):gT(t)}function ol(t,s){for(var r=t.FullPaths||sd(t.files),a=s.toLowerCase().replace(/[\/]/g,"\\"),n=a.replace(/\\/g,"/"),i=0;i<r.length;++i){var o=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(a==o||n==o)return t.files?t.files[r[i]]:t.FileIndex[i]}return null}function ON(t,s){var r=ol(t,s);if(r==null)throw new Error("Cannot find file "+s+" in zip");return r}function rn(t,s,r){if(!r)return RW(ON(t,s));if(!s)return null;try{return rn(t,s)}catch{return null}}function Po(t,s,r){if(!r)return gT(ON(t,s));if(!s)return null;try{return Po(t,s)}catch{return null}}function OW(t,s,r){return yT(ON(t,s))}function b_(t){for(var s=t.FullPaths||sd(t.files),r=[],a=0;a<s.length;++a)s[a].slice(-1)!="/"&&r.push(s[a].replace(/^Root Entry[\/]/,""));return r.sort()}function IW(t,s,r){if(t.FullPaths){if(typeof r=="string"){var a;return gr?a=O0(r):a=rW(r),wr.utils.cfb_add(t,s,a)}wr.utils.cfb_add(t,s,r)}else t.file(s,r)}function bT(t,s){switch(s.type){case"base64":return wr.read(t,{type:"base64"});case"binary":return wr.read(t,{type:"binary"});case"buffer":case"array":return wr.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+s.type)}function Yf(t,s){if(t.charAt(0)=="/")return t.slice(1);var r=s.split("/");s.slice(-1)!="/"&&r.pop();for(var a=t.split("/");a.length!==0;){var n=a.shift();n===".."?r.pop():n!=="."&&r.push(n)}return r.join("/")}var vT=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,BW=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,v_=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,zW=/<[^>]*>/g,_i=vT.match(v_)?v_:zW,$W=/<\w*:/,UW=/<(\/?)\w+:/;function Is(t,s,r){for(var a={},n=0,i=0;n!==t.length&&!((i=t.charCodeAt(n))===32||i===10||i===13);++n);if(s||(a[0]=t.slice(0,n)),n===t.length)return a;var o=t.match(BW),l=0,d="",u=0,h="",f="",p=1;if(o)for(u=0;u!=o.length;++u){for(f=o[u],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(h=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(p=(n=f.charCodeAt(i+1))==34||n==39?1:0,d=f.slice(i+1+p,f.length-p),l=0;l!=h.length&&h.charCodeAt(l)!==58;++l);if(l===h.length)h.indexOf("_")>0&&(h=h.slice(0,h.indexOf("_"))),a[h]=d,a[h.toLowerCase()]=d;else{var g=(l===5&&h.slice(0,5)==="xmlns"?"xmlns":"")+h.slice(l+1);if(a[g]&&h.slice(l-3,l)=="ext")continue;a[g]=d,a[g.toLowerCase()]=d}}return a}function ad(t){return t.replace(UW,"<$1")}var wT={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},VW=RN(wT),Cr=function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,s=/_x([\da-fA-F]{4})_/ig;return function r(a){var n=a+"",i=n.indexOf("<![CDATA[");if(i==-1)return n.replace(t,function(l,d){return wT[l]||String.fromCharCode(parseInt(d,l.indexOf("x")>-1?16:10))||l}).replace(s,function(l,d){return String.fromCharCode(parseInt(d,16))});var o=n.indexOf("]]>");return r(n.slice(0,i))+n.slice(i+9,o)+r(n.slice(o+3))}}(),qW=/[&<>'"]/g,HW=/[\u0000-\u001f]/g;function IN(t){var s=t+"";return s.replace(qW,function(r){return VW[r]}).replace(/\n/g,"<br/>").replace(HW,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var w_=function(){var t=/&#(\d+);/g;function s(r,a){return String.fromCharCode(parseInt(a,10))}return function(a){return a.replace(t,s)}}();function ha(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function qv(t){for(var s="",r=0,a=0,n=0,i=0,o=0,l=0;r<t.length;){if(a=t.charCodeAt(r++),a<128){s+=String.fromCharCode(a);continue}if(n=t.charCodeAt(r++),a>191&&a<224){o=(a&31)<<6,o|=n&63,s+=String.fromCharCode(o);continue}if(i=t.charCodeAt(r++),a<240){s+=String.fromCharCode((a&15)<<12|(n&63)<<6|i&63);continue}o=t.charCodeAt(r++),l=((a&7)<<18|(n&63)<<12|(i&63)<<6|o&63)-65536,s+=String.fromCharCode(55296+(l>>>10&1023)),s+=String.fromCharCode(56320+(l&1023))}return s}function j_(t){var s=mm(2*t.length),r,a,n=1,i=0,o=0,l;for(a=0;a<t.length;a+=n)n=1,(l=t.charCodeAt(a))<128?r=l:l<224?(r=(l&31)*64+(t.charCodeAt(a+1)&63),n=2):l<240?(r=(l&15)*4096+(t.charCodeAt(a+1)&63)*64+(t.charCodeAt(a+2)&63),n=3):(n=4,r=(l&7)*262144+(t.charCodeAt(a+1)&63)*4096+(t.charCodeAt(a+2)&63)*64+(t.charCodeAt(a+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(s[i++]=o&255,s[i++]=o>>>8,o=0),s[i++]=r%256,s[i++]=r>>>8;return s.slice(0,i).toString("ucs2")}function N_(t){return O0(t,"binary").toString("utf8")}var Fy="foo bar baz",sa=gr&&(N_(Fy)==qv(Fy)&&N_||j_(Fy)==qv(Fy)&&j_)||qv,Kf=gr?function(t){return O0(t,"utf8").toString("binary")}:function(t){for(var s=[],r=0,a=0,n=0;r<t.length;)switch(a=t.charCodeAt(r++),!0){case a<128:s.push(String.fromCharCode(a));break;case a<2048:s.push(String.fromCharCode(192+(a>>6))),s.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,n=t.charCodeAt(r++)-56320+(a<<10),s.push(String.fromCharCode(240+(n>>18&7))),s.push(String.fromCharCode(144+(n>>12&63))),s.push(String.fromCharCode(128+(n>>6&63))),s.push(String.fromCharCode(128+(n&63)));break;default:s.push(String.fromCharCode(224+(a>>12))),s.push(String.fromCharCode(128+(a>>6&63))),s.push(String.fromCharCode(128+(a&63)))}return s.join("")},Dp=function(){var t={};return function(r,a){var n=r+"|"+(a||"");return t[n]?t[n]:t[n]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",a||"")}}(),jT=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(s){return[new RegExp("&"+s[0]+";","ig"),s[1]]});return function(r){for(var a=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),n=0;n<t.length;++n)a=a.replace(t[n][0],t[n][1]);return a}}(),WW=function(){var t={};return function(r){return t[r]!==void 0?t[r]:t[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),GW=/<\/?(?:vt:)?variant>/g,YW=/<(?:vt:)([^>]*)>([\s\S]*)</;function S_(t,s){var r=Is(t),a=t.match(WW(r.baseType))||[],n=[];if(a.length!=r.size){if(s.WTF)throw new Error("unexpected vector length "+a.length+" != "+r.size);return n}return a.forEach(function(i){var o=i.replace(GW,"").match(YW);o&&n.push({v:sa(o[2]),t:o[1]})}),n}var KW=/(^\s|\s$|\n)/;function XW(t){return sd(t).map(function(s){return" "+s+'="'+t[s]+'"'}).join("")}function QW(t,s,r){return"<"+t+(r!=null?XW(r):"")+(s!=null?(s.match(KW)?' xml:space="preserve"':"")+">"+s+"</"+t:"/")+">"}function BN(t){if(gr&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return sa(I0(MN(t)));throw new Error("Bad input format: expected Buffer or string")}var Pp=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,JW={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},ZW=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function eG(t,s){for(var r=1-2*(t[s+7]>>>7),a=((t[s+7]&127)<<4)+(t[s+6]>>>4&15),n=t[s+6]&15,i=5;i>=0;--i)n=n*256+t[s+i];return a==2047?n==0?r*(1/0):NaN:(a==0?a=-1022:(a-=1023,n+=Math.pow(2,52)),r*Math.pow(2,a-52)*n)}function tG(t,s,r){var a=(s<0||1/s==-1/0?1:0)<<7,n=0,i=0,o=a?-s:s;isFinite(o)?o==0?n=i=0:(n=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-n),n<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?n=-1022:(i-=Math.pow(2,52),n+=1023)):(n=2047,i=isNaN(s)?26985:0);for(var l=0;l<=5;++l,i/=256)t[r+l]=i&255;t[r+6]=(n&15)<<4|i&15,t[r+7]=n>>4|a}var __=function(t){for(var s=[],r=10240,a=0;a<t[0].length;++a)if(t[0][a])for(var n=0,i=t[0][a].length;n<i;n+=r)s.push.apply(s,t[0][a].slice(n,n+r));return s},C_=gr?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(s){return Buffer.isBuffer(s)?s:O0(s)})):__(t)}:__,k_=function(t,s,r){for(var a=[],n=s;n<r;n+=2)a.push(String.fromCharCode(Hd(t,n)));return a.join("").replace(zi,"")},zN=gr?function(t,s,r){return Buffer.isBuffer(t)?t.toString("utf16le",s,r).replace(zi,""):k_(t,s,r)}:k_,A_=function(t,s,r){for(var a=[],n=s;n<s+r;++n)a.push(("0"+t[n].toString(16)).slice(-2));return a.join("")},NT=gr?function(t,s,r){return Buffer.isBuffer(t)?t.toString("hex",s,s+r):A_(t,s,r)}:A_,E_=function(t,s,r){for(var a=[],n=s;n<r;n++)a.push(String.fromCharCode(Ah(t,n)));return a.join("")},ig=gr?function(s,r,a){return Buffer.isBuffer(s)?s.toString("utf8",r,a):E_(s,r,a)}:E_,ST=function(t,s){var r=Do(t,s);return r>0?ig(t,s+4,s+4+r-1):""},_T=ST,CT=function(t,s){var r=Do(t,s);return r>0?ig(t,s+4,s+4+r-1):""},kT=CT,AT=function(t,s){var r=2*Do(t,s);return r>0?ig(t,s+4,s+4+r-1):""},ET=AT,TT=function(s,r){var a=Do(s,r);return a>0?zN(s,r+4,r+4+a):""},DT=TT,PT=function(t,s){var r=Do(t,s);return r>0?ig(t,s+4,s+4+r):""},MT=PT,LT=function(t,s){return eG(t,s)},a1=LT,FT=function(s){return Array.isArray(s)||typeof Uint8Array<"u"&&s instanceof Uint8Array};gr&&(_T=function(s,r){if(!Buffer.isBuffer(s))return ST(s,r);var a=s.readUInt32LE(r);return a>0?s.toString("utf8",r+4,r+4+a-1):""},kT=function(s,r){if(!Buffer.isBuffer(s))return CT(s,r);var a=s.readUInt32LE(r);return a>0?s.toString("utf8",r+4,r+4+a-1):""},ET=function(s,r){if(!Buffer.isBuffer(s))return AT(s,r);var a=2*s.readUInt32LE(r);return s.toString("utf16le",r+4,r+4+a-1)},DT=function(s,r){if(!Buffer.isBuffer(s))return TT(s,r);var a=s.readUInt32LE(r);return s.toString("utf16le",r+4,r+4+a)},MT=function(s,r){if(!Buffer.isBuffer(s))return PT(s,r);var a=s.readUInt32LE(r);return s.toString("utf8",r+4,r+4+a)},a1=function(s,r){return Buffer.isBuffer(s)?s.readDoubleLE(r):LT(s,r)},FT=function(s){return Buffer.isBuffer(s)||Array.isArray(s)||typeof Uint8Array<"u"&&s instanceof Uint8Array});var Ah=function(t,s){return t[s]},Hd=function(t,s){return t[s+1]*256+t[s]},sG=function(t,s){var r=t[s+1]*256+t[s];return r<32768?r:(65535-r+1)*-1},Do=function(t,s){return t[s+3]*(1<<24)+(t[s+2]<<16)+(t[s+1]<<8)+t[s]},i0=function(t,s){return t[s+3]<<24|t[s+2]<<16|t[s+1]<<8|t[s]},rG=function(t,s){return t[s]<<24|t[s+1]<<16|t[s+2]<<8|t[s+3]};function ap(t,s){var r="",a,n,i=[],o,l,d,u;switch(s){case"dbcs":if(u=this.l,gr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(d=0;d<t;++d)r+=String.fromCharCode(Hd(this,u)),u+=2;t*=2;break;case"utf8":r=ig(this,this.l,this.l+t);break;case"utf16le":t*=2,r=zN(this,this.l,this.l+t);break;case"wstr":return ap.call(this,t,"dbcs");case"lpstr-ansi":r=_T(this,this.l),t=4+Do(this,this.l);break;case"lpstr-cp":r=kT(this,this.l),t=4+Do(this,this.l);break;case"lpwstr":r=ET(this,this.l),t=4+2*Do(this,this.l);break;case"lpp4":t=4+Do(this,this.l),r=DT(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Do(this,this.l),r=MT(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(o=Ah(this,this.l+t++))!==0;)i.push(Ly(o));r=i.join("");break;case"_wstr":for(t=0,r="";(o=Hd(this,this.l+t))!==0;)i.push(Ly(o)),t+=2;t+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,d=0;d<t;++d){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Ah(this,u),this.l=u+1,l=ap.call(this,t-d,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Ly(Hd(this,u))),u+=2}r=i.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,d=0;d!=t;++d){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Ah(this,u),this.l=u+1,l=ap.call(this,t-d,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Ly(Ah(this,u))),u+=1}r=i.join("");break;default:switch(t){case 1:return a=Ah(this,this.l),this.l++,a;case 2:return a=(s==="i"?sG:Hd)(this,this.l),this.l+=2,a;case 4:case-4:return s==="i"||(this[this.l+3]&128)===0?(a=(t>0?i0:rG)(this,this.l),this.l+=4,a):(n=Do(this,this.l),this.l+=4,n);case 8:case-8:if(s==="f")return t==8?n=a1(this,this.l):n=a1([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;t=8;case 16:r=NT(this,this.l,t);break}}return this.l+=t,r}var aG=function(t,s,r){t[r]=s&255,t[r+1]=s>>>8&255,t[r+2]=s>>>16&255,t[r+3]=s>>>24&255},nG=function(t,s,r){t[r]=s&255,t[r+1]=s>>8&255,t[r+2]=s>>16&255,t[r+3]=s>>24&255},iG=function(t,s,r){t[r]=s&255,t[r+1]=s>>>8&255};function oG(t,s,r){var a=0,n=0;if(r==="dbcs"){for(n=0;n!=s.length;++n)iG(this,s.charCodeAt(n),this.l+2*n);a=2*s.length}else if(r==="sbcs"){for(s=s.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=s.length;++n)this[this.l+n]=s.charCodeAt(n)&255;a=s.length}else if(r==="hex"){for(;n<t;++n)this[this.l++]=parseInt(s.slice(2*n,2*n+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+t,this.length);for(n=0;n<Math.min(s.length,t);++n){var o=s.charCodeAt(n);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(t){case 1:a=1,this[this.l]=s&255;break;case 2:a=2,this[this.l]=s&255,s>>>=8,this[this.l+1]=s&255;break;case 3:a=3,this[this.l]=s&255,s>>>=8,this[this.l+1]=s&255,s>>>=8,this[this.l+2]=s&255;break;case 4:a=4,aG(this,s,this.l);break;case 8:if(a=8,r==="f"){tG(this,s,this.l);break}case 16:break;case-4:a=4,nG(this,s,this.l);break}return this.l+=a,this}function RT(t,s){var r=NT(this,this.l,t.length>>1);if(r!==t)throw new Error(s+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Yn(t,s){t.l=s,t.read_shift=ap,t.chk=RT,t.write_shift=oG}function Si(t,s){t.l+=s}function gn(t){var s=mm(t);return Yn(s,0),s}function nu(t,s,r){if(t){var a,n,i;Yn(t,t.l||0);for(var o=t.length,l=0,d=0;t.l<o;){l=t.read_shift(1),l&128&&(l=(l&127)+((t.read_shift(1)&127)<<7));var u=d1[l]||d1[65535];for(a=t.read_shift(1),i=a&127,n=1;n<4&&a&128;++n)i+=((a=t.read_shift(1))&127)<<7*n;d=t.l+i;var h=u.f&&u.f(t,i,r);if(t.l=d,s(h,u,l))return}}}function Zw(){var t=[],s=gr?256:2048,r=function(u){var h=gn(u);return Yn(h,0),h},a=r(s),n=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&t.push(a),a=null)},i=function(u){return a&&u<a.length-a.l?a:(n(),a=r(Math.max(u+1,s)))},o=function(){return n(),Zu(t)},l=function(u){n(),a=u,a.l==null&&(a.l=a.length),i(s)};return{next:i,push:l,end:o,_bufs:t}}function np(t,s,r){var a=Xn(t);if(s.s?(a.cRel&&(a.c+=s.s.c),a.rRel&&(a.r+=s.s.r)):(a.cRel&&(a.c+=s.c),a.rRel&&(a.r+=s.r)),!r||r.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function T_(t,s,r){var a=Xn(t);return a.s=np(a.s,s.s,r),a.e=np(a.e,s.s,r),a}function ip(t,s){if(t.cRel&&t.c<0)for(t=Xn(t);t.c<0;)t.c+=s>8?16384:256;if(t.rRel&&t.r<0)for(t=Xn(t);t.r<0;)t.r+=s>8?1048576:s>5?65536:16384;var r=Gs(t);return!t.cRel&&t.cRel!=null&&(r=dG(r)),!t.rRel&&t.rRel!=null&&(r=lG(r)),r}function Hv(t,s){return t.s.r==0&&!t.s.rRel&&t.e.r==(s.biff>=12?1048575:s.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+vn(t.s.c)+":"+(t.e.cRel?"":"$")+vn(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(s.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Qn(t.s.r)+":"+(t.e.rRel?"":"$")+Qn(t.e.r):ip(t.s,s.biff)+":"+ip(t.e,s.biff)}function $N(t){return parseInt(cG(t),10)-1}function Qn(t){return""+(t+1)}function lG(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function cG(t){return t.replace(/\$(\d+)$/,"$1")}function UN(t){for(var s=uG(t),r=0,a=0;a!==s.length;++a)r=26*r+s.charCodeAt(a)-64;return r-1}function vn(t){if(t<0)throw new Error("invalid column "+t);var s="";for(++t;t;t=Math.floor((t-1)/26))s=String.fromCharCode((t-1)%26+65)+s;return s}function dG(t){return t.replace(/^([A-Z])/,"$$$1")}function uG(t){return t.replace(/^\$([A-Z])/,"$1")}function mG(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Oi(t){for(var s=0,r=0,a=0;a<t.length;++a){var n=t.charCodeAt(a);n>=48&&n<=57?s=10*s+(n-48):n>=65&&n<=90&&(r=26*r+(n-64))}return{c:r-1,r:s-1}}function Gs(t){for(var s=t.c+1,r="";s;s=(s-1)/26|0)r=String.fromCharCode((s-1)%26+65)+r;return r+(t.r+1)}function Nx(t){var s=t.indexOf(":");return s==-1?{s:Oi(t),e:Oi(t)}:{s:Oi(t.slice(0,s)),e:Oi(t.slice(s+1))}}function jr(t,s){return typeof s>"u"||typeof s=="number"?jr(t.s,t.e):(typeof t!="string"&&(t=Gs(t)),typeof s!="string"&&(s=Gs(s)),t==s?t:t+":"+s)}function Ma(t){var s={s:{c:0,r:0},e:{c:0,r:0}},r=0,a=0,n=0,i=t.length;for(r=0;a<i&&!((n=t.charCodeAt(a)-64)<1||n>26);++a)r=26*r+n;for(s.s.c=--r,r=0;a<i&&!((n=t.charCodeAt(a)-48)<0||n>9);++a)r=10*r+n;if(s.s.r=--r,a===i||n!=10)return s.e.c=s.s.c,s.e.r=s.s.r,s;for(++a,r=0;a!=i&&!((n=t.charCodeAt(a)-64)<1||n>26);++a)r=26*r+n;for(s.e.c=--r,r=0;a!=i&&!((n=t.charCodeAt(a)-48)<0||n>9);++a)r=10*r+n;return s.e.r=--r,s}function D_(t,s){var r=t.t=="d"&&s instanceof Date;if(t.z!=null)try{return t.w=pl(t.z,r?Ui(s):s)}catch{}try{return t.w=pl((t.XF||{}).numFmtId||(r?14:0),r?Ui(s):s)}catch{return""+s}}function Jd(t,s,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?$0[t.v]||t.v:s==null?D_(t,t.v):D_(t,s))}function ym(t,s){var r=s&&s.sheet?s.sheet:"Sheet1",a={};return a[r]=t,{SheetNames:[r],Sheets:a}}function OT(t,s,r){var a=r||{},n=t?Array.isArray(t):a.dense,i=t||(n?[]:{}),o=0,l=0;if(i&&a.origin!=null){if(typeof a.origin=="number")o=a.origin;else{var d=typeof a.origin=="string"?Oi(a.origin):a.origin;o=d.r,l=d.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var h=Ma(i["!ref"]);u.s.c=h.s.c,u.s.r=h.s.r,u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),o==-1&&(u.e.r=o=h.e.r+1)}for(var f=0;f!=s.length;++f)if(s[f]){if(!Array.isArray(s[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=s[f].length;++p)if(!(typeof s[f][p]>"u")){var g={v:s[f][p]},v=o+f,y=l+p;if(u.s.r>v&&(u.s.r=v),u.s.c>y&&(u.s.c=y),u.e.r<v&&(u.e.r=v),u.e.c<y&&(u.e.c=y),s[f][p]&&typeof s[f][p]=="object"&&!Array.isArray(s[f][p])&&!(s[f][p]instanceof Date))g=s[f][p];else if(Array.isArray(g.v)&&(g.f=s[f][p][1],g.v=g.v[0]),g.v===null)if(g.f)g.t="n";else if(a.nullError)g.t="e",g.v=0;else if(a.sheetStubs)g.t="z";else continue;else typeof g.v=="number"?g.t="n":typeof g.v=="boolean"?g.t="b":g.v instanceof Date?(g.z=a.dateNF||Ks[14],a.cellDates?(g.t="d",g.w=pl(g.z,Ui(g.v))):(g.t="n",g.v=Ui(g.v),g.w=pl(g.z,g.v))):g.t="s";if(n)i[v]||(i[v]=[]),i[v][y]&&i[v][y].z&&(g.z=i[v][y].z),i[v][y]=g;else{var b=Gs({c:y,r:v});i[b]&&i[b].z&&(g.z=i[b].z),i[b]=g}}}return u.s.c<1e7&&(i["!ref"]=jr(u)),i}function Sx(t,s){return OT(null,t,s)}function hG(t){return t.read_shift(4,"i")}function vi(t){var s=t.read_shift(4);return s===0?"":t.read_shift(s,"dbcs")}function xG(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function VN(t,s){var r=t.l,a=t.read_shift(1),n=vi(t),i=[],o={t:n,h:n};if((a&1)!==0){for(var l=t.read_shift(4),d=0;d!=l;++d)i.push(xG(t));o.r=i}else o.r=[{ich:0,ifnt:0}];return t.l=r+s,o}var fG=VN;function yl(t){var s=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:s,iStyleRef:r}}function B0(t){var s=t.read_shift(2);return s+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:s}}var pG=vi;function qN(t){var s=t.read_shift(4);return s===0||s===4294967295?"":t.read_shift(s,"dbcs")}var gG=vi,ej=qN;function HN(t){var s=t.slice(t.l,t.l+4),r=s[0]&1,a=s[0]&2;t.l+=4;var n=a===0?a1([0,0,0,0,s[0]&252,s[1],s[2],s[3]],0):i0(s,0)>>2;return r?n/100:n}function IT(t){var s={s:{},e:{}};return s.s.r=t.read_shift(4),s.e.r=t.read_shift(4),s.s.c=t.read_shift(4),s.e.c=t.read_shift(4),s}var z0=IT;function hi(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function yG(t){var s={},r=t.read_shift(1),a=r>>>1,n=t.read_shift(1),i=t.read_shift(2,"i"),o=t.read_shift(1),l=t.read_shift(1),d=t.read_shift(1);switch(t.l++,a){case 0:s.auto=1;break;case 1:s.index=n;var u=y0[n];u&&(s.rgb=Lp(u));break;case 2:s.rgb=Lp([o,l,d]);break;case 3:s.theme=n;break}return i!=0&&(s.tint=i>0?i/32767:i/32768),s}function bG(t){var s=t.read_shift(1);t.l++;var r={fBold:s&1,fItalic:s&2,fUnderline:s&4,fStrikeout:s&8,fOutline:s&16,fShadow:s&32,fCondense:s&64,fExtend:s&128};return r}function BT(t,s){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},a=t.read_shift(4);switch(a){case 0:return"";case 4294967295:case 4294967294:return r[t.read_shift(4)]||""}if(a>400)throw new Error("Unsupported Clipboard: "+a.toString(16));return t.l-=4,t.read_shift(0,s==1?"lpstr":"lpwstr")}function vG(t){return BT(t,1)}function wG(t){return BT(t,2)}var WN=2,so=3,Ry=11,P_=12,n1=19,Oy=64,jG=65,NG=71,SG=4108,_G=4126,En=80,zT=81,CG=[En,zT],kG={1:{n:"CodePage",t:WN},2:{n:"Category",t:En},3:{n:"PresentationFormat",t:En},4:{n:"ByteCount",t:so},5:{n:"LineCount",t:so},6:{n:"ParagraphCount",t:so},7:{n:"SlideCount",t:so},8:{n:"NoteCount",t:so},9:{n:"HiddenCount",t:so},10:{n:"MultimediaClipCount",t:so},11:{n:"ScaleCrop",t:Ry},12:{n:"HeadingPairs",t:SG},13:{n:"TitlesOfParts",t:_G},14:{n:"Manager",t:En},15:{n:"Company",t:En},16:{n:"LinksUpToDate",t:Ry},17:{n:"CharacterCount",t:so},19:{n:"SharedDoc",t:Ry},22:{n:"HyperlinksChanged",t:Ry},23:{n:"AppVersion",t:so,p:"version"},24:{n:"DigSig",t:jG},26:{n:"ContentType",t:En},27:{n:"ContentStatus",t:En},28:{n:"Language",t:En},29:{n:"Version",t:En},255:{},2147483648:{n:"Locale",t:n1},2147483651:{n:"Behavior",t:n1},1919054434:{}},AG={1:{n:"CodePage",t:WN},2:{n:"Title",t:En},3:{n:"Subject",t:En},4:{n:"Author",t:En},5:{n:"Keywords",t:En},6:{n:"Comments",t:En},7:{n:"Template",t:En},8:{n:"LastAuthor",t:En},9:{n:"RevNumber",t:En},10:{n:"EditTime",t:Oy},11:{n:"LastPrinted",t:Oy},12:{n:"CreatedDate",t:Oy},13:{n:"ModifiedDate",t:Oy},14:{n:"PageCount",t:so},15:{n:"WordCount",t:so},16:{n:"CharCount",t:so},17:{n:"Thumbnail",t:NG},18:{n:"Application",t:En},19:{n:"DocSecurity",t:so},255:{},2147483648:{n:"Locale",t:n1},2147483651:{n:"Behavior",t:n1},1919054434:{}},M_={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},EG=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function TG(t){return t.map(function(s){return[s>>16&255,s>>8&255,s&255]})}var DG=TG([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),y0=Xn(DG),$0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},$T={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},L_={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function PG(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function MG(t){var s=PG();if(!t||!t.match)return s;var r={};if((t.match(_i)||[]).forEach(function(a){var n=Is(a);switch(n[0].replace($W,"<")){case"<?xml":break;case"<Types":s.xmlns=n["xmlns"+(n[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[n.Extension]=n.ContentType;break;case"<Override":s[L_[n.ContentType]]!==void 0&&s[L_[n.ContentType]].push(n.PartName);break}}),s.xmlns!==JW.CT)throw new Error("Unknown Namespace: "+s.xmlns);return s.calcchain=s.calcchains.length>0?s.calcchains[0]:"",s.sst=s.strs.length>0?s.strs[0]:"",s.style=s.styles.length>0?s.styles[0]:"",s.defaults=r,delete s.calcchains,s}var Lh={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function tj(t){var s=t.lastIndexOf("/");return t.slice(0,s+1)+"_rels/"+t.slice(s+1)+".rels"}function op(t,s){var r={"!id":{}};if(!t)return r;s.charAt(0)!=="/"&&(s="/"+s);var a={};return(t.match(_i)||[]).forEach(function(n){var i=Is(n);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var l=i.TargetMode==="External"?i.Target:Yf(i.Target,s);r[l]=o,a[i.Id]=o}}),r["!id"]=a,r}var LG="application/vnd.oasis.opendocument.spreadsheet";function FG(t,s){for(var r=BN(t),a,n;a=Pp.exec(r);)switch(a[3]){case"manifest":break;case"file-entry":if(n=Is(a[0],!1),n.path=="/"&&n.type!==LG)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(s&&s.WTF)throw a}}var lp=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],RG=function(){for(var t=new Array(lp.length),s=0;s<lp.length;++s){var r=lp[s],a="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);t[s]=new RegExp("<"+a+"[^>]*>([\\s\\S]*?)</"+a+">")}return t}();function UT(t){var s={};t=sa(t);for(var r=0;r<lp.length;++r){var a=lp[r],n=t.match(RG[r]);n!=null&&n.length>0&&(s[a[1]]=Cr(n[1])),a[2]==="date"&&s[a[1]]&&(s[a[1]]=Dn(s[a[1]]))}return s}var OG=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function VT(t,s,r,a){var n=[];if(typeof t=="string")n=S_(t,a);else for(var i=0;i<t.length;++i)n=n.concat(t[i].map(function(h){return{v:h}}));var o=typeof s=="string"?S_(s,a).map(function(h){return h.v}):s,l=0,d=0;if(o.length>0)for(var u=0;u!==n.length;u+=2){switch(d=+n[u+1].v,n[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=d,r.SheetNames=o.slice(l,l+d);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=d,r.DefinedNames=o.slice(l,l+d);break;case"Charts":case"Diagramme":r.Chartsheets=d,r.ChartNames=o.slice(l,l+d);break}l+=d}}function IG(t,s,r){var a={};return s||(s={}),t=sa(t),OG.forEach(function(n){var i=(t.match(Dp(n[0]))||[])[1];switch(n[2]){case"string":i&&(s[n[1]]=Cr(i));break;case"bool":s[n[1]]=i==="true";break;case"raw":var o=t.match(new RegExp("<"+n[0]+"[^>]*>([\\s\\S]*?)</"+n[0]+">"));o&&o.length>0&&(a[n[1]]=o[1]);break}}),a.HeadingPairs&&a.TitlesOfParts&&VT(a.HeadingPairs,a.TitlesOfParts,s,r),s}var BG=/<[^>]+>[^<]*/g;function zG(t,s){var r={},a="",n=t.match(BG);if(n)for(var i=0;i!=n.length;++i){var o=n[i],l=Is(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":a=Cr(l.name);break;case"</property>":a=null;break;default:if(o.indexOf("<vt:")===0){var d=o.split(">"),u=d[0].slice(4),h=d[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[a]=Cr(h);break;case"bool":r[a]=ha(h);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[a]=parseInt(h,10);break;case"r4":case"r8":case"decimal":r[a]=parseFloat(h);break;case"filetime":case"date":r[a]=Dn(h);break;case"cy":case"error":r[a]=Cr(h);break;default:if(u.slice(-1)=="/")break;s.WTF&&typeof console<"u"&&console.warn("Unexpected",o,u,d)}}else if(o.slice(0,2)!=="</"){if(s.WTF)throw new Error(o)}}}return r}var $G={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Wv;function UG(t,s,r){Wv||(Wv=RN($G)),s=Wv[s]||s,t[s]=r}function GN(t){var s=t.read_shift(4),r=t.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+s/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function qT(t,s,r){var a=t.l,n=t.read_shift(0,"lpstr-cp");if(r)for(;t.l-a&3;)++t.l;return n}function HT(t,s,r){var a=t.read_shift(0,"lpwstr");return a}function WT(t,s,r){return s===31?HT(t):qT(t,s,r)}function sj(t,s,r){return WT(t,s,r===!1?0:4)}function VG(t,s){if(!s)throw new Error("VtUnalignedString must have positive length");return WT(t,s,0)}function qG(t){for(var s=t.read_shift(4),r=[],a=0;a!=s;++a){var n=t.l;r[a]=t.read_shift(0,"lpwstr").replace(zi,""),t.l-n&2&&(t.l+=2)}return r}function HG(t){for(var s=t.read_shift(4),r=[],a=0;a!=s;++a)r[a]=t.read_shift(0,"lpstr-cp").replace(zi,"");return r}function WG(t){var s=t.l,r=i1(t,zT);t[t.l]==0&&t[t.l+1]==0&&t.l-s&2&&(t.l+=2);var a=i1(t,so);return[r,a]}function GG(t){for(var s=t.read_shift(4),r=[],a=0;a<s/2;++a)r.push(WG(t));return r}function F_(t,s){for(var r=t.read_shift(4),a={},n=0;n!=r;++n){var i=t.read_shift(4),o=t.read_shift(4);a[i]=t.read_shift(o,s===1200?"utf16le":"utf8").replace(zi,"").replace(Gf,"!"),s===1200&&o%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),a}function GT(t){var s=t.read_shift(4),r=t.slice(t.l,t.l+s);return t.l+=s,(s&3)>0&&(t.l+=4-(s&3)&3),r}function YG(t){var s={};return s.Size=t.read_shift(4),t.l+=s.Size+3-(s.Size-1)%4,s}function i1(t,s,r){var a=t.read_shift(2),n,i=r||{};if(t.l+=2,s!==P_&&a!==s&&CG.indexOf(s)===-1&&!((s&65534)==4126&&(a&65534)==4126))throw new Error("Expected type "+s+" saw "+a);switch(s===P_?a:s){case 2:return n=t.read_shift(2,"i"),i.raw||(t.l+=2),n;case 3:return n=t.read_shift(4,"i"),n;case 11:return t.read_shift(4)!==0;case 19:return n=t.read_shift(4),n;case 30:return qT(t,a,4).replace(zi,"");case 31:return HT(t);case 64:return GN(t);case 65:return GT(t);case 71:return YG(t);case 80:return sj(t,a,!i.raw).replace(zi,"");case 81:return VG(t,a).replace(zi,"");case 4108:return GG(t);case 4126:case 4127:return a==4127?qG(t):HG(t);default:throw new Error("TypedPropertyValue unrecognized type "+s+" "+a)}}function R_(t,s){var r=t.l,a=t.read_shift(4),n=t.read_shift(4),i=[],o=0,l=0,d=-1,u={};for(o=0;o!=n;++o){var h=t.read_shift(4),f=t.read_shift(4);i[o]=[h,f+r]}i.sort(function(k,A){return k[1]-A[1]});var p={};for(o=0;o!=n;++o){if(t.l!==i[o][1]){var g=!0;if(o>0&&s)switch(s[i[o-1][0]].t){case 2:t.l+2===i[o][1]&&(t.l+=2,g=!1);break;case 80:t.l<=i[o][1]&&(t.l=i[o][1],g=!1);break;case 4108:t.l<=i[o][1]&&(t.l=i[o][1],g=!1);break}if((!s||o==0)&&t.l<=i[o][1]&&(g=!1,t.l=i[o][1]),g)throw new Error("Read Error: Expected address "+i[o][1]+" at "+t.l+" :"+o)}if(s){var v=s[i[o][0]];if(p[v.n]=i1(t,v.t,{raw:!0}),v.p==="version"&&(p[v.n]=String(p[v.n]>>16)+"."+("0000"+String(p[v.n]&65535)).slice(-4)),v.n=="CodePage")switch(p[v.n]){case 0:p[v.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Kl(l=p[v.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+p[v.n])}}else if(i[o][0]===1){if(l=p.CodePage=i1(t,WN),Kl(l),d!==-1){var y=t.l;t.l=i[d][1],u=F_(t,l),t.l=y}}else if(i[o][0]===0){if(l===0){d=o,t.l=i[o+1][1];continue}u=F_(t,l)}else{var b=u[i[o][0]],_;switch(t[t.l]){case 65:t.l+=4,_=GT(t);break;case 30:t.l+=4,_=sj(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,_=sj(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,_=t.read_shift(4,"i");break;case 19:t.l+=4,_=t.read_shift(4);break;case 5:t.l+=4,_=t.read_shift(8,"f");break;case 11:t.l+=4,_=$a(t,4);break;case 64:t.l+=4,_=Dn(GN(t));break;default:throw new Error("unparsed value: "+t[t.l])}p[b]=_}}return t.l=r+a,p}function O_(t,s,r){var a=t.content;if(!a)return{};Yn(a,0);var n,i,o,l,d=0;a.chk("feff","Byte Order: "),a.read_shift(2);var u=a.read_shift(4),h=a.read_shift(16);if(h!==wr.utils.consts.HEADER_CLSID&&h!==r)throw new Error("Bad PropertySet CLSID "+h);if(n=a.read_shift(4),n!==1&&n!==2)throw new Error("Unrecognized #Sets: "+n);if(i=a.read_shift(16),l=a.read_shift(4),n===1&&l!==a.l)throw new Error("Length mismatch: "+l+" !== "+a.l);n===2&&(o=a.read_shift(16),d=a.read_shift(4));var f=R_(a,s),p={SystemIdentifier:u};for(var g in f)p[g]=f[g];if(p.FMTID=i,n===1)return p;if(d-a.l==2&&(a.l+=2),a.l!==d)throw new Error("Length mismatch 2: "+a.l+" !== "+d);var v;try{v=R_(a,null)}catch{}for(g in v)p[g]=v[g];return p.FMTID=[i,o],p}function Wu(t,s){return t.read_shift(s),null}function KG(t,s,r){for(var a=[],n=t.l+s;t.l<n;)a.push(r(t,n-t.l));if(n!==t.l)throw new Error("Slurp error");return a}function $a(t,s){return t.read_shift(s)===1}function an(t){return t.read_shift(2,"u")}function YT(t,s){return KG(t,s,an)}function XG(t){var s=t.read_shift(1),r=t.read_shift(1);return r===1?s:s===1}function og(t,s,r){var a=t.read_shift(r&&r.biff>=12?2:1),n="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=t.read_shift(1);i&&(n="dbcs-cont")}else r.biff==12&&(n="wstr");r.biff>=2&&r.biff<=5&&(n="cpstr");var o=a?t.read_shift(a,n):"";return o}function QG(t){var s=t.read_shift(2),r=t.read_shift(1),a=r&4,n=r&8,i=1+(r&1),o=0,l,d={};n&&(o=t.read_shift(2)),a&&(l=t.read_shift(4));var u=i==2?"dbcs-cont":"sbcs-cont",h=s===0?"":t.read_shift(s,u);return n&&(t.l+=4*o),a&&(t.l+=l),d.t=h,n||(d.raw="<t>"+d.t+"</t>",d.r=d.t),d}function E0(t,s,r){var a;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(s,"cpstr");if(r.biff>=12)return t.read_shift(s,"dbcs-cont")}var n=t.read_shift(1);return n===0?a=t.read_shift(s,"sbcs-cont"):a=t.read_shift(s,"dbcs-cont"),a}function lg(t,s,r){var a=t.read_shift(r&&r.biff==2?1:2);return a===0?(t.l++,""):E0(t,a,r)}function U0(t,s,r){if(r.biff>5)return lg(t,s,r);var a=t.read_shift(1);return a===0?(t.l++,""):t.read_shift(a,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function JG(t){var s=t.read_shift(1);t.l++;var r=t.read_shift(2);return t.l+=2,[s,r]}function ZG(t){var s=t.read_shift(4),r=t.l,a=!1;s>24&&(t.l+=s-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(a=!0),t.l=r);var n=t.read_shift((a?s-24:s)>>1,"utf16le").replace(zi,"");return a&&(t.l+=24),n}function eY(t){for(var s=t.read_shift(2),r="";s-- >0;)r+="../";var a=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var n=t.read_shift(4);if(n===0)return r+a.replace(/\\/g,"/");var i=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=t.read_shift(i>>1,"utf16le").replace(zi,"");return r+o}function tY(t,s){var r=t.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return ZG(t);case"0303000000000000c000000000000046":return eY(t);default:throw new Error("Unsupported Moniker "+r)}}function Iy(t){var s=t.read_shift(4),r=s>0?t.read_shift(s,"utf16le").replace(zi,""):"";return r}function sY(t,s){var r=t.l+s,a=t.read_shift(4);if(a!==2)throw new Error("Unrecognized streamVersion: "+a);var n=t.read_shift(2);t.l+=2;var i,o,l,d,u="",h,f;n&16&&(i=Iy(t,r-t.l)),n&128&&(o=Iy(t,r-t.l)),(n&257)===257&&(l=Iy(t,r-t.l)),(n&257)===1&&(d=tY(t,r-t.l)),n&8&&(u=Iy(t,r-t.l)),n&32&&(h=t.read_shift(16)),n&64&&(f=GN(t)),t.l=r;var p=o||l||d||"";p&&u&&(p+="#"+u),p||(p="#"+u),n&2&&p.charAt(0)=="/"&&p.charAt(1)!="/"&&(p="file://"+p);var g={Target:p};return h&&(g.guid=h),f&&(g.time=f),i&&(g.Tooltip=i),g}function KT(t){var s=t.read_shift(1),r=t.read_shift(1),a=t.read_shift(1),n=t.read_shift(1);return[s,r,a,n]}function XT(t,s){var r=KT(t);return r[3]=0,r}function nd(t){var s=t.read_shift(2),r=t.read_shift(2),a=t.read_shift(2);return{r:s,c:r,ixfe:a}}function rY(t){var s=t.read_shift(2),r=t.read_shift(2);return t.l+=8,{type:s,flags:r}}function aY(t,s,r){return s===0?"":U0(t,s,r)}function nY(t,s,r){var a=r.biff>8?4:2,n=t.read_shift(a),i=t.read_shift(a,"i"),o=t.read_shift(a,"i");return[n,i,o]}function QT(t){var s=t.read_shift(2),r=HN(t);return[s,r]}function iY(t,s,r){t.l+=4,s-=4;var a=t.l+s,n=og(t,s,r),i=t.read_shift(2);if(a-=t.l,i!==a)throw new Error("Malformed AddinUdf: padding = "+a+" != "+i);return t.l+=i,n}function V1(t){var s=t.read_shift(2),r=t.read_shift(2),a=t.read_shift(2),n=t.read_shift(2);return{s:{c:a,r:s},e:{c:n,r}}}function JT(t){var s=t.read_shift(2),r=t.read_shift(2),a=t.read_shift(1),n=t.read_shift(1);return{s:{c:a,r:s},e:{c:n,r}}}var oY=JT;function ZT(t){t.l+=4;var s=t.read_shift(2),r=t.read_shift(2),a=t.read_shift(2);return t.l+=12,[r,s,a]}function lY(t){var s={};return t.l+=4,t.l+=16,s.fSharedNote=t.read_shift(2),t.l+=4,s}function cY(t){var s={};return t.l+=4,t.cf=t.read_shift(2),s}function ni(t){t.l+=2,t.l+=t.read_shift(2)}var dY={0:ni,4:ni,5:ni,6:ni,7:cY,8:ni,9:ni,10:ni,11:ni,12:ni,13:lY,14:ni,15:ni,16:ni,17:ni,18:ni,19:ni,20:ni,21:ZT};function uY(t,s){for(var r=t.l+s,a=[];t.l<r;){var n=t.read_shift(2);t.l-=2;try{a.push(dY[n](t,r-t.l))}catch{return t.l=r,a}}return t.l!=r&&(t.l=r),a}function By(t,s){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=t.read_shift(2),s-=2,s>=2&&(r.dt=t.read_shift(2),t.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(s>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return t.read_shift(s),r}function mY(t,s){return s===0||t.read_shift(2),1200}function hY(t,s,r){if(r.enc)return t.l+=s,"";var a=t.l,n=U0(t,0,r);return t.read_shift(s+a-t.l),n}function xY(t,s,r){var a=r&&r.biff==8||s==2?t.read_shift(2):(t.l+=s,0);return{fDialog:a&16,fBelow:a&64,fRight:a&128}}function fY(t,s,r){var a=t.read_shift(4),n=t.read_shift(1)&3,i=t.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=og(t,0,r);return o.length===0&&(o="Sheet1"),{pos:a,hs:n,dt:i,name:o}}function pY(t,s){for(var r=t.l+s,a=t.read_shift(4),n=t.read_shift(4),i=[],o=0;o!=n&&t.l<r;++o)i.push(QG(t));return i.Count=a,i.Unique=n,i}function gY(t,s){var r={};return r.dsst=t.read_shift(2),t.l+=s-2,r}function yY(t){var s={};s.r=t.read_shift(2),s.c=t.read_shift(2),s.cnt=t.read_shift(2)-s.c;var r=t.read_shift(2);t.l+=4;var a=t.read_shift(1);return t.l+=3,a&7&&(s.level=a&7),a&32&&(s.hidden=!0),a&64&&(s.hpt=r/20),s}function bY(t){var s=rY(t);if(s.type!=2211)throw new Error("Invalid Future Record "+s.type);var r=t.read_shift(4);return r!==0}function vY(t){return t.read_shift(2),t.read_shift(4)}function I_(t,s,r){var a=0;r&&r.biff==2||(a=t.read_shift(2));var n=t.read_shift(2);r&&r.biff==2&&(a=1-(n>>15),n&=32767);var i={Unsynced:a&1,DyZero:(a&2)>>1,ExAsc:(a&4)>>2,ExDsc:(a&8)>>3};return[i,n]}function wY(t){var s=t.read_shift(2),r=t.read_shift(2),a=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),d=t.read_shift(2),u=t.read_shift(2);return{Pos:[s,r],Dim:[a,n],Flags:i,CurTab:o,FirstTab:l,Selected:d,TabRatio:u}}function jY(t,s,r){if(r&&r.biff>=2&&r.biff<5)return{};var a=t.read_shift(2);return{RTL:a&64}}function NY(){}function SY(t,s,r){var a={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return a.name=og(t,0,r),a}function _Y(t){var s=nd(t);return s.isst=t.read_shift(4),s}function CY(t,s,r){r.biffguess&&r.biff==2&&(r.biff=5);var a=t.l+s,n=nd(t);r.biff==2&&t.l++;var i=lg(t,a-t.l,r);return n.val=i,n}function kY(t,s,r){var a=t.read_shift(2),n=U0(t,0,r);return[a,n]}var AY=U0;function B_(t,s,r){var a=t.l+s,n=r.biff==8||!r.biff?4:2,i=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(2),d=t.read_shift(2);return t.l=a,{s:{r:i,c:l},e:{r:o,c:d}}}function EY(t){var s=t.read_shift(2),r=t.read_shift(2),a=QT(t);return{r:s,c:r,ixfe:a[0],rknum:a[1]}}function TY(t,s){for(var r=t.l+s-2,a=t.read_shift(2),n=t.read_shift(2),i=[];t.l<r;)i.push(QT(t));if(t.l!==r)throw new Error("MulRK read error");var o=t.read_shift(2);if(i.length!=o-n+1)throw new Error("MulRK length mismatch");return{r:a,c:n,C:o,rkrec:i}}function DY(t,s){for(var r=t.l+s-2,a=t.read_shift(2),n=t.read_shift(2),i=[];t.l<r;)i.push(t.read_shift(2));if(t.l!==r)throw new Error("MulBlank read error");var o=t.read_shift(2);if(i.length!=o-n+1)throw new Error("MulBlank length mismatch");return{r:a,c:n,C:o,ixfe:i}}function PY(t,s,r,a){var n={},i=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(4),d=t.read_shift(2);return n.patternType=EG[l>>26],a.cellStyles&&(n.alc=i&7,n.fWrap=i>>3&1,n.alcV=i>>4&7,n.fJustLast=i>>7&1,n.trot=i>>8&255,n.cIndent=i>>16&15,n.fShrinkToFit=i>>20&1,n.iReadOrder=i>>22&2,n.fAtrNum=i>>26&1,n.fAtrFnt=i>>27&1,n.fAtrAlc=i>>28&1,n.fAtrBdr=i>>29&1,n.fAtrPat=i>>30&1,n.fAtrProt=i>>31&1,n.dgLeft=o&15,n.dgRight=o>>4&15,n.dgTop=o>>8&15,n.dgBottom=o>>12&15,n.icvLeft=o>>16&127,n.icvRight=o>>23&127,n.grbitDiag=o>>30&3,n.icvTop=l&127,n.icvBottom=l>>7&127,n.icvDiag=l>>14&127,n.dgDiag=l>>21&15,n.icvFore=d&127,n.icvBack=d>>7&127,n.fsxButton=d>>14&1),n}function MY(t,s,r){var a={};return a.ifnt=t.read_shift(2),a.numFmtId=t.read_shift(2),a.flags=t.read_shift(2),a.fStyle=a.flags>>2&1,s-=6,a.data=PY(t,s,a.fStyle,r),a}function LY(t){t.l+=4;var s=[t.read_shift(2),t.read_shift(2)];if(s[0]!==0&&s[0]--,s[1]!==0&&s[1]--,s[0]>7||s[1]>7)throw new Error("Bad Gutters: "+s.join("|"));return s}function z_(t,s,r){var a=nd(t);(r.biff==2||s==9)&&++t.l;var n=XG(t);return a.val=n,a.t=n===!0||n===!1?"b":"e",a}function FY(t,s,r){r.biffguess&&r.biff==2&&(r.biff=5);var a=nd(t),n=hi(t);return a.val=n,a}var $_=aY;function RY(t,s,r){var a=t.l+s,n=t.read_shift(2),i=t.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,n];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=E0(t,i),l=[];a>t.l;)l.push(lg(t));return[i,n,o,l]}function U_(t,s,r){var a=t.read_shift(2),n,i={fBuiltIn:a&1,fWantAdvise:a>>>1&1,fWantPict:a>>>2&1,fOle:a>>>3&1,fOleLink:a>>>4&1,cf:a>>>5&1023,fIcon:a>>>15&1};return r.sbcch===14849&&(n=iY(t,s-2,r)),i.body=n||t.read_shift(s-2),typeof n=="string"&&(i.Name=n),i}var OY=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function V_(t,s,r){var a=t.l+s,n=t.read_shift(2),i=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(r&&r.biff==2?1:2),d=0;(!r||r.biff>=5)&&(r.biff!=5&&(t.l+=2),d=t.read_shift(2),r.biff==5&&(t.l+=2),t.l+=4);var u=E0(t,o,r);n&32&&(u=OY[u.charCodeAt(0)]);var h=a-t.l;r&&r.biff==2&&--h;var f=a==t.l||l===0||!(h>0)?[]:yJ(t,h,r,l);return{chKey:i,Name:u,itab:d,rgce:f}}function eD(t,s,r){if(r.biff<8)return IY(t,s,r);for(var a=[],n=t.l+s,i=t.read_shift(r.biff>8?4:2);i--!==0;)a.push(nY(t,r.biff>8?12:6,r));if(t.l!=n)throw new Error("Bad ExternSheet: "+t.l+" != "+n);return a}function IY(t,s,r){t[t.l+1]==3&&t[t.l]++;var a=og(t,s,r);return a.charCodeAt(0)==3?a.slice(1):a}function BY(t,s,r){if(r.biff<8){t.l+=s;return}var a=t.read_shift(2),n=t.read_shift(2),i=E0(t,a,r),o=E0(t,n,r);return[i,o]}function zY(t,s,r){var a=JT(t);t.l++;var n=t.read_shift(1);return s-=8,[bJ(t,s,r),n,a]}function q_(t,s,r){var a=oY(t);switch(r.biff){case 2:t.l++,s-=7;break;case 3:case 4:t.l+=2,s-=8;break;default:t.l+=6,s-=12}return[a,pJ(t,s,r)]}function $Y(t){var s=t.read_shift(4)!==0,r=t.read_shift(4)!==0,a=t.read_shift(4);return[s,r,a]}function UY(t,s,r){if(!(r.biff<8)){var a=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2),o=t.read_shift(2),l=U0(t,0,r);return r.biff<8&&t.read_shift(1),[{r:a,c:n},l,o,i]}}function VY(t,s,r){return UY(t,s,r)}function qY(t,s){for(var r=[],a=t.read_shift(2);a--;)r.push(V1(t));return r}function HY(t,s,r){if(r&&r.biff<8)return GY(t,s,r);var a=ZT(t),n=uY(t,s-22,a[1]);return{cmo:a,ft:n}}var WY={8:function(t,s){var r=t.l+s;t.l+=10;var a=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var n=t.read_shift(1);return t.l+=n,t.l=r,{fmt:a}}};function GY(t,s,r){t.l+=4;var a=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,s-=36;var o=[];return o.push((WY[a]||Si)(t,s,r)),{cmo:[n,a,i],ft:o}}function YY(t,s,r){var a=t.l,n="";try{t.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?t.l+=6:o=JG(t,6,r);var l=t.read_shift(2);t.read_shift(2),an(t,2);var d=t.read_shift(2);t.l+=d;for(var u=1;u<t.lens.length-1;++u){if(t.l-a!=t.lens[u])throw new Error("TxO: bad continue record");var h=t[t.l],f=E0(t,t.lens[u+1]-t.lens[u]-1);if(n+=f,n.length>=(h?l:2*l))break}if(n.length!==l&&n.length!==l*2)throw new Error("cchText: "+l+" != "+n.length);return t.l=a+s,{t:n}}catch{return t.l=a+s,{t:n}}}function KY(t,s){var r=V1(t);t.l+=16;var a=sY(t,s-24);return[r,a]}function XY(t,s){t.read_shift(2);var r=V1(t),a=t.read_shift((s-10)/2,"dbcs-cont");return a=a.replace(zi,""),[r,a]}function QY(t){var s=[0,0],r;return r=t.read_shift(2),s[0]=M_[r]||r,r=t.read_shift(2),s[1]=M_[r]||r,s}function JY(t){for(var s=t.read_shift(2),r=[];s-- >0;)r.push(XT(t));return r}function ZY(t){for(var s=t.read_shift(2),r=[];s-- >0;)r.push(XT(t));return r}function eK(t){t.l+=2;var s={cxfs:0,crc:0};return s.cxfs=t.read_shift(2),s.crc=t.read_shift(4),s}function tD(t,s,r){if(!r.cellStyles)return Si(t,s);var a=r&&r.biff>=12?4:2,n=t.read_shift(a),i=t.read_shift(a),o=t.read_shift(a),l=t.read_shift(a),d=t.read_shift(2);a==2&&(t.l+=2);var u={s:n,e:i,w:o,ixfe:l,flags:d};return(r.biff>=5||!r.biff)&&(u.level=d>>8&7),u}function tK(t,s){var r={};return s<32||(t.l+=16,r.header=hi(t),r.footer=hi(t),t.l+=2),r}function sK(t,s,r){var a={area:!1};if(r.biff!=5)return t.l+=s,a;var n=t.read_shift(1);return t.l+=3,n&16&&(a.area=!0),a}var rK=nd,aK=YT,nK=lg;function iK(t){var s=t.read_shift(2),r=t.read_shift(2),a=t.read_shift(4),n={fmt:s,env:r,len:a,data:t.slice(t.l,t.l+a)};return t.l+=a,n}function oK(t,s,r){r.biffguess&&r.biff==5&&(r.biff=2);var a=nd(t);++t.l;var n=U0(t,s-7,r);return a.t="str",a.val=n,a}function lK(t){var s=nd(t);++t.l;var r=hi(t);return s.t="n",s.val=r,s}function cK(t){var s=nd(t);++t.l;var r=t.read_shift(2);return s.t="n",s.val=r,s}function dK(t){var s=t.read_shift(1);return s===0?(t.l++,""):t.read_shift(s,"sbcs-cont")}function uK(t,s){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=s-13}function mK(t,s,r){var a=t.l+s,n=nd(t),i=t.read_shift(2),o=E0(t,i,r);return t.l=a,n.t="str",n.val=o,n}var hK=[2,3,48,49,131,139,140,245],H_=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},s=RN({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,d){var u=[],h=mm(1);switch(d.type){case"base64":h=Wl(Ro(l));break;case"binary":h=Wl(l);break;case"buffer":case"array":h=l;break}Yn(h,0);var f=h.read_shift(1),p=!!(f&136),g=!1,v=!1;switch(f){case 2:break;case 3:break;case 48:g=!0,p=!0;break;case 49:g=!0,p=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var y=0,b=521;f==2&&(y=h.read_shift(2)),h.l+=3,f!=2&&(y=h.read_shift(4)),y>1048576&&(y=1e6),f!=2&&(b=h.read_shift(2));var _=h.read_shift(2),k=d.codepage||1252;f!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(k=t[h[h.l]]),h.l+=1,h.l+=2),v&&(h.l+=36);for(var A=[],R={},F=Math.min(h.length,f==2?521:b-10-(g?264:0)),V=v?32:11;h.l<F&&h[h.l]!=13;)switch(R={},R.name=Ep.utils.decode(k,h.slice(h.l,h.l+V)).replace(/[\u0000\r\n].*$/g,""),h.l+=V,R.type=String.fromCharCode(h.read_shift(1)),f!=2&&!v&&(R.offset=h.read_shift(4)),R.len=h.read_shift(1),f==2&&(R.offset=h.read_shift(2)),R.dec=h.read_shift(1),R.name.length&&A.push(R),f!=2&&(h.l+=v?13:14),R.type){case"B":(!g||R.len!=8)&&d.WTF&&console.log("Skipping "+R.name+":"+R.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+R.name+":"+R.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+R.type)}if(h[h.l]!==13&&(h.l=b-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=b;var S=0,L=0;for(u[0]=[],L=0;L!=A.length;++L)u[0][L]=A[L].name;for(;y-- >0;){if(h[h.l]===42){h.l+=_;continue}for(++h.l,u[++S]=[],L=0,L=0;L!=A.length;++L){var I=h.slice(h.l,h.l+A[L].len);h.l+=A[L].len,Yn(I,0);var B=Ep.utils.decode(k,I);switch(A[L].type){case"C":B.trim().length&&(u[S][L]=B.replace(/\s+$/,""));break;case"D":B.length===8?u[S][L]=new Date(+B.slice(0,4),+B.slice(4,6)-1,+B.slice(6,8)):u[S][L]=B;break;case"F":u[S][L]=parseFloat(B.trim());break;case"+":case"I":u[S][L]=v?I.read_shift(-4,"i")^2147483648:I.read_shift(4,"i");break;case"L":switch(B.trim().toUpperCase()){case"Y":case"T":u[S][L]=!0;break;case"N":case"F":u[S][L]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+B+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[S][L]="##MEMO##"+(v?parseInt(B.trim(),10):I.read_shift(4));break;case"N":B=B.replace(/\u0000/g,"").trim(),B&&B!="."&&(u[S][L]=+B||0);break;case"@":u[S][L]=new Date(I.read_shift(-8,"f")-621356832e5);break;case"T":u[S][L]=new Date((I.read_shift(4)-2440588)*864e5+I.read_shift(4));break;case"Y":u[S][L]=I.read_shift(4,"i")/1e4+I.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[S][L]=-I.read_shift(-8,"f");break;case"B":if(g&&A[L].len==8){u[S][L]=I.read_shift(8,"f");break}case"G":case"P":I.l+=A[L].len;break;case"0":if(A[L].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+A[L].type)}}}if(f!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return d&&d.sheetRows&&(u=u.slice(0,d.sheetRows)),d.DBF=A,u}function a(l,d){var u=d||{};u.dateNF||(u.dateNF="yyyymmdd");var h=Sx(r(l,u),u);return h["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,h}function n(l,d){try{return ym(a(l,d),d)}catch(u){if(d&&d.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,d){var u=d||{};if(+u.codepage>=0&&Kl(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var h=Zw(),f=cj(l,{header:1,raw:!0,cellDates:!0}),p=f[0],g=f.slice(1),v=l["!cols"]||[],y=0,b=0,_=0,k=1;for(y=0;y<p.length;++y){if(((v[y]||{}).DBF||{}).name){p[y]=v[y].DBF.name,++_;continue}if(p[y]!=null){if(++_,typeof p[y]=="number"&&(p[y]=p[y].toString(10)),typeof p[y]!="string")throw new Error("DBF Invalid column name "+p[y]+" |"+typeof p[y]+"|");if(p.indexOf(p[y])!==y){for(b=0;b<1024;++b)if(p.indexOf(p[y]+"_"+b)==-1){p[y]+="_"+b;break}}}}var A=Ma(l["!ref"]),R=[],F=[],V=[];for(y=0;y<=A.e.c-A.s.c;++y){var S="",L="",I=0,B=[];for(b=0;b<g.length;++b)g[b][y]!=null&&B.push(g[b][y]);if(B.length==0||p[y]==null){R[y]="?";continue}for(b=0;b<B.length;++b){switch(typeof B[b]){case"number":L="B";break;case"string":L="C";break;case"boolean":L="L";break;case"object":L=B[b]instanceof Date?"D":"C";break;default:L="C"}I=Math.max(I,String(B[b]).length),S=S&&S!=L?"C":L}I>250&&(I=250),L=((v[y]||{}).DBF||{}).type,L=="C"&&v[y].DBF.len>I&&(I=v[y].DBF.len),S=="B"&&L=="N"&&(S="N",V[y]=v[y].DBF.dec,I=v[y].DBF.len),F[y]=S=="C"||L=="N"?I:i[S]||0,k+=F[y],R[y]=S}var T=h.next(32);for(T.write_shift(4,318902576),T.write_shift(4,g.length),T.write_shift(2,296+32*_),T.write_shift(2,k),y=0;y<4;++y)T.write_shift(4,0);for(T.write_shift(4,0|(+s[eT]||3)<<8),y=0,b=0;y<p.length;++y)if(p[y]!=null){var w=h.next(32),E=(p[y].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);w.write_shift(1,E,"sbcs"),w.write_shift(1,R[y]=="?"?"C":R[y],"sbcs"),w.write_shift(4,b),w.write_shift(1,F[y]||i[R[y]]||0),w.write_shift(1,V[y]||0),w.write_shift(1,2),w.write_shift(4,0),w.write_shift(1,0),w.write_shift(4,0),w.write_shift(4,0),b+=F[y]||i[R[y]]||0}var D=h.next(264);for(D.write_shift(4,13),y=0;y<65;++y)D.write_shift(4,0);for(y=0;y<g.length;++y){var G=h.next(k);for(G.write_shift(1,0),b=0;b<p.length;++b)if(p[b]!=null)switch(R[b]){case"L":G.write_shift(1,g[y][b]==null?63:g[y][b]?84:70);break;case"B":G.write_shift(8,g[y][b]||0,"f");break;case"N":var K="0";for(typeof g[y][b]=="number"&&(K=g[y][b].toFixed(V[b]||0)),_=0;_<F[b]-K.length;++_)G.write_shift(1,32);G.write_shift(1,K,"sbcs");break;case"D":g[y][b]?(G.write_shift(4,("0000"+g[y][b].getFullYear()).slice(-4),"sbcs"),G.write_shift(2,("00"+(g[y][b].getMonth()+1)).slice(-2),"sbcs"),G.write_shift(2,("00"+g[y][b].getDate()).slice(-2),"sbcs")):G.write_shift(8,"00000000","sbcs");break;case"C":var X=String(g[y][b]!=null?g[y][b]:"").slice(0,F[b]);for(G.write_shift(1,X,"sbcs"),_=0;_<F[b]-X.length;++_)G.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:n,to_sheet:a,from_sheet:o}}(),xK=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},s=new RegExp("\x1BN("+sd(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(p,g){var v=t[g];return typeof v=="number"?o_(v):v},a=function(p,g,v){var y=g.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return y==59?p:o_(y)};t["|"]=254;function n(p,g){switch(g.type){case"base64":return i(Ro(p),g);case"binary":return i(p,g);case"buffer":return i(gr&&Buffer.isBuffer(p)?p.toString("binary"):I0(p),g);case"array":return i(A0(p),g)}throw new Error("Unrecognized type "+g.type)}function i(p,g){var v=p.split(/[\n\r]+/),y=-1,b=-1,_=0,k=0,A=[],R=[],F=null,V={},S=[],L=[],I=[],B=0,T;for(+g.codepage>=0&&Kl(+g.codepage);_!==v.length;++_){B=0;var w=v[_].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(s,r),E=w.replace(/;;/g,"\0").split(";").map(function(q){return q.replace(/\u0000/g,";")}),D=E[0],G;if(w.length>0)switch(D){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":E[1].charAt(0)=="P"&&R.push(w.slice(3).replace(/;;/g,";"));break;case"C":var K=!1,X=!1,se=!1,Z=!1,ee=-1,ce=-1;for(k=1;k<E.length;++k)switch(E[k].charAt(0)){case"A":break;case"X":b=parseInt(E[k].slice(1))-1,X=!0;break;case"Y":for(y=parseInt(E[k].slice(1))-1,X||(b=0),T=A.length;T<=y;++T)A[T]=[];break;case"K":G=E[k].slice(1),G.charAt(0)==='"'?G=G.slice(1,G.length-1):G==="TRUE"?G=!0:G==="FALSE"?G=!1:isNaN(Ql(G))?isNaN(cx(G).getDate())||(G=Dn(G)):(G=Ql(G),F!==null&&jx(F)&&(G=U1(G))),K=!0;break;case"E":Z=!0;var U=Yh(E[k].slice(1),{r:y,c:b});A[y][b]=[A[y][b],U];break;case"S":se=!0,A[y][b]=[A[y][b],"S5S"];break;case"G":break;case"R":ee=parseInt(E[k].slice(1))-1;break;case"C":ce=parseInt(E[k].slice(1))-1;break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+w)}if(K&&(A[y][b]&&A[y][b].length==2?A[y][b][0]=G:A[y][b]=G,F=null),se){if(Z)throw new Error("SYLK shared formula cannot have own formula");var O=ee>-1&&A[ee][ce];if(!O||!O[1])throw new Error("SYLK shared formula cannot find base");A[y][b][1]=uD(O[1],{r:y-ee,c:b-ce})}break;case"F":var z=0;for(k=1;k<E.length;++k)switch(E[k].charAt(0)){case"X":b=parseInt(E[k].slice(1))-1,++z;break;case"Y":for(y=parseInt(E[k].slice(1))-1,T=A.length;T<=y;++T)A[T]=[];break;case"M":B=parseInt(E[k].slice(1))/20;break;case"F":break;case"G":break;case"P":F=R[parseInt(E[k].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(I=E[k].slice(1).split(" "),T=parseInt(I[0],10);T<=parseInt(I[1],10);++T)B=parseInt(I[2],10),L[T-1]=B===0?{hidden:!0}:{wch:B},dx(L[T-1]);break;case"C":b=parseInt(E[k].slice(1))-1,L[b]||(L[b]={});break;case"R":y=parseInt(E[k].slice(1))-1,S[y]||(S[y]={}),B>0?(S[y].hpt=B,S[y].hpx=Fp(B)):B===0&&(S[y].hidden=!0);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+w)}z<1&&(F=null);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+w)}}return S.length>0&&(V["!rows"]=S),L.length>0&&(V["!cols"]=L),g&&g.sheetRows&&(A=A.slice(0,g.sheetRows)),[A,V]}function o(p,g){var v=n(p,g),y=v[0],b=v[1],_=Sx(y,g);return sd(b).forEach(function(k){_[k]=b[k]}),_}function l(p,g){return ym(o(p,g),g)}function d(p,g,v,y){var b="C;Y"+(v+1)+";X"+(y+1)+";K";switch(p.t){case"n":b+=p.v||0,p.f&&!p.F&&(b+=";E"+eQ(p.f,{r:v,c:y}));break;case"b":b+=p.v?"TRUE":"FALSE";break;case"e":b+=p.w||p.v;break;case"d":b+='"'+(p.w||p.v)+'"';break;case"s":b+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function u(p,g){g.forEach(function(v,y){var b="F;W"+(y+1)+" "+(y+1)+" ";v.hidden?b+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=l1(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=c1(v.wpx)),typeof v.wch=="number"&&(b+=Math.round(v.wch))),b.charAt(b.length-1)!=" "&&p.push(b)})}function h(p,g){g.forEach(function(v,y){var b="F;";v.hidden?b+="M0;":v.hpt?b+="M"+20*v.hpt+";":v.hpx&&(b+="M"+20*lD(v.hpx)+";"),b.length>2&&p.push(b+"R"+(y+1))})}function f(p,g){var v=["ID;PWXL;N;E"],y=[],b=Ma(p["!ref"]),_,k=Array.isArray(p),A=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),p["!cols"]&&u(v,p["!cols"]),p["!rows"]&&h(v,p["!rows"]),v.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var R=b.s.r;R<=b.e.r;++R)for(var F=b.s.c;F<=b.e.c;++F){var V=Gs({r:R,c:F});_=k?(p[R]||[])[F]:p[V],!(!_||_.v==null&&(!_.f||_.F))&&y.push(d(_,p,R,F))}return v.join(A)+A+y.join(A)+A+"E"+A}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),fK=function(){function t(i,o){switch(o.type){case"base64":return s(Ro(i),o);case"binary":return s(i,o);case"buffer":return s(gr&&Buffer.isBuffer(i)?i.toString("binary"):I0(i),o);case"array":return s(A0(i),o)}throw new Error("Unrecognized type "+o.type)}function s(i,o){for(var l=i.split(`
`),d=-1,u=-1,h=0,f=[];h!==l.length;++h){if(l[h].trim()==="BOT"){f[++d]=[],u=0;continue}if(!(d<0)){var p=l[h].trim().split(","),g=p[0],v=p[1];++h;for(var y=l[h]||"";(y.match(/["]/g)||[]).length&1&&h<l.length-1;)y+=`
`+l[++h];switch(y=y.trim(),+g){case-1:if(y==="BOT"){f[++d]=[],u=0;continue}else if(y!=="EOD")throw new Error("Unrecognized DIF special command "+y);break;case 0:y==="TRUE"?f[d][u]=!0:y==="FALSE"?f[d][u]=!1:isNaN(Ql(v))?isNaN(cx(v).getDate())?f[d][u]=v:f[d][u]=Dn(v):f[d][u]=Ql(v),++u;break;case 1:y=y.slice(1,y.length-1),y=y.replace(/""/g,'"'),y&&y.match(/^=".*"$/)&&(y=y.slice(2,-1)),f[d][u++]=y!==""?y:null;break}if(y==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(i,o){return Sx(t(i,o),o)}function a(i,o){return ym(r(i,o),o)}var n=function(){var i=function(d,u,h,f,p){d.push(u),d.push(h+","+f),d.push('"'+p.replace(/"/g,'""')+'"')},o=function(d,u,h,f){d.push(u+","+h),d.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(d){var u=[],h=Ma(d["!ref"]),f,p=Array.isArray(d);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,h.e.r-h.s.r+1,""),i(u,"TUPLES",0,h.e.c-h.s.c+1,""),i(u,"DATA",0,0,"");for(var g=h.s.r;g<=h.e.r;++g){o(u,-1,0,"BOT");for(var v=h.s.c;v<=h.e.c;++v){var y=Gs({r:g,c:v});if(f=p?(d[g]||[])[v]:d[y],!f){o(u,1,0,"");continue}switch(f.t){case"n":var b=f.w;!b&&f.v!=null&&(b=f.v),b==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,b,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=pl(f.z||Ks[14],Ui(Dn(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var _=`\r
`,k=u.join(_);return k}}();return{to_workbook:a,to_sheet:r,from_sheet:n}}(),pK=function(){function t(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function s(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,p){for(var g=f.split(`
`),v=-1,y=-1,b=0,_=[];b!==g.length;++b){var k=g[b].trim().split(":");if(k[0]==="cell"){var A=Oi(k[1]);if(_.length<=A.r)for(v=_.length;v<=A.r;++v)_[v]||(_[v]=[]);switch(v=A.r,y=A.c,k[2]){case"t":_[v][y]=t(k[3]);break;case"v":_[v][y]=+k[3];break;case"vtf":var R=k[k.length-1];case"vtc":switch(k[3]){case"nl":_[v][y]=!!+k[4];break;default:_[v][y]=+k[4];break}k[2]=="vtf"&&(_[v][y]=[_[v][y],R])}}}return p&&p.sheetRows&&(_=_.slice(0,p.sheetRows)),_}function a(f,p){return Sx(r(f,p),p)}function n(f,p){return ym(a(f,p),p)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var p=[],g=[],v,y="",b=Nx(f["!ref"]),_=Array.isArray(f),k=b.s.r;k<=b.e.r;++k)for(var A=b.s.c;A<=b.e.c;++A)if(y=Gs({r:k,c:A}),v=_?(f[k]||[])[A]:f[y],!(!v||v.v==null||v.t==="z")){switch(g=["cell",y,"t"],v.t){case"s":case"str":g.push(s(v.v));break;case"n":v.f?(g[2]="vtf",g[3]="n",g[4]=v.v,g[5]=s(v.f)):(g[2]="v",g[3]=v.v);break;case"b":g[2]="vt"+(v.f?"f":"c"),g[3]="nl",g[4]=v.v?"1":"0",g[5]=s(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var R=Ui(Dn(v.v));g[2]="vtc",g[3]="nd",g[4]=""+R,g[5]=v.w||pl(v.z||Ks[14],R);break;case"e":continue}p.push(g.join(":"))}return p.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function h(f){return[i,o,l,o,u(f),d].join(`
`)}return{to_workbook:n,to_sheet:a,from_sheet:h}}(),Mp=function(){function t(h,f,p,g,v){v.raw?f[p][g]=h:h===""||(h==="TRUE"?f[p][g]=!0:h==="FALSE"?f[p][g]=!1:isNaN(Ql(h))?isNaN(cx(h).getDate())?f[p][g]=h:f[p][g]=Dn(h):f[p][g]=Ql(h))}function s(h,f){var p=f||{},g=[];if(!h||h.length===0)return g;for(var v=h.split(/[\r\n]/),y=v.length-1;y>=0&&v[y].length===0;)--y;for(var b=10,_=0,k=0;k<=y;++k)_=v[k].indexOf(" "),_==-1?_=v[k].length:_++,b=Math.max(b,_);for(k=0;k<=y;++k){g[k]=[];var A=0;for(t(v[k].slice(0,b).trim(),g,k,A,p),A=1;A<=(v[k].length-b)/10+1;++A)t(v[k].slice(b+(A-1)*10,b+A*10).trim(),g,k,A,p)}return p.sheetRows&&(g=g.slice(0,p.sheetRows)),g}var r={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function n(h){for(var f={},p=!1,g=0,v=0;g<h.length;++g)(v=h.charCodeAt(g))==34?p=!p:!p&&v in r&&(f[v]=(f[v]||0)+1);v=[];for(g in f)Object.prototype.hasOwnProperty.call(f,g)&&v.push([f[g],g]);if(!v.length){f=a;for(g in f)Object.prototype.hasOwnProperty.call(f,g)&&v.push([f[g],g])}return v.sort(function(y,b){return y[0]-b[0]||a[y[1]]-a[b[1]]}),r[v.pop()[1]]||44}function i(h,f){var p=f||{},g="",v=p.dense?[]:{},y={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(g=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(g=h.charAt(4),h=h.slice(6)):g=n(h.slice(0,1024)):p&&p.FS?g=p.FS:g=n(h.slice(0,1024));var b=0,_=0,k=0,A=0,R=0,F=g.charCodeAt(0),V=!1,S=0,L=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var I=p.dateNF!=null?kW(p.dateNF):null;function B(){var T=h.slice(A,R),w={};if(T.charAt(0)=='"'&&T.charAt(T.length-1)=='"'&&(T=T.slice(1,-1).replace(/""/g,'"')),T.length===0)w.t="z";else if(p.raw)w.t="s",w.v=T;else if(T.trim().length===0)w.t="s",w.v=T;else if(T.charCodeAt(0)==61)T.charCodeAt(1)==34&&T.charCodeAt(T.length-1)==34?(w.t="s",w.v=T.slice(2,-1).replace(/""/g,'"')):sQ(T)?(w.t="n",w.f=T.slice(1)):(w.t="s",w.v=T);else if(T=="TRUE")w.t="b",w.v=!0;else if(T=="FALSE")w.t="b",w.v=!1;else if(!isNaN(k=Ql(T)))w.t="n",p.cellText!==!1&&(w.w=T),w.v=k;else if(!isNaN(cx(T).getDate())||I&&T.match(I)){w.z=p.dateNF||Ks[14];var E=0;I&&T.match(I)&&(T=AW(T,p.dateNF,T.match(I)||[]),E=1),p.cellDates?(w.t="d",w.v=Dn(T,E)):(w.t="n",w.v=Ui(Dn(T,E))),p.cellText!==!1&&(w.w=pl(w.z,w.v instanceof Date?Ui(w.v):w.v)),p.cellNF||delete w.z}else w.t="s",w.v=T;if(w.t=="z"||(p.dense?(v[b]||(v[b]=[]),v[b][_]=w):v[Gs({c:_,r:b})]=w),A=R+1,L=h.charCodeAt(A),y.e.c<_&&(y.e.c=_),y.e.r<b&&(y.e.r=b),S==F)++_;else if(_=0,++b,p.sheetRows&&p.sheetRows<=b)return!0}e:for(;R<h.length;++R)switch(S=h.charCodeAt(R)){case 34:L===34&&(V=!V);break;case F:case 10:case 13:if(!V&&B())break e;break}return R-A>0&&B(),v["!ref"]=jr(y),v}function o(h,f){return!(f&&f.PRN)||f.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?i(h,f):Sx(s(h,f),f)}function l(h,f){var p="",g=f.type=="string"?[0,0,0,0]:t5(h,f);switch(f.type){case"base64":p=Ro(h);break;case"binary":p=h;break;case"buffer":f.codepage==65001?p=h.toString("utf8"):f.codepage&&typeof Ep<"u"||(p=gr&&Buffer.isBuffer(h)?h.toString("binary"):I0(h));break;case"array":p=A0(h);break;case"string":p=h;break;default:throw new Error("Unrecognized type "+f.type)}return g[0]==239&&g[1]==187&&g[2]==191?p=sa(p.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?p=sa(p):f.type=="binary"&&typeof Ep<"u",p.slice(0,19)=="socialcalc:version:"?pK.to_sheet(f.type=="string"?p:sa(p),f):o(p,f)}function d(h,f){return ym(l(h,f),f)}function u(h){for(var f=[],p=Ma(h["!ref"]),g,v=Array.isArray(h),y=p.s.r;y<=p.e.r;++y){for(var b=[],_=p.s.c;_<=p.e.c;++_){var k=Gs({r:y,c:_});if(g=v?(h[y]||[])[_]:h[k],!g||g.v==null){b.push("          ");continue}for(var A=(g.w||(Jd(g),g.w)||"").slice(0,10);A.length<10;)A+=" ";b.push(A+(_===0?" ":""))}f.push(b.join(""))}return f.join(`
`)}return{to_workbook:d,to_sheet:l,from_sheet:u}}();function gK(t,s){var r=s||{},a=!!r.WTF;r.WTF=!0;try{var n=xK.to_workbook(t,r);return r.WTF=a,n}catch(i){if(r.WTF=a,!i.message.match(/SYLK bad record ID/)&&a)throw i;return Mp.to_workbook(t,s)}}var cp=function(){function t(U,O,z){if(U){Yn(U,U.l||0);for(var q=z.Enum||ee;U.l<U.length;){var te=U.read_shift(2),ge=q[te]||q[65535],Q=U.read_shift(2),ue=U.l+Q,ie=ge.f&&ge.f(U,Q,z);if(U.l=ue,O(ie,ge,te))return}}}function s(U,O){switch(O.type){case"base64":return r(Wl(Ro(U)),O);case"binary":return r(Wl(U),O);case"buffer":case"array":return r(U,O)}throw"Unsupported type "+O.type}function r(U,O){if(!U)return U;var z=O||{},q=z.dense?[]:{},te="Sheet1",ge="",Q=0,ue={},ie=[],oe=[],J={s:{r:0,c:0},e:{r:0,c:0}},re=z.sheetRows||0;if(U[2]==0&&(U[3]==8||U[3]==9)&&U.length>=16&&U[14]==5&&U[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(U[2]==2)z.Enum=ee,t(U,function(he,Te,Ie){switch(Ie){case 0:z.vers=he,he>=4096&&(z.qpro=!0);break;case 6:J=he;break;case 204:he&&(ge=he);break;case 222:ge=he;break;case 15:case 51:z.qpro||(he[1].v=he[1].v.slice(1));case 13:case 14:case 16:Ie==14&&(he[2]&112)==112&&(he[2]&15)>1&&(he[2]&15)<15&&(he[1].z=z.dateNF||Ks[14],z.cellDates&&(he[1].t="d",he[1].v=U1(he[1].v))),z.qpro&&he[3]>Q&&(q["!ref"]=jr(J),ue[te]=q,ie.push(te),q=z.dense?[]:{},J={s:{r:0,c:0},e:{r:0,c:0}},Q=he[3],te=ge||"Sheet"+(Q+1),ge="");var Be=z.dense?(q[he[0].r]||[])[he[0].c]:q[Gs(he[0])];if(Be){Be.t=he[1].t,Be.v=he[1].v,he[1].z!=null&&(Be.z=he[1].z),he[1].f!=null&&(Be.f=he[1].f);break}z.dense?(q[he[0].r]||(q[he[0].r]=[]),q[he[0].r][he[0].c]=he[1]):q[Gs(he[0])]=he[1];break}},z);else if(U[2]==26||U[2]==14)z.Enum=ce,U[2]==14&&(z.qpro=!0,U.l=0),t(U,function(he,Te,Ie){switch(Ie){case 204:te=he;break;case 22:he[1].v=he[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(he[3]>Q&&(q["!ref"]=jr(J),ue[te]=q,ie.push(te),q=z.dense?[]:{},J={s:{r:0,c:0},e:{r:0,c:0}},Q=he[3],te="Sheet"+(Q+1)),re>0&&he[0].r>=re)break;z.dense?(q[he[0].r]||(q[he[0].r]=[]),q[he[0].r][he[0].c]=he[1]):q[Gs(he[0])]=he[1],J.e.c<he[0].c&&(J.e.c=he[0].c),J.e.r<he[0].r&&(J.e.r=he[0].r);break;case 27:he[14e3]&&(oe[he[14e3][0]]=he[14e3][1]);break;case 1537:oe[he[0]]=he[1],he[0]==Q&&(te=he[1]);break}},z);else throw new Error("Unrecognized LOTUS BOF "+U[2]);if(q["!ref"]=jr(J),ue[ge||te]=q,ie.push(ge||te),!oe.length)return{SheetNames:ie,Sheets:ue};for(var ve={},pe=[],ae=0;ae<oe.length;++ae)ue[ie[ae]]?(pe.push(oe[ae]||ie[ae]),ve[oe[ae]]=ue[oe[ae]]||ue[ie[ae]]):(pe.push(oe[ae]),ve[oe[ae]]={"!ref":"A1"});return{SheetNames:pe,Sheets:ve}}function a(U,O){var z=O||{};if(+z.codepage>=0&&Kl(+z.codepage),z.type=="string")throw new Error("Cannot write WK1 to JS string");var q=Zw(),te=Ma(U["!ref"]),ge=Array.isArray(U),Q=[];$l(q,0,i(1030)),$l(q,6,d(te));for(var ue=Math.min(te.e.r,8191),ie=te.s.r;ie<=ue;++ie)for(var oe=Qn(ie),J=te.s.c;J<=te.e.c;++J){ie===te.s.r&&(Q[J]=vn(J));var re=Q[J]+oe,ve=ge?(U[ie]||[])[J]:U[re];if(!(!ve||ve.t=="z"))if(ve.t=="n")(ve.v|0)==ve.v&&ve.v>=-32768&&ve.v<=32767?$l(q,13,g(ie,J,ve.v)):$l(q,14,y(ie,J,ve.v));else{var pe=Jd(ve);$l(q,15,f(ie,J,pe.slice(0,239)))}}return $l(q,1),q.end()}function n(U,O){var z=O||{};if(+z.codepage>=0&&Kl(+z.codepage),z.type=="string")throw new Error("Cannot write WK3 to JS string");var q=Zw();$l(q,0,o(U));for(var te=0,ge=0;te<U.SheetNames.length;++te)(U.Sheets[U.SheetNames[te]]||{})["!ref"]&&$l(q,27,Z(U.SheetNames[te],ge++));var Q=0;for(te=0;te<U.SheetNames.length;++te){var ue=U.Sheets[U.SheetNames[te]];if(!(!ue||!ue["!ref"])){for(var ie=Ma(ue["!ref"]),oe=Array.isArray(ue),J=[],re=Math.min(ie.e.r,8191),ve=ie.s.r;ve<=re;++ve)for(var pe=Qn(ve),ae=ie.s.c;ae<=ie.e.c;++ae){ve===ie.s.r&&(J[ae]=vn(ae));var he=J[ae]+pe,Te=oe?(ue[ve]||[])[ae]:ue[he];if(!(!Te||Te.t=="z"))if(Te.t=="n")$l(q,23,B(ve,ae,Q,Te.v));else{var Ie=Jd(Te);$l(q,22,S(ve,ae,Q,Ie.slice(0,239)))}}++Q}}return $l(q,1),q.end()}function i(U){var O=gn(2);return O.write_shift(2,U),O}function o(U){var O=gn(26);O.write_shift(2,4096),O.write_shift(2,4),O.write_shift(4,0);for(var z=0,q=0,te=0,ge=0;ge<U.SheetNames.length;++ge){var Q=U.SheetNames[ge],ue=U.Sheets[Q];if(!(!ue||!ue["!ref"])){++te;var ie=Nx(ue["!ref"]);z<ie.e.r&&(z=ie.e.r),q<ie.e.c&&(q=ie.e.c)}}return z>8191&&(z=8191),O.write_shift(2,z),O.write_shift(1,te),O.write_shift(1,q),O.write_shift(2,0),O.write_shift(2,0),O.write_shift(1,1),O.write_shift(1,2),O.write_shift(4,0),O.write_shift(4,0),O}function l(U,O,z){var q={s:{c:0,r:0},e:{c:0,r:0}};return O==8&&z.qpro?(q.s.c=U.read_shift(1),U.l++,q.s.r=U.read_shift(2),q.e.c=U.read_shift(1),U.l++,q.e.r=U.read_shift(2),q):(q.s.c=U.read_shift(2),q.s.r=U.read_shift(2),O==12&&z.qpro&&(U.l+=2),q.e.c=U.read_shift(2),q.e.r=U.read_shift(2),O==12&&z.qpro&&(U.l+=2),q.s.c==65535&&(q.s.c=q.e.c=q.s.r=q.e.r=0),q)}function d(U){var O=gn(8);return O.write_shift(2,U.s.c),O.write_shift(2,U.s.r),O.write_shift(2,U.e.c),O.write_shift(2,U.e.r),O}function u(U,O,z){var q=[{c:0,r:0},{t:"n",v:0},0,0];return z.qpro&&z.vers!=20768?(q[0].c=U.read_shift(1),q[3]=U.read_shift(1),q[0].r=U.read_shift(2),U.l+=2):(q[2]=U.read_shift(1),q[0].c=U.read_shift(2),q[0].r=U.read_shift(2)),q}function h(U,O,z){var q=U.l+O,te=u(U,O,z);if(te[1].t="s",z.vers==20768){U.l++;var ge=U.read_shift(1);return te[1].v=U.read_shift(ge,"utf8"),te}return z.qpro&&U.l++,te[1].v=U.read_shift(q-U.l,"cstr"),te}function f(U,O,z){var q=gn(7+z.length);q.write_shift(1,255),q.write_shift(2,O),q.write_shift(2,U),q.write_shift(1,39);for(var te=0;te<q.length;++te){var ge=z.charCodeAt(te);q.write_shift(1,ge>=128?95:ge)}return q.write_shift(1,0),q}function p(U,O,z){var q=u(U,O,z);return q[1].v=U.read_shift(2,"i"),q}function g(U,O,z){var q=gn(7);return q.write_shift(1,255),q.write_shift(2,O),q.write_shift(2,U),q.write_shift(2,z,"i"),q}function v(U,O,z){var q=u(U,O,z);return q[1].v=U.read_shift(8,"f"),q}function y(U,O,z){var q=gn(13);return q.write_shift(1,255),q.write_shift(2,O),q.write_shift(2,U),q.write_shift(8,z,"f"),q}function b(U,O,z){var q=U.l+O,te=u(U,O,z);if(te[1].v=U.read_shift(8,"f"),z.qpro)U.l=q;else{var ge=U.read_shift(2);R(U.slice(U.l,U.l+ge),te),U.l+=ge}return te}function _(U,O,z){var q=O&32768;return O&=-32769,O=(q?U:0)+(O>=8192?O-16384:O),(q?"":"$")+(z?vn(O):Qn(O))}var k={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},A=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function R(U,O){Yn(U,0);for(var z=[],q=0,te="",ge="",Q="",ue="";U.l<U.length;){var ie=U[U.l++];switch(ie){case 0:z.push(U.read_shift(8,"f"));break;case 1:ge=_(O[0].c,U.read_shift(2),!0),te=_(O[0].r,U.read_shift(2),!1),z.push(ge+te);break;case 2:{var oe=_(O[0].c,U.read_shift(2),!0),J=_(O[0].r,U.read_shift(2),!1);ge=_(O[0].c,U.read_shift(2),!0),te=_(O[0].r,U.read_shift(2),!1),z.push(oe+J+":"+ge+te)}break;case 3:if(U.l<U.length){console.error("WK1 premature formula end");return}break;case 4:z.push("("+z.pop()+")");break;case 5:z.push(U.read_shift(2));break;case 6:{for(var re="";ie=U[U.l++];)re+=String.fromCharCode(ie);z.push('"'+re.replace(/"/g,'""')+'"')}break;case 8:z.push("-"+z.pop());break;case 23:z.push("+"+z.pop());break;case 22:z.push("NOT("+z.pop()+")");break;case 20:case 21:ue=z.pop(),Q=z.pop(),z.push(["AND","OR"][ie-20]+"("+Q+","+ue+")");break;default:if(ie<32&&A[ie])ue=z.pop(),Q=z.pop(),z.push(Q+A[ie]+ue);else if(k[ie]){if(q=k[ie][1],q==69&&(q=U[U.l++]),q>z.length){console.error("WK1 bad formula parse 0x"+ie.toString(16)+":|"+z.join("|")+"|");return}var ve=z.slice(-q);z.length-=q,z.push(k[ie][0]+"("+ve.join(",")+")")}else return ie<=7?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=24?console.error("WK1 unsupported op "+ie.toString(16)):ie<=30?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=115?console.error("WK1 unsupported function opcode "+ie.toString(16)):console.error("WK1 unrecognized opcode "+ie.toString(16))}}z.length==1?O[1].f=""+z[0]:console.error("WK1 bad formula parse |"+z.join("|")+"|")}function F(U){var O=[{c:0,r:0},{t:"n",v:0},0];return O[0].r=U.read_shift(2),O[3]=U[U.l++],O[0].c=U[U.l++],O}function V(U,O){var z=F(U);return z[1].t="s",z[1].v=U.read_shift(O-4,"cstr"),z}function S(U,O,z,q){var te=gn(6+q.length);te.write_shift(2,U),te.write_shift(1,z),te.write_shift(1,O),te.write_shift(1,39);for(var ge=0;ge<q.length;++ge){var Q=q.charCodeAt(ge);te.write_shift(1,Q>=128?95:Q)}return te.write_shift(1,0),te}function L(U,O){var z=F(U);z[1].v=U.read_shift(2);var q=z[1].v>>1;if(z[1].v&1)switch(q&7){case 0:q=(q>>3)*5e3;break;case 1:q=(q>>3)*500;break;case 2:q=(q>>3)/20;break;case 3:q=(q>>3)/200;break;case 4:q=(q>>3)/2e3;break;case 5:q=(q>>3)/2e4;break;case 6:q=(q>>3)/16;break;case 7:q=(q>>3)/64;break}return z[1].v=q,z}function I(U,O){var z=F(U),q=U.read_shift(4),te=U.read_shift(4),ge=U.read_shift(2);if(ge==65535)return q===0&&te===3221225472?(z[1].t="e",z[1].v=15):q===0&&te===3489660928?(z[1].t="e",z[1].v=42):z[1].v=0,z;var Q=ge&32768;return ge=(ge&32767)-16446,z[1].v=(1-Q*2)*(te*Math.pow(2,ge+32)+q*Math.pow(2,ge)),z}function B(U,O,z,q){var te=gn(14);if(te.write_shift(2,U),te.write_shift(1,z),te.write_shift(1,O),q==0)return te.write_shift(4,0),te.write_shift(4,0),te.write_shift(2,65535),te;var ge=0,Q=0,ue=0,ie=0;return q<0&&(ge=1,q=-q),Q=Math.log2(q)|0,q/=Math.pow(2,Q-31),ie=q>>>0,(ie&2147483648)==0&&(q/=2,++Q,ie=q>>>0),q-=ie,ie|=2147483648,ie>>>=0,q*=Math.pow(2,32),ue=q>>>0,te.write_shift(4,ue),te.write_shift(4,ie),Q+=16383+(ge?32768:0),te.write_shift(2,Q),te}function T(U,O){var z=I(U);return U.l+=O-14,z}function w(U,O){var z=F(U),q=U.read_shift(4);return z[1].v=q>>6,z}function E(U,O){var z=F(U),q=U.read_shift(8,"f");return z[1].v=q,z}function D(U,O){var z=E(U);return U.l+=O-10,z}function G(U,O){return U[U.l+O-1]==0?U.read_shift(O,"cstr"):""}function K(U,O){var z=U[U.l++];z>O-1&&(z=O-1);for(var q="";q.length<z;)q+=String.fromCharCode(U[U.l++]);return q}function X(U,O,z){if(!(!z.qpro||O<21)){var q=U.read_shift(1);U.l+=17,U.l+=1,U.l+=2;var te=U.read_shift(O-21,"cstr");return[q,te]}}function se(U,O){for(var z={},q=U.l+O;U.l<q;){var te=U.read_shift(2);if(te==14e3){for(z[te]=[0,""],z[te][0]=U.read_shift(2);U[U.l];)z[te][1]+=String.fromCharCode(U[U.l]),U.l++;U.l++}}return z}function Z(U,O){var z=gn(5+U.length);z.write_shift(2,14e3),z.write_shift(2,O);for(var q=0;q<U.length;++q){var te=U.charCodeAt(q);z[z.l++]=te>127?95:te}return z[z.l++]=0,z}var ee={0:{n:"BOF",f:an},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:G},222:{n:"SHEETNAMELP",f:K},65535:{n:""}},ce={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:V},23:{n:"NUMBER17",f:I},24:{n:"NUMBER18",f:L},25:{n:"FORMULA19",f:T},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:se},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:w},38:{n:"??"},39:{n:"NUMBER27",f:E},40:{n:"FORMULA28",f:D},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:G},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:X},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:n,to_workbook:s}}();function yK(t){var s={},r=t.match(_i),a=0,n=!1;if(r)for(;a!=r.length;++a){var i=Is(r[a]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":s.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;s.cp=DN[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":s.outline=1;break;case"</outline>":break;case"<rFont":s.name=i.val;break;case"<sz":s.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":s.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":s.uval="double";break;case"singleAccounting":s.uval="single-accounting";break;case"doubleAccounting":s.uval="double-accounting";break}case"<u>":case"<u/>":s.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":s.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":s.i=1;break;case"</i>":break;case"<color":i.rgb&&(s.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":s.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":s.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(i[0].charCodeAt(1)!==47&&!n)throw new Error("Unrecognized rich format "+i[0])}}return s}var bK=function(){var t=Dp("t"),s=Dp("rPr");function r(i){var o=i.match(t);if(!o)return{t:"s",v:""};var l={t:"s",v:Cr(o[1])},d=i.match(s);return d&&(l.s=yK(d[1])),l}var a=/<(?:\w+:)?r>/g,n=/<\/(?:\w+:)?r>/;return function(o){return o.replace(a,"").split(n).map(r).filter(function(l){return l.v})}}(),vK=function(){var s=/(\r\n|\n)/g;function r(n,i,o){var l=[];n.u&&l.push("text-decoration: underline;"),n.uval&&l.push("text-underline-style:"+n.uval+";"),n.sz&&l.push("font-size:"+n.sz+"pt;"),n.outline&&l.push("text-effect: outline;"),n.shadow&&l.push("text-shadow: auto;"),i.push('<span style="'+l.join("")+'">'),n.b&&(i.push("<b>"),o.push("</b>")),n.i&&(i.push("<i>"),o.push("</i>")),n.strike&&(i.push("<s>"),o.push("</s>"));var d=n.valign||"";return d=="superscript"||d=="super"?d="sup":d=="subscript"&&(d="sub"),d!=""&&(i.push("<"+d+">"),o.push("</"+d+">")),o.push("</span>"),n}function a(n){var i=[[],n.v,[]];return n.v?(n.s&&r(n.s,i[0],i[2]),i[0].join("")+i[1].replace(s,"<br/>")+i[2].join("")):""}return function(i){return i.map(a).join("")}}(),wK=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,jK=/<(?:\w+:)?r>/,NK=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function YN(t,s){var r=s?s.cellHTML:!0,a={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(a.t=Cr(sa(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),a.r=sa(t),r&&(a.h=IN(a.t))):t.match(jK)&&(a.r=sa(t),a.t=Cr(sa((t.replace(NK,"").match(wK)||[]).join("").replace(_i,""))),r&&(a.h=vK(bK(a.r)))),a):{t:""}}var SK=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,_K=/<(?:\w+:)?(?:si|sstItem)>/g,CK=/<\/(?:\w+:)?(?:si|sstItem)>/;function kK(t,s){var r=[],a="";if(!t)return r;var n=t.match(SK);if(n){a=n[2].replace(_K,"").split(CK);for(var i=0;i!=a.length;++i){var o=YN(a[i].trim(),s);o!=null&&(r[r.length]=o)}n=Is(n[1]),r.Count=n.count,r.Unique=n.uniqueCount}return r}function AK(t){return[t.read_shift(4),t.read_shift(4)]}function EK(t,s){var r=[],a=!1;return nu(t,function(i,o,l){switch(l){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:a=!0;break;case 36:a=!1;break;default:if(o.T,!a||s.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function sD(t){for(var s=[],r=t.split(""),a=0;a<r.length;++a)s[a]=r[a].charCodeAt(0);return s}function Yd(t,s){var r={};return r.Major=t.read_shift(2),r.Minor=t.read_shift(2),s>=4&&(t.l+=s-4),r}function TK(t){var s={};return s.id=t.read_shift(0,"lpp4"),s.R=Yd(t,4),s.U=Yd(t,4),s.W=Yd(t,4),s}function DK(t){for(var s=t.read_shift(4),r=t.l+s-4,a={},n=t.read_shift(4),i=[];n-- >0;)i.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(a.name=t.read_shift(0,"lpp4"),a.comps=i,t.l!=r)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+r);return a}function PK(t){var s=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)s.push(DK(t));return s}function MK(t){var s=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)s.push(t.read_shift(0,"lpp4"));return s}function LK(t){var s={};return t.read_shift(4),t.l+=4,s.id=t.read_shift(0,"lpp4"),s.name=t.read_shift(0,"lpp4"),s.R=Yd(t,4),s.U=Yd(t,4),s.W=Yd(t,4),s}function FK(t){var s=LK(t);if(s.ename=t.read_shift(0,"8lpp4"),s.blksz=t.read_shift(4),s.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return s}function rD(t,s){var r=t.l+s,a={};a.Flags=t.read_shift(4)&63,t.l+=4,a.AlgID=t.read_shift(4);var n=!1;switch(a.AlgID){case 26126:case 26127:case 26128:n=a.Flags==36;break;case 26625:n=a.Flags==4;break;case 0:n=a.Flags==16||a.Flags==4||a.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+a.AlgID}if(!n)throw new Error("Encryption Flags/AlgID mismatch");return a.AlgIDHash=t.read_shift(4),a.KeySize=t.read_shift(4),a.ProviderType=t.read_shift(4),t.l+=8,a.CSPName=t.read_shift(r-t.l>>1,"utf16le"),t.l=r,a}function aD(t,s){var r={},a=t.l+s;return t.l+=4,r.Salt=t.slice(t.l,t.l+16),t.l+=16,r.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),r.VerifierHash=t.slice(t.l,a),t.l=a,r}function RK(t){var s=Yd(t);switch(s.Minor){case 2:return[s.Minor,OK(t)];case 3:return[s.Minor,IK()];case 4:return[s.Minor,BK(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+s.Minor)}function OK(t){var s=t.read_shift(4);if((s&63)!=36)throw new Error("EncryptionInfo mismatch");var r=t.read_shift(4),a=rD(t,r),n=aD(t,t.length-t.l);return{t:"Std",h:a,v:n}}function IK(){throw new Error("File is password-protected: ECMA-376 Extensible")}function BK(t){var s=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var r=t.read_shift(t.length-t.l,"utf8"),a={};return r.replace(_i,function(i){var o=Is(i);switch(ad(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":s.forEach(function(l){a[l]=o[l]});break;case"<dataIntegrity":a.encryptedHmacKey=o.encryptedHmacKey,a.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":a.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":a.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":a.encs.push(o);break;default:throw o[0]}}),a}function zK(t,s){var r={},a=r.EncryptionVersionInfo=Yd(t,4);if(s-=4,a.Minor!=2)throw new Error("unrecognized minor version code: "+a.Minor);if(a.Major>4||a.Major<2)throw new Error("unrecognized major version code: "+a.Major);r.Flags=t.read_shift(4),s-=4;var n=t.read_shift(4);return s-=4,r.EncryptionHeader=rD(t,n),s-=n,r.EncryptionVerifier=aD(t,s),r}function $K(t){var s={},r=s.EncryptionVersionInfo=Yd(t,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return s.Salt=t.read_shift(16),s.EncryptedVerifier=t.read_shift(16),s.EncryptedVerifierHash=t.read_shift(16),s}function UK(t){var s=0,r,a=sD(t),n=a.length+1,i,o,l,d,u;for(r=mm(n),r[0]=a.length,i=1;i!=n;++i)r[i]=a[i-1];for(i=n-1;i>=0;--i)o=r[i],l=(s&16384)===0?0:1,d=s<<1&32767,u=l|d,s=u^o;return s^52811}var nD=function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],s=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],a=function(o){return(o/2|o*128)&255},n=function(o,l){return a(o^l)},i=function(o){for(var l=s[o.length-1],d=104,u=o.length-1;u>=0;--u)for(var h=o[u],f=0;f!=7;++f)h&64&&(l^=r[d]),h*=2,--d;return l};return function(o){for(var l=sD(o),d=i(l),u=l.length,h=mm(16),f=0;f!=16;++f)h[f]=0;var p,g,v;for((u&1)===1&&(p=d>>8,h[u]=n(t[0],p),--u,p=d&255,g=l[l.length-1],h[u]=n(g,p));u>0;)--u,p=d>>8,h[u]=n(l[u],p),--u,p=d&255,h[u]=n(l[u],p);for(u=15,v=15-l.length;v>0;)p=d>>8,h[u]=n(t[v],p),--u,--v,p=d&255,h[u]=n(l[u],p),--u,--v;return h}}(),VK=function(t,s,r,a,n){n||(n=s),a||(a=nD(t));var i,o;for(i=0;i!=s.length;++i)o=s[i],o^=a[r],o=(o>>5|o<<3)&255,n[i]=o,++r;return[n,r,a]},qK=function(t){var s=0,r=nD(t);return function(a){var n=VK("",a,s,r);return s=n[1],n[0]}};function HK(t,s,r,a){var n={key:an(t),verificationBytes:an(t)};return r.password&&(n.verifier=UK(r.password)),a.valid=n.verificationBytes===n.verifier,a.valid&&(a.insitu=qK(r.password)),n}function WK(t,s,r){var a=r||{};return a.Info=t.read_shift(2),t.l-=2,a.Info===1?a.Data=$K(t):a.Data=zK(t,s),a}function GK(t,s,r){var a={Type:r.biff>=8?t.read_shift(2):0};return a.Type?WK(t,s-2,a):HK(t,r.biff>=8?s:s-2,r,a),a}var YK=function(){function t(n,i){switch(i.type){case"base64":return s(Ro(n),i);case"binary":return s(n,i);case"buffer":return s(gr&&Buffer.isBuffer(n)?n.toString("binary"):I0(n),i);case"array":return s(A0(n),i)}throw new Error("Unrecognized type "+i.type)}function s(n,i){var o=i||{},l=o.dense?[]:{},d=n.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(h,f){Array.isArray(l)&&(l[f]=[]);for(var p=/\\\w+\b/g,g=0,v,y=-1;v=p.exec(h);){switch(v[0]){case"\\cell":var b=h.slice(g,p.lastIndex-v[0].length);if(b[0]==" "&&(b=b.slice(1)),++y,b.length){var _={v:b,t:"s"};Array.isArray(l)?l[f][y]=_:l[Gs({r:f,c:y})]=_}break}g=p.lastIndex}y>u.e.c&&(u.e.c=y)}),l["!ref"]=jr(u),l}function r(n,i){return ym(t(n,i),i)}function a(n){for(var i=["{\\rtf1\\ansi"],o=Ma(n["!ref"]),l,d=Array.isArray(n),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var h=o.s.c;h<=o.e.c;++h)i.push("\\cellx"+(h+1));for(i.push("\\pard\\intbl"),h=o.s.c;h<=o.e.c;++h){var f=Gs({r:u,c:h});l=d?(n[u]||[])[h]:n[f],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(Jd(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:a}}();function KK(t){var s=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(s.slice(0,2),16),parseInt(s.slice(2,4),16),parseInt(s.slice(4,6),16)]}function Lp(t){for(var s=0,r=1;s!=3;++s)r=r*256+(t[s]>255?255:t[s]<0?0:t[s]);return r.toString(16).toUpperCase().slice(1)}function XK(t){var s=t[0]/255,r=t[1]/255,a=t[2]/255,n=Math.max(s,r,a),i=Math.min(s,r,a),o=n-i;if(o===0)return[0,0,s];var l=0,d=0,u=n+i;switch(d=o/(u>1?2-u:u),n){case s:l=((r-a)/o+6)%6;break;case r:l=(a-s)/o+2;break;case a:l=(s-r)/o+4;break}return[l/6,d,u/2]}function QK(t){var s=t[0],r=t[1],a=t[2],n=r*2*(a<.5?a:1-a),i=a-n/2,o=[i,i,i],l=6*s,d;if(r!==0)switch(l|0){case 0:case 6:d=n*l,o[0]+=n,o[1]+=d;break;case 1:d=n*(2-l),o[0]+=d,o[1]+=n;break;case 2:d=n*(l-2),o[1]+=n,o[2]+=d;break;case 3:d=n*(4-l),o[1]+=d,o[2]+=n;break;case 4:d=n*(l-4),o[2]+=n,o[0]+=d;break;case 5:d=n*(6-l),o[2]+=d,o[0]+=n;break}for(var u=0;u!=3;++u)o[u]=Math.round(o[u]*255);return o}function o1(t,s){if(s===0)return t;var r=XK(KK(t));return s<0?r[2]=r[2]*(1+s):r[2]=1-(1-r[2])*(1-s),Lp(QK(r))}var iD=6,JK=15,ZK=1,Ri=iD;function l1(t){return Math.floor((t+Math.round(128/Ri)/256)*Ri)}function c1(t){return Math.floor((t-5)/Ri*100+.5)/100}function rj(t){return Math.round((t*Ri+5)/Ri*256)/256}function Gv(t){return rj(c1(l1(t)))}function KN(t){var s=Math.abs(t-Gv(t)),r=Ri;if(s>.005)for(Ri=ZK;Ri<JK;++Ri)Math.abs(t-Gv(t))<=s&&(s=Math.abs(t-Gv(t)),r=Ri);Ri=r}function dx(t){t.width?(t.wpx=l1(t.width),t.wch=c1(t.wpx),t.MDW=Ri):t.wpx?(t.wch=c1(t.wpx),t.width=rj(t.wch),t.MDW=Ri):typeof t.wch=="number"&&(t.width=rj(t.wch),t.wpx=l1(t.width),t.MDW=Ri),t.customWidth&&delete t.customWidth}var eX=96,oD=eX;function lD(t){return t*96/oD}function Fp(t){return t*oD/96}var tX={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function sX(t,s,r,a){s.Borders=[];var n={},i=!1;(t[0].match(_i)||[]).forEach(function(o){var l=Is(o);switch(ad(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":n={},l.diagonalUp&&(n.diagonalUp=ha(l.diagonalUp)),l.diagonalDown&&(n.diagonalDown=ha(l.diagonalDown)),s.Borders.push(n);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+l[0]+" in borders")}})}function rX(t,s,r,a){s.Fills=[];var n={},i=!1;(t[0].match(_i)||[]).forEach(function(o){var l=Is(o);switch(ad(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":n={},s.Fills.push(n);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":s.Fills.push(n),n={};break;case"<patternFill":case"<patternFill>":l.patternType&&(n.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":n.bgColor||(n.bgColor={}),l.indexed&&(n.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(n.bgColor.theme=parseInt(l.theme,10)),l.tint&&(n.bgColor.tint=parseFloat(l.tint)),l.rgb&&(n.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":n.fgColor||(n.fgColor={}),l.theme&&(n.fgColor.theme=parseInt(l.theme,10)),l.tint&&(n.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(n.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fills")}})}function aX(t,s,r,a){s.Fonts=[];var n={},i=!1;(t[0].match(_i)||[]).forEach(function(o){var l=Is(o);switch(ad(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":s.Fonts.push(n),n={};break;case"<name":l.val&&(n.name=sa(l.val));break;case"<name/>":case"</name>":break;case"<b":n.bold=l.val?ha(l.val):1;break;case"<b/>":n.bold=1;break;case"<i":n.italic=l.val?ha(l.val):1;break;case"<i/>":n.italic=1;break;case"<u":switch(l.val){case"none":n.underline=0;break;case"single":n.underline=1;break;case"double":n.underline=2;break;case"singleAccounting":n.underline=33;break;case"doubleAccounting":n.underline=34;break}break;case"<u/>":n.underline=1;break;case"<strike":n.strike=l.val?ha(l.val):1;break;case"<strike/>":n.strike=1;break;case"<outline":n.outline=l.val?ha(l.val):1;break;case"<outline/>":n.outline=1;break;case"<shadow":n.shadow=l.val?ha(l.val):1;break;case"<shadow/>":n.shadow=1;break;case"<condense":n.condense=l.val?ha(l.val):1;break;case"<condense/>":n.condense=1;break;case"<extend":n.extend=l.val?ha(l.val):1;break;case"<extend/>":n.extend=1;break;case"<sz":l.val&&(n.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(n.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(n.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(n.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=DN[parseInt(l.val,10)];break;case"<color":if(n.color||(n.color={}),l.auto&&(n.color.auto=ha(l.auto)),l.rgb)n.color.rgb=l.rgb.slice(-6);else if(l.indexed){n.color.index=parseInt(l.indexed,10);var d=y0[n.color.index];n.color.index==81&&(d=y0[1]),d||(d=y0[1]),n.color.rgb=d[0].toString(16)+d[1].toString(16)+d[2].toString(16)}else l.theme&&(n.color.theme=parseInt(l.theme,10),l.tint&&(n.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(n.color.rgb=o1(r.themeElements.clrScheme[n.color.theme].rgb,n.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fonts")}})}function nX(t,s,r){s.NumberFmt=[];for(var a=sd(Ks),n=0;n<a.length;++n)s.NumberFmt[a[n]]=Ks[a[n]];var i=t[0].match(_i);if(i)for(n=0;n<i.length;++n){var o=Is(i[n]);switch(ad(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=Cr(sa(o.formatCode)),d=parseInt(o.numFmtId,10);if(s.NumberFmt[d]=l,d>0){if(d>392){for(d=392;d>60&&s.NumberFmt[d]!=null;--d);s.NumberFmt[d]=l}g0(l,d)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var zy=["numFmtId","fillId","fontId","borderId","xfId"],$y=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function iX(t,s,r){s.CellXf=[];var a,n=!1;(t[0].match(_i)||[]).forEach(function(i){var o=Is(i),l=0;switch(ad(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(a=o,delete a[0],l=0;l<zy.length;++l)a[zy[l]]&&(a[zy[l]]=parseInt(a[zy[l]],10));for(l=0;l<$y.length;++l)a[$y[l]]&&(a[$y[l]]=ha(a[$y[l]]));if(s.NumberFmt&&a.numFmtId>392){for(l=392;l>60;--l)if(s.NumberFmt[a.numFmtId]==s.NumberFmt[l]){a.numFmtId=l;break}}s.CellXf.push(a);break;case"</xf>":break;case"<alignment":case"<alignment/>":var d={};o.vertical&&(d.vertical=o.vertical),o.horizontal&&(d.horizontal=o.horizontal),o.textRotation!=null&&(d.textRotation=o.textRotation),o.indent&&(d.indent=o.indent),o.wrapText&&(d.wrapText=ha(o.wrapText)),a.alignment=d;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":n=!0;break;case"</AlternateContent>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(r&&r.WTF&&!n)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var oX=function(){var s=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,a=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,n=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,d,u){var h={};if(!l)return h;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=l.match(s))&&nX(f,h,u),(f=l.match(n))&&aX(f,h,d,u),(f=l.match(a))&&rX(f,h,d,u),(f=l.match(i))&&sX(f,h,d,u),(f=l.match(r))&&iX(f,h,u),h}}();function lX(t,s){var r=t.read_shift(2),a=vi(t);return[r,a]}function cX(t,s,r){var a={};a.sz=t.read_shift(2)/20;var n=bG(t);n.fItalic&&(a.italic=1),n.fCondense&&(a.condense=1),n.fExtend&&(a.extend=1),n.fShadow&&(a.shadow=1),n.fOutline&&(a.outline=1),n.fStrikeout&&(a.strike=1);var i=t.read_shift(2);switch(i===700&&(a.bold=1),t.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(a.underline=o);var l=t.read_shift(1);l>0&&(a.family=l);var d=t.read_shift(1);switch(d>0&&(a.charset=d),t.l++,a.color=yG(t),t.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=vi(t),a}var dX=Si;function uX(t,s){var r=t.l+s,a=t.read_shift(2),n=t.read_shift(2);return t.l=r,{ixfe:a,numFmtId:n}}var mX=Si;function hX(t,s,r){var a={};a.NumberFmt=[];for(var n in Ks)a.NumberFmt[n]=Ks[n];a.CellXf=[],a.Fonts=[];var i=[],o=!1;return nu(t,function(d,u,h){switch(h){case 44:a.NumberFmt[d[0]]=d[1],g0(d[1],d[0]);break;case 43:a.Fonts.push(d),d.color.theme!=null&&s&&s.themeElements&&s.themeElements.clrScheme&&(d.color.rgb=o1(s.themeElements.clrScheme[d.color.theme].rgb,d.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&a.CellXf.push(d);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(h),o=!0;break;case 38:i.pop(),o=!1;break;default:if(u.T>0)i.push(h);else if(u.T<0)i.pop();else if(!o||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+h.toString(16))}}),a}var xX=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function fX(t,s,r){s.themeElements.clrScheme=[];var a={};(t[0].match(_i)||[]).forEach(function(n){var i=Is(n);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":a.rgb=i.val;break;case"<a:sysClr":a.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(s.themeElements.clrScheme[xX.indexOf(i[0])]=a,a={}):a.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function pX(){}function gX(){}var yX=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,bX=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,vX=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function wX(t,s,r){s.themeElements={};var a;[["clrScheme",yX,fX],["fontScheme",bX,pX],["fmtScheme",vX,gX]].forEach(function(n){if(!(a=t.match(n[1])))throw new Error(n[0]+" not found in themeElements");n[2](a,s,r)})}var jX=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function cD(t,s){(!t||t.length===0)&&(t=NX());var r,a={};if(!(r=t.match(jX)))throw new Error("themeElements not found in theme");return wX(r[0],a,s),a.raw=t,a}function NX(t,s){var r=[vT];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function SX(t,s,r){var a=t.l+s,n=t.read_shift(4);if(n!==124226){if(!r.cellStyles){t.l=a;return}var i=t.slice(t.l);t.l=a;var o;try{o=bT(i,{type:"array"})}catch{return}var l=Po(o,"theme/theme/theme1.xml",!0);if(l)return cD(l,r)}}function _X(t){return t.read_shift(4)}function CX(t){var s={};switch(s.xclrType=t.read_shift(2),s.nTintShade=t.read_shift(2),s.xclrType){case 0:t.l+=4;break;case 1:s.xclrValue=kX(t,4);break;case 2:s.xclrValue=KT(t);break;case 3:s.xclrValue=_X(t);break;case 4:t.l+=4;break}return t.l+=8,s}function kX(t,s){return Si(t,s)}function AX(t,s){return Si(t,s)}function EX(t){var s=t.read_shift(2),r=t.read_shift(2)-4,a=[s];switch(s){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:a[1]=CX(t);break;case 6:a[1]=AX(t,r);break;case 14:case 15:a[1]=t.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+s+" "+r)}return a}function TX(t,s){var r=t.l+s;t.l+=2;var a=t.read_shift(2);t.l+=2;for(var n=t.read_shift(2),i=[];n-- >0;)i.push(EX(t,r-t.l));return{ixfe:a,ext:i}}function DX(t,s){s.forEach(function(r){r[0]})}function PX(t,s){return{flags:t.read_shift(4),version:t.read_shift(4),name:vi(t)}}function MX(t){for(var s=[],r=t.read_shift(4);r-- >0;)s.push([t.read_shift(4),t.read_shift(4)]);return s}function LX(t){return t.l+=4,t.read_shift(4)!=0}function FX(t,s,r){var a={Types:[],Cell:[],Value:[]},n=r||{},i=[],o=!1,l=2;return nu(t,function(d,u,h){switch(h){case 335:a.Types.push({name:d.name});break;case 51:d.forEach(function(f){l==1?a.Cell.push({type:a.Types[f[0]-1].name,index:f[1]}):l==0&&a.Value.push({type:a.Types[f[0]-1].name,index:f[1]})});break;case 337:l=d?1:0;break;case 338:l=2;break;case 35:i.push(h),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!u.T){if(!o||n.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}}),a}function RX(t,s,r){var a={Types:[],Cell:[],Value:[]};if(!t)return a;var n=!1,i=2,o;return t.replace(_i,function(l){var d=Is(l);switch(ad(d[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":a.Types.push({name:d.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<a.Types.length;++u)a.Types[u].name==d.name&&(o=a.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?a.Cell.push({type:a.Types[d.t-1].name,index:+d.v}):i==0&&a.Value.push({type:a.Types[d.t-1].name,index:+d.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+d.i);break;default:if(!n&&r.WTF)throw new Error("unrecognized "+d[0]+" in metadata")}return l}),a}function OX(t){var s=[];if(!t)return s;var r=1;return(t.match(_i)||[]).forEach(function(a){var n=Is(a);switch(n[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete n[0],n.i?r=n.i:n.i=r,s.push(n);break}}),s}function IX(t){var s={};s.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),s.r=Gs(r);var a=t.read_shift(1);return a&2&&(s.l="1"),a&8&&(s.a="1"),s}function BX(t,s,r){var a=[];return nu(t,function(i,o,l){switch(l){case 63:a.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),a}function zX(t,s,r,a){if(!t)return t;var n=a||{},i=!1;nu(t,function(l,d,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!d.T){if(!i||n.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},n)}function $X(t,s){if(!t)return"??";var r=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return s["!id"][r].Target}function W_(t,s,r,a){var n=Array.isArray(t),i;s.forEach(function(o){var l=Oi(o.ref);if(n?(t[l.r]||(t[l.r]=[]),i=t[l.r][l.c]):i=t[o.ref],!i){i={t:"z"},n?t[l.r][l.c]=i:t[o.ref]=i;var d=Ma(t["!ref"]||"BDWGO1000001:A1");d.s.r>l.r&&(d.s.r=l.r),d.e.r<l.r&&(d.e.r=l.r),d.s.c>l.c&&(d.s.c=l.c),d.e.c<l.c&&(d.e.c=l.c);var u=jr(d);u!==t["!ref"]&&(t["!ref"]=u)}i.c||(i.c=[]);var h={a:o.author,t:o.t,r:o.r,T:r};o.h&&(h.h=o.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&a){for(f=0;f<a.length;++f)if(h.a==a[f].id){h.a=a[f].name||h.a;break}}i.c.push(h)})}function UX(t,s){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],a=[],n=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);n&&n[1]&&n[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var i=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var d=Is(l[0]),u={author:d.authorId&&r[d.authorId]||"sheetjsghost",ref:d.ref,guid:d.guid},h=Oi(d.ref);if(!(s.sheetRows&&s.sheetRows<=h.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),p=!!f&&!!f[1]&&YN(f[1])||{r:"",t:"",h:""};u.r=p.r,p.r=="<t></t>"&&(p.t=p.h=""),u.t=(p.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),s.cellHTML&&(u.h=p.h),a.push(u)}}}}),a}function VX(t,s){var r=[],a=!1,n={},i=0;return t.replace(_i,function(l,d){var u=Is(l);switch(ad(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":n={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":n.t!=null&&r.push(n);break;case"<text>":case"<text":i=d+l.length;break;case"</text>":n.t=t.slice(i,d).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":a=!0;break;case"</mentions>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&s.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return l}),r}function qX(t,s){var r=[],a=!1;return t.replace(_i,function(i){var o=Is(i);switch(ad(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&s.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),r}function HX(t){var s={};s.iauthor=t.read_shift(4);var r=z0(t);return s.rfx=r.s,s.ref=Gs(r.s),t.l+=16,s}var WX=vi;function GX(t,s){var r=[],a=[],n={},i=!1;return nu(t,function(l,d,u){switch(u){case 632:a.push(l);break;case 635:n=l;break;case 637:n.t=l.t,n.h=l.h,n.r=l.r;break;case 636:if(n.author=a[n.iauthor],delete n.iauthor,s.sheetRows&&n.rfx&&s.sheetRows<=n.rfx.r)break;n.t||(n.t=""),delete n.rfx,r.push(n);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!d.T){if(!i||s.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}var YX="application/vnd.ms-office.vbaProject";function KX(t){var s=wr.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(r,a){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var n=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");wr.utils.cfb_add(s,n,t.FileIndex[a].content)}}),wr.write(s)}function XX(){return{"!type":"dialog"}}function QX(){return{"!type":"dialog"}}function JX(){return{"!type":"macro"}}function ZX(){return{"!type":"macro"}}var Yh=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,s={r:0,c:0};function r(a,n,i,o){var l=!1,d=!1;i.length==0?d=!0:i.charAt(0)=="["&&(d=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,h=o.length>0?parseInt(o,10)|0:0;return l?h+=s.c:--h,d?u+=s.r:--u,n+(l?"":"$")+vn(h)+(d?"":"$")+Qn(u)}return function(n,i){return s=i,n.replace(t,r)}}(),dD=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,eQ=function(){return function(s,r){return s.replace(dD,function(a,n,i,o,l,d){var u=UN(o)-(i?0:r.c),h=$N(d)-(l?0:r.r),f=h==0?"":l?h+1:"["+h+"]",p=u==0?"":i?u+1:"["+u+"]";return n+"R"+f+"C"+p})}}();function uD(t,s){return t.replace(dD,function(r,a,n,i,o,l){return a+(n=="$"?n+i:vn(UN(i)+s.c))+(o=="$"?o+l:Qn($N(l)+s.r))})}function tQ(t,s,r){var a=Nx(s),n=a.s,i=Oi(r),o={r:i.r-n.r,c:i.c-n.c};return uD(t,o)}function sQ(t){return t.length!=1}function G_(t){return t.replace(/_xlfn\./g,"")}function sn(t){t.l+=1}function hm(t,s){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function mD(t,s,r){var a=2;if(r){if(r.biff>=2&&r.biff<=5)return hD(t);r.biff==12&&(a=4)}var n=t.read_shift(a),i=t.read_shift(a),o=hm(t),l=hm(t);return{s:{r:n,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function hD(t){var s=hm(t),r=hm(t),a=t.read_shift(1),n=t.read_shift(1);return{s:{r:s[0],c:a,cRel:s[1],rRel:s[2]},e:{r:r[0],c:n,cRel:r[1],rRel:r[2]}}}function rQ(t,s,r){if(r.biff<8)return hD(t);var a=t.read_shift(r.biff==12?4:2),n=t.read_shift(r.biff==12?4:2),i=hm(t),o=hm(t);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:n,c:o[0],cRel:o[1],rRel:o[2]}}}function xD(t,s,r){if(r&&r.biff>=2&&r.biff<=5)return aQ(t);var a=t.read_shift(r&&r.biff==12?4:2),n=hm(t);return{r:a,c:n[0],cRel:n[1],rRel:n[2]}}function aQ(t){var s=hm(t),r=t.read_shift(1);return{r:s[0],c:r,cRel:s[1],rRel:s[2]}}function nQ(t){var s=t.read_shift(2),r=t.read_shift(2);return{r:s,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function iQ(t,s,r){var a=r&&r.biff?r.biff:8;if(a>=2&&a<=5)return oQ(t);var n=t.read_shift(a>=12?4:2),i=t.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;n>524287;)n-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:n,c:i,cRel:o,rRel:l}}function oQ(t){var s=t.read_shift(2),r=t.read_shift(1),a=(s&32768)>>15,n=(s&16384)>>14;return s&=16383,a==1&&s>=8192&&(s=s-16384),n==1&&r>=128&&(r=r-256),{r:s,c:r,cRel:n,rRel:a}}function lQ(t,s,r){var a=(t[t.l++]&96)>>5,n=mD(t,r.biff>=2&&r.biff<=5?6:8,r);return[a,n]}function cQ(t,s,r){var a=(t[t.l++]&96)>>5,n=t.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}var o=mD(t,i,r);return[a,n,o]}function dQ(t,s,r){var a=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[a]}function uQ(t,s,r){var a=(t[t.l++]&96)>>5,n=t.read_shift(2),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}return t.l+=i,[a,n]}function mQ(t,s,r){var a=(t[t.l++]&96)>>5,n=rQ(t,s-1,r);return[a,n]}function hQ(t,s,r){var a=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[a]}function Y_(t){var s=t[t.l+1]&1,r=1;return t.l+=4,[s,r]}function xQ(t,s,r){t.l+=2;for(var a=t.read_shift(r&&r.biff==2?1:2),n=[],i=0;i<=a;++i)n.push(t.read_shift(r&&r.biff==2?1:2));return n}function fQ(t,s,r){var a=t[t.l+1]&255?1:0;return t.l+=2,[a,t.read_shift(r&&r.biff==2?1:2)]}function pQ(t,s,r){var a=t[t.l+1]&255?1:0;return t.l+=2,[a,t.read_shift(r&&r.biff==2?1:2)]}function gQ(t){var s=t[t.l+1]&255?1:0;return t.l+=2,[s,t.read_shift(2)]}function yQ(t,s,r){var a=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[a]}function fD(t){var s=t.read_shift(1),r=t.read_shift(1);return[s,r]}function bQ(t){return t.read_shift(2),fD(t)}function vQ(t){return t.read_shift(2),fD(t)}function wQ(t,s,r){var a=(t[t.l]&96)>>5;t.l+=1;var n=xD(t,0,r);return[a,n]}function jQ(t,s,r){var a=(t[t.l]&96)>>5;t.l+=1;var n=iQ(t,0,r);return[a,n]}function NQ(t,s,r){var a=(t[t.l]&96)>>5;t.l+=1;var n=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var i=xD(t,0,r);return[a,n,i]}function SQ(t,s,r){var a=(t[t.l]&96)>>5;t.l+=1;var n=t.read_shift(r&&r.biff<=3?1:2);return[_J[n],yD[n],a]}function _Q(t,s,r){var a=t[t.l++],n=t.read_shift(1),i=r&&r.biff<=3?[a==88?-1:0,t.read_shift(1)]:CQ(t);return[n,(i[0]===0?yD:SJ)[i[1]]]}function CQ(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function kQ(t,s,r){t.l+=r&&r.biff==2?3:4}function AQ(t,s,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var a=t.read_shift(2),n=t.read_shift(r&&r.biff==2?1:2);return[a,n]}function EQ(t){return t.l++,$0[t.read_shift(1)]}function TQ(t){return t.l++,t.read_shift(2)}function DQ(t){return t.l++,t.read_shift(1)!==0}function PQ(t){return t.l++,hi(t)}function MQ(t,s,r){return t.l++,og(t,s-1,r)}function LQ(t,s){var r=[t.read_shift(1)];if(s==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=$a(t,1)?"TRUE":"FALSE",s!=12&&(t.l+=7);break;case 37:case 16:r[1]=$0[t[t.l]],t.l+=s==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=hi(t);break;case 2:r[1]=U0(t,0,{biff:s>0&&s<8?2:s});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function FQ(t,s,r){for(var a=t.read_shift(r.biff==12?4:2),n=[],i=0;i!=a;++i)n.push((r.biff==12?z0:V1)(t));return n}function RQ(t,s,r){var a=0,n=0;r.biff==12?(a=t.read_shift(4),n=t.read_shift(4)):(n=1+t.read_shift(1),a=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--a,--n==0&&(n=256));for(var i=0,o=[];i!=a&&(o[i]=[]);++i)for(var l=0;l!=n;++l)o[i][l]=LQ(t,r.biff);return o}function OQ(t,s,r){var a=t.read_shift(1)>>>5&3,n=!r||r.biff>=8?4:2,i=t.read_shift(n);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[a,0,i]}function IQ(t,s,r){if(r.biff==5)return BQ(t);var a=t.read_shift(1)>>>5&3,n=t.read_shift(2),i=t.read_shift(4);return[a,n,i]}function BQ(t){var s=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var a=t.read_shift(2);return t.l+=12,[s,r,a]}function zQ(t,s,r){var a=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var n=t.read_shift(r&&r.biff==2?1:2);return[a,n]}function $Q(t,s,r){var a=t.read_shift(1)>>>5&3,n=t.read_shift(r&&r.biff==2?1:2);return[a,n]}function UQ(t,s,r){var a=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[a]}function VQ(t,s,r){var a=(t[t.l++]&96)>>5,n=t.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return t.l+=i,[a,n]}var qQ=Si,HQ=Si,WQ=Si;function cg(t,s,r){return t.l+=2,[nQ(t)]}function XN(t){return t.l+=6,[]}var GQ=cg,YQ=XN,KQ=XN,XQ=cg;function pD(t){return t.l+=2,[an(t),t.read_shift(2)&1]}var QQ=cg,JQ=pD,ZQ=XN,eJ=cg,tJ=cg,sJ=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function rJ(t){t.l+=2;var s=t.read_shift(2),r=t.read_shift(2),a=t.read_shift(4),n=t.read_shift(2),i=t.read_shift(2),o=sJ[r>>2&31];return{ixti:s,coltype:r&3,rt:o,idx:a,c:n,C:i}}function aJ(t){return t.l+=2,[t.read_shift(4)]}function nJ(t,s,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function iJ(t,s,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function oJ(t){var s=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[s,r]}function lJ(t){var s=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[s,r]}function cJ(t){return t.l+=4,[0,0]}var K_={1:{n:"PtgExp",f:AQ},2:{n:"PtgTbl",f:WQ},3:{n:"PtgAdd",f:sn},4:{n:"PtgSub",f:sn},5:{n:"PtgMul",f:sn},6:{n:"PtgDiv",f:sn},7:{n:"PtgPower",f:sn},8:{n:"PtgConcat",f:sn},9:{n:"PtgLt",f:sn},10:{n:"PtgLe",f:sn},11:{n:"PtgEq",f:sn},12:{n:"PtgGe",f:sn},13:{n:"PtgGt",f:sn},14:{n:"PtgNe",f:sn},15:{n:"PtgIsect",f:sn},16:{n:"PtgUnion",f:sn},17:{n:"PtgRange",f:sn},18:{n:"PtgUplus",f:sn},19:{n:"PtgUminus",f:sn},20:{n:"PtgPercent",f:sn},21:{n:"PtgParen",f:sn},22:{n:"PtgMissArg",f:sn},23:{n:"PtgStr",f:MQ},26:{n:"PtgSheet",f:nJ},27:{n:"PtgEndSheet",f:iJ},28:{n:"PtgErr",f:EQ},29:{n:"PtgBool",f:DQ},30:{n:"PtgInt",f:TQ},31:{n:"PtgNum",f:PQ},32:{n:"PtgArray",f:hQ},33:{n:"PtgFunc",f:SQ},34:{n:"PtgFuncVar",f:_Q},35:{n:"PtgName",f:OQ},36:{n:"PtgRef",f:wQ},37:{n:"PtgArea",f:lQ},38:{n:"PtgMemArea",f:zQ},39:{n:"PtgMemErr",f:qQ},40:{n:"PtgMemNoMem",f:HQ},41:{n:"PtgMemFunc",f:$Q},42:{n:"PtgRefErr",f:UQ},43:{n:"PtgAreaErr",f:dQ},44:{n:"PtgRefN",f:jQ},45:{n:"PtgAreaN",f:mQ},46:{n:"PtgMemAreaN",f:oJ},47:{n:"PtgMemNoMemN",f:lJ},57:{n:"PtgNameX",f:IQ},58:{n:"PtgRef3d",f:NQ},59:{n:"PtgArea3d",f:cQ},60:{n:"PtgRefErr3d",f:VQ},61:{n:"PtgAreaErr3d",f:uQ},255:{}},dJ={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},uJ={1:{n:"PtgElfLel",f:pD},2:{n:"PtgElfRw",f:eJ},3:{n:"PtgElfCol",f:GQ},6:{n:"PtgElfRwV",f:tJ},7:{n:"PtgElfColV",f:XQ},10:{n:"PtgElfRadical",f:QQ},11:{n:"PtgElfRadicalS",f:ZQ},13:{n:"PtgElfColS",f:YQ},15:{n:"PtgElfColSV",f:KQ},16:{n:"PtgElfRadicalLel",f:JQ},25:{n:"PtgList",f:rJ},29:{n:"PtgSxName",f:aJ},255:{}},mJ={0:{n:"PtgAttrNoop",f:cJ},1:{n:"PtgAttrSemi",f:yQ},2:{n:"PtgAttrIf",f:pQ},4:{n:"PtgAttrChoose",f:xQ},8:{n:"PtgAttrGoto",f:fQ},16:{n:"PtgAttrSum",f:kQ},32:{n:"PtgAttrBaxcel",f:Y_},33:{n:"PtgAttrBaxcel",f:Y_},64:{n:"PtgAttrSpace",f:bQ},65:{n:"PtgAttrSpaceSemi",f:vQ},128:{n:"PtgAttrIfError",f:gQ},255:{}};function dg(t,s,r,a){if(a.biff<8)return Si(t,s);for(var n=t.l+s,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=RQ(t,0,a),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=FQ(t,r[o][1],a),i.push(r[o][2]);break;case"PtgExp":a&&a.biff==12&&(r[o][1][1]=t.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return s=n-t.l,s!==0&&i.push(Si(t,s)),i}function ug(t,s,r){for(var a=t.l+s,n,i,o=[];a!=t.l;)s=a-t.l,i=t[t.l],n=K_[i]||K_[dJ[i]],(i===24||i===25)&&(n=(i===24?uJ:mJ)[t[t.l+1]]),!n||!n.f?Si(t,s):o.push([n.n,n.f(t,s,r)]);return o}function hJ(t){for(var s=[],r=0;r<t.length;++r){for(var a=t[r],n=[],i=0;i<a.length;++i){var o=a[i];if(o)switch(o[0]){case 2:n.push('"'+o[1].replace(/"/g,'""')+'"');break;default:n.push(o[1])}else n.push("")}s.push(n.join(","))}return s.join(";")}var xJ={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function fJ(t,s){if(!t&&!(s&&s.biff<=5&&s.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function gD(t,s,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[s]))return t.SheetNames[s];if(!t.XTI)return"SH33TJSERR6";var a=t.XTI[s];if(r.biff<8)return s>1e4&&(s-=65536),s<0&&(s=-s),s==0?"":t.XTI[s-1];if(!a)return"SH33TJSERR1";var n="";if(r.biff>8)switch(t[a[0]][0]){case 357:return n=a[1]==-1?"#REF":t.SheetNames[a[1]],a[1]==a[2]?n:n+":"+t.SheetNames[a[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[a[0]][0];case 355:default:return"SH33TJSSRC"+t[a[0]][0]}switch(t[a[0]][0][0]){case 1025:return n=a[1]==-1?"#REF":t.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?n:n+":"+t.SheetNames[a[2]];case 14849:return t[a[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return t[a[0]][0][3]?(n=a[1]==-1?"#REF":t[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?n:n+":"+t[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function X_(t,s,r){var a=gD(t,s,r);return a=="#REF"?a:fJ(a,r)}function ui(t,s,r,a,n){var i=n&&n.biff||8,o={s:{c:0,r:0}},l=[],d,u,h,f=0,p=0,g,v="";if(!t[0]||!t[0][0])return"";for(var y=-1,b="",_=0,k=t[0].length;_<k;++_){var A=t[0][_];switch(A[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=l.pop(),u=l.pop(),y>=0){switch(t[0][y][1][0]){case 0:b=Da(" ",t[0][y][1][1]);break;case 1:b=Da("\r",t[0][y][1][1]);break;default:if(b="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][y][1][0])}u=u+b,y=-1}l.push(u+xJ[A[0]]+d);break;case"PtgIsect":d=l.pop(),u=l.pop(),l.push(u+" "+d);break;case"PtgUnion":d=l.pop(),u=l.pop(),l.push(u+","+d);break;case"PtgRange":d=l.pop(),u=l.pop(),l.push(u+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=np(A[1][1],o,n),l.push(ip(h,i));break;case"PtgRefN":h=r?np(A[1][1],r,n):A[1][1],l.push(ip(h,i));break;case"PtgRef3d":f=A[1][1],h=np(A[1][2],o,n),v=X_(a,f,n),l.push(v+"!"+ip(h,i));break;case"PtgFunc":case"PtgFuncVar":var R=A[1][0],F=A[1][1];R||(R=0),R&=127;var V=R==0?[]:l.slice(-R);l.length-=R,F==="User"&&(F=V.shift()),l.push(F+"("+V.join(",")+")");break;case"PtgBool":l.push(A[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(A[1]);break;case"PtgNum":l.push(String(A[1]));break;case"PtgStr":l.push('"'+A[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(A[1]);break;case"PtgAreaN":g=T_(A[1][1],r?{s:r}:o,n),l.push(Hv(g,n));break;case"PtgArea":g=T_(A[1][1],o,n),l.push(Hv(g,n));break;case"PtgArea3d":f=A[1][1],g=A[1][2],v=X_(a,f,n),l.push(v+"!"+Hv(g,n));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=A[1][2];var S=(a.names||[])[p-1]||(a[0]||[])[p],L=S?S.Name:"SH33TJSNAME"+String(p);L&&L.slice(0,6)=="_xlfn."&&!n.xlfn&&(L=L.slice(6)),l.push(L);break;case"PtgNameX":var I=A[1][1];p=A[1][2];var B;if(n.biff<=5)I<0&&(I=-I),a[I]&&(B=a[I][p]);else{var T="";if(((a[I]||[])[0]||[])[0]==14849||(((a[I]||[])[0]||[])[0]==1025?a[I][p]&&a[I][p].itab>0&&(T=a.SheetNames[a[I][p].itab-1]+"!"):T=a.SheetNames[p-1]+"!"),a[I]&&a[I][p])T+=a[I][p].Name;else if(a[0]&&a[0][p])T+=a[0][p].Name;else{var w=(gD(a,I,n)||"").split(";;");w[p-1]?T=w[p-1]:T+="SH33TJSERRX"}l.push(T);break}B||(B={Name:"SH33TJSERRY"}),l.push(B.Name);break;case"PtgParen":var E="(",D=")";if(y>=0){switch(b="",t[0][y][1][0]){case 2:E=Da(" ",t[0][y][1][1])+E;break;case 3:E=Da("\r",t[0][y][1][1])+E;break;case 4:D=Da(" ",t[0][y][1][1])+D;break;case 5:D=Da("\r",t[0][y][1][1])+D;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][y][1][0])}y=-1}l.push(E+l.pop()+D);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":h={c:A[1][1],r:A[1][0]};var G={c:r.c,r:r.r};if(a.sharedf[Gs(h)]){var K=a.sharedf[Gs(h)];l.push(ui(K,o,G,a,n))}else{var X=!1;for(d=0;d!=a.arrayf.length;++d)if(u=a.arrayf[d],!(h.c<u[0].s.c||h.c>u[0].e.c)&&!(h.r<u[0].s.r||h.r>u[0].e.r)){l.push(ui(u[1],o,G,a,n)),X=!0;break}X||l.push(A[1])}break;case"PtgArray":l.push("{"+hJ(A[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":y=_;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+A[1].idx+"[#"+A[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(A));default:throw new Error("Unrecognized Formula Token: "+String(A))}var se=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3&&y>=0&&se.indexOf(t[0][_][0])==-1){A=t[0][y];var Z=!0;switch(A[1][0]){case 4:Z=!1;case 0:b=Da(" ",A[1][1]);break;case 5:Z=!1;case 1:b=Da("\r",A[1][1]);break;default:if(b="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+A[1][0])}l.push((Z?b:"")+l.pop()+(Z?"":b)),y=-1}}if(l.length>1&&n.WTF)throw new Error("bad formula stack");return l[0]}function pJ(t,s,r){var a=t.l+s,n=r.biff==2?1:2,i,o=t.read_shift(n);if(o==65535)return[[],Si(t,s-2)];var l=ug(t,o,r);return s!==o+n&&(i=dg(t,s-o-n,l,r)),t.l=a,[l,i]}function gJ(t,s,r){var a=t.l+s,n=r.biff==2?1:2,i,o=t.read_shift(n);if(o==65535)return[[],Si(t,s-2)];var l=ug(t,o,r);return s!==o+n&&(i=dg(t,s-o-n,l,r)),t.l=a,[l,i]}function yJ(t,s,r,a){var n=t.l+s,i=ug(t,a,r),o;return n!==t.l&&(o=dg(t,n-t.l,i,r)),[i,o]}function bJ(t,s,r){var a=t.l+s,n,i=t.read_shift(2),o=ug(t,i,r);return i==65535?[[],Si(t,s-2)]:(s!==i+2&&(n=dg(t,a-i-2,o,r)),[o,n])}function vJ(t){var s;if(Hd(t,t.l+6)!==65535)return[hi(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return s=t[t.l+2]===1,t.l+=8,[s,"b"];case 2:return s=t[t.l+2],t.l+=8,[s,"e"];case 3:return t.l+=8,["","s"]}return[]}function Yv(t,s,r){var a=t.l+s,n=nd(t);r.biff==2&&++t.l;var i=vJ(t),o=t.read_shift(1);r.biff!=2&&(t.read_shift(1),r.biff>=5&&t.read_shift(4));var l=gJ(t,a-t.l,r);return{cell:n,val:i[0],formula:l,shared:o>>3&1,tt:i[1]}}function q1(t,s,r){var a=t.read_shift(4),n=ug(t,a,r),i=t.read_shift(4),o=i>0?dg(t,i,n,r):null;return[n,o]}var wJ=q1,H1=q1,jJ=q1,NJ=q1,SJ={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},yD={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},_J={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Q_(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(s,r){return r.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function Kv(t){var s=t.split(":"),r=s[0].split(".")[0];return[r,s[0].split(".")[1]+(s.length>1?":"+(s[1].split(".")[1]||s[1].split(".")[0]):"")]}var dp={},Kh={};function up(t,s){if(t){var r=[.7,.7,.75,.75,.3,.3];s=="xlml"&&(r=[1,1,1,1,.5,.5]),t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function bD(t,s,r,a,n,i){try{a.cellNF&&(t.z=Ks[s])}catch(l){if(a.WTF)throw l}if(!(t.t==="z"&&!a.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=Dn(t.v)),(!a||a.cellText!==!1)&&t.t!=="z")try{if(Ks[s]==null&&g0(CW[s]||"General",s),t.t==="e")t.w=t.w||$0[t.v];else if(s===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Tp(t.v);else if(t.t==="d"){var o=Ui(t.v);(o|0)===o?t.w=o.toString(10):t.w=Tp(o)}else{if(t.v===void 0)return"";t.w=k0(t.v,Kh)}else t.t==="d"?t.w=pl(s,Ui(t.v),Kh):t.w=pl(s,t.v,Kh)}catch(l){if(a.WTF)throw l}if(a.cellStyles&&r!=null)try{t.s=i.Fills[r],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=o1(n.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),a.WTF&&(t.s.fgColor.raw_rgb=n.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=o1(n.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),a.WTF&&(t.s.bgColor.raw_rgb=n.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(l){if(a.WTF&&i.Fills)throw l}}}function CJ(t,s){var r=Ma(s);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(t["!ref"]=jr(r))}var kJ=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,AJ=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,EJ=/<(?:\w:)?hyperlink [^>]*>/mg,TJ=/"(\w*:\w*)"/,DJ=/<(?:\w:)?col\b[^>]*[\/]?>/g,PJ=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,MJ=/<(?:\w:)?pageMargins[^>]*\/>/g,vD=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,LJ=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,FJ=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function RJ(t,s,r,a,n,i,o){if(!t)return t;a||(a={"!id":{}});var l=s.dense?[]:{},d={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",h="",f=t.match(AJ);f?(u=t.slice(0,f.index),h=t.slice(f.index+f[0].length)):u=h=t;var p=u.match(vD);p?QN(p[0],l,n,r):(p=u.match(LJ))&&OJ(p[0],p[1]||"",l,n,r);var g=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(g>0){var v=u.slice(g,g+50).match(TJ);v&&CJ(l,v[1])}var y=u.match(FJ);y&&y[1]&&VJ(y[1],n);var b=[];if(s.cellStyles){var _=u.match(DJ);_&&zJ(b,_)}f&&qJ(f[1],l,s,d,i,o);var k=h.match(PJ);k&&(l["!autofilter"]=$J(k[0]));var A=[],R=h.match(kJ);if(R)for(g=0;g!=R.length;++g)A[g]=Ma(R[g].slice(R[g].indexOf('"')+1));var F=h.match(EJ);F&&IJ(l,F,a);var V=h.match(MJ);if(V&&(l["!margins"]=BJ(Is(V[0]))),!l["!ref"]&&d.e.c>=d.s.c&&d.e.r>=d.s.r&&(l["!ref"]=jr(d)),s.sheetRows>0&&l["!ref"]){var S=Ma(l["!ref"]);s.sheetRows<=+S.e.r&&(S.e.r=s.sheetRows-1,S.e.r>d.e.r&&(S.e.r=d.e.r),S.e.r<S.s.r&&(S.s.r=S.e.r),S.e.c>d.e.c&&(S.e.c=d.e.c),S.e.c<S.s.c&&(S.s.c=S.e.c),l["!fullref"]=l["!ref"],l["!ref"]=jr(S))}return b.length>0&&(l["!cols"]=b),A.length>0&&(l["!merges"]=A),l}function QN(t,s,r,a){var n=Is(t);r.Sheets[a]||(r.Sheets[a]={}),n.codeName&&(r.Sheets[a].CodeName=Cr(sa(n.codeName)))}function OJ(t,s,r,a,n){QN(t.slice(0,t.indexOf(">")),r,a,n)}function IJ(t,s,r){for(var a=Array.isArray(t),n=0;n!=s.length;++n){var i=Is(sa(s[n]),!0);if(!i.ref)return;var o=((r||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+Cr(i.location))):(i.Target="#"+Cr(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var l=Ma(i.ref),d=l.s.r;d<=l.e.r;++d)for(var u=l.s.c;u<=l.e.c;++u){var h=Gs({c:u,r:d});a?(t[d]||(t[d]=[]),t[d][u]||(t[d][u]={t:"z",v:void 0}),t[d][u].l=i):(t[h]||(t[h]={t:"z",v:void 0}),t[h].l=i)}}}function BJ(t){var s={};return["left","right","top","bottom","header","footer"].forEach(function(r){t[r]&&(s[r]=parseFloat(t[r]))}),s}function zJ(t,s){for(var r=!1,a=0;a!=s.length;++a){var n=Is(s[a],!0);n.hidden&&(n.hidden=ha(n.hidden));var i=parseInt(n.min,10)-1,o=parseInt(n.max,10)-1;for(n.outlineLevel&&(n.level=+n.outlineLevel||0),delete n.min,delete n.max,n.width=+n.width,!r&&n.width&&(r=!0,KN(n.width)),dx(n);i<=o;)t[i++]=Xn(n)}}function $J(t){var s={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return s}var UJ=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function VJ(t,s){s.Views||(s.Views=[{}]),(t.match(UJ)||[]).forEach(function(r,a){var n=Is(r);s.Views[a]||(s.Views[a]={}),+n.zoomScale&&(s.Views[a].zoom=+n.zoomScale),ha(n.rightToLeft)&&(s.Views[a].RTL=!0)})}var qJ=function(){var t=/<(?:\w+:)?c[ \/>]/,s=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,a=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,n=/ref=["']([^"']*)["']/,i=Dp("v"),o=Dp("f");return function(d,u,h,f,p,g){for(var v=0,y="",b=[],_=[],k=0,A=0,R=0,F="",V,S,L=0,I=0,B,T,w=0,E=0,D=Array.isArray(g.CellXf),G,K=[],X=[],se=Array.isArray(u),Z=[],ee={},ce=!1,U=!!h.sheetStubs,O=d.split(s),z=0,q=O.length;z!=q;++z){y=O[z].trim();var te=y.length;if(te!==0){var ge=0;e:for(v=0;v<te;++v)switch(y[v]){case">":if(y[v-1]!="/"){++v;break e}if(h&&h.cellStyles){if(S=Is(y.slice(ge,v),!0),L=S.r!=null?parseInt(S.r,10):L+1,I=-1,h.sheetRows&&h.sheetRows<L)continue;ee={},ce=!1,S.ht&&(ce=!0,ee.hpt=parseFloat(S.ht),ee.hpx=Fp(ee.hpt)),S.hidden=="1"&&(ce=!0,ee.hidden=!0),S.outlineLevel!=null&&(ce=!0,ee.level=+S.outlineLevel),ce&&(Z[L-1]=ee)}break;case"<":ge=v;break}if(ge>=v)break;if(S=Is(y.slice(ge,v),!0),L=S.r!=null?parseInt(S.r,10):L+1,I=-1,!(h.sheetRows&&h.sheetRows<L)){f.s.r>L-1&&(f.s.r=L-1),f.e.r<L-1&&(f.e.r=L-1),h&&h.cellStyles&&(ee={},ce=!1,S.ht&&(ce=!0,ee.hpt=parseFloat(S.ht),ee.hpx=Fp(ee.hpt)),S.hidden=="1"&&(ce=!0,ee.hidden=!0),S.outlineLevel!=null&&(ce=!0,ee.level=+S.outlineLevel),ce&&(Z[L-1]=ee)),b=y.slice(v).split(t);for(var Q=0;Q!=b.length&&b[Q].trim().charAt(0)=="<";++Q);for(b=b.slice(Q),v=0;v!=b.length;++v)if(y=b[v].trim(),y.length!==0){if(_=y.match(r),k=v,A=0,R=0,y="<c "+(y.slice(0,1)=="<"?">":"")+y,_!=null&&_.length===2){for(k=0,F=_[1],A=0;A!=F.length&&!((R=F.charCodeAt(A)-64)<1||R>26);++A)k=26*k+R;--k,I=k}else++I;for(A=0;A!=y.length&&y.charCodeAt(A)!==62;++A);if(++A,S=Is(y.slice(0,A),!0),S.r||(S.r=Gs({r:L-1,c:I})),F=y.slice(A),V={t:""},(_=F.match(i))!=null&&_[1]!==""&&(V.v=Cr(_[1])),h.cellFormula){if((_=F.match(o))!=null&&_[1]!==""){if(V.f=Cr(sa(_[1])).replace(/\r\n/g,`
`),h.xlfn||(V.f=G_(V.f)),_[0].indexOf('t="array"')>-1)V.F=(F.match(n)||[])[1],V.F.indexOf(":")>-1&&K.push([Ma(V.F),V.F]);else if(_[0].indexOf('t="shared"')>-1){T=Is(_[0]);var ue=Cr(sa(_[1]));h.xlfn||(ue=G_(ue)),X[parseInt(T.si,10)]=[T,ue,S.r]}}else(_=F.match(/<f[^>]*\/>/))&&(T=Is(_[0]),X[T.si]&&(V.f=tQ(X[T.si][1],X[T.si][2],S.r)));var ie=Oi(S.r);for(A=0;A<K.length;++A)ie.r>=K[A][0].s.r&&ie.r<=K[A][0].e.r&&ie.c>=K[A][0].s.c&&ie.c<=K[A][0].e.c&&(V.F=K[A][1])}if(S.t==null&&V.v===void 0)if(V.f||V.F)V.v=0,V.t="n";else if(U)V.t="z";else continue;else V.t=S.t||"n";switch(f.s.c>I&&(f.s.c=I),f.e.c<I&&(f.e.c=I),V.t){case"n":if(V.v==""||V.v==null){if(!U)continue;V.t="z"}else V.v=parseFloat(V.v);break;case"s":if(typeof V.v>"u"){if(!U)continue;V.t="z"}else B=dp[parseInt(V.v,10)],V.v=B.t,V.r=B.r,h.cellHTML&&(V.h=B.h);break;case"str":V.t="s",V.v=V.v!=null?sa(V.v):"",h.cellHTML&&(V.h=IN(V.v));break;case"inlineStr":_=F.match(a),V.t="s",_!=null&&(B=YN(_[1]))?(V.v=B.t,h.cellHTML&&(V.h=B.h)):V.v="";break;case"b":V.v=ha(V.v);break;case"d":h.cellDates?V.v=Dn(V.v,1):(V.v=Ui(Dn(V.v,1)),V.t="n");break;case"e":(!h||h.cellText!==!1)&&(V.w=V.v),V.v=$T[V.v];break}if(w=E=0,G=null,D&&S.s!==void 0&&(G=g.CellXf[S.s],G!=null&&(G.numFmtId!=null&&(w=G.numFmtId),h.cellStyles&&G.fillId!=null&&(E=G.fillId))),bD(V,w,E,h,p,g),h.cellDates&&D&&V.t=="n"&&jx(Ks[w])&&(V.t="d",V.v=U1(V.v)),S.cm&&h.xlmeta){var oe=(h.xlmeta.Cell||[])[+S.cm-1];oe&&oe.type=="XLDAPR"&&(V.D=!0)}if(se){var J=Oi(S.r);u[J.r]||(u[J.r]=[]),u[J.r][J.c]=V}else u[S.r]=V}}}}Z.length>0&&(u["!rows"]=Z)}}();function HJ(t,s){var r={},a=t.l+s;r.r=t.read_shift(4),t.l+=4;var n=t.read_shift(2);t.l+=1;var i=t.read_shift(1);return t.l=a,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=n/20),r}var WJ=z0;function GJ(){}function YJ(t,s){var r={},a=t[t.l];return++t.l,r.above=!(a&64),r.left=!(a&128),t.l+=18,r.name=pG(t),r}function KJ(t){var s=yl(t);return[s]}function XJ(t){var s=B0(t);return[s]}function QJ(t){var s=yl(t),r=t.read_shift(1);return[s,r,"b"]}function JJ(t){var s=B0(t),r=t.read_shift(1);return[s,r,"b"]}function ZJ(t){var s=yl(t),r=t.read_shift(1);return[s,r,"e"]}function eZ(t){var s=B0(t),r=t.read_shift(1);return[s,r,"e"]}function tZ(t){var s=yl(t),r=t.read_shift(4);return[s,r,"s"]}function sZ(t){var s=B0(t),r=t.read_shift(4);return[s,r,"s"]}function rZ(t){var s=yl(t),r=hi(t);return[s,r,"n"]}function wD(t){var s=B0(t),r=hi(t);return[s,r,"n"]}function aZ(t){var s=yl(t),r=HN(t);return[s,r,"n"]}function nZ(t){var s=B0(t),r=HN(t);return[s,r,"n"]}function iZ(t){var s=yl(t),r=VN(t);return[s,r,"is"]}function oZ(t){var s=yl(t),r=vi(t);return[s,r,"str"]}function lZ(t){var s=B0(t),r=vi(t);return[s,r,"str"]}function cZ(t,s,r){var a=t.l+s,n=yl(t);n.r=r["!row"];var i=t.read_shift(1),o=[n,i,"b"];if(r.cellFormula){t.l+=2;var l=H1(t,a-t.l,r);o[3]=ui(l,null,n,r.supbooks,r)}else t.l=a;return o}function dZ(t,s,r){var a=t.l+s,n=yl(t);n.r=r["!row"];var i=t.read_shift(1),o=[n,i,"e"];if(r.cellFormula){t.l+=2;var l=H1(t,a-t.l,r);o[3]=ui(l,null,n,r.supbooks,r)}else t.l=a;return o}function uZ(t,s,r){var a=t.l+s,n=yl(t);n.r=r["!row"];var i=hi(t),o=[n,i,"n"];if(r.cellFormula){t.l+=2;var l=H1(t,a-t.l,r);o[3]=ui(l,null,n,r.supbooks,r)}else t.l=a;return o}function mZ(t,s,r){var a=t.l+s,n=yl(t);n.r=r["!row"];var i=vi(t),o=[n,i,"str"];if(r.cellFormula){t.l+=2;var l=H1(t,a-t.l,r);o[3]=ui(l,null,n,r.supbooks,r)}else t.l=a;return o}var hZ=z0;function xZ(t,s){var r=t.l+s,a=z0(t),n=qN(t),i=vi(t),o=vi(t),l=vi(t);t.l=r;var d={rfx:a,relId:n,loc:i,display:l};return o&&(d.Tooltip=o),d}function fZ(){}function pZ(t,s,r){var a=t.l+s,n=IT(t),i=t.read_shift(1),o=[n];if(o[2]=i,r.cellFormula){var l=wJ(t,a-t.l,r);o[1]=l}else t.l=a;return o}function gZ(t,s,r){var a=t.l+s,n=z0(t),i=[n];if(r.cellFormula){var o=NJ(t,a-t.l,r);i[1]=o,t.l=a}else t.l=a;return i}var yZ=["left","right","top","bottom","header","footer"];function bZ(t){var s={};return yZ.forEach(function(r){s[r]=hi(t)}),s}function vZ(t){var s=t.read_shift(2);return t.l+=28,{RTL:s&32}}function wZ(){}function jZ(){}function NZ(t,s,r,a,n,i,o){if(!t)return t;var l=s||{};a||(a={"!id":{}});var d=l.dense?[]:{},u,h={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,p=!1,g,v,y,b,_,k,A,R,F,V=[];l.biff=12,l["!row"]=0;var S=0,L=!1,I=[],B={},T=l.supbooks||n.supbooks||[[]];if(T.sharedf=B,T.arrayf=I,T.SheetNames=n.SheetNames||n.Sheets.map(function(se){return se.name}),!l.supbooks&&(l.supbooks=T,n.Names))for(var w=0;w<n.Names.length;++w)T[0][w+1]=n.Names[w];var E=[],D=[],G=!1;d1[16]={n:"BrtShortReal",f:wD};var K;if(nu(t,function(Z,ee,ce){if(!p)switch(ce){case 148:u=Z;break;case 0:g=Z,l.sheetRows&&l.sheetRows<=g.r&&(p=!0),R=Qn(b=g.r),l["!row"]=g.r,(Z.hidden||Z.hpt||Z.level!=null)&&(Z.hpt&&(Z.hpx=Fp(Z.hpt)),D[Z.r]=Z);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:Z[2]},Z[2]){case"n":v.v=Z[1];break;case"s":A=dp[Z[1]],v.v=A.t,v.r=A.r;break;case"b":v.v=!!Z[1];break;case"e":v.v=Z[1],l.cellText!==!1&&(v.w=$0[v.v]);break;case"str":v.t="s",v.v=Z[1];break;case"is":v.t="s",v.v=Z[1].t;break}if((y=o.CellXf[Z[0].iStyleRef])&&bD(v,y.numFmtId,null,l,i,o),_=Z[0].c==-1?_+1:Z[0].c,l.dense?(d[b]||(d[b]=[]),d[b][_]=v):d[vn(_)+R]=v,l.cellFormula){for(L=!1,S=0;S<I.length;++S){var U=I[S];g.r>=U[0].s.r&&g.r<=U[0].e.r&&_>=U[0].s.c&&_<=U[0].e.c&&(v.F=jr(U[0]),L=!0)}!L&&Z.length>3&&(v.f=Z[3])}if(h.s.r>g.r&&(h.s.r=g.r),h.s.c>_&&(h.s.c=_),h.e.r<g.r&&(h.e.r=g.r),h.e.c<_&&(h.e.c=_),l.cellDates&&y&&v.t=="n"&&jx(Ks[y.numFmtId])){var O=d0(v.v);O&&(v.t="d",v.v=new Date(O.y,O.m-1,O.d,O.H,O.M,O.S,O.u))}K&&(K.type=="XLDAPR"&&(v.D=!0),K=void 0);break;case 1:case 12:if(!l.sheetStubs||f)break;v={t:"z",v:void 0},_=Z[0].c==-1?_+1:Z[0].c,l.dense?(d[b]||(d[b]=[]),d[b][_]=v):d[vn(_)+R]=v,h.s.r>g.r&&(h.s.r=g.r),h.s.c>_&&(h.s.c=_),h.e.r<g.r&&(h.e.r=g.r),h.e.c<_&&(h.e.c=_),K&&(K.type=="XLDAPR"&&(v.D=!0),K=void 0);break;case 176:V.push(Z);break;case 49:K=((l.xlmeta||{}).Cell||[])[Z-1];break;case 494:var z=a["!id"][Z.relId];for(z?(Z.Target=z.Target,Z.loc&&(Z.Target+="#"+Z.loc),Z.Rel=z):Z.relId==""&&(Z.Target="#"+Z.loc),b=Z.rfx.s.r;b<=Z.rfx.e.r;++b)for(_=Z.rfx.s.c;_<=Z.rfx.e.c;++_)l.dense?(d[b]||(d[b]=[]),d[b][_]||(d[b][_]={t:"z",v:void 0}),d[b][_].l=Z):(k=Gs({c:_,r:b}),d[k]||(d[k]={t:"z",v:void 0}),d[k].l=Z);break;case 426:if(!l.cellFormula)break;I.push(Z),F=l.dense?d[b][_]:d[vn(_)+R],F.f=ui(Z[1],h,{r:g.r,c:_},T,l),F.F=jr(Z[0]);break;case 427:if(!l.cellFormula)break;B[Gs(Z[0].s)]=Z[1],F=l.dense?d[b][_]:d[vn(_)+R],F.f=ui(Z[1],h,{r:g.r,c:_},T,l);break;case 60:if(!l.cellStyles)break;for(;Z.e>=Z.s;)E[Z.e--]={width:Z.w/256,hidden:!!(Z.flags&1),level:Z.level},G||(G=!0,KN(Z.w/256)),dx(E[Z.e+1]);break;case 161:d["!autofilter"]={ref:jr(Z)};break;case 476:d["!margins"]=Z;break;case 147:n.Sheets[r]||(n.Sheets[r]={}),Z.name&&(n.Sheets[r].CodeName=Z.name),(Z.above||Z.left)&&(d["!outline"]={above:Z.above,left:Z.left});break;case 137:n.Views||(n.Views=[{}]),n.Views[0]||(n.Views[0]={}),Z.RTL&&(n.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!ee.T){if(!f||l.WTF)throw new Error("Unexpected record 0x"+ce.toString(16))}}},l),delete l.supbooks,delete l["!row"],!d["!ref"]&&(h.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(d["!ref"]=jr(u||h)),l.sheetRows&&d["!ref"]){var X=Ma(d["!ref"]);l.sheetRows<=+X.e.r&&(X.e.r=l.sheetRows-1,X.e.r>h.e.r&&(X.e.r=h.e.r),X.e.r<X.s.r&&(X.s.r=X.e.r),X.e.c>h.e.c&&(X.e.c=h.e.c),X.e.c<X.s.c&&(X.s.c=X.e.c),d["!fullref"]=d["!ref"],d["!ref"]=jr(X))}return V.length>0&&(d["!merges"]=V),E.length>0&&(d["!cols"]=E),D.length>0&&(d["!rows"]=D),d}function SZ(t){var s=[],r=t.match(/^<c:numCache>/),a;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(s[+o[1]]=r?+o[2]:o[2])});var n=Cr((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){a=i.replace(/<.*?>/g,"")}),[s,n,a]}function _Z(t,s,r,a,n,i){var o=i||{"!type":"chart"};if(!t)return i;var l=0,d=0,u="A",h={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var p=SZ(f);h.s.r=h.s.c=0,h.e.c=l,u=vn(l),p[0].forEach(function(g,v){o[u+Qn(v)]={t:"n",v:g,z:p[1]},d=v}),h.e.r<d&&(h.e.r=d),++l}),l>0&&(o["!ref"]=jr(h)),o}function CZ(t,s,r,a,n){if(!t)return t;a||(a={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,l=t.match(vD);return l&&QN(l[0],i,n,r),(o=t.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),a["!id"][i["!rel"]]&&(i["!drawel"]=a["!id"][i["!rel"]]),i}function kZ(t,s){t.l+=10;var r=vi(t);return{name:r}}function AZ(t,s,r,a,n){if(!t)return t;a||(a={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return nu(t,function(d,u,h){switch(h){case 550:i["!rel"]=d;break;case 651:n.Sheets[r]||(n.Sheets[r]={}),d.name&&(n.Sheets[r].CodeName=d.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!o||s.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}},s),a["!id"][i["!rel"]]&&(i["!drawel"]=a["!id"][i["!rel"]]),i}var jD=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],EZ=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],TZ=[],DZ=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function J_(t,s){for(var r=0;r!=t.length;++r)for(var a=t[r],n=0;n!=s.length;++n){var i=s[n];if(a[i[0]]==null)a[i[0]]=i[1];else switch(i[2]){case"bool":typeof a[i[0]]=="string"&&(a[i[0]]=ha(a[i[0]]));break;case"int":typeof a[i[0]]=="string"&&(a[i[0]]=parseInt(a[i[0]],10));break}}}function Z_(t,s){for(var r=0;r!=s.length;++r){var a=s[r];if(t[a[0]]==null)t[a[0]]=a[1];else switch(a[2]){case"bool":typeof t[a[0]]=="string"&&(t[a[0]]=ha(t[a[0]]));break;case"int":typeof t[a[0]]=="string"&&(t[a[0]]=parseInt(t[a[0]],10));break}}}function ND(t){Z_(t.WBProps,jD),Z_(t.CalcPr,DZ),J_(t.WBView,EZ),J_(t.Sheets,TZ),Kh.date1904=ha(t.WBProps.date1904)}var PZ="][*?/\\".split("");function MZ(t,s){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return PZ.forEach(function(a){if(t.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var LZ=/<\w+:workbook/;function FZ(t,s){if(!t)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},a=!1,n="xmlns",i={},o=0;if(t.replace(_i,function(d,u){var h=Is(d);switch(ad(h[0])){case"<?xml":break;case"<workbook":d.match(LZ)&&(n="xmlns"+d.match(/<(\w+):/)[1]),r.xmlns=h[n];break;case"</workbook>":break;case"<fileVersion":delete h[0],r.AppVersion=h;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":jD.forEach(function(f){if(h[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=ha(h[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(h[f[0]],10);break;default:r.WBProps[f[0]]=h[f[0]]}}),h.codeName&&(r.WBProps.CodeName=sa(h.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete h[0],r.WBView.push(h);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(h.state){case"hidden":h.Hidden=1;break;case"veryHidden":h.Hidden=2;break;default:h.Hidden=0}delete h.state,h.name=Cr(sa(h.name)),delete h[0],r.Sheets.push(h);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":a=!0;break;case"</definedNames>":a=!1;break;case"<definedName":i={},i.Name=sa(h.name),h.comment&&(i.Comment=h.comment),h.localSheetId&&(i.Sheet=+h.localSheetId),ha(h.hidden||"0")&&(i.Hidden=!0),o=u+d.length;break;case"</definedName>":i.Ref=Cr(sa(t.slice(o,u))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete h[0],r.CalcPr=h;break;case"<calcPr/>":delete h[0],r.CalcPr=h;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":a=!0;break;case"</AlternateContent>":a=!1;break;case"<revisionPtr":break;default:if(!a&&s.WTF)throw new Error("unrecognized "+h[0]+" in workbook")}return d}),ZW.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return ND(r),r}function RZ(t,s){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=ej(t),r.name=vi(t),r}function OZ(t,s){var r={},a=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var n=s>8?vi(t):"";return n.length>0&&(r.CodeName=n),r.autoCompressPictures=!!(a&65536),r.backupFile=!!(a&64),r.checkCompatibility=!!(a&4096),r.date1904=!!(a&1),r.filterPrivacy=!!(a&8),r.hidePivotFieldList=!!(a&1024),r.promptedSolutions=!!(a&16),r.publishItems=!!(a&2048),r.refreshAllConnections=!!(a&262144),r.saveExternalLinkValues=!!(a&128),r.showBorderUnselectedTables=!!(a&4),r.showInkAnnotation=!!(a&32),r.showObjects=["all","placeholders","none"][a>>13&3],r.showPivotChartFilter=!!(a&32768),r.updateLinks=["userSet","never","always"][a>>8&3],r}function IZ(t,s){var r={};return t.read_shift(4),r.ArchID=t.read_shift(4),t.l+=s-8,r}function BZ(t,s,r){var a=t.l+s;t.l+=4,t.l+=1;var n=t.read_shift(4),i=gG(t),o=jJ(t,0,r),l=qN(t);t.l=a;var d={Name:i,Ptg:o};return n<268435455&&(d.Sheet=n),l&&(d.Comment=l),d}function zZ(t,s){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},a=[],n=!1;s||(s={}),s.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],d1[16]={n:"BrtFRTArchID$",f:IZ},nu(t,function(d,u,h){switch(h){case 156:o.SheetNames.push(d.name),r.Sheets.push(d);break;case 153:r.WBProps=d;break;case 39:d.Sheet!=null&&(s.SID=d.Sheet),d.Ref=ui(d.Ptg,null,null,o,s),delete s.SID,delete d.Ptg,i.push(d);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([h,d]):o[0]=[h,d],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(d),o.XTI=o.XTI.concat(d);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:a.push(h),n=!0;break;case 36:a.pop(),n=!1;break;case 37:a.push(h),n=!0;break;case 38:a.pop(),n=!1;break;case 16:break;default:if(!u.T){if(!n||s.WTF&&a[a.length-1]!=37&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}},s),ND(r),r.Names=i,r.supbooks=o,r}function $Z(t,s,r){return s.slice(-4)===".bin"?zZ(t,r):FZ(t,r)}function UZ(t,s,r,a,n,i,o,l){return s.slice(-4)===".bin"?NZ(t,a,r,n,i,o,l):RJ(t,a,r,n,i,o,l)}function VZ(t,s,r,a,n,i,o,l){return s.slice(-4)===".bin"?AZ(t,a,r,n,i):CZ(t,a,r,n,i)}function qZ(t,s,r,a,n,i,o,l){return s.slice(-4)===".bin"?JX():ZX()}function HZ(t,s,r,a,n,i,o,l){return s.slice(-4)===".bin"?XX():QX()}function WZ(t,s,r,a){return s.slice(-4)===".bin"?hX(t,r,a):oX(t,r,a)}function GZ(t,s,r){return cD(t,r)}function YZ(t,s,r){return s.slice(-4)===".bin"?EK(t,r):kK(t,r)}function KZ(t,s,r){return s.slice(-4)===".bin"?GX(t,r):UX(t,r)}function XZ(t,s,r){return s.slice(-4)===".bin"?BX(t):OX(t)}function QZ(t,s,r,a){return r.slice(-4)===".bin"?zX(t,s,r,a):void 0}function JZ(t,s,r){return s.slice(-4)===".bin"?FX(t,s,r):RX(t,s,r)}var SD=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,_D=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function zl(t,s){var r=t.split(/\s+/),a=[];if(a[0]=r[0],r.length===1)return a;var n=t.match(SD),i,o,l,d;if(n)for(d=0;d!=n.length;++d)i=n[d].match(_D),(o=i[1].indexOf(":"))===-1?a[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(o+1),a[l]=i[2].slice(1,i[2].length-1));return a}function ZZ(t){var s=t.split(/\s+/),r={};if(s.length===1)return r;var a=t.match(SD),n,i,o,l;if(a)for(l=0;l!=a.length;++l)n=a[l].match(_D),(i=n[1].indexOf(":"))===-1?r[n[1]]=n[2].slice(1,n[2].length-1):(n[1].slice(0,6)==="xmlns:"?o="xmlns"+n[1].slice(6):o=n[1].slice(i+1),r[o]=n[2].slice(1,n[2].length-1));return r}var mp;function eee(t,s){var r=mp[t]||Cr(t);return r==="General"?k0(s):pl(r,s)}function tee(t,s,r,a){var n=a;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":n=ha(a);break;case"i2":case"int":n=parseInt(a,10);break;case"r4":case"float":n=parseFloat(a);break;case"date":case"dateTime.tz":n=Dn(a);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}t[Cr(s)]=n}function see(t,s,r){if(t.t!=="z"){if(!r||r.cellText!==!1)try{t.t==="e"?t.w=t.w||$0[t.v]:s==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Tp(t.v):t.w=k0(t.v):t.w=eee(s||"General",t.v)}catch(i){if(r.WTF)throw i}try{var a=mp[s]||s||"General";if(r.cellNF&&(t.z=a),r.cellDates&&t.t=="n"&&jx(a)){var n=d0(t.v);n&&(t.t="d",t.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}catch(i){if(r.WTF)throw i}}}function ree(t,s,r){if(r.cellStyles&&s.Interior){var a=s.Interior;a.Pattern&&(a.patternType=tX[a.Pattern]||a.Pattern)}t[s.ID]=s}function aee(t,s,r,a,n,i,o,l,d,u){var h="General",f=a.StyleID,p={};u=u||{};var g=[],v=0;for(f===void 0&&l&&(f=l.StyleID),f===void 0&&o&&(f=o.StyleID);i[f]!==void 0&&(i[f].nf&&(h=i[f].nf),i[f].Interior&&g.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":a.t="b",a.v=ha(t);break;case"String":a.t="s",a.r=w_(Cr(t)),a.v=t.indexOf("<")>-1?Cr(s||t).replace(/<.*?>/g,""):a.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),a.v=(Dn(t)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),a.v!==a.v?a.v=Cr(t):a.v<60&&(a.v=a.v-1),(!h||h=="General")&&(h="yyyy-mm-dd");case"Number":a.v===void 0&&(a.v=+t),a.t||(a.t="n");break;case"Error":a.t="e",a.v=$T[t],u.cellText!==!1&&(a.w=t);break;default:t==""&&s==""?a.t="z":(a.t="s",a.v=w_(s||t));break}if(see(a,h,u),u.cellFormula!==!1)if(a.Formula){var y=Cr(a.Formula);y.charCodeAt(0)==61&&(y=y.slice(1)),a.f=Yh(y,n),delete a.Formula,a.ArrayRange=="RC"?a.F=Yh("RC:RC",n):a.ArrayRange&&(a.F=Yh(a.ArrayRange,n),d.push([Ma(a.F),a.F]))}else for(v=0;v<d.length;++v)n.r>=d[v][0].s.r&&n.r<=d[v][0].e.r&&n.c>=d[v][0].s.c&&n.c<=d[v][0].e.c&&(a.F=d[v][1]);u.cellStyles&&(g.forEach(function(b){!p.patternType&&b.patternType&&(p.patternType=b.patternType)}),a.s=p),a.StyleID!==void 0&&(a.ixfe=a.StyleID)}function nee(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function Xv(t,s){var r=s||{};hT();var a=Wf(BN(t));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(a=sa(a));var n=a.slice(0,1024).toLowerCase(),i=!1;if(n=n.replace(/".*?"/g,""),(n.indexOf(">")&1023)>Math.min(n.indexOf(",")&1023,n.indexOf(";")&1023)){var o=Xn(r);return o.type="string",Mp.to_workbook(a,o)}if(n.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Te){n.indexOf("<"+Te)>=0&&(i=!0)}),i)return xee(a,r);mp={"General Number":"General","General Date":Ks[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Ks[15],"Short Date":Ks[14],"Long Time":Ks[19],"Medium Time":Ks[18],"Short Time":Ks[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Ks[2],Standard:Ks[4],Percent:Ks[10],Scientific:Ks[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,d=[],u,h={},f=[],p=r.dense?[]:{},g="",v={},y={},b=zl('<Data ss:Type="String">'),_=0,k=0,A=0,R={s:{r:2e6,c:2e6},e:{r:0,c:0}},F={},V={},S="",L=0,I=[],B={},T={},w=0,E=[],D=[],G={},K=[],X,se=!1,Z=[],ee=[],ce={},U=0,O=0,z={Sheets:[],WBProps:{date1904:!1}},q={};Pp.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"");for(var te="";l=Pp.exec(a);)switch(l[3]=(te=l[3]).toLowerCase()){case"data":if(te=="data"){if(l[1]==="/"){if((u=d.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&d.push([l[3],!0]);break}if(d[d.length-1][1])break;l[1]==="/"?aee(a.slice(_,l.index),S,b,d[d.length-1][0]=="comment"?G:v,{c:k,r:A},F,K[k],y,Z,r):(S="",b=zl(l[0]),_=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(D.length>0&&(v.c=D),(!r.sheetRows||r.sheetRows>A)&&v.v!==void 0&&(r.dense?(p[A]||(p[A]=[]),p[A][k]=v):p[vn(k)+Qn(A)]=v),v.HRef&&(v.l={Target:Cr(v.HRef)},v.HRefScreenTip&&(v.l.Tooltip=v.HRefScreenTip),delete v.HRef,delete v.HRefScreenTip),(v.MergeAcross||v.MergeDown)&&(U=k+(parseInt(v.MergeAcross,10)|0),O=A+(parseInt(v.MergeDown,10)|0),I.push({s:{c:k,r:A},e:{c:U,r:O}})),!r.sheetStubs)v.MergeAcross?k=U+1:++k;else if(v.MergeAcross||v.MergeDown){for(var ge=k;ge<=U;++ge)for(var Q=A;Q<=O;++Q)(ge>k||Q>A)&&(r.dense?(p[Q]||(p[Q]=[]),p[Q][ge]={t:"z"}):p[vn(ge)+Qn(Q)]={t:"z"});k=U+1}else++k;else v=ZZ(l[0]),v.Index&&(k=+v.Index-1),k<R.s.c&&(R.s.c=k),k>R.e.c&&(R.e.c=k),l[0].slice(-2)==="/>"&&++k,D=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(A<R.s.r&&(R.s.r=A),A>R.e.r&&(R.e.r=A),l[0].slice(-2)==="/>"&&(y=zl(l[0]),y.Index&&(A=+y.Index-1)),k=0,++A):(y=zl(l[0]),y.Index&&(A=+y.Index-1),ce={},(y.AutoFitHeight=="0"||y.Height)&&(ce.hpx=parseInt(y.Height,10),ce.hpt=lD(ce.hpx),ee[A]=ce),y.Hidden=="1"&&(ce.hidden=!0,ee[A]=ce));break;case"worksheet":if(l[1]==="/"){if((u=d.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));f.push(g),R.s.r<=R.e.r&&R.s.c<=R.e.c&&(p["!ref"]=jr(R),r.sheetRows&&r.sheetRows<=R.e.r&&(p["!fullref"]=p["!ref"],R.e.r=r.sheetRows-1,p["!ref"]=jr(R))),I.length&&(p["!merges"]=I),K.length>0&&(p["!cols"]=K),ee.length>0&&(p["!rows"]=ee),h[g]=p}else R={s:{r:2e6,c:2e6},e:{r:0,c:0}},A=k=0,d.push([l[3],!1]),u=zl(l[0]),g=Cr(u.Name),p=r.dense?[]:{},I=[],Z=[],ee=[],q={name:g,Hidden:0},z.Sheets.push(q);break;case"table":if(l[1]==="/"){if((u=d.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else{if(l[0].slice(-2)=="/>")break;d.push([l[3],!1]),K=[],se=!1}break;case"style":l[1]==="/"?ree(F,V,r):V=zl(l[0]);break;case"numberformat":V.nf=Cr(zl(l[0]).Format||"General"),mp[V.nf]&&(V.nf=mp[V.nf]);for(var ue=0;ue!=392&&Ks[ue]!=V.nf;++ue);if(ue==392){for(ue=57;ue!=392;++ue)if(Ks[ue]==null){g0(V.nf,ue);break}}break;case"column":if(d[d.length-1][0]!=="table")break;if(X=zl(l[0]),X.Hidden&&(X.hidden=!0,delete X.Hidden),X.Width&&(X.wpx=parseInt(X.Width,10)),!se&&X.wpx>10){se=!0,Ri=iD;for(var ie=0;ie<K.length;++ie)K[ie]&&dx(K[ie])}se&&dx(X),K[X.Index-1||K.length]=X;for(var oe=0;oe<+X.Span;++oe)K[K.length]=Xn(X);break;case"namedrange":if(l[1]==="/")break;z.Names||(z.Names=[]);var J=Is(l[0]),re={Name:J.Name,Ref:Yh(J.RefersTo.slice(1),{r:0,c:0})};z.Sheets.length>0&&(re.Sheet=z.Sheets.length-1),z.Names.push(re);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?S+=a.slice(L,l.index):L=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;V.Interior=zl(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?UG(B,te,a.slice(w,l.index)):w=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((u=d.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else d.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((u=d.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));nee(G),D.push(G)}else d.push([l[3],!1]),u=zl(l[0]),G={a:u.Author};break;case"autofilter":if(l[1]==="/"){if((u=d.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var ve=zl(l[0]);p["!autofilter"]={ref:Yh(ve.Range).replace(/\$/g,"")},d.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((u=d.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&d.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((u=d.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&d.push([l[3],!0]);break;case"null":break;default:if(d.length==0&&l[3]=="document"||d.length==0&&l[3]=="uof")return nC(a,r);var pe=!0;switch(d[d.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:pe=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:pe=!1}break;case"excelworkbook":switch(l[3]){case"date1904":z.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:pe=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:pe=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(a.slice(w,l.index)){case"SheetHidden":q.Hidden=1;break;case"SheetVeryHidden":q.Hidden=2;break}else w=l.index+l[0].length;break;case"header":p["!margins"]||up(p["!margins"]={},"xlml"),isNaN(+Is(l[0]).Margin)||(p["!margins"].header=+Is(l[0]).Margin);break;case"footer":p["!margins"]||up(p["!margins"]={},"xlml"),isNaN(+Is(l[0]).Margin)||(p["!margins"].footer=+Is(l[0]).Margin);break;case"pagemargins":var ae=Is(l[0]);p["!margins"]||up(p["!margins"]={},"xlml"),isNaN(+ae.Top)||(p["!margins"].top=+ae.Top),isNaN(+ae.Left)||(p["!margins"].left=+ae.Left),isNaN(+ae.Right)||(p["!margins"].right=+ae.Right),isNaN(+ae.Bottom)||(p["!margins"].bottom=+ae.Bottom);break;case"displayrighttoleft":z.Views||(z.Views=[]),z.Views[0]||(z.Views[0]={}),z.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:pe=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:pe=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:pe=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:pe=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:pe=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:pe=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:pe=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:pe=!1}break;case"smarttags":break;default:pe=!1;break}if(pe||l[3].match(/!\[CDATA/))break;if(!d[d.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+d.join("|");if(d[d.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?tee(T,te,E,a.slice(w,l.index)):(E=l,w=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+d.join("|")}var he={};return!r.bookSheets&&!r.bookProps&&(he.Sheets=h),he.SheetNames=f,he.Workbook=z,he.SSF=Xn(Ks),he.Props=B,he.Custprops=T,he}function aj(t,s){switch(e5(s=s||{}),s.type||"base64"){case"base64":return Xv(Ro(t),s);case"binary":case"buffer":case"file":return Xv(t,s);case"array":return Xv(I0(t),s)}}function iee(t){var s={},r=t.content;if(r.l=28,s.AnsiUserType=r.read_shift(0,"lpstr-ansi"),s.AnsiClipboardFormat=vG(r),r.length-r.l<=4)return s;var a=r.read_shift(4);if(a==0||a>40||(r.l-=4,s.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(a=r.read_shift(4),a!==1907505652)||(s.UnicodeClipboardFormat=wG(r),a=r.read_shift(4),a==0||a>40))return s;r.l-=4,s.Reserved2=r.read_shift(0,"lpwstr")}var oee=[60,1084,2066,2165,2175];function lee(t,s,r,a,n){var i=a,o=[],l=r.slice(r.l,r.l+i);if(n&&n.enc&&n.enc.insitu&&l.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:n.enc.insitu(l)}o.push(l),r.l+=i;for(var d=Hd(r,r.l),u=nj[d],h=0;u!=null&&oee.indexOf(d)>-1;)i=Hd(r,r.l+2),h=r.l+4,d==2066?h+=4:(d==2165||d==2175)&&(h+=12),l=r.slice(h,r.l+4+i),o.push(l),r.l+=4+i,u=nj[d=Hd(r,r.l)];var f=Zu(o);Yn(f,0);var p=0;f.lens=[];for(var g=0;g<o.length;++g)f.lens.push(p),p+=o[g].length;if(f.length<a)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+f.length+" < "+a;return s.f(f,f.length,n)}function Oc(t,s,r){if(t.t!=="z"&&t.XF){var a=0;try{a=t.z||t.XF.numFmtId||0,s.cellNF&&(t.z=Ks[a])}catch(i){if(s.WTF)throw i}if(!s||s.cellText!==!1)try{t.t==="e"?t.w=t.w||$0[t.v]:a===0||a=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Tp(t.v):t.w=k0(t.v):t.w=pl(a,t.v,{date1904:!!r,dateNF:s&&s.dateNF})}catch(i){if(s.WTF)throw i}if(s.cellDates&&a&&t.t=="n"&&jx(Ks[a]||String(a))){var n=d0(t.v);n&&(t.t="d",t.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}}function Uy(t,s,r){return{v:t,ixfe:s,t:r}}function cee(t,s){var r={opts:{}},a={},n=s.dense?[]:{},i={},o={},l=null,d=[],u="",h={},f,p="",g,v,y,b,_={},k=[],A,R,F=[],V=[],S={Sheets:[],WBProps:{date1904:!1},Views:[{}]},L={},I=function(st){return st<8?y0[st]:st<64&&V[st-8]||y0[st]},B=function(st,ke,ct){var nt=ke.XF.data;if(!(!nt||!nt.patternType||!ct||!ct.cellStyles)){ke.s={},ke.s.patternType=nt.patternType;var Bt;(Bt=Lp(I(nt.icvFore)))&&(ke.s.fgColor={rgb:Bt}),(Bt=Lp(I(nt.icvBack)))&&(ke.s.bgColor={rgb:Bt})}},T=function(st,ke,ct){if(!(ce>1)&&!(ct.sheetRows&&st.r>=ct.sheetRows)){if(ct.cellStyles&&ke.XF&&ke.XF.data&&B(st,ke,ct),delete ke.ixfe,delete ke.XF,f=st,p=Gs(st),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),st.r<o.s.r&&(o.s.r=st.r),st.c<o.s.c&&(o.s.c=st.c),st.r+1>o.e.r&&(o.e.r=st.r+1),st.c+1>o.e.c&&(o.e.c=st.c+1),ct.cellFormula&&ke.f){for(var nt=0;nt<k.length;++nt)if(!(k[nt][0].s.c>st.c||k[nt][0].s.r>st.r)&&!(k[nt][0].e.c<st.c||k[nt][0].e.r<st.r)){ke.F=jr(k[nt][0]),(k[nt][0].s.c!=st.c||k[nt][0].s.r!=st.r)&&delete ke.f,ke.f&&(ke.f=""+ui(k[nt][1],o,st,Z,w));break}}ct.dense?(n[st.r]||(n[st.r]=[]),n[st.r][st.c]=ke):n[p]=ke}},w={enc:!1,sbcch:0,snames:[],sharedf:_,arrayf:k,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!s&&!!s.cellStyles,WTF:!!s&&!!s.wtf};s.password&&(w.password=s.password);var E,D=[],G=[],K=[],X=[],se=!1,Z=[];Z.SheetNames=w.snames,Z.sharedf=w.sharedf,Z.arrayf=w.arrayf,Z.names=[],Z.XTI=[];var ee=0,ce=0,U=0,O=[],z=[],q;w.codepage=1200,Kl(1200);for(var te=!1;t.l<t.length-1;){var ge=t.l,Q=t.read_shift(2);if(Q===0&&ee===10)break;var ue=t.l===t.length?0:t.read_shift(2),ie=nj[Q];if(ie&&ie.f){if(s.bookSheets&&ee===133&&Q!==133)break;if(ee=Q,ie.r===2||ie.r==12){var oe=t.read_shift(2);if(ue-=2,!w.enc&&oe!==Q&&((oe&255)<<8|oe>>8)!==Q)throw new Error("rt mismatch: "+oe+"!="+Q);ie.r==12&&(t.l+=10,ue-=10)}var J={};if(Q===10?J=ie.f(t,ue,w):J=lee(Q,ie,t,ue,w),ce==0&&[9,521,1033,2057].indexOf(ee)===-1)continue;switch(Q){case 34:r.opts.Date1904=S.WBProps.date1904=J;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(w.enc||(t.l=0),w.enc=J,!s.password)throw new Error("File is password-protected");if(J.valid==null)throw new Error("Encryption scheme unsupported");if(!J.valid)throw new Error("Password is incorrect");break;case 92:w.lastuser=J;break;case 66:var re=Number(J);switch(re){case 21010:re=1200;break;case 32768:re=1e4;break;case 32769:re=1252;break}Kl(w.codepage=re),te=!0;break;case 317:w.rrtabid=J;break;case 25:w.winlocked=J;break;case 439:r.opts.RefreshAll=J;break;case 12:r.opts.CalcCount=J;break;case 16:r.opts.CalcDelta=J;break;case 17:r.opts.CalcIter=J;break;case 13:r.opts.CalcMode=J;break;case 14:r.opts.CalcPrecision=J;break;case 95:r.opts.CalcSaveRecalc=J;break;case 15:w.CalcRefMode=J;break;case 2211:r.opts.FullCalc=J;break;case 129:J.fDialog&&(n["!type"]="dialog"),J.fBelow||((n["!outline"]||(n["!outline"]={})).above=!0),J.fRight||((n["!outline"]||(n["!outline"]={})).left=!0);break;case 224:F.push(J);break;case 430:Z.push([J]),Z[Z.length-1].XTI=[];break;case 35:case 547:Z[Z.length-1].push(J);break;case 24:case 536:q={Name:J.Name,Ref:ui(J.rgce,o,null,Z,w)},J.itab>0&&(q.Sheet=J.itab-1),Z.names.push(q),Z[0]||(Z[0]=[],Z[0].XTI=[]),Z[Z.length-1].push(J),J.Name=="_xlnm._FilterDatabase"&&J.itab>0&&J.rgce&&J.rgce[0]&&J.rgce[0][0]&&J.rgce[0][0][0]=="PtgArea3d"&&(z[J.itab-1]={ref:jr(J.rgce[0][0][1][2])});break;case 22:w.ExternCount=J;break;case 23:Z.length==0&&(Z[0]=[],Z[0].XTI=[]),Z[Z.length-1].XTI=Z[Z.length-1].XTI.concat(J),Z.XTI=Z.XTI.concat(J);break;case 2196:if(w.biff<8)break;q!=null&&(q.Comment=J[1]);break;case 18:n["!protect"]=J;break;case 19:J!==0&&w.WTF&&console.error("Password verifier: "+J);break;case 133:i[J.pos]=J,w.snames.push(J.name);break;case 10:{if(--ce)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,n["!ref"]=jr(o),s.sheetRows&&s.sheetRows<=o.e.r){var ve=o.e.r;o.e.r=s.sheetRows-1,n["!fullref"]=n["!ref"],n["!ref"]=jr(o),o.e.r=ve}o.e.r++,o.e.c++}D.length>0&&(n["!merges"]=D),G.length>0&&(n["!objects"]=G),K.length>0&&(n["!cols"]=K),X.length>0&&(n["!rows"]=X),S.Sheets.push(L)}u===""?h=n:a[u]=n,n=s.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(w.biff===8&&(w.biff={9:2,521:3,1033:4}[Q]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[J.BIFFVer]||8),w.biffguess=J.BIFFVer==0,J.BIFFVer==0&&J.dt==4096&&(w.biff=5,te=!0,Kl(w.codepage=28591)),w.biff==8&&J.BIFFVer==0&&J.dt==16&&(w.biff=2),ce++)break;if(n=s.dense?[]:{},w.biff<8&&!te&&(te=!0,Kl(w.codepage=s.codepage||1252)),w.biff<5||J.BIFFVer==0&&J.dt==4096){u===""&&(u="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var pe={pos:t.l-ue,name:u};i[pe.pos]=pe,w.snames.push(u)}else u=(i[ge]||{name:""}).name;J.dt==32&&(n["!type"]="chart"),J.dt==64&&(n["!type"]="macro"),D=[],G=[],w.arrayf=k=[],K=[],X=[],se=!1,L={Hidden:(i[ge]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:n["!type"]=="chart"&&(s.dense?(n[J.r]||[])[J.c]:n[Gs({c:J.c,r:J.r})])&&++J.c,A={ixfe:J.ixfe,XF:F[J.ixfe]||{},v:J.val,t:"n"},U>0&&(A.z=O[A.ixfe>>8&63]),Oc(A,s,r.opts.Date1904),T({c:J.c,r:J.r},A,s);break;case 5:case 517:A={ixfe:J.ixfe,XF:F[J.ixfe],v:J.val,t:J.t},U>0&&(A.z=O[A.ixfe>>8&63]),Oc(A,s,r.opts.Date1904),T({c:J.c,r:J.r},A,s);break;case 638:A={ixfe:J.ixfe,XF:F[J.ixfe],v:J.rknum,t:"n"},U>0&&(A.z=O[A.ixfe>>8&63]),Oc(A,s,r.opts.Date1904),T({c:J.c,r:J.r},A,s);break;case 189:for(var ae=J.c;ae<=J.C;++ae){var he=J.rkrec[ae-J.c][0];A={ixfe:he,XF:F[he],v:J.rkrec[ae-J.c][1],t:"n"},U>0&&(A.z=O[A.ixfe>>8&63]),Oc(A,s,r.opts.Date1904),T({c:ae,r:J.r},A,s)}break;case 6:case 518:case 1030:{if(J.val=="String"){l=J;break}if(A=Uy(J.val,J.cell.ixfe,J.tt),A.XF=F[A.ixfe],s.cellFormula){var Te=J.formula;if(Te&&Te[0]&&Te[0][0]&&Te[0][0][0]=="PtgExp"){var Ie=Te[0][0][1][0],Be=Te[0][0][1][1],Le=Gs({r:Ie,c:Be});_[Le]?A.f=""+ui(J.formula,o,J.cell,Z,w):A.F=((s.dense?(n[Ie]||[])[Be]:n[Le])||{}).F}else A.f=""+ui(J.formula,o,J.cell,Z,w)}U>0&&(A.z=O[A.ixfe>>8&63]),Oc(A,s,r.opts.Date1904),T(J.cell,A,s),l=J}break;case 7:case 519:if(l)l.val=J,A=Uy(J,l.cell.ixfe,"s"),A.XF=F[A.ixfe],s.cellFormula&&(A.f=""+ui(l.formula,o,l.cell,Z,w)),U>0&&(A.z=O[A.ixfe>>8&63]),Oc(A,s,r.opts.Date1904),T(l.cell,A,s),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{k.push(J);var Ee=Gs(J[0].s);if(g=s.dense?(n[J[0].s.r]||[])[J[0].s.c]:n[Ee],s.cellFormula&&g){if(!l||!Ee||!g)break;g.f=""+ui(J[1],o,J[0],Z,w),g.F=jr(J[0])}}break;case 1212:{if(!s.cellFormula)break;if(p){if(!l)break;_[Gs(l.cell)]=J[0],g=s.dense?(n[l.cell.r]||[])[l.cell.c]:n[Gs(l.cell)],(g||{}).f=""+ui(J[0],o,f,Z,w)}}break;case 253:A=Uy(d[J.isst].t,J.ixfe,"s"),d[J.isst].h&&(A.h=d[J.isst].h),A.XF=F[A.ixfe],U>0&&(A.z=O[A.ixfe>>8&63]),Oc(A,s,r.opts.Date1904),T({c:J.c,r:J.r},A,s);break;case 513:s.sheetStubs&&(A={ixfe:J.ixfe,XF:F[J.ixfe],t:"z"},U>0&&(A.z=O[A.ixfe>>8&63]),Oc(A,s,r.opts.Date1904),T({c:J.c,r:J.r},A,s));break;case 190:if(s.sheetStubs)for(var Ve=J.c;Ve<=J.C;++Ve){var mt=J.ixfe[Ve-J.c];A={ixfe:mt,XF:F[mt],t:"z"},U>0&&(A.z=O[A.ixfe>>8&63]),Oc(A,s,r.opts.Date1904),T({c:Ve,r:J.r},A,s)}break;case 214:case 516:case 4:A=Uy(J.val,J.ixfe,"s"),A.XF=F[A.ixfe],U>0&&(A.z=O[A.ixfe>>8&63]),Oc(A,s,r.opts.Date1904),T({c:J.c,r:J.r},A,s);break;case 0:case 512:ce===1&&(o=J);break;case 252:d=J;break;case 1054:if(w.biff==4){O[U++]=J[1];for(var gt=0;gt<U+163&&Ks[gt]!=J[1];++gt);gt>=163&&g0(J[1],U+163)}else g0(J[1],J[0]);break;case 30:{O[U++]=J;for(var Pe=0;Pe<U+163&&Ks[Pe]!=J;++Pe);Pe>=163&&g0(J,U+163)}break;case 229:D=D.concat(J);break;case 93:G[J.cmo[0]]=w.lastobj=J;break;case 438:w.lastobj.TxO=J;break;case 127:w.lastobj.ImData=J;break;case 440:for(b=J[0].s.r;b<=J[0].e.r;++b)for(y=J[0].s.c;y<=J[0].e.c;++y)g=s.dense?(n[b]||[])[y]:n[Gs({c:y,r:b})],g&&(g.l=J[1]);break;case 2048:for(b=J[0].s.r;b<=J[0].e.r;++b)for(y=J[0].s.c;y<=J[0].e.c;++y)g=s.dense?(n[b]||[])[y]:n[Gs({c:y,r:b})],g&&g.l&&(g.l.Tooltip=J[1]);break;case 28:{if(w.biff<=5&&w.biff>=2)break;g=s.dense?(n[J[0].r]||[])[J[0].c]:n[Gs(J[0])];var Ae=G[J[2]];g||(s.dense?(n[J[0].r]||(n[J[0].r]=[]),g=n[J[0].r][J[0].c]={t:"z"}):g=n[Gs(J[0])]={t:"z"},o.e.r=Math.max(o.e.r,J[0].r),o.s.r=Math.min(o.s.r,J[0].r),o.e.c=Math.max(o.e.c,J[0].c),o.s.c=Math.min(o.s.c,J[0].c)),g.c||(g.c=[]),v={a:J[1],t:Ae.TxO.t},g.c.push(v)}break;case 2173:DX(F[J.ixfe],J.ext);break;case 125:{if(!w.cellStyles)break;for(;J.e>=J.s;)K[J.e--]={width:J.w/256,level:J.level||0,hidden:!!(J.flags&1)},se||(se=!0,KN(J.w/256)),dx(K[J.e+1])}break;case 520:{var We={};J.level!=null&&(X[J.r]=We,We.level=J.level),J.hidden&&(X[J.r]=We,We.hidden=!0),J.hpt&&(X[J.r]=We,We.hpt=J.hpt,We.hpx=Fp(J.hpt))}break;case 38:case 39:case 40:case 41:n["!margins"]||up(n["!margins"]={}),n["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Q]]=J;break;case 161:n["!margins"]||up(n["!margins"]={}),n["!margins"].header=J.header,n["!margins"].footer=J.footer;break;case 574:J.RTL&&(S.Views[0].RTL=!0);break;case 146:V=J;break;case 2198:E=J;break;case 140:R=J;break;case 442:u?L.CodeName=J||L.name:S.WBProps.CodeName=J||"ThisWorkbook";break}}else ie||console.error("Missing Info for XLS Record 0x"+Q.toString(16)),t.l+=ue}return r.SheetNames=sd(i).sort(function(Xe,st){return Number(Xe)-Number(st)}).map(function(Xe){return i[Xe].name}),s.bookSheets||(r.Sheets=a),!r.SheetNames.length&&h["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=h)):r.Preamble=h,r.Sheets&&z.forEach(function(Xe,st){r.Sheets[r.SheetNames[st]]["!autofilter"]=Xe}),r.Strings=d,r.SSF=Xn(Ks),w.enc&&(r.Encryption=w.enc),E&&(r.Themes=E),r.Metadata={},R!==void 0&&(r.Metadata.Country=R),Z.names.length>0&&(S.Names=Z.names),r.Workbook=S,r}var eC={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function dee(t,s,r){var a=wr.find(t,"/!DocumentSummaryInformation");if(a&&a.size>0)try{var n=O_(a,kG,eC.DSI);for(var i in n)s[i]=n[i]}catch(u){if(r.WTF)throw u}var o=wr.find(t,"/!SummaryInformation");if(o&&o.size>0)try{var l=O_(o,AG,eC.SI);for(var d in l)s[d]==null&&(s[d]=l[d])}catch(u){if(r.WTF)throw u}s.HeadingPairs&&s.TitlesOfParts&&(VT(s.HeadingPairs,s.TitlesOfParts,s,r),delete s.HeadingPairs,delete s.TitlesOfParts)}function CD(t,s){s||(s={}),e5(s),tT(),s.codepage&&PN(s.codepage);var r,a;if(t.FullPaths){if(wr.find(t,"/encryption"))throw new Error("File is password-protected");r=wr.find(t,"!CompObj"),a=wr.find(t,"/Workbook")||wr.find(t,"/Book")}else{switch(s.type){case"base64":t=Wl(Ro(t));break;case"binary":t=Wl(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}Yn(t,0),a={content:t}}var n,i;if(r&&iee(r),s.bookProps&&!s.bookSheets)n={};else{var o=gr?"buffer":"array";if(a&&a.content)n=cee(a.content,s);else if((i=wr.find(t,"PerfectOffice_MAIN"))&&i.content)n=cp.to_workbook(i.content,(s.type=o,s));else if((i=wr.find(t,"NativeContent_MAIN"))&&i.content)n=cp.to_workbook(i.content,(s.type=o,s));else throw(i=wr.find(t,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");s.bookVBA&&t.FullPaths&&wr.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(n.vbaraw=KX(t))}var l={};return t.FullPaths&&dee(t,l,s),n.Props=n.Custprops=l,s.bookFiles&&(n.cfb=t),n}var d1={0:{f:HJ},1:{f:KJ},2:{f:aZ},3:{f:ZJ},4:{f:QJ},5:{f:rZ},6:{f:oZ},7:{f:tZ},8:{f:mZ},9:{f:uZ},10:{f:cZ},11:{f:dZ},12:{f:XJ},13:{f:nZ},14:{f:eZ},15:{f:JJ},16:{f:wD},17:{f:lZ},18:{f:sZ},19:{f:VN},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:BZ},40:{},42:{},43:{f:cX},44:{f:lX},45:{f:dX},46:{f:mX},47:{f:uX},48:{},49:{f:hG},50:{},51:{f:MX},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:tD},62:{f:iZ},63:{f:IX},64:{f:wZ},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Si,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:vZ},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:YJ},148:{f:WJ,p:16},151:{f:fZ},152:{},153:{f:OZ},154:{},155:{},156:{f:RZ},157:{},158:{},159:{T:1,f:AK},160:{T:-1},161:{T:1,f:z0},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:hZ},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:PX},336:{T:-1},337:{f:LX,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:ej},357:{},358:{},359:{},360:{T:1},361:{},362:{f:eD},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:pZ},427:{f:gZ},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:bZ},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:GJ},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:xZ},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:ej},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:WX},633:{T:1},634:{T:-1},635:{T:1,f:HX},636:{T:-1},637:{f:fG},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:kZ},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:jZ},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},nj={6:{f:Yv},10:{f:Wu},12:{f:an},13:{f:an},14:{f:$a},15:{f:$a},16:{f:hi},17:{f:$a},18:{f:$a},19:{f:an},20:{f:$_},21:{f:$_},23:{f:eD},24:{f:V_},25:{f:$a},26:{},27:{},28:{f:VY},29:{},34:{f:$a},35:{f:U_},38:{f:hi},39:{f:hi},40:{f:hi},41:{f:hi},42:{f:$a},43:{f:$a},47:{f:GK},49:{f:SY},51:{f:an},60:{},61:{f:wY},64:{f:$a},65:{f:NY},66:{f:an},77:{},80:{},81:{},82:{},85:{f:an},89:{},90:{},91:{},92:{f:hY},93:{f:HY},94:{},95:{f:$a},96:{},97:{},99:{f:$a},125:{f:tD},128:{f:LY},129:{f:xY},130:{f:an},131:{f:$a},132:{f:$a},133:{f:fY},134:{},140:{f:QY},141:{f:an},144:{},146:{f:ZY},151:{},152:{},153:{},154:{},155:{},156:{f:an},157:{},158:{},160:{f:aK},161:{f:tK},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:TY},190:{f:DY},193:{f:Wu},197:{},198:{},199:{},200:{},201:{},202:{f:$a},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:an},220:{},221:{f:$a},222:{},224:{f:MY},225:{f:mY},226:{f:Wu},227:{},229:{f:qY},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:pY},253:{f:_Y},255:{f:gY},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:YT},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:$a},353:{f:Wu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:RY},431:{f:$a},432:{},433:{},434:{},437:{},438:{f:YY},439:{f:$a},440:{f:KY},441:{},442:{f:lg},443:{},444:{f:an},445:{},446:{},448:{f:Wu},449:{f:vY,r:2},450:{f:Wu},512:{f:B_},513:{f:rK},515:{f:FY},516:{f:CY},517:{f:z_},519:{f:nK},520:{f:yY},523:{},545:{f:q_},549:{f:I_},566:{},574:{f:jY},638:{f:EY},659:{},1048:{},1054:{f:kY},1084:{},1212:{f:zY},2048:{f:XY},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:By},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Wu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:eK,r:12},2173:{f:TX,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:$a,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:BY,r:12},2197:{},2198:{f:SX,r:12},2199:{},2200:{},2201:{},2202:{f:$Y,r:12},2203:{f:Wu},2204:{},2205:{},2206:{},2207:{},2211:{f:bY},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:an},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:sK},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:JY},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:B_},1:{},2:{f:cK},3:{f:lK},4:{f:oK},5:{f:z_},7:{f:dK},8:{},9:{f:By},11:{},22:{f:an},30:{f:AY},31:{},32:{},33:{f:q_},36:{},37:{f:I_},50:{f:uK},62:{},52:{},67:{},68:{f:an},69:{},86:{},126:{},127:{f:iK},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:mK},223:{},234:{},354:{},421:{},518:{f:Yv},521:{f:By},536:{f:V_},547:{f:U_},561:{},579:{},1030:{f:Yv},1033:{f:By},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function $l(t,s,r,a){var n=s;if(!isNaN(n)){var i=(r||[]).length||0,o=t.next(4);o.write_shift(2,n),o.write_shift(2,i),i>0&&FT(r)&&t.push(r)}}function tC(t,s){var r=s||{},a=r.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var n=t.match(/<table/i);if(!n)throw new Error("Invalid HTML: could not find <table>");var i=t.match(/<\/table/i),o=n.index,l=i&&i.index||t.length,d=FW(t.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,h=0,f=0,p=0,g={s:{r:1e7,c:1e7},e:{r:0,c:0}},v=[];for(o=0;o<d.length;++o){var y=d[o].trim(),b=y.slice(0,3).toLowerCase();if(b=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}h=0;continue}if(!(b!="<td"&&b!="<th")){var _=y.split(/<\/t[dh]>/i);for(l=0;l<_.length;++l){var k=_[l].trim();if(k.match(/<t[dh]/i)){for(var A=k,R=0;A.charAt(0)=="<"&&(R=A.indexOf(">"))>-1;)A=A.slice(R+1);for(var F=0;F<v.length;++F){var V=v[F];V.s.c==h&&V.s.r<u&&u<=V.e.r&&(h=V.e.c+1,F=-1)}var S=Is(k.slice(0,k.indexOf(">")));p=S.colspan?+S.colspan:1,((f=+S.rowspan)>1||p>1)&&v.push({s:{r:u,c:h},e:{r:u+(f||1)-1,c:h+p-1}});var L=S.t||S["data-t"]||"";if(!A.length){h+=p;continue}if(A=jT(A),g.s.r>u&&(g.s.r=u),g.e.r<u&&(g.e.r=u),g.s.c>h&&(g.s.c=h),g.e.c<h&&(g.e.c=h),!A.length){h+=p;continue}var I={t:"s",v:A};r.raw||!A.trim().length||L=="s"||(A==="TRUE"?I={t:"b",v:!0}:A==="FALSE"?I={t:"b",v:!1}:isNaN(Ql(A))?isNaN(cx(A).getDate())||(I={t:"d",v:Dn(A)},r.cellDates||(I={t:"n",v:Ui(I.v)}),I.z=r.dateNF||Ks[14]):I={t:"n",v:Ql(A)}),r.dense?(a[u]||(a[u]=[]),a[u][h]=I):a[Gs({r:u,c:h})]=I,h+=p}}}}return a["!ref"]=jr(g),v.length&&(a["!merges"]=v),a}function uee(t,s,r,a){for(var n=t["!merges"]||[],i=[],o=s.s.c;o<=s.e.c;++o){for(var l=0,d=0,u=0;u<n.length;++u)if(!(n[u].s.r>r||n[u].s.c>o)&&!(n[u].e.r<r||n[u].e.c<o)){if(n[u].s.r<r||n[u].s.c<o){l=-1;break}l=n[u].e.r-n[u].s.r+1,d=n[u].e.c-n[u].s.c+1;break}if(!(l<0)){var h=Gs({r,c:o}),f=a.dense?(t[r]||[])[o]:t[h],p=f&&f.v!=null&&(f.h||IN(f.w||(Jd(f),f.w)||""))||"",g={};l>1&&(g.rowspan=l),d>1&&(g.colspan=d),a.editable?p='<span contenteditable="true">'+p+"</span>":f&&(g["data-t"]=f&&f.t||"z",f.v!=null&&(g["data-v"]=f.v),f.z!=null&&(g["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+f.l.Target+'">'+p+"</a>")),g.id=(a.id||"sjs")+"-"+h,i.push(QW("td",p,g))}}var v="<tr>";return v+i.join("")+"</tr>"}var mee='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',hee="</body></html>";function xee(t,s){var r=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return ym(tC(r[0],s),s);var a=s5();return r.forEach(function(n,i){r5(a,tC(n,s),"Sheet"+(i+1))}),a}function fee(t,s,r){var a=[];return a.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function pee(t,s){var r=s||{},a=r.header!=null?r.header:mee,n=r.footer!=null?r.footer:hee,i=[a],o=Nx(t["!ref"]);r.dense=Array.isArray(t),i.push(fee(t,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(uee(t,o,l,r));return i.push("</table>"+n),i.join("")}function kD(t,s,r){var a=r||{},n=0,i=0;if(a.origin!=null)if(typeof a.origin=="number")n=a.origin;else{var o=typeof a.origin=="string"?Oi(a.origin):a.origin;n=o.r,i=o.c}var l=s.getElementsByTagName("tr"),d=Math.min(a.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:n,c:i}};if(t["!ref"]){var h=Nx(t["!ref"]);u.s.r=Math.min(u.s.r,h.s.r),u.s.c=Math.min(u.s.c,h.s.c),u.e.r=Math.max(u.e.r,h.e.r),u.e.c=Math.max(u.e.c,h.e.c),n==-1&&(u.e.r=n=h.e.r+1)}var f=[],p=0,g=t["!rows"]||(t["!rows"]=[]),v=0,y=0,b=0,_=0,k=0,A=0;for(t["!cols"]||(t["!cols"]=[]);v<l.length&&y<d;++v){var R=l[v];if(sC(R)){if(a.display)continue;g[y]={hidden:!0}}var F=R.children;for(b=_=0;b<F.length;++b){var V=F[b];if(!(a.display&&sC(V))){var S=V.hasAttribute("data-v")?V.getAttribute("data-v"):V.hasAttribute("v")?V.getAttribute("v"):jT(V.innerHTML),L=V.getAttribute("data-z")||V.getAttribute("z");for(p=0;p<f.length;++p){var I=f[p];I.s.c==_+i&&I.s.r<y+n&&y+n<=I.e.r&&(_=I.e.c+1-i,p=-1)}A=+V.getAttribute("colspan")||1,((k=+V.getAttribute("rowspan")||1)>1||A>1)&&f.push({s:{r:y+n,c:_+i},e:{r:y+n+(k||1)-1,c:_+i+(A||1)-1}});var B={t:"s",v:S},T=V.getAttribute("data-t")||V.getAttribute("t")||"";S!=null&&(S.length==0?B.t=T||"z":a.raw||S.trim().length==0||T=="s"||(S==="TRUE"?B={t:"b",v:!0}:S==="FALSE"?B={t:"b",v:!1}:isNaN(Ql(S))?isNaN(cx(S).getDate())||(B={t:"d",v:Dn(S)},a.cellDates||(B={t:"n",v:Ui(B.v)}),B.z=a.dateNF||Ks[14]):B={t:"n",v:Ql(S)})),B.z===void 0&&L!=null&&(B.z=L);var w="",E=V.getElementsByTagName("A");if(E&&E.length)for(var D=0;D<E.length&&!(E[D].hasAttribute("href")&&(w=E[D].getAttribute("href"),w.charAt(0)!="#"));++D);w&&w.charAt(0)!="#"&&(B.l={Target:w}),a.dense?(t[y+n]||(t[y+n]=[]),t[y+n][_+i]=B):t[Gs({c:_+i,r:y+n})]=B,u.e.c<_+i&&(u.e.c=_+i),_+=A}}++y}return f.length&&(t["!merges"]=(t["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,y-1+n),t["!ref"]=jr(u),y>=d&&(t["!fullref"]=jr((u.e.r=l.length-v+y-1+n,u))),t}function AD(t,s){var r=s||{},a=r.dense?[]:{};return kD(a,t,s)}function gee(t,s){return ym(AD(t,s),s)}function sC(t){var s="",r=yee(t);return r&&(s=r(t).getPropertyValue("display")),s||(s=t.style&&t.style.display),s==="none"}function yee(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function bee(t){var s=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(a,n){return Array(parseInt(n,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Cr(s.replace(/<[^>]*>/g,""));return[r]}var rC={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function ED(t,s){var r=s||{},a=BN(t),n=[],i,o,l={name:""},d="",u=0,h,f,p={},g=[],v=r.dense?[]:{},y,b,_={value:""},k="",A=0,R=[],F=-1,V=-1,S={s:{r:1e6,c:1e7},e:{r:0,c:0}},L=0,I={},B=[],T={},w=0,E=0,D=[],G=1,K=1,X=[],se={Names:[]},Z={},ee=["",""],ce=[],U={},O="",z=0,q=!1,te=!1,ge=0;for(Pp.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");y=Pp.exec(a);)switch(y[3]=y[3].replace(/_.*$/,"")){case"table":case"":y[1]==="/"?(S.e.c>=S.s.c&&S.e.r>=S.s.r?v["!ref"]=jr(S):v["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=S.e.r&&(v["!fullref"]=v["!ref"],S.e.r=r.sheetRows-1,v["!ref"]=jr(S)),B.length&&(v["!merges"]=B),D.length&&(v["!rows"]=D),h.name=h.||h.name,typeof JSON<"u"&&JSON.stringify(h),g.push(h.name),p[h.name]=v,te=!1):y[0].charAt(y[0].length-2)!=="/"&&(h=Is(y[0],!1),F=V=-1,S.s.r=S.s.c=1e7,S.e.r=S.e.c=0,v=r.dense?[]:{},B=[],D=[],te=!0);break;case"table-row-group":y[1]==="/"?--L:++L;break;case"table-row":case"":if(y[1]==="/"){F+=G,G=1;break}if(f=Is(y[0],!1),f.?F=f.-1:F==-1&&(F=0),G=+f["number-rows-repeated"]||1,G<10)for(ge=0;ge<G;++ge)L>0&&(D[F+ge]={level:L});V=-1;break;case"covered-table-cell":y[1]!=="/"&&++V,r.sheetStubs&&(r.dense?(v[F]||(v[F]=[]),v[F][V]={t:"z"}):v[Gs({r:F,c:V})]={t:"z"}),k="",R=[];break;case"table-cell":case"":if(y[0].charAt(y[0].length-2)==="/")++V,_=Is(y[0],!1),K=parseInt(_["number-columns-repeated"]||"1",10),b={t:"z",v:null},_.formula&&r.cellFormula!=!1&&(b.f=Q_(Cr(_.formula))),(_.||_["value-type"])=="string"&&(b.t="s",b.v=Cr(_["string-value"]||""),r.dense?(v[F]||(v[F]=[]),v[F][V]=b):v[Gs({r:F,c:V})]=b),V+=K-1;else if(y[1]!=="/"){++V,k="",A=0,R=[],K=1;var Q=G?F+G-1:F;if(V>S.e.c&&(S.e.c=V),V<S.s.c&&(S.s.c=V),F<S.s.r&&(S.s.r=F),Q>S.e.r&&(S.e.r=Q),_=Is(y[0],!1),ce=[],U={},b={t:_.||_["value-type"],v:null},r.cellFormula)if(_.formula&&(_.formula=Cr(_.formula)),_["number-matrix-columns-spanned"]&&_["number-matrix-rows-spanned"]&&(w=parseInt(_["number-matrix-rows-spanned"],10)||0,E=parseInt(_["number-matrix-columns-spanned"],10)||0,T={s:{r:F,c:V},e:{r:F+w-1,c:V+E-1}},b.F=jr(T),X.push([T,b.F])),_.formula)b.f=Q_(_.formula);else for(ge=0;ge<X.length;++ge)F>=X[ge][0].s.r&&F<=X[ge][0].e.r&&V>=X[ge][0].s.c&&V<=X[ge][0].e.c&&(b.F=X[ge][1]);switch((_["number-columns-spanned"]||_["number-rows-spanned"])&&(w=parseInt(_["number-rows-spanned"],10)||0,E=parseInt(_["number-columns-spanned"],10)||0,T={s:{r:F,c:V},e:{r:F+w-1,c:V+E-1}},B.push(T)),_["number-columns-repeated"]&&(K=parseInt(_["number-columns-repeated"],10)),b.t){case"boolean":b.t="b",b.v=ha(_["boolean-value"]);break;case"float":b.t="n",b.v=parseFloat(_.value);break;case"percentage":b.t="n",b.v=parseFloat(_.value);break;case"currency":b.t="n",b.v=parseFloat(_.value);break;case"date":b.t="d",b.v=Dn(_["date-value"]),r.cellDates||(b.t="n",b.v=Ui(b.v)),b.z="m/d/yy";break;case"time":b.t="n",b.v=PW(_["time-value"])/86400,r.cellDates&&(b.t="d",b.v=U1(b.v)),b.z="HH:MM:SS";break;case"number":b.t="n",b.v=parseFloat(_.);break;default:if(b.t==="string"||b.t==="text"||!b.t)b.t="s",_["string-value"]!=null&&(k=Cr(_["string-value"]),R=[]);else throw new Error("Unsupported value type "+b.t)}}else{if(q=!1,b.t==="s"&&(b.v=k||"",R.length&&(b.R=R),q=A==0),Z.Target&&(b.l=Z),ce.length>0&&(b.c=ce,ce=[]),k&&r.cellText!==!1&&(b.w=k),q&&(b.t="z",delete b.v),(!q||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=F))for(var ue=0;ue<G;++ue){if(K=parseInt(_["number-columns-repeated"]||"1",10),r.dense)for(v[F+ue]||(v[F+ue]=[]),v[F+ue][V]=ue==0?b:Xn(b);--K>0;)v[F+ue][V+K]=Xn(b);else for(v[Gs({r:F+ue,c:V})]=b;--K>0;)v[Gs({r:F+ue,c:V+K})]=Xn(b);S.e.c<=V&&(S.e.c=V)}K=parseInt(_["number-columns-repeated"]||"1",10),V+=K-1,K=0,b={},k="",R=[]}Z={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(y[1]==="/"){if((i=n.pop())[0]!==y[3])throw"Bad state: "+i}else y[0].charAt(y[0].length-2)!=="/"&&n.push([y[3],!0]);break;case"annotation":if(y[1]==="/"){if((i=n.pop())[0]!==y[3])throw"Bad state: "+i;U.t=k,R.length&&(U.R=R),U.a=O,ce.push(U)}else y[0].charAt(y[0].length-2)!=="/"&&n.push([y[3],!1]);O="",z=0,k="",A=0,R=[];break;case"creator":y[1]==="/"?O=a.slice(z,y.index):z=y.index+y[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(y[1]==="/"){if((i=n.pop())[0]!==y[3])throw"Bad state: "+i}else y[0].charAt(y[0].length-2)!=="/"&&n.push([y[3],!1]);k="",A=0,R=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(y[1]==="/"){if(I[l.name]=d,(i=n.pop())[0]!==y[3])throw"Bad state: "+i}else y[0].charAt(y[0].length-2)!=="/"&&(d="",l=Is(y[0],!1),n.push([y[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(n[n.length-1][0]){case"time-style":case"date-style":o=Is(y[0],!1),d+=rC[y[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(n[n.length-1][0]){case"time-style":case"date-style":o=Is(y[0],!1),d+=rC[y[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(y[0].slice(-2)==="/>")break;if(y[1]==="/")switch(n[n.length-1][0]){case"number-style":case"date-style":case"time-style":d+=a.slice(u,y.index);break}else u=y.index+y[0].length;break;case"named-range":o=Is(y[0],!1),ee=Kv(o["cell-range-address"]);var ie={Name:o.name,Ref:ee[0]+"!"+ee[1]};te&&(ie.Sheet=g.length),se.Names.push(ie);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(n[n.length-1][0])>-1)break;if(y[1]==="/"&&(!_||!_["string-value"])){var oe=bee(a.slice(A,y.index));k=(k.length>0?k+`
`:"")+oe[0]}else Is(y[0],!1),A=y.index+y[0].length;break;case"s":break;case"database-range":if(y[1]==="/")break;try{ee=Kv(Is(y[0])["target-range-address"]),p[ee[0]]["!autofilter"]={ref:ee[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(y[1]!=="/"){if(Z=Is(y[0],!1),!Z.href)break;Z.Target=Cr(Z.href),delete Z.href,Z.Target.charAt(0)=="#"&&Z.Target.indexOf(".")>-1?(ee=Kv(Z.Target.slice(1)),Z.Target="#"+ee[0]+"!"+ee[1]):Z.Target.match(/^\.\.[\\\/]/)&&(Z.Target=Z.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(y[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(y)}}var J={Sheets:p,SheetNames:g,Workbook:se};return r.bookSheets&&delete J.Sheets,J}function aC(t,s){s=s||{},ol(t,"META-INF/manifest.xml")&&FG(rn(t,"META-INF/manifest.xml"),s);var r=Po(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var a=ED(sa(r),s);return ol(t,"meta.xml")&&(a.Props=UT(rn(t,"meta.xml"))),a}function nC(t,s){return ED(t,s)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function JN(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ij(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):sa(I0(t))}function oj(t){var s=t.reduce(function(n,i){return n+i.length},0),r=new Uint8Array(s),a=0;return t.forEach(function(n){r.set(n,a),a+=n.length}),r}function iC(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function vee(t,s){for(var r=(t[s+15]&127)<<7|t[s+14]>>1,a=t[s+14]&1,n=s+13;n>=s;--n)a=a*256+t[n];return(t[s+15]&128?-a:a)*Math.pow(10,r-6176)}function Rp(t,s){var r=s?s[0]:0,a=t[r]&127;e:if(t[r++]>=128&&(a|=(t[r]&127)<<7,t[r++]<128||(a|=(t[r]&127)<<14,t[r++]<128)||(a|=(t[r]&127)<<21,t[r++]<128)||(a+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(a+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(a+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return s&&(s[0]=r),a}function jn(t){var s=0,r=t[s]&127;e:if(t[s++]>=128){if(r|=(t[s]&127)<<7,t[s++]<128||(r|=(t[s]&127)<<14,t[s++]<128)||(r|=(t[s]&127)<<21,t[s++]<128))break e;r|=(t[s]&127)<<28}return r}function yi(t){for(var s=[],r=[0];r[0]<t.length;){var a=r[0],n=Rp(t,r),i=n&7;n=Math.floor(n/8);var o=0,l;if(n==0)break;switch(i){case 0:{for(var d=r[0];t[r[0]++]>=128;);l=t.slice(d,r[0])}break;case 5:o=4,l=t.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=t.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Rp(t,r),l=t.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(n," at offset ").concat(a))}var u={data:l,type:i};s[n]==null?s[n]=[u]:s[n].push(u)}return s}function ZN(t,s){return(t==null?void 0:t.map(function(r){return s(r.data)}))||[]}function wee(t){for(var s,r=[],a=[0];a[0]<t.length;){var n=Rp(t,a),i=yi(t.slice(a[0],a[0]+n));a[0]+=n;var o={id:jn(i[1][0].data),messages:[]};i[2].forEach(function(l){var d=yi(l.data),u=jn(d[3][0].data);o.messages.push({meta:d,data:t.slice(a[0],a[0]+u)}),a[0]+=u}),(s=i[3])!=null&&s[0]&&(o.merge=jn(i[3][0].data)>>>0>0),r.push(o)}return r}function jee(t,s){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],a=Rp(s,r),n=[];r[0]<s.length;){var i=s[r[0]]&3;if(i==0){var o=s[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=s[r[0]],l>1&&(o|=s[r[0]+1]<<8),l>2&&(o|=s[r[0]+2]<<16),l>3&&(o|=s[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}n.push(s.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var d=0,u=0;if(i==1?(u=(s[r[0]]>>2&7)+4,d=(s[r[0]++]&224)<<3,d|=s[r[0]++]):(u=(s[r[0]++]>>2)+1,i==2?(d=s[r[0]]|s[r[0]+1]<<8,r[0]+=2):(d=(s[r[0]]|s[r[0]+1]<<8|s[r[0]+2]<<16|s[r[0]+3]<<24)>>>0,r[0]+=4)),n=[oj(n)],d==0)throw new Error("Invalid offset 0");if(d>n[0].length)throw new Error("Invalid offset beyond length");if(u>=d)for(n.push(n[0].slice(-d)),u-=d;u>=n[n.length-1].length;)n.push(n[n.length-1]),u-=n[n.length-1].length;n.push(n[0].slice(-d,-d+u))}}var h=oj(n);if(h.length!=a)throw new Error("Unexpected length: ".concat(h.length," != ").concat(a));return h}function Nee(t){for(var s=[],r=0;r<t.length;){var a=t[r++],n=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,s.push(jee(a,t.slice(r,r+n))),r+=n}if(r!==t.length)throw new Error("data is not a valid framed stream!");return oj(s)}function See(t,s,r,a){var n=JN(t),i=n.getUint32(4,!0),o=(a>1?12:8)+iC(i&(a>1?3470:398))*4,l=-1,d=-1,u=NaN,h=new Date(2001,0,1);i&512&&(l=n.getUint32(o,!0),o+=4),o+=iC(i&(a>1?12288:4096))*4,i&16&&(d=n.getUint32(o,!0),o+=4),i&32&&(u=n.getFloat64(o,!0),o+=8),i&64&&(h.setTime(h.getTime()+n.getFloat64(o,!0)*1e3),o+=8);var f;switch(t[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:s[d]};break;case 5:f={t:"d",v:h};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:r[l]};else if(d>-1)f={t:"s",v:s[d]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return f}function _ee(t,s,r){var a=JN(t),n=a.getUint32(8,!0),i=12,o=-1,l=-1,d=NaN,u=NaN,h=new Date(2001,0,1);n&1&&(d=vee(t,i),i+=16),n&2&&(u=a.getFloat64(i,!0),i+=8),n&4&&(h.setTime(h.getTime()+a.getFloat64(i,!0)*1e3),i+=8),n&8&&(l=a.getUint32(i,!0),i+=4),n&16&&(o=a.getUint32(i,!0),i+=4);var f;switch(t[1]){case 0:break;case 2:f={t:"n",v:d};break;case 3:f={t:"s",v:s[l]};break;case 5:f={t:"d",v:h};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(n&31," : ").concat(t.slice(0,4)));break;case 10:f={t:"n",v:d};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(n&31," : ").concat(t.slice(0,4)))}return f}function Cee(t,s,r){switch(t[0]){case 0:case 1:case 2:case 3:return See(t,s,r,t[0]);case 5:return _ee(t,s,r);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function dm(t){var s=yi(t);return Rp(s[1][0].data)}function oC(t,s){var r=yi(s.data),a=jn(r[1][0].data),n=r[3],i=[];return(n||[]).forEach(function(o){var l=yi(o.data),d=jn(l[1][0].data)>>>0;switch(a){case 1:i[d]=ij(l[3][0].data);break;case 8:{var u=t[dm(l[9][0].data)][0],h=yi(u.data),f=t[dm(h[1][0].data)][0],p=jn(f.meta[1][0].data);if(p!=2001)throw new Error("2000 unexpected reference to ".concat(p));var g=yi(f.data);i[d]=g[3].map(function(v){return ij(v.data)}).join("")}break}}),i}function kee(t,s){var r,a,n,i,o,l,d,u,h,f,p,g,v,y,b=yi(t),_=jn(b[1][0].data)>>>0,k=jn(b[2][0].data)>>>0,A=((a=(r=b[8])==null?void 0:r[0])==null?void 0:a.data)&&jn(b[8][0].data)>0||!1,R,F;if((i=(n=b[7])==null?void 0:n[0])!=null&&i.data&&s!=0)R=(l=(o=b[7])==null?void 0:o[0])==null?void 0:l.data,F=(u=(d=b[6])==null?void 0:d[0])==null?void 0:u.data;else if((f=(h=b[4])==null?void 0:h[0])!=null&&f.data&&s!=1)R=(g=(p=b[4])==null?void 0:p[0])==null?void 0:g.data,F=(y=(v=b[3])==null?void 0:v[0])==null?void 0:y.data;else throw"NUMBERS Tile missing ".concat(s," cell storage");for(var V=A?4:1,S=JN(R),L=[],I=0;I<R.length/2;++I){var B=S.getUint16(I*2,!0);B<65535&&L.push([I,B])}if(L.length!=k)throw"Expected ".concat(k," cells, found ").concat(L.length);var T=[];for(I=0;I<L.length-1;++I)T[L[I][0]]=F.subarray(L[I][1]*V,L[I+1][1]*V);return L.length>=1&&(T[L[L.length-1][0]]=F.subarray(L[L.length-1][1]*V)),{R:_,cells:T}}function Aee(t,s){var r,a=yi(s.data),n=(r=a==null?void 0:a[7])!=null&&r[0]?jn(a[7][0].data)>>>0>0?1:0:-1,i=ZN(a[5],function(o){return kee(o,n)});return{nrows:jn(a[4][0].data)>>>0,data:i.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(d,u){if(o[l.R][u])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(u));o[l.R][u]=d}),o},[])}}function Eee(t,s,r){var a,n=yi(s.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(jn(n[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(n[6][0].data));if(i.e.c=(jn(n[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(n[7][0].data));r["!ref"]=jr(i);var o=yi(n[4][0].data),l=oC(t,t[dm(o[4][0].data)][0]),d=(a=o[17])!=null&&a[0]?oC(t,t[dm(o[17][0].data)][0]):[],u=yi(o[3][0].data),h=0;u[1].forEach(function(f){var p=yi(f.data),g=t[dm(p[2][0].data)][0],v=jn(g.meta[1][0].data);if(v!=6002)throw new Error("6001 unexpected reference to ".concat(v));var y=Aee(t,g);y.data.forEach(function(b,_){b.forEach(function(k,A){var R=Gs({r:h+_,c:A}),F=Cee(k,l,d);F&&(r[R]=F)})}),h+=y.nrows})}function Tee(t,s){var r=yi(s.data),a={"!ref":"A1"},n=t[dm(r[2][0].data)],i=jn(n[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return Eee(t,n[0],a),a}function Dee(t,s){var r,a=yi(s.data),n={name:(r=a[1])!=null&&r[0]?ij(a[1][0].data):"",sheets:[]},i=ZN(a[2],dm);return i.forEach(function(o){t[o].forEach(function(l){var d=jn(l.meta[1][0].data);d==6e3&&n.sheets.push(Tee(t,l))})}),n}function Pee(t,s){var r=s5(),a=yi(s.data),n=ZN(a[1],dm);if(n.forEach(function(i){t[i].forEach(function(o){var l=jn(o.meta[1][0].data);if(l==2){var d=Dee(t,o);d.sheets.forEach(function(u,h){r5(r,u,h==0?d.name:d.name+"_"+h,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function Qv(t){var s,r,a,n,i={},o=[];if(t.FullPaths.forEach(function(d){if(d.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(d){if(d.name.match(/\.iwa$/)){var u;try{u=Nee(d.content)}catch(f){return console.log("?? "+d.content.length+" "+(f.message||f))}var h;try{h=wee(u)}catch(f){return console.log("## "+(f.message||f))}h.forEach(function(f){i[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var l=((n=(a=(r=(s=i==null?void 0:i[1])==null?void 0:s[0])==null?void 0:r.meta)==null?void 0:a[1])==null?void 0:n[0].data)&&jn(i[1][0].meta[1][0].data)==1&&i[1][0];if(l||o.forEach(function(d){i[d].forEach(function(u){var h=jn(u.meta[1][0].data)>>>0;if(h==1)if(!l)l=u;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return Pee(i,l)}function Mee(t){return function(r){for(var a=0;a!=t.length;++a){var n=t[a];r[n[0]]===void 0&&(r[n[0]]=n[1]),n[2]==="n"&&(r[n[0]]=Number(r[n[0]]))}}}function e5(t){Mee([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function Lee(t){return Lh.WS.indexOf(t)>-1?"sheet":t==Lh.CS?"chart":t==Lh.DS?"dialog":t==Lh.MS?"macro":t&&t.length?t:"sheet"}function Fee(t,s){if(!t)return 0;try{t=s.map(function(a){return a.id||(a.id=a.strRelID),[a.name,t["!id"][a.id].Target,Lee(t["!id"][a.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function Ree(t,s,r,a,n,i,o,l,d,u,h,f){try{i[a]=op(Po(t,r,!0),s);var p=rn(t,s),g;switch(l){case"sheet":g=UZ(p,s,n,d,i[a],u,h,f);break;case"chart":if(g=VZ(p,s,n,d,i[a],u,h,f),!g||!g["!drawel"])break;var v=Yf(g["!drawel"].Target,s),y=tj(v),b=$X(Po(t,v,!0),op(Po(t,y,!0),v)),_=Yf(b,v),k=tj(_);g=_Z(Po(t,_,!0),_,d,op(Po(t,k,!0),_),u,g);break;case"macro":g=qZ(p,s,n,d,i[a],u,h,f);break;case"dialog":g=HZ(p,s,n,d,i[a],u,h,f);break;default:throw new Error("Unrecognized sheet type "+l)}o[a]=g;var A=[];i&&i[a]&&sd(i[a]).forEach(function(R){var F="";if(i[a][R].Type==Lh.CMNT){F=Yf(i[a][R].Target,s);var V=KZ(rn(t,F,!0),F,d);if(!V||!V.length)return;W_(g,V,!1)}i[a][R].Type==Lh.TCMNT&&(F=Yf(i[a][R].Target,s),A=A.concat(VX(rn(t,F,!0),d)))}),A&&A.length&&W_(g,A,!0,d.people||[])}catch(R){if(d.WTF)throw R}}function rl(t){return t.charAt(0)=="/"?t.slice(1):t}function Oee(t,s){if(hT(),s=s||{},e5(s),ol(t,"META-INF/manifest.xml")||ol(t,"objectdata.xml"))return aC(t,s);if(ol(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Qv<"u"){if(t.FileIndex)return Qv(t);var r=wr.utils.cfb_new();return b_(t).forEach(function(D){IW(r,D,OW(t,D))}),Qv(r)}throw new Error("Unsupported NUMBERS file")}if(!ol(t,"[Content_Types].xml"))throw ol(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ol(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var a=b_(t),n=MG(Po(t,"[Content_Types].xml")),i=!1,o,l;if(n.workbooks.length===0&&(l="xl/workbook.xml",rn(t,l,!0)&&n.workbooks.push(l)),n.workbooks.length===0){if(l="xl/workbook.bin",!rn(t,l,!0))throw new Error("Could not find workbook");n.workbooks.push(l),i=!0}n.workbooks[0].slice(-3)=="bin"&&(i=!0);var d={},u={};if(!s.bookSheets&&!s.bookProps){if(dp=[],n.sst)try{dp=YZ(rn(t,rl(n.sst)),n.sst,s)}catch(D){if(s.WTF)throw D}s.cellStyles&&n.themes.length&&(d=GZ(Po(t,n.themes[0].replace(/^\//,""),!0)||"",n.themes[0],s)),n.style&&(u=WZ(rn(t,rl(n.style)),n.style,d,s))}n.links.map(function(D){try{var G=op(Po(t,tj(rl(D))),D);return QZ(rn(t,rl(D)),G,D,s)}catch{}});var h=$Z(rn(t,rl(n.workbooks[0])),n.workbooks[0],s),f={},p="";n.coreprops.length&&(p=rn(t,rl(n.coreprops[0]),!0),p&&(f=UT(p)),n.extprops.length!==0&&(p=rn(t,rl(n.extprops[0]),!0),p&&IG(p,f,s)));var g={};(!s.bookSheets||s.bookProps)&&n.custprops.length!==0&&(p=Po(t,rl(n.custprops[0]),!0),p&&(g=zG(p,s)));var v={};if((s.bookSheets||s.bookProps)&&(h.Sheets?o=h.Sheets.map(function(G){return G.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),s.bookProps&&(v.Props=f,v.Custprops=g),s.bookSheets&&typeof o<"u"&&(v.SheetNames=o),s.bookSheets?v.SheetNames:s.bookProps))return v;o={};var y={};s.bookDeps&&n.calcchain&&(y=XZ(rn(t,rl(n.calcchain)),n.calcchain));var b=0,_={},k,A;{var R=h.Sheets;f.Worksheets=R.length,f.SheetNames=[];for(var F=0;F!=R.length;++F)f.SheetNames[F]=R[F].name}var V=i?"bin":"xml",S=n.workbooks[0].lastIndexOf("/"),L=(n.workbooks[0].slice(0,S+1)+"_rels/"+n.workbooks[0].slice(S+1)+".rels").replace(/^\//,"");ol(t,L)||(L="xl/_rels/workbook."+V+".rels");var I=op(Po(t,L,!0),L.replace(/_rels.*/,"s5s"));(n.metadata||[]).length>=1&&(s.xlmeta=JZ(rn(t,rl(n.metadata[0])),n.metadata[0],s)),(n.people||[]).length>=1&&(s.people=qX(rn(t,rl(n.people[0])),s)),I&&(I=Fee(I,h.Sheets));var B=rn(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(b=0;b!=f.Worksheets;++b){var T="sheet";if(I&&I[b]?(k="xl/"+I[b][1].replace(/[\/]?xl\//,""),ol(t,k)||(k=I[b][1]),ol(t,k)||(k=L.replace(/_rels\/.*$/,"")+I[b][1]),T=I[b][2]):(k="xl/worksheets/sheet"+(b+1-B)+"."+V,k=k.replace(/sheet0\./,"sheet.")),A=k.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),s&&s.sheets!=null)switch(typeof s.sheets){case"number":if(b!=s.sheets)continue e;break;case"string":if(f.SheetNames[b].toLowerCase()!=s.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(s.sheets)){for(var w=!1,E=0;E!=s.sheets.length;++E)typeof s.sheets[E]=="number"&&s.sheets[E]==b&&(w=1),typeof s.sheets[E]=="string"&&s.sheets[E].toLowerCase()==f.SheetNames[b].toLowerCase()&&(w=1);if(!w)continue e}}Ree(t,k,A,f.SheetNames[b],b,_,o,T,s,h,d,u)}return v={Directory:n,Workbook:h,Props:f,Custprops:g,Deps:y,Sheets:o,SheetNames:f.SheetNames,Strings:dp,Styles:u,Themes:d,SSF:Xn(Ks)},s&&s.bookFiles&&(t.files?(v.keys=a,v.files=t.files):(v.keys=[],v.files={},t.FullPaths.forEach(function(D,G){D=D.replace(/^Root Entry[\/]/,""),v.keys.push(D),v.files[D]=t.FileIndex[G]}))),s&&s.bookVBA&&(n.vba.length>0?v.vbaraw=rn(t,rl(n.vba[0]),!0):n.defaults&&n.defaults.bin===YX&&(v.vbaraw=rn(t,"xl/vbaProject.bin",!0))),v}function Iee(t,s){var r=s||{},a="Workbook",n=wr.find(t,a);try{if(a="/!DataSpaces/Version",n=wr.find(t,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(TK(n.content),a="/!DataSpaces/DataSpaceMap",n=wr.find(t,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var i=PK(n.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",n=wr.find(t,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var o=MK(n.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",n=wr.find(t,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);FK(n.content)}catch{}if(a="/EncryptionInfo",n=wr.find(t,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var l=RK(n.content);if(a="/EncryptedPackage",n=wr.find(t,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],n.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],n.content,r.password||"",r);throw new Error("File is password-protected")}function t5(t,s){var r="";switch((s||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Ro(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(s&&s.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Bee(t,s){return wr.find(t,"EncryptedPackage")?Iee(t,s):CD(t,s)}function zee(t,s){var r,a=t,n=s||{};return n.type||(n.type=gr&&Buffer.isBuffer(t)?"buffer":"base64"),r=bT(a,n),Oee(r,n)}function TD(t,s){var r=0;e:for(;r<t.length;)switch(t.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return aj(t.slice(r),s);default:break e}return Mp.to_workbook(t,s)}function $ee(t,s){var r="",a=t5(t,s);switch(s.type){case"base64":r=Ro(t);break;case"binary":r=t;break;case"buffer":r=t.toString("binary");break;case"array":r=A0(t);break;default:throw new Error("Unrecognized type "+s.type)}return a[0]==239&&a[1]==187&&a[2]==191&&(r=sa(r)),s.type="binary",TD(r,s)}function Uee(t,s){var r=t;return s.type=="base64"&&(r=Ro(r)),r=Ep.utils.decode(1200,r.slice(2),"str"),s.type="binary",TD(r,s)}function Vee(t){return t.match(/[^\x00-\x7F]/)?Kf(t):t}function Jv(t,s,r,a){return a?(r.type="string",Mp.to_workbook(t,r)):Mp.to_workbook(s,r)}function lj(t,s){tT();var r=s||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return lj(new Uint8Array(t),(r=Xn(r),r.type="array",r));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var a=t,n=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Kh={},r.dateNF&&(Kh.dateNF=r.dateNF),r.type||(r.type=gr&&Buffer.isBuffer(t)?"buffer":"base64"),r.type=="file"&&(r.type=gr?"buffer":"binary",a=TW(t),typeof Uint8Array<"u"&&!gr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,a=Vee(t)),r.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return r=Xn(r),r.type="array",lj(MN(a),r)}switch((n=t5(a,r))[0]){case 208:if(n[1]===207&&n[2]===17&&n[3]===224&&n[4]===161&&n[5]===177&&n[6]===26&&n[7]===225)return Bee(wr.read(a,r),r);break;case 9:if(n[1]<=8)return CD(a,r);break;case 60:return aj(a,r);case 73:if(n[1]===73&&n[2]===42&&n[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(n[1]===68)return gK(a,r);break;case 84:if(n[1]===65&&n[2]===66&&n[3]===76)return fK.to_workbook(a,r);break;case 80:return n[1]===75&&n[2]<9&&n[3]<9?zee(a,r):Jv(t,a,r,i);case 239:return n[3]===60?aj(a,r):Jv(t,a,r,i);case 255:if(n[1]===254)return Uee(a,r);if(n[1]===0&&n[2]===2&&n[3]===0)return cp.to_workbook(a,r);break;case 0:if(n[1]===0&&(n[2]>=2&&n[3]===0||n[2]===0&&(n[3]===8||n[3]===9)))return cp.to_workbook(a,r);break;case 3:case 131:case 139:case 140:return H_.to_workbook(a,r);case 123:if(n[1]===92&&n[2]===114&&n[3]===116)return YK.to_workbook(a,r);break;case 10:case 13:case 32:return $ee(a,r);case 137:if(n[1]===80&&n[2]===78&&n[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return hK.indexOf(n[0])>-1&&n[2]<=12&&n[3]<=31?H_.to_workbook(a,r):Jv(t,a,r,i)}function qee(t,s,r,a,n,i,o,l){var d=Qn(r),u=l.defval,h=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,p=n===1?[]:{};if(n!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:r,enumerable:!1})}catch{p.__rowNum__=r}else p.__rowNum__=r;if(!o||t[r])for(var g=s.s.c;g<=s.e.c;++g){var v=o?t[r][g]:t[a[g]+d];if(v===void 0||v.t===void 0){if(u===void 0)continue;i[g]!=null&&(p[i[g]]=u);continue}var y=v.v;switch(v.t){case"z":if(y==null)break;continue;case"e":y=y==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(i[g]!=null){if(y==null)if(v.t=="e"&&y===null)p[i[g]]=null;else if(u!==void 0)p[i[g]]=u;else if(h&&y===null)p[i[g]]=null;else continue;else p[i[g]]=h&&(v.t!=="n"||v.t==="n"&&l.rawNumbers!==!1)?y:Jd(v,y,l);y!=null&&(f=!1)}}return{row:p,isempty:f}}function cj(t,s){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},a=0,n=1,i=[],o=0,l="",d={s:{r:0,c:0},e:{r:0,c:0}},u=s||{},h=u.range!=null?u.range:t["!ref"];switch(u.header===1?a=1:u.header==="A"?a=2:Array.isArray(u.header)?a=3:u.header==null&&(a=0),typeof h){case"string":d=Ma(h);break;case"number":d=Ma(t["!ref"]),d.s.r=h;break;default:d=h}a>0&&(n=0);var f=Qn(d.s.r),p=[],g=[],v=0,y=0,b=Array.isArray(t),_=d.s.r,k=0,A={};b&&!t[_]&&(t[_]=[]);var R=u.skipHidden&&t["!cols"]||[],F=u.skipHidden&&t["!rows"]||[];for(k=d.s.c;k<=d.e.c;++k)if(!(R[k]||{}).hidden)switch(p[k]=vn(k),r=b?t[_][k]:t[p[k]+f],a){case 1:i[k]=k-d.s.c;break;case 2:i[k]=p[k];break;case 3:i[k]=u.header[k-d.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=Jd(r,null,u),y=A[o]||0,!y)A[o]=1;else{do l=o+"_"+y++;while(A[l]);A[o]=y,A[l]=1}i[k]=l}for(_=d.s.r+n;_<=d.e.r;++_)if(!(F[_]||{}).hidden){var V=qee(t,d,_,p,a,i,b,u);(V.isempty===!1||(a===1?u.blankrows!==!1:u.blankrows))&&(g[v++]=V.row)}return g.length=v,g}var lC=/"/g;function Hee(t,s,r,a,n,i,o,l){for(var d=!0,u=[],h="",f=Qn(r),p=s.s.c;p<=s.e.c;++p)if(a[p]){var g=l.dense?(t[r]||[])[p]:t[a[p]+f];if(g==null)h="";else if(g.v!=null){d=!1,h=""+(l.rawNumbers&&g.t=="n"?g.v:Jd(g,null,l));for(var v=0,y=0;v!==h.length;++v)if((y=h.charCodeAt(v))===n||y===i||y===34||l.forceQuotes){h='"'+h.replace(lC,'""')+'"';break}h=="ID"&&(h='"ID"')}else g.f!=null&&!g.F?(d=!1,h="="+g.f,h.indexOf(",")>=0&&(h='"'+h.replace(lC,'""')+'"')):h="";u.push(h)}return l.blankrows===!1&&d?null:u.join(o)}function DD(t,s){var r=[],a=s??{};if(t==null||t["!ref"]==null)return"";var n=Ma(t["!ref"]),i=a.FS!==void 0?a.FS:",",o=i.charCodeAt(0),l=a.RS!==void 0?a.RS:`
`,d=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),h="",f=[];a.dense=Array.isArray(t);for(var p=a.skipHidden&&t["!cols"]||[],g=a.skipHidden&&t["!rows"]||[],v=n.s.c;v<=n.e.c;++v)(p[v]||{}).hidden||(f[v]=vn(v));for(var y=0,b=n.s.r;b<=n.e.r;++b)(g[b]||{}).hidden||(h=Hee(t,n,b,f,o,d,i,a),h!=null&&(a.strip&&(h=h.replace(u,"")),(h||a.blankrows!==!1)&&r.push((y++?l:"")+h)));return delete a.dense,r.join("")}function Wee(t,s){s||(s={}),s.FS="	",s.RS=`
`;var r=DD(t,s);return r}function Gee(t){var s="",r,a="";if(t==null||t["!ref"]==null)return[];var n=Ma(t["!ref"]),i="",o=[],l,d=[],u=Array.isArray(t);for(l=n.s.c;l<=n.e.c;++l)o[l]=vn(l);for(var h=n.s.r;h<=n.e.r;++h)for(i=Qn(h),l=n.s.c;l<=n.e.c;++l)if(s=o[l]+i,r=u?(t[h]||[])[l]:t[s],a="",r!==void 0){if(r.F!=null){if(s=r.F,!r.f)continue;a=r.f,s.indexOf(":")==-1&&(s=s+":"+s)}if(r.f!=null)a=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)a=""+r.v;else if(r.t=="b")a=r.v?"TRUE":"FALSE";else if(r.w!==void 0)a="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?a="'"+r.v:a=""+r.v}}d[d.length]=s+"="+a}return d}function PD(t,s,r){var a=r||{},n=+!a.skipHeader,i=t||{},o=0,l=0;if(i&&a.origin!=null)if(typeof a.origin=="number")o=a.origin;else{var d=typeof a.origin=="string"?Oi(a.origin):a.origin;o=d.r,l=d.c}var u,h={s:{c:0,r:0},e:{c:l,r:o+s.length-1+n}};if(i["!ref"]){var f=Ma(i["!ref"]);h.e.c=Math.max(h.e.c,f.e.c),h.e.r=Math.max(h.e.r,f.e.r),o==-1&&(o=f.e.r+1,h.e.r=o+s.length-1+n)}else o==-1&&(o=0,h.e.r=s.length-1+n);var p=a.header||[],g=0;s.forEach(function(y,b){sd(y).forEach(function(_){(g=p.indexOf(_))==-1&&(p[g=p.length]=_);var k=y[_],A="z",R="",F=Gs({c:l+g,r:o+b+n});u=Op(i,F),k&&typeof k=="object"&&!(k instanceof Date)?i[F]=k:(typeof k=="number"?A="n":typeof k=="boolean"?A="b":typeof k=="string"?A="s":k instanceof Date?(A="d",a.cellDates||(A="n",k=Ui(k)),R=a.dateNF||Ks[14]):k===null&&a.nullError&&(A="e",k=0),u?(u.t=A,u.v=k,delete u.w,delete u.R,R&&(u.z=R)):i[F]=u={t:A,v:k},R&&(u.z=R))})}),h.e.c=Math.max(h.e.c,l+p.length-1);var v=Qn(o);if(n)for(g=0;g<p.length;++g)i[vn(g+l)+v]={t:"s",v:p[g]};return i["!ref"]=jr(h),i}function Yee(t,s){return PD(null,t,s)}function Op(t,s,r){if(typeof s=="string"){if(Array.isArray(t)){var a=Oi(s);return t[a.r]||(t[a.r]=[]),t[a.r][a.c]||(t[a.r][a.c]={t:"z"})}return t[s]||(t[s]={t:"z"})}return typeof s!="number"?Op(t,Gs(s)):Op(t,Gs({r:s,c:r||0}))}function Kee(t,s){if(typeof s=="number"){if(s>=0&&t.SheetNames.length>s)return s;throw new Error("Cannot find sheet # "+s)}else if(typeof s=="string"){var r=t.SheetNames.indexOf(s);if(r>-1)return r;throw new Error("Cannot find sheet name |"+s+"|")}else throw new Error("Cannot find sheet |"+s+"|")}function s5(){return{SheetNames:[],Sheets:{}}}function r5(t,s,r,a){var n=1;if(!r)for(;n<=65535&&t.SheetNames.indexOf(r="Sheet"+n)!=-1;++n,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&t.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);n=i&&+i[2]||0;var o=i&&i[1]||r;for(++n;n<=65535&&t.SheetNames.indexOf(r=o+n)!=-1;++n);}if(MZ(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=s,r}function Xee(t,s,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var a=Kee(t,s);switch(t.Workbook.Sheets[a]||(t.Workbook.Sheets[a]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[a].Hidden=r}function Qee(t,s){return t.z=s,t}function MD(t,s,r){return s?(t.l={Target:s},r&&(t.l.Tooltip=r)):delete t.l,t}function Jee(t,s,r){return MD(t,"#"+s,r)}function Zee(t,s,r){t.c||(t.c=[]),t.c.push({t:s,a:r||"SheetJS"})}function ete(t,s,r,a){for(var n=typeof s!="string"?s:Ma(s),i=typeof s=="string"?s:jr(s),o=n.s.r;o<=n.e.r;++o)for(var l=n.s.c;l<=n.e.c;++l){var d=Op(t,o,l);d.t="n",d.F=i,delete d.v,o==n.s.r&&l==n.s.c&&(d.f=r,a&&(d.D=!0))}return t}var tte={encode_col:vn,encode_row:Qn,encode_cell:Gs,encode_range:jr,decode_col:UN,decode_row:$N,split_cell:mG,decode_cell:Oi,decode_range:Nx,format_cell:Jd,sheet_add_aoa:OT,sheet_add_json:PD,sheet_add_dom:kD,aoa_to_sheet:Sx,json_to_sheet:Yee,table_to_sheet:AD,table_to_book:gee,sheet_to_csv:DD,sheet_to_txt:Wee,sheet_to_json:cj,sheet_to_html:pee,sheet_to_formulae:Gee,sheet_to_row_object_array:cj,sheet_get_cell:Op,book_new:s5,book_append_sheet:r5,book_set_sheet_visibility:Xee,cell_set_number_format:Qee,cell_set_hyperlink:MD,cell_set_internal_link:Jee,cell_add_comment:Zee,sheet_set_array_formula:ete,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const cC=({page:t,totalPages:s,onPageChange:r})=>{if(s<=1)return null;let a=Math.max(1,t-2),n=Math.min(s,t+2);t<=3&&(n=Math.min(5,s)),t>=s-2&&(a=Math.max(1,s-4));const i=[];for(let o=a;o<=n;o++)i.push(o);return e.jsxs("div",{className:"flex justify-center items-center gap-1 mt-4 select-none",children:[e.jsx("button",{className:`px-3 py-1 rounded-lg font-semibold transition-all duration-150 ${t===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-blue-700 hover:bg-blue-50 border border-blue-200"}`,onClick:()=>r(t-1),disabled:t===1,"aria-label":"Previous page",children:" Prev"}),a>1&&e.jsx("span",{className:"px-2 text-gray-400",children:"..."}),i.map(o=>e.jsx("button",{className:`px-3 py-1 rounded-lg font-semibold transition-all duration-150 ${o===t?"bg-blue-600 text-white shadow":"bg-white text-blue-700 hover:bg-blue-50 border border-blue-200"}`,onClick:()=>r(o),disabled:o===t,"aria-current":o===t?"page":void 0,children:o},o)),n<s&&e.jsx("span",{className:"px-2 text-gray-400",children:"..."}),e.jsx("button",{className:`px-3 py-1 rounded-lg font-semibold transition-all duration-150 ${t===s?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-blue-700 hover:bg-blue-50 border border-blue-200"}`,onClick:()=>r(t+1),disabled:t===s,"aria-label":"Next page",children:"Next "})]})},ste=()=>{const[t,s]=N.useState(""),[r,a]=N.useState(""),[n,i]=N.useState(""),[o,l]=N.useState(""),[d,u]=N.useState("excel"),[h,f]=N.useState("all"),[p,g]=N.useState(""),[v,y]=N.useState(""),[b,_]=N.useState(""),[k,A]=N.useState(""),[R,F]=N.useState(""),[V,S]=N.useState(""),[L,I]=N.useState([]),[B,T]=N.useState([]),[w,E]=N.useState(!1),[D,G]=N.useState(!1),[K,X]=N.useState(null),[se,Z]=N.useState(""),[ee,ce]=N.useState(""),[U,O]=N.useState(""),[z,q]=N.useState(""),[te,ge]=N.useState(""),[Q,ue]=N.useState(!1),[ie,oe]=N.useState([]),[J,re]=N.useState(""),[ve,pe]=N.useState(!1),[ae,he]=N.useState(""),[Te,Ie]=N.useState(1),Be=6,Le=ie.slice((Te-1)*Be,Te*Be),Ee=Math.ceil(ie.length/Be),[Ve,mt]=N.useState(1),gt=8,Pe=B.slice((Ve-1)*gt,Ve*gt),Ae=Math.ceil(B.length/gt);N.useEffect(()=>{Ie(1)},[ie]),N.useEffect(()=>{mt(1)},[B]);const We=async()=>{ue(!0),pe(!0);try{const Fe=await Eo.fetchAbsentees({date:ae,search:J});oe(Fe)}catch{oe([])}pe(!1)},Xe=async Fe=>{const Ye=Fe.target.value;he(Ye),pe(!0);try{const lt=await Eo.fetchAbsentees({date:Ye,search:J});oe(lt)}catch{oe([])}pe(!1)},st=async Fe=>{const Ye=Fe.target.value;re(Ye),pe(!0);try{const lt=await Eo.fetchAbsentees({date:ae,search:Ye});oe(lt)}catch{oe([])}pe(!1)},[ke,ct]=N.useState(!1),[nt,Bt]=N.useState({empNo:"",name:"",time:"",date:"",entry:"",department:"",status:""}),[Ge,St]=N.useState({}),[bt,qe]=N.useState(!0),[Oe,jt]=N.useState([]),[Et,qt]=N.useState(""),[Gt,Yt]=N.useState(""),[Xt,is]=N.useState(""),[ws,Us]=N.useState(null),Zt=N.useRef(null),Wt=N.useRef(null);N.useEffect(()=>{(async()=>{E(!0);const Ye=await Af();I(Ye),T(Ye),E(!1)})()},[]),N.useEffect(()=>{(async()=>{const Ye=await Eo.fetchCompanies();jt(Ye)})()},[]);const Es=(Fe=null)=>{let Ye=L;return h==="employee"&&R&&(Ye=Ye.filter(lt=>lt.nic&&lt.nic.toLowerCase().includes(R.toLowerCase())||lt.empNo&&lt.empNo.toLowerCase().includes(R.toLowerCase()))),h==="department"&&v&&(Ye=Ye.filter(lt=>lt.department===v)),V&&(Ye=Ye.filter(lt=>lt.date===V)),r&&(Ye=Ye.filter(lt=>lt.date>=r)),n&&(Ye=Ye.filter(lt=>lt.date<=n)),Fe&&(Ye=Ye.filter(lt=>lt.status===Fe)),Ye},Bs=()=>{E(!0),setTimeout(()=>{T(Es()),E(!1)},500)},sr=()=>{T(Es("Leave"))},Ms=()=>{s(""),a(""),i(""),l(""),g(""),y(""),S(""),F(""),T(L)},dt=async Fe=>{const Ye=B[Fe];if(!Ye||!Ye.id){Me.fire({icon:"error",title:"Delete failed",text:"Record ID not found."});return}if((await Me.fire({title:"Are you sure?",text:"This will permanently delete the record.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!"})).isConfirmed)try{await Eo.deleteTimeCard(Ye.id);const Mt=await Af();I(Mt),T(Mt),Me.fire({icon:"success",title:"Deleted!",timer:1200,showConfirmButton:!1})}catch(Mt){Me.fire({icon:"error",title:"Delete failed",text:Mt.message})}},le=(Fe,Ye)=>{console.log("Editing record:",Fe),X({...Fe,index:Ye});const lt=Fe.date?new Date(Fe.date).toISOString().split("T")[0]:"";O(lt),q(Fe.entry||"");let Mt=Fe.status||"";Mt||(Fe.entry==="1"||Fe.entry===1?Mt="IN":(Fe.entry==="2"||Fe.entry===2)&&(Mt="OUT")),ge(Mt);const Dt=Fe.time||"";Fe.inOut==="IN"||Mt==="IN"?(Z(Dt),ce("")):Fe.inOut==="OUT"||Mt==="OUT"?(ce(Dt),Z("")):(Z(Dt),ce(Dt)),G(!0)},Se=async()=>{var Fe,Ye;try{if(!U){alert("Date is required");return}if(!te){alert("Status is required");return}let lt="";if(te==="IN"?lt=se:te==="OUT"||te==="Leave"?lt=ee:te==="Absent"&&(lt="00:00:00"),te!=="Absent"&&!lt){alert("Time is required for this status");return}if(lt&&!lt.includes(":")){alert("Please enter a valid time");return}const Mt={date:U,time:ot(lt),entry:z,status:te};console.log("Saving payload:",Mt),await Eo.updateTimeCard(K.id,Mt);const Dt=await Af();I(Dt),T(Dt),G(!1),Me.fire({icon:"success",title:"Success!",text:"Attendance record updated successfully.",timer:1500,showConfirmButton:!1})}catch(lt){console.error("Error updating record:",lt);const Mt=((Ye=(Fe=lt.response)==null?void 0:Fe.data)==null?void 0:Ye.message)||lt.message||"Failed to update attendance record";Me.fire({icon:"error",title:"Update Failed",text:Mt})}},me=async()=>{var Mt,Dt;if(!b){A("NIC is required");return}E(!0),A(""),St({});let Fe;try{Fe=await Eo.fetchEmployeeByNic(b)}catch{A("Employee not found"),E(!1);return}const Ye={};if(nt.date||(Ye.date="Date is required"),nt.status||(Ye.status="Status is required"),nt.entry||(Ye.entry="Entry will be auto-filled after selecting a Status"),nt.time||(Ye.time="Time is required"),Object.keys(Ye).length>0){St(Ye),E(!1);return}const lt={employee_id:Fe.id,time:nt.time,date:nt.date,entry:nt.entry,status:nt.status};try{const Ht=await DU(lt),rs=await Af(),fs={employeeId:Fe.id,date:nt.date,time:nt.time,status:nt.status};I(rs),T(rs);let Ue=rs.findIndex(vt=>{var Ut;return(vt.empNo===Fe.attendance_employee_no||vt.employee_id===Fe.id)&&vt.date===nt.date&&((Ut=vt.time)==null?void 0:Ut.includes(nt.time.substring(0,4)))});if(console.log("Found new record at index:",Ue),Ue!==-1){const vt=Math.floor(Ue/gt)+1;console.log("Setting page to:",vt),setTimeout(()=>{mt(vt)},10)}ct(!1),_e(),Me.fire({icon:"success",title:"Success!",text:"Attendance record added successfully.",timer:1500,showConfirmButton:!1})}catch(Ht){const rs=((Dt=(Mt=Ht.response)==null?void 0:Mt.data)==null?void 0:Dt.message)||"Failed to add attendance record";A(rs),Me.fire({icon:"error",title:"Error",text:rs})}E(!1)},_e=()=>{_(""),A(""),St({}),Bt({empNo:"",name:"",time:"",date:"",entry:"",department:"",status:""})},De=()=>{(b||nt.empNo||nt.name||nt.time||nt.date||nt.entry||nt.status)&&_e(),ct(!1)},Ne=async()=>{if(b){A("");try{const Fe=await Eo.fetchEmployeeByNic(b);Fe&&Fe.attendance_employee_no&&Fe.full_name?Bt(Ye=>({...Ye,empNo:Fe.attendance_employee_no,name:Fe.full_name,department:Fe.department||""})):(A("Employee not found for this NIC"),Bt(Ye=>({...Ye,empNo:"",name:"",department:""})))}catch{A("Employee not found for this NIC"),Bt(Ye=>({...Ye,empNo:"",name:"",department:""}))}}};N.useEffect(()=>{h!=="employee"&&F("")},[h]),N.useEffect(()=>{if(h!=="employee"){if(V||r||n){let Ye=[...L];V&&(Ye=Ye.filter(lt=>lt.date===V)),r&&(Ye=Ye.filter(lt=>lt.date>=r)),n&&(Ye=Ye.filter(lt=>lt.date<=n)),T(Ye)}else T(L);return}const Fe=(R||"").trim();if(!Fe){let Ye=[...L];V&&(Ye=Ye.filter(lt=>lt.date===V)),r&&(Ye=Ye.filter(lt=>lt.date>=r)),n&&(Ye=Ye.filter(lt=>lt.date<=n)),T(Ye),E(!1);return}if(/^\d+$/.test(Fe)){E(!1);const Ye=L.filter(lt=>{const Mt=(lt.empNo||"").toString().toLowerCase(),Dt=(lt.epf||"").toString().toLowerCase(),Ht=(lt.nic||"").toLowerCase();return Mt.includes(Fe.toLowerCase())||Dt.includes(Fe.toLowerCase())||Ht.includes(Fe.toLowerCase())}).filter(lt=>!(V&&lt.date!==V||r&&lt.date<r||n&&lt.date>n));T(Ye);return}return E(!0),Wt.current&&clearTimeout(Wt.current),Wt.current=setTimeout(async()=>{try{const Ye=await Eo.searchEmployeeTimeCards(Fe);let lt=Array.isArray(Ye)?Ye:[];(V||r||n)&&(lt=lt.filter(Mt=>!(V&&Mt.date!==V||r&&Mt.date<r||n&&Mt.date>n))),T(lt)}catch{T([])}finally{E(!1)}},300),()=>{Wt.current&&(clearTimeout(Wt.current),Wt.current=null)}},[R,h,V,r,n,L]);const Je=Fe=>{Us(Fe.target.files[0])},$e=async()=>{if(!ws){Me.fire({icon:"error",title:"No file selected",text:"Please select an Excel file."});return}if(!Gt){Me.fire({icon:"error",title:"Missing From Date",text:"Please select a From Date."});return}if(!Xt){Me.fire({icon:"error",title:"Missing To Date",text:"Please select a To Date."});return}if(Xt<Gt){Me.fire({icon:"error",title:"Invalid Date Range",text:"To Date cannot be before From Date."});return}E(!0);try{const Fe=new FileReader;Fe.onload=async Ye=>{var lt,Mt,Dt,Ht,rs;try{const fs=Ye.target.result,Ue=lj(fs,{type:"array"}),vt=Ue.SheetNames[0],Ut=Ue.Sheets[vt],Ls=tte.sheet_to_json(Ut,{header:1,defval:""}).slice(1).map(xr=>{var Nn,Fn,mn,Ci,aa,Rn;return{nic:((Nn=xr[0])==null?void 0:Nn.toString())||"",date:((Fn=xr[1])==null?void 0:Fn.toString())||"",time:((mn=xr[2])==null?void 0:mn.toString())||"",entry:((Ci=xr[3])==null?void 0:Ci.toString())||"",status:((aa=xr[4])==null?void 0:aa.toString())||"",reason:((Rn=xr[5])==null?void 0:Rn.toString())||""}}).filter(xr=>xr.nic&&(xr.date||xr.status==="Absent"));if(Ls.length===0){Me.fire({icon:"error",title:"No valid data",text:"No valid records found in Excel file."}),E(!1);return}const Nr={company_id:Et||void 0,from_date:Gt,to_date:Xt,records:Ls,file:ws},Pr=await Eo.importExcelData(Nr);Me.fire({icon:"success",title:"Import Completed",html:`
              <div>
                <p>Imported: <b>${Pr.imported}</b></p>
                <p>Absent: <b>${Pr.absent}</b></p>
                ${(lt=Pr.errors)!=null&&lt.length?`<p class="text-red-600">Errors:<br>${Pr.errors.join("<br>")}</p>`:""}
              </div>
            `});const lr=await Af();I(lr),T(lr),qt(""),Yt(""),is(""),Us(null),Zt.current&&(Zt.current.value="")}catch(fs){console.error("Error parsing Excel file:",fs);const Ue=(Dt=(Mt=fs==null?void 0:fs.response)==null?void 0:Mt.data)==null?void 0:Dt.message,vt=(rs=(Ht=fs==null?void 0:fs.response)==null?void 0:Ht.data)==null?void 0:rs.errors;let Ut=fs.message||"Import failed";Ue?Ut=Ue:vt&&(Array.isArray(vt)?Ut=vt.join(`
`):typeof vt=="object"&&(Ut=Object.values(vt).flat().join(`
`))),Me.fire({icon:"error",title:"Import failed",text:Ut})}finally{E(!1)}},Fe.onerror=Ye=>{console.error("File reading error:",Ye),Me.fire({icon:"error",title:"Import failed",text:"Error reading file: "+Ye.message}),E(!1)},Fe.readAsArrayBuffer(ws)}catch(Fe){Me.fire({icon:"error",title:"Import failed",text:Fe.message||"An unexpected error occurred"}),E(!1)}},Ke=async()=>{try{await Eo.downloadTemplate()}catch(Fe){alert(Fe.message)}},ot=Fe=>Fe?Fe.split(":").length===3?Fe:Fe.split(":").length===2?Fe+":00":Fe:"";return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-slate-50 to-gray-100 py-4 sm:py-8",children:[e.jsx("div",{className:"container mx-auto px-3 sm:px-4 max-w-7xl",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl border border-gray-200/50 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-slate-800 to-gray-900 px-4 sm:px-8 py-6 sm:py-8",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white text-center",children:"Time Card Management"}),e.jsx("p",{className:"text-slate-300 text-center mt-2 text-sm sm:text-base",children:"Employee Attendance & Time Tracking System"})]}),e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[e.jsxs("div",{className:"mb-4 sm:mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsx("div",{children:e.jsxs("button",{className:`flex items-center gap-2 px-2.5 py-2 rounded-md font-semibold shadow transition-all duration-200 ${bt?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 text-blue-700 hover:bg-blue-100"}`,onClick:()=>qe(Fe=>!Fe),"aria-expanded":bt,children:[e.jsx("svg",{className:`w-5 h-5 transition-transform duration-200 ${bt?"rotate-0":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),bt?"Hide Import Data":"Show Import Data"]})}),e.jsx("div",{children:e.jsxs("button",{className:"flex items-center gap-2 px-2.5 py-2 rounded-md font-semibold shadow transition-all duration-200 bg-green-600 text-white hover:bg-green-700",onClick:Ke,children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2M7 10l5 5 5-5M12 15V3"})}),"Export Template"]})})]}),bt&&e.jsxs("div",{className:"mt-6 p-3 sm:p-4 bg-gradient-to-br from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg shadow-sm",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Company"}),e.jsxs("select",{className:"w-full p-3 sm:p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 bg-white shadow-sm hover:shadow-md text-sm sm:text-base",value:Et,onChange:Fe=>qt(Fe.target.value),children:[e.jsx("option",{value:"",children:"Select Company"}),Oe.map(Fe=>e.jsx("option",{value:Fe.id,children:Fe.name},Fe.id))]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:["From Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",className:"w-full p-3 sm:p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 bg-white shadow-sm hover:shadow-md text-sm sm:text-base",value:Gt,onChange:Fe=>Yt(Fe.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:["To Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",className:"w-full p-3 sm:p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 bg-white shadow-sm hover:shadow-md text-sm sm:text-base",value:Xt,onChange:Fe=>is(Fe.target.value),min:Gt||void 0,required:!0})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-4",children:"Import Method"}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-6",children:e.jsxs("label",{className:"inline-flex items-center cursor-pointer p-3 rounded-lg hover:bg-blue-100 transition-colors duration-200",children:[e.jsx("input",{type:"radio",className:"form-radio h-5 w-5 text-blue-600 focus:ring-blue-500 focus:ring-2",checked:d==="excel",onChange:()=>u("excel")}),e.jsx("span",{className:"ml-3 text-slate-700 font-medium text-sm sm:text-base",children:"Import from Excel Sheet"})]})}),d==="excel"&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Upload Excel File"}),e.jsx("input",{type:"file",accept:".xlsx,.xls",className:"w-full p-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 bg-white shadow-sm",onChange:Je,ref:Zt}),e.jsx("button",{className:"mt-3 px-4 py-2 bg-gradient-to-r from-green-600 to-green-700 text-white font-semibold rounded-xl hover:from-green-700 hover:to-green-800 transition-all duration-300 shadow-lg",onClick:$e,children:"Import Excel"})]})]})]}),e.jsx("div",{className:"mb-8"}),e.jsxs("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 bg-gradient-to-br from-emerald-50 to-green-50 border-l-4 border-emerald-500 rounded-lg shadow-sm",children:[e.jsxs("div",{className:"flex items-center mb-4 sm:mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-emerald-600 rounded-lg flex items-center justify-center mr-3 shadow-md",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})}),e.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-slate-800",children:"Filter Options"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-4",children:"Filter By"}),e.jsxs("div",{className:"flex flex-col sm:flex-row lg:flex-row gap-3",children:[e.jsxs("label",{className:"inline-flex items-center cursor-pointer p-3 rounded-lg hover:bg-emerald-100 transition-colors duration-200",children:[e.jsx("input",{type:"radio",className:"form-radio h-5 w-5 text-emerald-600 focus:ring-emerald-500 focus:ring-2",checked:h==="all",onChange:()=>f("all")}),e.jsx("span",{className:"ml-3 text-slate-700 font-medium text-sm sm:text-base",children:"All Fingerprints"})]}),e.jsxs("label",{className:"inline-flex items-center cursor-pointer p-3 rounded-lg hover:bg-emerald-100 transition-colors duration-200",children:[e.jsx("input",{type:"radio",className:"form-radio h-5 w-5 text-emerald-600 focus:ring-emerald-500 focus:ring-2",checked:h==="employee",onChange:()=>f("employee")}),e.jsx("span",{className:"ml-3 text-slate-700 font-medium text-sm sm:text-base",children:"Filter by Employee"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[h==="employee"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700",children:"Search by NIC/EPF/EMP Attendance Number"}),e.jsx("input",{type:"text",className:"w-full p-3 sm:p-4 border-2 border-gray-300 rounded-xl focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 transition-all duration-200 bg-white shadow-sm hover:shadow-md text-sm sm:text-base",value:R,onChange:Fe=>F(Fe.target.value),placeholder:"Enter NIC/EPF/EMP Attendance number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700",children:"Date"}),e.jsx("input",{type:"date",className:"w-full p-3 sm:p-4 border-2 border-gray-300 rounded-xl focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 transition-all duration-200 bg-white shadow-sm hover:shadow-md text-sm sm:text-base",value:V,onChange:Fe=>S(Fe.target.value)})]})]})]}),e.jsxs("div",{className:"flex flex-wrap justify-end gap-3 sm:gap-4 mb-6 sm:mb-8",children:[e.jsx("button",{className:"px-4 sm:px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none text-sm sm:text-base",onClick:Bs,disabled:w,children:w?"Processing...":"Process"}),e.jsx("button",{className:"px-4 sm:px-6 py-3 bg-gradient-to-r from-gray-600 to-gray-700 text-white font-semibold rounded-xl hover:from-gray-700 hover:to-gray-800 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 text-sm sm:text-base",onClick:Ms,children:"Cancel"}),e.jsx("button",{className:"px-4 sm:px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white font-semibold rounded-xl hover:from-red-700 hover:to-red-800 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none text-sm sm:text-base",onClick:We,children:"Mark Absentees"}),e.jsx("button",{className:"px-4 sm:px-6 py-3 bg-gradient-to-r from-yellow-500 to-yellow-600 text-white font-semibold rounded-xl hover:from-yellow-600 hover:to-yellow-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none text-sm sm:text-base",onClick:sr,children:"Leave"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden border border-gray-200",children:[e.jsx("div",{className:"bg-gradient-to-r from-slate-800 to-gray-900 px-4 sm:px-6 py-4 sm:py-5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center mr-3",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2v-6a2 2 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})}),e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white",children:"Attendance Records"})]}),e.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg font-semibold shadow hover:bg-green-700 transition",onClick:()=>ct(!0),children:"Add New"})]})}),w?e.jsxs("div",{className:"p-8 sm:p-12 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-500 mx-auto"}),e.jsx("p",{className:"mt-6 text-slate-600 font-medium text-sm sm:text-base",children:"Loading attendance data..."})]}):e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-gray-50 to-slate-100 border-b-2 border-gray-200",children:[e.jsx("th",{className:"py-4 px-3 sm:px-6 text-left font-bold text-slate-800 text-xs sm:text-sm lg:text-base",children:"EMP NO"}),e.jsx("th",{className:"py-4 px-3 sm:px-6 text-left font-bold text-slate-800 text-xs sm:text-sm lg:text-base",children:"Name"}),e.jsx("th",{className:"py-4 px-3 sm:px-6 text-left font-bold text-slate-800 text-xs sm:text-sm lg:text-base",children:"Fingerprint Clock"}),e.jsx("th",{className:"py-4 px-3 sm:px-6 text-left font-bold text-slate-800 text-xs sm:text-sm lg:text-base",children:"Time"}),e.jsx("th",{className:"py-4 px-3 sm:px-6 text-left font-bold text-slate-800 text-xs sm:text-sm lg:text-base",children:"Date"}),e.jsx("th",{className:"py-4 px-3 sm:px-6 text-left font-bold text-slate-800 text-xs sm:text-sm lg:text-base",children:"Entry"}),e.jsx("th",{className:"py-4 px-3 sm:px-6 text-left font-bold text-slate-800 text-xs sm:text-sm lg:text-base",children:"Status"})]})}),e.jsx("tbody",{children:Pe.length>0?Pe.map((Fe,Ye)=>e.jsxs("tr",{className:`${Ye%2===0?"bg-white":"bg-gray-50/50"} hover:bg-blue-50/50 transition-colors duration-200 border-b border-gray-100`,children:[e.jsx("td",{className:"py-4 px-3 sm:px-6 font-semibold text-slate-700 text-xs sm:text-sm lg:text-base",children:Fe.empNo}),e.jsx("td",{className:"py-4 px-3 sm:px-6 font-medium text-slate-800 text-xs sm:text-sm lg:text-base",children:Fe.name}),e.jsx("td",{className:"py-4 px-3 sm:px-6 text-slate-600 text-xs sm:text-sm lg:text-base",children:Fe.fingerprintClock}),e.jsx("td",{className:"py-4 px-3 sm:px-6 text-slate-600 font-mono text-xs sm:text-sm lg:text-base",children:Fe.time}),e.jsx("td",{className:"py-4 px-3 sm:px-6 text-slate-600 text-xs sm:text-sm lg:text-base",children:Fe.date}),e.jsx("td",{className:"py-4 px-3 sm:px-6 text-slate-700 font-bold text-xs sm:text-sm lg:text-base",children:Fe.entry}),e.jsx("td",{className:"py-4 px-3 sm:px-6",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1.5 rounded-full text-xs sm:text-sm font-bold shadow-sm border ${Fe.status==="Absent"?"bg-gradient-to-r from-red-100 to-rose-100 text-red-800 border-red-200":Fe.status==="Leave"?"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border-yellow-200":Fe.inOut==="IN"?"bg-gradient-to-r from-emerald-100 to-green-100 text-emerald-800 border-emerald-200":"bg-gradient-to-r from-red-100 to-rose-100 text-red-800 border-red-200"}`,children:Fe.status==="Present"?Fe.inOut:Fe.status})}),e.jsxs("td",{className:"py-4 px-3 sm:px-6 flex gap-2",children:[e.jsxs("button",{className:"inline-flex items-center px-3 py-1.5 bg-blue-100 text-blue-700 border border-blue-200 rounded-lg hover:bg-blue-600 hover:text-white transition-all duration-150 text-xs sm:text-sm font-semibold shadow-sm",onClick:()=>le(Fe,Ye),title:"Edit",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536M9 13l6-6m2 2l-6 6m-2 2h6v2a2 2 0 01-2 2H7a2 2 0 01-2-2v-6a2 2 0 012-2h2v6z"})}),"Edit"]}),e.jsxs("button",{className:"inline-flex items-center px-3 py-1.5 bg-red-100 text-red-700 border border-red-200 rounded-lg hover:bg-red-600 hover:text-white transition-all duration-150 text-xs sm:text-sm font-semibold shadow-sm",onClick:()=>dt(Ye),title:"Delete",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),"Delete"]})]})]},Ye)):e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"py-16 text-center text-slate-500",children:e.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[e.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",strokeWidth:1,viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2h-2a2 2 0 01-2-2v-6a2 2 0 012-2h2v6z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm sm:text-base font-medium",children:"No attendance records found"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Please set your filters and click Process"})]})]})})})})]}),e.jsx(cC,{page:Ve,totalPages:Ae,onPageChange:mt})]})]})]})]})}),D&&K&&e.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md relative animate-fade-in",children:[e.jsx("button",{className:"absolute top-3 right-3 text-gray-400 hover:text-red-500 transition",onClick:()=>G(!1),title:"Close",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("h2",{className:"text-xl font-bold mb-6 text-slate-800 flex items-center gap-2",children:[e.jsx("svg",{className:"w-6 h-6 text-blue-500",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),"Edit Attendance Record"]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Employee Details"}),e.jsxs("div",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 bg-gray-100 text-sm",children:[e.jsx("div",{className:"font-medium",children:K.name||"Unknown Employee"}),e.jsxs("div",{className:"text-gray-600",children:["EMP: ",K.empNo||"N/A"]}),e.jsxs("div",{className:"text-gray-600",children:["Dept: ",K.department||"N/A"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Date"}),e.jsx("input",{type:"date",className:"w-full border border-blue-300 rounded-lg px-3 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-200",value:U,onChange:Fe=>O(Fe.target.value)})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Status"}),e.jsxs("select",{className:"w-full border border-blue-300 rounded-lg px-3 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-200",value:te,onChange:Fe=>{const Ye=Fe.target.value;let lt="";Ye==="IN"?(lt="1",ce("")):Ye==="OUT"?(lt="2",Z("")):Ye==="Leave"&&(lt="0"),ge(Ye),q(lt)},children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"IN",children:"IN"}),e.jsx("option",{value:"OUT",children:"OUT"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Entry Code"}),e.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 bg-gray-100",value:z,readOnly:!0,placeholder:"Auto-filled from Status"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:["Time ",te==="IN"?"(Clock In)":te==="OUT"?"(Clock Out)":""]}),te==="Absent"?e.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 bg-gray-100",value:"N/A (Absent)",readOnly:!0}):e.jsx("input",{type:"time",className:"w-full border border-blue-300 rounded-lg px-3 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-200",value:te==="IN"?se:te==="OUT"?ee:se||ee,onChange:Fe=>{te==="IN"?Z(Fe.target.value):(te==="OUT"||Z(Fe.target.value),ce(Fe.target.value))},placeholder:"e.g. 08:45"})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[e.jsx("button",{className:"px-5 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-100 transition",onClick:()=>G(!1),children:"Cancel"}),e.jsx("button",{className:"px-5 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition font-semibold shadow",onClick:Se,children:"Save Changes"})]})]})}),ke&&e.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 w-full max-w-md relative animate-fade-in",children:[e.jsx("button",{className:"absolute top-3 right-3 text-gray-400 hover:text-red-500 transition",onClick:De,title:"Close",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("h2",{className:"text-lg font-bold mb-4 text-slate-800 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),"Add New Attendance Record"]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mb-4 border border-gray-100",children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:["NIC/ EMP Attendance Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",className:`w-full border rounded-lg px-3 py-1.5 text-sm ${k?"border-red-500":"border-gray-300"}`,value:b,onChange:Fe=>_(Fe.target.value),onBlur:Ne,placeholder:"Enter employee NIC/ EMP Attendance number"}),k&&e.jsx("div",{className:"text-red-500 text-xs mt-1",children:k})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"Employee Number"}),e.jsx("input",{type:"text",className:"w-full border border-gray-200 rounded-lg px-3 py-1.5 bg-gray-100 text-sm",value:nt.empNo,readOnly:!0,placeholder:"Auto-filled"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"Department"}),e.jsx("input",{type:"text",className:"w-full border border-gray-200 rounded-lg px-3 py-1.5 bg-gray-100 text-sm",value:nt.department,readOnly:!0,placeholder:"Auto-filled"})]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"Employee Name"}),e.jsx("input",{type:"text",className:"w-full border border-gray-200 rounded-lg px-3 py-1.5 bg-gray-100 text-sm",value:nt.name,readOnly:!0,placeholder:"Auto-filled from NIC"})]})]}),e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg mb-4 border border-blue-100",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:["Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",className:`w-full border rounded-lg px-3 py-1.5 text-sm ${Ge.date?"border-red-500":"border-gray-300"}`,value:nt.date,onChange:Fe=>{const Ye=Fe.target.value;Bt({...nt,date:Ye}),St(lt=>({...lt,date:Ye?void 0:"Date is required"}))},onBlur:()=>{nt.date||St(Fe=>({...Fe,date:"Date is required"}))},max:new Date().toISOString().split("T")[0],"aria-invalid":!!Ge.date}),Ge.date&&e.jsx("div",{className:"text-red-500 text-xs mt-1",children:Ge.date})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:["Time ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"time",className:`w-full border rounded-lg px-3 py-1.5 text-sm ${Ge.time?"border-red-500":"border-gray-300"}`,value:nt.time,onChange:Fe=>{const Ye=Fe.target.value;Bt({...nt,time:Ye}),St(lt=>({...lt,time:Ye?void 0:"Time is required"}))},onBlur:()=>{nt.time||St(Fe=>({...Fe,time:"Time is required"}))},"aria-invalid":!!Ge.time}),Ge.time&&e.jsx("div",{className:"text-red-500 text-xs mt-1",children:Ge.time})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"mb-2",children:[e.jsxs("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:["Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{className:`w-full border rounded-lg px-3 py-1.5 text-sm ${Ge.status?"border-red-500":"border-gray-300"}`,value:nt.status,onChange:Fe=>{const Ye=Fe.target.value;let lt="";Ye==="IN"?lt="1":Ye==="OUT"?lt="2":Ye==="Leave"&&(lt="0"),Bt(Mt=>({...Mt,status:Ye,entry:lt})),St(Mt=>({...Mt,status:Ye?void 0:"Status is required",entry:Ye?void 0:"Entry will be auto-filled after selecting a Status"}))},onBlur:()=>{nt.status||St(Fe=>({...Fe,status:"Status is required",entry:"Entry will be auto-filled after selecting a Status"}))},"aria-invalid":!!Ge.status,children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"IN",children:"IN"}),e.jsx("option",{value:"OUT",children:"OUT"})]}),Ge.status&&e.jsx("div",{className:"text-red-500 text-xs mt-1",children:Ge.status})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"Entry Code"}),e.jsx("input",{type:"text",className:`w-full border rounded-lg px-3 py-1.5 bg-gray-100 text-sm ${Ge.entry?"border-red-500":"border-gray-200"}`,value:nt.entry,readOnly:!0,placeholder:"Auto-filled"}),Ge.entry&&e.jsx("div",{className:"text-red-500 text-xs mt-1",children:Ge.entry})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-5",children:[e.jsx("button",{className:"px-4 py-1.5 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-100 transition text-sm",onClick:De,children:"Cancel"}),e.jsx("button",{className:"px-4 py-1.5 rounded-lg bg-green-600 text-white hover:bg-green-700 transition font-semibold shadow text-sm",onClick:me,disabled:w,children:"Add Record"})]})]})}),Q&&e.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-2xl relative animate-fade-in",children:[e.jsx("button",{className:"absolute top-3 right-3 text-gray-400 hover:text-red-500 transition",onClick:()=>ue(!1),title:"Close",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("h2",{className:"text-xl font-bold mb-6 text-slate-800 flex items-center gap-2",children:[e.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),"Absentees List"]}),e.jsxs("div",{className:"mb-4 flex gap-3",children:[e.jsx("input",{type:"date",className:"border border-gray-300 rounded-lg px-3 py-2",value:ae,onChange:Xe}),e.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Filter by NIC/EPF/EMP Attendane no",value:J,onChange:st})]}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-gray-50 to-slate-100 border-b-2 border-gray-200",children:[e.jsx("th",{className:"py-3 px-4 text-left font-bold text-slate-800 text-sm",children:"Employee Name"}),e.jsx("th",{className:"py-3 px-4 text-left font-bold text-slate-800 text-sm",children:"Absent Date"}),e.jsx("th",{className:"py-3 px-4 text-left font-bold text-slate-800 text-sm",children:"Reason"})]})}),e.jsx("tbody",{children:ve?e.jsx("tr",{children:e.jsx("td",{colSpan:"3",className:"py-8 text-center text-slate-500",children:"Loading..."})}):Le.length>0?Le.map((Fe,Ye)=>e.jsxs("tr",{className:Ye%2===0?"bg-white":"bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:Fe.employee_name||Fe.name}),e.jsx("td",{className:"py-3 px-4",children:Fe.date}),e.jsx("td",{className:"py-3 px-4",children:Fe.reason||"-"})]},Fe.id||Ye)):e.jsx("tr",{children:e.jsx("td",{colSpan:"3",className:"py-8 text-center text-slate-500",children:"No absentees found"})})})]}),e.jsx(cC,{page:Te,totalPages:Ee,onPageChange:Ie})]})]})})]})},rte=async()=>{try{return(await Ze.get("/overtime")).data}catch(t){return console.error("Error fetching companies:",t),[]}},ate=async(t,s)=>{try{return(await Ze.post(`/overtime/approve/${t}`,{status:s})).data}catch(r){throw console.error("Error approving overtime:",r),r}},nte=({currentPage:t,totalPages:s,onPageChange:r})=>{if(s<=1)return null;let a=Math.max(1,t-2),n=Math.min(s,t+2);t<=3&&(n=Math.min(5,s)),t>=s-2&&(a=Math.max(1,s-4));const i=[];for(let o=a;o<=n;o++)i.push(o);return e.jsxs("div",{className:"flex justify-center items-center gap-1 mt-4 mb-4",children:[e.jsx("button",{className:`px-3 py-1 rounded-lg font-medium transition-all duration-150 ${t===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-blue-700 hover:bg-blue-50 border border-blue-200"}`,onClick:()=>r(t-1),disabled:t===1,"aria-label":"Previous page",children:e.jsx(gl,{className:"h-4 w-4"})}),a>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"px-3 py-1 rounded-lg font-medium bg-white text-blue-700 hover:bg-blue-50 border border-blue-200",onClick:()=>r(1),children:"1"}),a>2&&e.jsx("span",{className:"px-2 text-gray-400",children:"..."})]}),i.map(o=>e.jsx("button",{className:`px-3 py-1 rounded-lg font-medium transition-all duration-150 ${o===t?"bg-blue-600 text-white shadow":"bg-white text-blue-700 hover:bg-blue-50 border border-blue-200"}`,onClick:()=>r(o),disabled:o===t,"aria-current":o===t?"page":void 0,children:o},o)),n<s&&e.jsxs(e.Fragment,{children:[n<s-1&&e.jsx("span",{className:"px-2 text-gray-400",children:"..."}),e.jsx("button",{className:"px-3 py-1 rounded-lg font-medium bg-white text-blue-700 hover:bg-blue-50 border border-blue-200",onClick:()=>r(s),children:s})]}),e.jsx("button",{className:`px-3 py-1 rounded-lg font-medium transition-all duration-150 ${t===s?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-blue-700 hover:bg-blue-50 border border-blue-200"}`,onClick:()=>r(t+1),disabled:t===s,"aria-label":"Next page",children:e.jsx(Pn,{className:"h-4 w-4"})})]})},ite=()=>{const[t,s]=N.useState([]),[r,a]=N.useState([]),[n,i]=N.useState(!1),[o,l]=N.useState(null),[d,u]=N.useState(1),[h]=N.useState(9),[f,p]=N.useState([]),[g,v]=N.useState(""),[y,b]=N.useState(""),_=D=>{if(D==null||D==="")return"-";const G=parseFloat(D);if(isNaN(G))return"-";const K=G<0?"-":"",X=Math.abs(G),se=Math.floor(X),Z=Math.round((X-se)*60),ee=se+Math.floor(Z/60),ce=Z%60;return`${K}${ee}h ${String(ce).padStart(2,"0")}m`},k=D=>{const G=parseFloat(D.morning_ot||0)||0,K=parseFloat(D.evening_ot||D.afternoon_ot||0)||0,X=G+K;return _(X)};N.useEffect(()=>{A(),(async()=>{try{const D=await Qd();p(Array.isArray(D)?D:[])}catch(D){console.error("Failed to load companies:",D)}})()},[]),N.useEffect(()=>{(()=>{console.log("Selected company:",g),console.log("Sample record company data:",t&&t.length>0?t[0].company_id:void 0,t&&t.length>0?t[0].company_name:void 0);let G=[...t];g&&(G=G.filter(K=>{var X;return((X=K.company_id)==null?void 0:X.toString())===(g==null?void 0:g.toString())||K.company_name===g})),y&&(G=G.filter(K=>(K.date||"").slice(0,10)===y)),a(G)})()},[t,g,y]),N.useEffect(()=>{u(1)},[r.length]);const A=async()=>{i(!0),l(null);try{const D=await rte();console.log("Overtime API response:",D),Array.isArray(D)?(s(D),a(D)):D&&Array.isArray(D.data)?(s(D.data),a(D.data)):(console.error("Unexpected data format:",D),l("Data received in unexpected format"),s([]),a([]))}catch(D){console.error("Error fetching data:",D),l("Failed to load overtime data"),s([]),a([])}finally{i(!1)}},R=async(D,G)=>{try{await ate(D,G),A()}catch(K){console.error("Error approving overtime:",K)}},F=async(D,G)=>{s(K=>K.map(X=>X.id===D?{...X,status:G}:X));try{await R(D,G)}catch(K){console.error("Failed to change status:",K),A()}},V=d*h,S=V-h,L=r.slice(S,V),I=Math.ceil(r.length/h),B=D=>{u(D)},T=D=>{v(D.target.value)},w=D=>{b(D.target.value)},E=()=>{v(""),b(""),a(t),u(1)};return e.jsx("div",{className:"min-h-screen p-4",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg",children:e.jsx(Ns,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-800 to-blue-600 bg-clip-text text-transparent",children:"Overtime Management System"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and approve employee overtime hours efficiently"})]}),e.jsxs("div",{className:"flex items-center gap-3 ml-4",children:[e.jsxs("select",{value:g,onChange:T,className:"px-3 py-2 border border-gray-200 rounded-md text-sm bg-white","aria-label":"Filter by company",children:[e.jsx("option",{value:"",children:"All Companies"}),f.map(D=>e.jsx("option",{value:D.id??D.name,children:D.name??D},D.id||D))]}),e.jsx("input",{type:"date",value:y,onChange:w,className:"px-3 py-2 border border-gray-200 rounded-md text-sm bg-white","aria-label":"Filter by date"}),e.jsx("button",{type:"button",onClick:E,className:"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-300 transition","aria-label":"Clear filters",children:"Clear"})]})]})]}),o&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:o}),n?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin h-10 w-10 border-4 border-blue-500 border-t-transparent rounded-full"})}):e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 overflow-hidden mb-6",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"EMP No"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Shift start"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"IN Time"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Shift End"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"OUT Time"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Working Hours"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Morning OT"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Evening OT"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Total OT"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Special OT"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Morning OT Rate"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Night OT Rate"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Approve OT"})]})}),e.jsx("tbody",{className:"bg-white/50 backdrop-blur-sm divide-y divide-gray-100",children:L.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"15",className:"px-6 py-8 text-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx(or,{className:"h-8 w-8 text-gray-300"}),e.jsx("span",{className:"text-sm text-gray-500",children:"No matching records found"})]})})}):L.map(D=>e.jsxs("tr",{className:"transition-all duration-200 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-400",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:D.employee_no||D.employee_id||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:D.employee_name||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:D.date||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:D.shift_start||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:D.in_time||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-700",children:D.shift_end||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:D.out_time||"-"}),D.out_time&&(D.is_cross_day||D.actual_date&&D.date&&D.actual_date!==D.date)&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 text-xs font-semibold rounded-full bg-orange-100 text-orange-800",children:"Cross-day"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-700",children:_(D.working_hours)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-orange-600 font-medium",children:_(D.morning_ot)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-orange-600 font-medium",children:_(D.evening_ot??D.afternoon_ot)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-indigo-600",children:D.total_ot?_(D.total_ot):k(D)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-blue-600",children:D.special_ot||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-blue-600",children:D.ot_morning_rate||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-blue-600",children:D.ot_night_rate||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-sm font-medium ${D.status==="pending"?"bg-yellow-100 text-yellow-800":D.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:D.status?D.status.charAt(0).toUpperCase()+D.status.slice(1):"Pending"}),e.jsx("label",{className:"sr-only",htmlFor:`status-${D.id}`,children:"Change status"}),e.jsxs("select",{id:`status-${D.id}`,value:D.status||"pending",onChange:G=>F(D.id,G.target.value),className:"ml-1 px-2 py-1 border border-gray-200 rounded-md text-sm bg-white focus:outline-none","aria-label":"Change status",children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approve"}),e.jsx("option",{value:"rejected",children:"Reject"})]})]})})]},D.id))})]})}),r.length>0&&e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing"," ",e.jsx("span",{className:"font-medium",children:S+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min(V,r.length)})," ","of ",e.jsx("span",{className:"font-medium",children:r.length})," records"]}),e.jsx(nte,{currentPage:d,totalPages:I,onPageChange:B})]})})]})]})})})},ote=({show:t,companyForm:s,setCompanyForm:r,editingCompany:a,setShowAddModal:n,setCompanies:i,companies:o,refreshAll:l})=>{const[d,u]=An.useState(s),[h,f]=An.useState({}),p=!a;if(An.useEffect(()=>{t&&u(s),f({})},[t,s]),!t)return null;const g=y=>{if(y==null||String(y).trim()==="")return!0;const b=Number(y),_=new Date().getFullYear();return/^\d{4}$/.test(String(y))&&b>=1900&&b<=_},v=()=>{const y={};return(!d.name||!d.name.trim())&&(y.name="Company name is required."),(!d.location||!d.location.trim())&&(y.location="Location is required."),d.established&&!g(d.established)&&(y.established="Established year must be a valid 4-digit year, not in the future, and positive."),y};return e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:p?"Add Company":"Edit Company"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),e.jsx("input",{type:"text",value:d.name,onChange:y=>u({...d,name:y.target.value}),className:`w-full px-3 py-2 border ${h.name?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),h.name&&e.jsx("div",{className:"text-red-600 text-sm mt-1",children:h.name})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Location ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:d.location,onChange:y=>u({...d,location:y.target.value}),className:`w-full px-3 py-2 border ${h.location?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),h.location&&e.jsx("div",{className:"text-red-600 text-sm mt-1",children:h.location})]}),e.jsxs("div",{style:{display:"none"},children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employees"}),e.jsx("input",{type:"number",value:d.employees===null||d.employees===""?0:d.employees,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-100 cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Established"}),e.jsx("input",{type:"text",value:d.established,onChange:y=>{const b=y.target.value.replace(/\D/g,"").slice(0,4);u({...d,established:b})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g. 2005",maxLength:4,inputMode:"numeric",pattern:"\\d{4}"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:async()=>{var _;const y=v();if(Object.keys(y).length>0){f(y);return}f({});const b={...d,established:d.established?Number(d.established):null};try{a?(await jU(a.id,b),Me.fire({icon:"success",title:"Company updated successfully!",timer:1500,showConfirmButton:!1})):(await wU(b),Me.fire({icon:"success",title:"Company added successfully!",timer:1500,showConfirmButton:!1})),n(!1),await(l==null?void 0:l())}catch(k){const A=(_=k==null?void 0:k.response)==null?void 0:_.data;A!=null&&A.errors?f({...y,...A.errors}):A!=null&&A.message?Me.fire({icon:"error",title:"Error",text:A.message}):Me.fire({icon:"error",title:"Error",text:"An unexpected error occurred."})}},className:`px-4 py-2 ${p?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"} text-white rounded-lg transition-colors`,children:p?"Add Company":"Save Changes"})]})]})})},lte=()=>{const[t,s]=N.useState("companies"),[r,a]=N.useState(""),[n,i]=N.useState(""),[o,l]=N.useState(""),[d,u]=N.useState(!1),[h,f]=N.useState(!1),[p,g]=N.useState(new Set),[v,y]=N.useState("add"),[b,_]=N.useState(null),[k,A]=N.useState({name:"",location:"",employees:"",established:""}),[R,F]=N.useState({company_id:"",name:"",code:"",employees:""}),[V,S]=N.useState(!1),[L,I]=N.useState(null),[B,T]=N.useState([]),[w,E]=N.useState([]),[D,G]=N.useState([]),[K,X]=N.useState(!0),[se,Z]=N.useState(!1),[ee,ce]=N.useState(!1),[U,O]=N.useState(null),[z,q]=N.useState(1),[te,ge]=N.useState(1),[Q,ue]=N.useState(1),ie=7;N.useEffect(()=>{X(!0),Promise.all([Qd(),ix(),Kw()]).then(([Ge,St,bt])=>{T(Ge),E(St),G(bt),X(!1)})},[]);const oe=w.map(Ge=>({...Ge,subdepartments:D.filter(St=>St.department_id===Ge.id)}));B.map(Ge=>({...Ge,departments:oe.filter(St=>St.company_id===Ge.id)}));function J(Ge){const St=new Set(p);St.has(Ge)?St.delete(Ge):St.add(Ge),g(St)}const re=({icon:Ge,title:St,value:bt,color:qe})=>e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:St}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:bt})]}),e.jsx("div",{className:`p-3 rounded-lg ${qe}`,children:e.jsx(Ge,{className:"w-6 h-6 text-white"})})]})}),ve=({icon:Ge,onClick:St,variant:bt="primary"})=>{const qe={primary:"text-blue-600 hover:bg-blue-50",danger:"text-red-600 hover:bg-red-50"};return e.jsx("button",{onClick:St,className:`p-2 rounded-lg transition-colors ${qe[bt]}`,children:e.jsx(Ge,{className:"w-4 h-4"})})},pe=()=>t==="companies"?r:t==="departments"?n:t==="subdepartments"?o:"",ae=Ge=>{t==="companies"&&a(Ge),t==="departments"&&i(Ge),t==="subdepartments"&&l(Ge)},he=Ge=>String(Ge||"").toLowerCase().trim(),Te=(Ge,St)=>{const bt=he(Ge),qe=he(St);return qe?qe.length===1?bt.charAt(0)===qe:bt.includes(qe):!0},Ie=r?B.filter(Ge=>Te(Ge.name,r)):B,Be=n?oe.filter(Ge=>Te(Ge.name,n)):oe,Le=B.map(Ge=>({...Ge,departments:Be.filter(St=>St.company_id===Ge.id)})).filter(Ge=>Ge.departments.length>0),Ee=o?D.filter(Ge=>Te(Ge.name,o)):D,Ve=B.map(Ge=>{const St=w.filter(bt=>bt.company_id===Ge.id);return{...Ge,departments:St.map(bt=>({...bt,subdepartments:Ee.filter(qe=>qe.department_id===bt.id)})).filter(bt=>bt.subdepartments.length>0)}}).filter(Ge=>Ge.departments.length>0),mt=()=>{const Ge=Ie.slice((z-1)*ie,z*ie);return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employees"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Established"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Ge.map(St=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Kn,{className:"w-5 h-5 text-gray-400 mr-3"}),e.jsx("div",{children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:St.name})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:St.location}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:St.employees}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:St.established}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{icon:Gc,onClick:()=>{y("edit"),_(St),A({name:St.name||"",location:St.location||"",employees:St.employees||"",established:St.established||""}),u(!0)}}),e.jsx(ve,{icon:ns,onClick:async()=>{(await Me.fire({title:"Are you sure?",text:"This action cannot be undone!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed&&(await NU(St.id),Me.fire({icon:"success",title:"Deleted!",text:"Company has been deleted.",timer:1500,showConfirmButton:!1}),await st())},variant:"danger"})]})})]},St.id))})]})}),e.jsx(Bt,{currentPage:z,totalItems:Ie.length,onPageChange:q})]})},gt=()=>{const Ge=Le.flatMap(bt=>bt.departments.map(qe=>({...qe,companyName:bt.name,companyId:bt.id}))),St=Ge.slice((te-1)*ie,te*ie);return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employees"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subdepartments"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:St.map(bt=>e.jsxs(An.Fragment,{children:[e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>J(`${bt.companyId}-${bt.id}`),className:"mr-2 p-1 hover:bg-gray-200 rounded",children:p.has(`${bt.companyId}-${bt.id}`)?e.jsx(dn,{className:"w-4 h-4"}):e.jsx(Pn,{className:"w-4 h-4"})}),e.jsx(ta,{className:"w-5 h-5 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:bt.name}),e.jsx("div",{className:"text-sm text-gray-500",children:bt.code})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:bt.companyName}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:bt.employees}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:bt.subdepartments.length}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{icon:Gc,onClick:()=>{I(bt),S(!0)}}),e.jsx(ve,{icon:ns,onClick:async()=>{var Oe,jt;if((await Me.fire({title:"Are you sure?",text:"This action cannot be undone!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{await CU(bt.id),Me.fire({icon:"success",title:"Deleted!",text:"Department has been deleted.",timer:1500,showConfirmButton:!1}),await st()}catch(Et){Me.fire({icon:"error",title:"Error",text:((jt=(Oe=Et==null?void 0:Et.response)==null?void 0:Oe.data)==null?void 0:jt.message)||"Failed to delete department."})}},variant:"danger"})]})})]}),p.has(`${bt.companyId}-${bt.id}`)&&bt.subdepartments.map(qe=>e.jsxs("tr",{className:"bg-gray-25 border-l-4 border-blue-200",children:[e.jsx("td",{className:"px-6 py-3 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center pl-8",children:[e.jsx(cn,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsx("div",{className:"text-sm font-medium text-gray-700",children:qe.name})]})}),e.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-500",children:"-"}),e.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-500",children:qe.employees}),e.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-500",children:"-"}),e.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm font-medium",children:e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("span",{className:"text-sm text-gray-400",children:"-"})})})]},qe.id))]},`${bt.companyId}-${bt.id}`))})]})}),e.jsx(Bt,{currentPage:te,totalItems:Ge.length,onPageChange:ge})]})},Pe=()=>{const[Ge,St]=An.useState(R),[bt,qe]=An.useState("");if(An.useEffect(()=>{h&&(St(R),qe(""))},[h,R]),!h)return null;const Oe=()=>Ge.company_id?Ge.name.trim()?Ge.name.trim().length<2?"Department name must be at least 2 characters.":Ge.name.trim().length>50?"Department name must be less than 50 characters.":"":"Department name is required.":"Please select a company.";return e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add New Department"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),e.jsxs("select",{value:Ge.company_id,onChange:jt=>St({...Ge,company_id:jt.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Company"}),B.map(jt=>e.jsx("option",{value:jt.id,children:jt.name},jt.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department Name"}),e.jsx("input",{type:"text",value:Ge.name,onChange:jt=>St({...Ge,name:jt.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:50})]}),bt&&e.jsx("div",{className:"text-red-600 text-sm",children:bt})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:async()=>{var Et,qt;const jt=Oe();if(jt){qe(jt);return}qe("");try{const Gt=await SU({company_id:Ge.company_id,name:Ge.name});E([...w,Gt]),F({company_id:"",name:"",code:"",employees:""}),f(!1),Me.fire({icon:"success",title:"Department added successfully!",timer:1500,showConfirmButton:!1}),await st()}catch(Gt){Me.fire({icon:"error",title:"Error",text:((qt=(Et=Gt==null?void 0:Gt.response)==null?void 0:Et.data)==null?void 0:qt.message)||"Failed to add department."})}},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Add Department"})]})]})})},Ae=()=>{const[Ge,St]=An.useState(L);return An.useEffect(()=>{V&&L&&St(L)},[V,L]),!V||!Ge?null:e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Edit Department"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),e.jsxs("select",{value:Ge.company_id,onChange:bt=>St({...Ge,company_id:bt.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Company"}),B.map(bt=>e.jsx("option",{value:bt.id,children:bt.name},bt.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department Name"}),e.jsx("input",{type:"text",value:Ge.name,onChange:bt=>St({...Ge,name:bt.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:async()=>{var bt,qe;try{const Oe=await _U(Ge.id,{company_id:Ge.company_id,name:Ge.name});E(w.map(jt=>jt.id===Ge.id?Oe:jt)),S(!1),Me.fire({icon:"success",title:"Department updated successfully!",timer:1500,showConfirmButton:!1}),await st()}catch(Oe){Me.fire({icon:"error",title:"Error",text:((qe=(bt=Oe==null?void 0:Oe.response)==null?void 0:bt.data)==null?void 0:qe.message)||"Failed to update department."})}},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Save Changes"})]})]})})},We=({show:Ge,companies:St,departments:bt,onClose:qe,onCreate:Oe})=>{const[jt,Et]=An.useState({company_id:"",department_id:"",name:""}),[qt,Gt]=An.useState("");An.useEffect(()=>{Ge||(Et({company_id:"",department_id:"",name:""}),Gt(""))},[Ge]);const Yt=jt.company_id?bt.filter(Xt=>String(Xt.company_id)===String(jt.company_id)):[];return Ge?e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 backdrop-blur-sm bg-opacity-30",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add Sub Department"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),e.jsxs("select",{value:jt.company_id,onChange:Xt=>Et({...jt,company_id:Xt.target.value,department_id:""}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{value:"",children:"Select Company"}),St.map(Xt=>e.jsx("option",{value:Xt.id,children:Xt.name},Xt.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),e.jsxs("select",{value:jt.department_id,onChange:Xt=>Et({...jt,department_id:Xt.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",disabled:!jt.company_id,children:[e.jsx("option",{value:"",children:"Select Department"}),Yt.map(Xt=>e.jsx("option",{value:Xt.id,children:Xt.name},Xt.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sub Department Name"}),e.jsx("input",{type:"text",value:jt.name,onChange:Xt=>Et({...jt,name:Xt.target.value.replace(/[^a-zA-Z0-9\s]/g,"")}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Enter sub department name"})]}),qt&&e.jsx("div",{className:"text-red-600 text-sm",children:qt})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:qe,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg",children:"Cancel"}),e.jsx("button",{onClick:async()=>{if(!jt.company_id||!jt.department_id||!jt.name.trim()){Gt("All fields are required.");return}Gt(""),await Oe(jt),await st()},className:"px-4 py-2 bg-purple-600 text-white rounded-lg",children:"Add Sub Department"})]})]})}):null},Xe=({show:Ge,companies:St,departments:bt,subDept:qe,onClose:Oe,onUpdate:jt})=>{const[Et,qt]=An.useState(qe||{company_id:"",department_id:"",name:""}),[Gt,Yt]=An.useState("");An.useEffect(()=>{Ge&&qe&&qt(qe),Ge||Yt("")},[Ge,qe]);const Xt=Et.company_id?bt.filter(is=>String(is.company_id)===String(Et.company_id)):[];return Ge?e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Edit Sub Department"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),e.jsxs("select",{value:Et.company_id,onChange:is=>qt({...Et,company_id:is.target.value,department_id:""}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Company"}),St.map(is=>e.jsx("option",{value:is.id,children:is.name},is.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),e.jsxs("select",{value:Et.department_id,onChange:is=>qt({...Et,department_id:is.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:!Et.company_id,children:[e.jsx("option",{value:"",children:"Select Department"}),Xt.map(is=>e.jsx("option",{value:is.id,children:is.name},is.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sub Department Name"}),e.jsx("input",{type:"text",value:Et.name,onChange:is=>qt({...Et,name:is.target.value.replace(/[^a-zA-Z0-9\s]/g,"")}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter sub department name"})]}),Gt&&e.jsx("div",{className:"text-red-600 text-sm",children:Gt})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:Oe,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:async()=>{if(!Et.company_id||!Et.department_id||!Et.name.trim()){Yt("All fields are required.");return}Yt(""),await jt(Et),await st()},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Save Changes"})]})]})}):null},st=async()=>{const[Ge,St,bt]=await Promise.all([Qd(),ix(),Kw()]);T(Ge),E(St),G(bt)},ke=async Ge=>{var St,bt;try{if(D.some(jt=>String(jt.department_id)===String(Ge.department_id)&&jt.name.trim().toLowerCase()===Ge.name.trim().toLowerCase())){Me.fire({icon:"error",title:"Duplicate Sub Department",text:"A sub department with this name already exists in the selected department."});return}const Oe={department_id:Ge.department_id,name:Ge.name};await kU(Oe),await st(),Z(!1),Me.fire({icon:"success",title:"Sub Department added successfully!",timer:1500,showConfirmButton:!1})}catch(qe){Me.fire({icon:"error",title:"Error",text:((bt=(St=qe==null?void 0:qe.response)==null?void 0:St.data)==null?void 0:bt.message)||"Failed to add sub department."})}},ct=async Ge=>{var St,bt;try{const qe={department_id:Ge.department_id,name:Ge.name};await AU(Ge.id,qe),await st(),ce(!1),Me.fire({icon:"success",title:"Sub Department updated successfully!",timer:1500,showConfirmButton:!1})}catch(qe){Me.fire({icon:"error",title:"Error",text:((bt=(St=qe==null?void 0:qe.response)==null?void 0:St.data)==null?void 0:bt.message)||"Failed to update sub department."})}},nt=()=>{const Ge=Ve.flatMap(bt=>bt.departments.flatMap(qe=>qe.subdepartments.map(Oe=>({...Oe,departmentName:qe.name,departmentCode:qe.code,companyName:bt.name})))),St=Ge.slice((Q-1)*ie,Q*ie);return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subdepartment"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"NO Of Employees"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:St.map(bt=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(cn,{className:"w-5 h-5 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:bt.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["SD",bt.id.toString().padStart(3,"0")]})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:bt.departmentName}),e.jsx("div",{className:"text-sm text-gray-500",children:bt.departmentCode})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:bt.companyName}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:" px-8 py-1 text-sm text-gray-900",children:bt.employees})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${bt.employees>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:bt.employees>0?"Active":"Inactive"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{icon:Gc,onClick:()=>{const qe=w.find(Oe=>Oe.id===bt.department_id);qe?(O({...bt,company_id:qe.company_id,department_id:bt.department_id}),ce(!0)):Me.fire({icon:"error",title:"Error",text:"Could not find parent department information."})}}),e.jsx(ve,{icon:ns,onClick:async()=>{var Oe,jt;if((await Me.fire({title:"Are you sure?",text:"This action cannot be undone!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{await EU(bt.id),Me.fire({icon:"success",title:"Deleted!",text:"Sub Department has been deleted.",timer:1500,showConfirmButton:!1}),await st()}catch(Et){Me.fire({icon:"error",title:"Error",text:((jt=(Oe=Et==null?void 0:Et.response)==null?void 0:Oe.data)==null?void 0:jt.message)||"Failed to delete sub department."})}},variant:"danger"})]})})]},bt.id))})]})}),e.jsx(Bt,{currentPage:Q,totalItems:Ge.length,onPageChange:ue})]})},Bt=({currentPage:Ge,totalItems:St,onPageChange:bt})=>{const qe=Math.ceil(St/ie);return qe<=1?null:e.jsx("div",{className:"flex items-center justify-between px-4 py-3 bg-white border-t border-gray-200 sm:px-6",children:e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:(Ge-1)*ie+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min(Ge*ie,St)})," ","of ",e.jsx("span",{className:"font-medium",children:St})," results"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>bt(Ge-1),disabled:Ge===1,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${Ge===1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"sr-only",children:"Previous"}),e.jsx(gl,{className:"h-5 w-5"})]}),Array.from({length:qe},(Oe,jt)=>jt+1).map(Oe=>e.jsx("button",{onClick:()=>bt(Oe),className:`relative inline-flex items-center px-4 py-2 border ${Oe===Ge?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"} text-sm font-medium`,children:Oe},Oe)),e.jsxs("button",{onClick:()=>bt(Ge+1),disabled:Ge===qe,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${Ge===qe?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"sr-only",children:"Next"}),e.jsx(Pn,{className:"h-5 w-5"})]})]})})]})})};return N.useEffect(()=>{q(1),ge(1),ue(1)},[t]),N.useEffect(()=>{q(1)},[r]),N.useEffect(()=>{ge(1)},[n]),N.useEffect(()=>{ue(1)},[o]),e.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[K&&e.jsx("div",{className:"flex items-center justify-center min-h-[300px]",children:e.jsxs("svg",{className:"animate-spin h-10 w-10 text-blue-600",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}),!K&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Department Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage your organization's structure including companies, departments, and subdepartments."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(re,{icon:Kn,title:"Total Companies",value:B.length,color:"bg-blue-500"}),e.jsx(re,{icon:ta,title:"Total Departments",value:w.length,color:"bg-green-500"}),e.jsx(re,{icon:cn,title:"Subdepartments",value:D.length,color:"bg-purple-500"}),e.jsx(re,{icon:ys,title:"Total Employees",value:B.reduce((Ge,St)=>Ge+(parseInt(St.employees)||0),0),color:"bg-orange-500"})]}),e.jsx("div",{className:"flex space-x-1 mb-6",children:[{key:"companies",label:"Companies",icon:Kn},{key:"departments",label:"Departments",icon:ta},{key:"subdepartments",label:"Subdepartments",icon:cn}].map(Ge=>e.jsxs("button",{onClick:()=>s(Ge.key),className:`flex items-center px-4 py-2 rounded-lg font-medium transition-colors ${t===Ge.key?"bg-blue-600 text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-white"}`,children:[e.jsx(Ge.icon,{className:"w-4 h-4 mr-2"}),Ge.label]},Ge.key))}),e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:e.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:`Search ${t}...`,value:pe(),onChange:Ge=>ae(Ge.target.value),className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),pe()&&e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-700",onClick:()=>ae(""),"aria-label":"Clear search",children:""})]}),t==="companies"&&e.jsxs("button",{onClick:()=>{y("add"),A({name:"",location:"",employees:"",established:""}),u(!0)},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[e.jsx(bs,{className:"w-4 h-4 mr-2"}),"Add New Company"]}),t==="departments"&&e.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors shadow-sm",children:[e.jsx(bs,{className:"w-4 h-4 mr-2"}),"Add Department"]}),t==="subdepartments"&&e.jsxs("button",{onClick:()=>Z(!0),className:"inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors shadow-sm",children:[e.jsx(bs,{className:"w-4 h-4 mr-2"}),"Add New Sub Department"]})]})}),t==="companies"&&e.jsx(mt,{}),t==="departments"&&e.jsx(gt,{}),t==="subdepartments"&&e.jsx(nt,{}),e.jsx(ote,{show:d,companyForm:k,setCompanyForm:A,editingCompany:b,setShowAddModal:u,setCompanies:T,companies:B,refreshAll:st}),e.jsx(Pe,{}),e.jsx(Ae,{}),e.jsx(We,{show:se,companies:B,departments:w,onClose:()=>Z(!1),onCreate:ke}),e.jsx(Xe,{show:ee,companies:B,departments:w,subDept:U,onClose:()=>{ce(!1),O(null)},onUpdate:ct})]})]})},cte=async()=>{try{return(await Ze.get("/rosters")).data}catch(t){throw console.error("Error fetching rosters:",t),t}},dte=async t=>{var s,r;try{return(await Ze.post("/rosters",t)).data.data}catch(a){throw console.error("Error creating roster:",a),((r=(s=a.response)==null?void 0:s.data)==null?void 0:r.errors)||a.message}},ute=async(t,s)=>{var r,a;try{return(await Ze.put(`/rosters/${t}`,s)).data.data}catch(n){throw console.error("Error updating roster:",n),((a=(r=n.response)==null?void 0:r.data)==null?void 0:a.errors)||n.message}},mte=async t=>{try{await Ze.delete(`/rosters/${t}`)}catch(s){throw console.error("Error deleting roster:",s),s}},hte=async t=>{try{return(await Ze.get("/roster/search",{params:t})).data.data||[]}catch(s){throw console.error("Error searching rosters:",s),s}},Vy={getAllRosters:cte,createRoster:dte,updateRoster:ute,searchRosters:hte,deleteRoster:mte},xte=()=>{const[t,s]=N.useState(null),[r,a]=N.useState(""),[n,i]=N.useState(""),[o,l]=N.useState(""),[d,u]=N.useState(""),[h,f]=N.useState(!1),[p,g]=N.useState(null),[v,y]=N.useState(""),[b,_]=N.useState(""),[k,A]=N.useState(""),[R,F]=N.useState("designation"),[V,S]=N.useState([]),[L,I]=N.useState(new Set),[B,T]=N.useState(!1),[w,E]=N.useState(!1),[D,G]=N.useState(!1),[K,X]=N.useState([]),[se,Z]=N.useState(!1),[ee,ce]=N.useState([]),[U,O]=N.useState(!1),[z,q]=N.useState(null),[te,ge]=N.useState([]),[Q,ue]=N.useState(!1),[ie,oe]=N.useState(null),[J,re]=N.useState([]),[ve,pe]=N.useState(!1),[ae,he]=N.useState(null),[Te,Ie]=N.useState([]),[Be,Le]=N.useState(!1),[Ee,Ve]=N.useState(null),[mt,gt]=N.useState([]),[Pe,Ae]=N.useState(!1),[We,Xe]=N.useState(null),[st,ke]=N.useState(new Set),[ct,nt]=N.useState(!1),[Bt,Ge]=N.useState(""),[St,bt]=N.useState(1),qe=10,[Oe,jt]=N.useState({date_from:"",date_to:"",company_id:"",department_id:"",sub_department_id:"",employee_id:""}),[Et,qt]=N.useState([]),[Gt,Yt]=N.useState(!1),[Xt,is]=N.useState(!1),[ws,Us]=N.useState(""),[Zt,Wt]=N.useState(!1);N.useEffect(()=>{const Ue=new Date,vt=Ue.toISOString().split("T")[0],Ut=new Date(Ue.setDate(Ue.getDate()+30)).toISOString().split("T")[0];a(vt),i(Ut),l(vt)},[]),N.useEffect(()=>{(async()=>{await Es(),await dt()})()},[]);const Es=async()=>{try{O(!0);const Ue=await Qd();ce(Ue)}catch(Ue){console.error("Failed to fetch companies:",Ue),q("Failed to load companies")}finally{O(!1)}},Bs=async()=>{try{ue(!0);const Ue=await ix();ge(Ue)}catch(Ue){console.error("Failed to fetch departments:",Ue),oe("Failed to load departments")}finally{ue(!1)}},sr=async()=>{try{pe(!0);const Ue=await Kw();re(Ue)}catch(Ue){console.error("Failed to fetch sub-departments:",Ue),he("Failed to load sub-departments")}finally{pe(!1)}},Ms=async()=>{try{if(Le(!0),Zt){const Ue=await PU(v);Ie(Ue.map(vt=>{var Ut,os;return{id:vt.id,name:vt.full_name||`${vt.first_name} ${vt.last_name}`,empCode:vt.employee_code,department_id:(Ut=vt.department_id)==null?void 0:Ut.toString(),sub_department_id:(os=vt.sub_department_id)==null?void 0:os.toString()}}))}else if(k){const Ue=await TU(k);Ie(Ue.map(vt=>({id:vt.id,name:vt.full_name})))}else{const Ue={};v&&(Ue.company_id=v),b&&(Ue.department_id=b);const vt=await Vy.getEmployeesForRoster(Ue);Ie(vt.map(Ut=>{var os,zs;return{id:Ut.id,empCode:Ut.employee_code,name:`${Ut.first_name} ${Ut.last_name}`,department_id:(os=Ut.department_id)==null?void 0:os.toString(),sub_department_id:(zs=Ut.sub_department_id)==null?void 0:zs.toString()}}))}}catch(Ue){console.error("Failed to fetch employees:",Ue),Ve("Failed to load employees")}finally{Le(!1)}},dt=async()=>{try{Ae(!0);const Ue=await Hf.getAllShifts();gt(Ue.map(vt=>({id:vt.id,scode:vt.shift_code,shiftName:vt.shift_name||vt.shift_description,shiftStart:vt.start_time.substring(0,5),shiftEnd:vt.end_time.substring(0,5)})))}catch(Ue){console.error("Failed to fetch shifts:",Ue),Xe("Failed to load shifts")}finally{Ae(!1)}};N.useEffect(()=>{v?Bs():_("")},[v]),N.useEffect(()=>{b?sr():A("")},[b]),N.useEffect(()=>{v?Ms():Ie([])},[v,b,k,Zt]);const le=N.useMemo(()=>te.filter(Ue=>{var vt;return v?((vt=Ue.company_id)==null?void 0:vt.toString())===v:!0}),[v,te]),Se=N.useMemo(()=>J.filter(Ue=>{var vt;return b?((vt=Ue.department_id)==null?void 0:vt.toString())===b:!0}),[b,J]),me=N.useMemo(()=>{let Ue=Te;return d&&(Ue=Ue.filter(vt=>{const Ut=vt.name&&vt.name.toLowerCase().includes(d.toLowerCase()),os=vt.empCode&&vt.empCode.toLowerCase().includes(d.toLowerCase());return Ut||os})),Ue},[Te,d]),_e=N.useMemo(()=>{const Ue=mt.filter(os=>os.scode.toLowerCase().includes(Bt.toLowerCase())||os.shiftName.toLowerCase().includes(Bt.toLowerCase())),vt=(St-1)*qe,Ut=vt+qe;return{shifts:Ue.slice(vt,Ut),totalShifts:Ue.length,totalPages:Math.ceil(Ue.length/qe)}},[mt,Bt,St]),De=Ue=>{var vt;return((vt=ee.find(Ut=>Ut.id.toString()===Ue))==null?void 0:vt.name)||""},Ne=Ue=>{var vt;return((vt=te.find(Ut=>Ut.id.toString()===Ue))==null?void 0:vt.name)||""},Je=Ue=>{var vt;return((vt=J.find(Ut=>Ut.id.toString()===Ue))==null?void 0:vt.name)||""},$e=(Ue,vt,Ut,os)=>{const zs=xr=>{const[Nn,Fn]=xr.split(":").map(Number);return Nn*60+Fn},Ls=zs(Ue),Nr=zs(vt),Pr=zs(Ut),lr=zs(os);return Ls<lr&&Nr>Pr},Ke=Ue=>{ke(vt=>{const Ut=new Set(vt);if(Ut.has(Ue.id))Ut.delete(Ue.id);else{if(Array.from(Ut).some(zs=>{const Ls=mt.find(Nr=>Nr.id===zs);return $e(Ls.shiftStart,Ls.shiftEnd,Ue.shiftStart,Ue.shiftEnd)}))return Me.fire({icon:"warning",title:"Cannot Select Shift",text:"Cannot select shifts with overlapping time frames",confirmButtonColor:"#3085d6"}),Ut;Ut.add(Ue.id)}return Ut})},ot=()=>{if(st.size===0)return;if(!v){Me.fire({icon:"warning",title:"Missing Information",text:"Please select a company",confirmButtonColor:"#3085d6"});return}if(!Zt&&(!b||!k)){Me.fire({icon:"warning",title:"Missing Information",text:"Please select department and sub-department",confirmButtonColor:"#3085d6"});return}let Ue=[];if(R==="designation"?Ue=me.map(os=>os.id):R==="employee"&&(Ue=Array.from(L)),Ue.length===0){Me.fire({icon:"warning",title:"No Employees Selected",text:"Please select at least one employee",confirmButtonColor:"#3085d6"});return}const Ut=mt.filter(os=>st.has(os.id)).map(os=>({company:v,department:Zt?"0":b,subDepartment:Zt?"0":k,employees:Ue,shift:os,dateFrom:r,dateTo:n}));S(os=>[...os,...Ut]),ke(new Set),I(new Set)},Fe=Ue=>{S(vt=>vt.filter((Ut,os)=>os!==Ue))},Ye=Ue=>{R==="employee"&&I(vt=>{const Ut=new Set(vt);return Ut.has(Ue)?Ut.delete(Ue):Ut.add(Ue),Ut})},lt=async()=>{var Ue,vt,Ut;if(V.length===0){Me.fire({icon:"error",title:"No Pending Assignments",text:"Please add at least one shift assignment before processing the roster.",confirmButtonColor:"#3085d6"});return}try{nt(!0);const os=[],zs=Date.now();for(const Ls of V)Ls.employees.forEach(Nr=>{os.push({roster_id:zs,shift_code:Ls.shift.id,company_id:parseInt(Ls.company),department_id:Ls.department==="0"?null:parseInt(Ls.department),sub_department_id:Ls.subDepartment==="0"?null:parseInt(Ls.subDepartment),employee_id:parseInt(Nr),is_recurring:!1,recurrence_pattern:"none",notes:`Shift assignment: ${Ls.shift.shiftName}`,date_from:Ls.dateFrom,date_to:Ls.dateTo})});console.log("Sending roster entries:",os);try{const Ls=await Vy.createRoster(os);Me.fire({icon:"success",title:"Success!",text:"Roster assignments saved successfully",timer:2e3,showConfirmButton:!1,position:"top-end",toast:!0}),S([]),y(""),_(""),A(""),ke(new Set),I(new Set)}catch(Ls){console.error("Error response:",(Ue=Ls.response)==null?void 0:Ue.data);const Nr=((Ut=(vt=Ls.response)==null?void 0:vt.data)==null?void 0:Ut.message)||Ls.message||"Failed to save roster";Me.fire({icon:"error",title:"Error!",text:Nr,confirmButtonColor:"#3085d6"})}}catch(os){console.error("Error saving roster:",os),Me.fire({icon:"error",title:"Error!",text:os.message||"Failed to save roster",confirmButtonColor:"#3085d6"})}finally{nt(!1)}},Mt=()=>{if(V.length===0){Me.fire({icon:"info",title:"No Assignments",text:"No roster assignments to view",confirmButtonColor:"#3085d6"});return}E(!0)},Dt=async()=>{G(!0),Z(!0);try{const Ue=await Vy.getAllRosters();console.log("Roster API response:",Ue),X(Ht(Array.isArray(Ue)?Ue:[]))}catch{Me.fire({icon:"error",title:"Error",text:"Failed to load rosters",confirmButtonColor:"#3085d6"}),X([])}finally{Z(!1)}},Ht=Ue=>Array.isArray(Ue)?Ue.map(vt=>{var lr;const Ut=vt.roster_details||vt.roster||{},os=vt.organization_details||{},zs=vt.employee_details||{},Ls=os.company||vt.company||{},Nr=os.department||vt.department||{},Pr=os.sub_department||os.subDepartment||vt.sub_department||{};return{id:Ut.id??vt.id,roster_id:Ut.roster_id??vt.roster_id??Ut.id??vt.id,shift_code:Ut.shift_code??vt.shift_code??((lr=Ut.shift)==null?void 0:lr.shift_code)??"",company_id:Ls.id??vt.company_id??null,company_name:Ls.name??vt.company_name??"",department_id:Nr.id??vt.department_id??null,department_name:Nr.name??vt.department_name??"",sub_department_id:Pr.id??vt.sub_department_id??null,sub_department_name:Pr.name??vt.sub_department_name??"",employee_id:zs.id??vt.employee_id??null,employee_name:zs.full_name??zs.name??vt.employee_name??"",date_from:Ut.date_from??vt.date_from??"",date_to:Ut.date_to??vt.date_to??""}}):[],rs=async Ue=>{Ue.preventDefault(),Yt(!0),is(!0),Us("");try{const vt={};Object.keys(Oe).forEach(zs=>{Oe[zs]&&(vt[zs]=Oe[zs])});const Ut=await Vy.searchRosters(vt),os=Ht(Array.isArray(Ut)?Ut:[]);os.length===0?(qt([]),Us("No roster data matched your search.")):(qt(os),Us(""))}catch{qt([]),Us("Search failed. Please try again."),Me.fire({icon:"error",title:"Error",text:"Failed to search rosters",confirmButtonColor:"#3085d6"})}finally{Yt(!1)}},fs=()=>{jt({date_from:"",date_to:"",company_id:"",department_id:"",sub_department_id:"",employee_id:""}),qt([]),is(!1),Us("")};return e.jsxs("div",{className:" bg-gray-100 flex flex-col",children:[e.jsxs("div",{className:"bg-blue-600 text-white px-4 py-3 flex items-center justify-between shadow-md",children:[e.jsx("h1",{className:"text-xl font-bold",children:"Roster Management System"}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx("button",{className:"bg-white text-blue-700 px-4 py-2 rounded shadow hover:bg-blue-100 font-semibold",onClick:Dt,children:"View All Rosters"})})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsxs("div",{className:"w-80 bg-white border-r border-gray-300 flex flex-col shadow-sm",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"bg-gradient-to-r from-orange-100 to-orange-50 border border-orange-300 rounded-lg p-4 mb-4 shadow-sm",children:[e.jsxs("h3",{className:"font-semibold text-sm mb-3 text-orange-800 flex items-center",children:[e.jsx(ys,{className:"w-4 h-4 mr-2"}),"Roster Date"]}),e.jsx("input",{type:"date",value:o,className:"w-full px-3 py-2 border border-orange-300 rounded-md text-sm bg-gray-50 cursor-not-allowed",readOnly:!0})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Date From"}),e.jsx("input",{type:"date",value:r,onChange:Ue=>a(Ue.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Date To"}),e.jsx("input",{type:"date",value:n,onChange:Ue=>i(Ue.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h3",{className:"font-semibold text-sm mb-3 text-gray-800",children:"Select Company / Department / Sub Department"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Company"}),U?e.jsxs("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm bg-gray-50 flex items-center justify-center",children:[e.jsx("div",{className:"h-4 w-4 mr-2 rounded-full border-2 border-t-blue-500 animate-spin"}),"Loading..."]}):z?e.jsx("div",{className:"w-full px-3 py-2 border border-red-300 bg-red-50 rounded-md text-sm text-red-600",children:"Error loading companies"}):e.jsxs("select",{value:v,onChange:Ue=>{y(Ue.target.value),_(""),A(""),ke(new Set)},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Company"}),ee.map(Ue=>e.jsx("option",{value:Ue.id,children:Ue.name},Ue.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:["Department",!Zt&&e.jsx("span",{className:"text-red-500",children:"*"})]}),Q?e.jsxs("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm bg-gray-50 flex items-center justify-center",children:[e.jsx("div",{className:"h-4 w-4 mr-2 rounded-full border-2 border-t-blue-500 animate-spin"}),"Loading..."]}):ie?e.jsx("div",{className:"w-full px-3 py-2 border border-red-300 bg-red-50 rounded-md text-sm text-red-600",children:"Error loading departments"}):e.jsxs("select",{value:b,onChange:Ue=>{_(Ue.target.value),A("")},disabled:!v||Zt,className:`w-full px-3 py-2 border border-gray-300 rounded-md text-sm 
                      focus:ring-2 focus:ring-blue-500 focus:border-transparent 
                      ${Zt?"bg-gray-100 text-gray-500 cursor-not-allowed":""}`,children:[e.jsx("option",{value:"",children:Zt?"Not required in company mode":"Select Department"}),le.map(Ue=>e.jsx("option",{value:Ue.id,children:Ue.name},Ue.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:["Sub Department",!Zt&&e.jsx("span",{className:"text-red-500",children:"*"})]}),ve?e.jsxs("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm bg-gray-50 flex items-center justify-center",children:[e.jsx("div",{className:"h-4 w-4 mr-2 rounded-full border-2 border-t-blue-500 animate-spin"}),"Loading..."]}):ae?e.jsx("div",{className:"w-full px-3 py-2 border border-red-300 bg-red-50 rounded-md text-sm text-red-600",children:"Error loading sub-departments"}):e.jsxs("select",{value:k,onChange:Ue=>A(Ue.target.value),disabled:!b||Zt,className:`w-full px-3 py-2 border border-gray-300 rounded-md text-sm 
                      focus:ring-2 focus:ring-blue-500 focus:border-transparent
                      ${Zt?"bg-gray-100 text-gray-500 cursor-not-allowed":""}`,children:[e.jsx("option",{value:"",children:Zt?"Not required in company mode":"Select Sub Department"}),Se.map(Ue=>e.jsx("option",{value:Ue.id,children:Ue.name},Ue.id))]})]})]})]}),e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",name:"wise",id:"employee",checked:R==="employee",onChange:()=>F("employee"),className:"w-3 h-3 text-blue-600"}),e.jsx("label",{htmlFor:"employee",className:"text-xs font-medium text-gray-700",children:"Employee Wise"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",name:"wise",id:"designation",checked:R==="designation",onChange:()=>F("designation"),className:"w-3 h-3 text-blue-600"}),e.jsx("label",{htmlFor:"designation",className:"text-xs font-medium text-gray-700",children:"Designation Wise"})]})]}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"companyWise",checked:Zt,onChange:()=>{Zt||(_(""),A("")),Wt(!Zt)},className:"w-4 h-4 text-blue-600 rounded"}),e.jsx("label",{htmlFor:"companyWise",className:"text-sm font-medium text-gray-700",children:"Company Wise"}),Zt&&v&&e.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:[Te.length," employees"]})]}),Zt&&e.jsx("div",{className:"mt-1 text-xs bg-blue-50 p-2 rounded-md border border-blue-100",children:e.jsxs("p",{className:"text-blue-700",children:[e.jsx("span",{className:"font-semibold",children:"Company-wise mode:"})," ","Department and Sub-Department selection not required"]})})]})]})]}),e.jsxs("div",{className:"w-[400px] min-w-[400px] max-w-[400px] p-4 border-b border-gray-200 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 p-4 border-b border-gray-200 bg-gray-50 sticky top-0 z-10",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Selected: "}),e.jsxs("span",{className:"font-semibold text-blue-700",children:[v&&De(v),!Zt&&b&&` > ${Ne(b)}`,!Zt&&k&&` > ${Je(k)}`]}),Zt&&v&&e.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Company-wise"})]}),(b&&k||Zt&&v)&&me.length>0&&e.jsxs("button",{className:"flex items-center text-blue-600 hover:underline text-xs",onClick:()=>T(!0),children:[e.jsx(Or,{className:"w-4 h-4 mr-1"})," View All (",me.length,")"]})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-sm mb-3 text-gray-800",children:Zt&&v?"Employees":v&&!b?"Departments":v&&b&&!k?"Sub Departments":"Employees"}),e.jsxs("div",{className:"h-[calc(100vh-280px)] overflow-y-auto",children:[Zt&&v&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-3 relative sticky top-0 z-10 bg-white pb-2",children:[e.jsx(or,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search employees...",className:"pl-10 pr-4 py-2 w-full border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:d,onChange:Ue=>u(Ue.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[Be?e.jsxs("div",{className:"flex items-center justify-center p-4",children:[e.jsx("div",{className:"h-6 w-6 mr-2 rounded-full border-2 border-t-blue-500 animate-spin"}),e.jsx("span",{children:"Loading employees..."})]}):me.slice(0,15).map(Ue=>e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all duration-200 ${L.has(Ue.id.toString())?"bg-gradient-to-r from-blue-100 to-blue-50 border-2 border-blue-300 shadow-md":"hover:bg-gray-50 border border-gray-200"}`,onClick:()=>R==="employee"&&Ye(Ue.id.toString()),children:[e.jsxs("div",{className:"truncate pr-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 block truncate",children:Ue.name}),Ue.empCode&&e.jsxs("span",{className:"text-xs text-gray-500 block truncate",children:["ID: ",Ue.empCode]})]}),R==="employee"&&e.jsx("input",{type:"checkbox",checked:L.has(Ue.id.toString()),readOnly:!0,className:"w-4 h-4 flex-shrink-0 text-blue-600 border-gray-300 rounded",tabIndex:-1})]},Ue.id)),me.length>15&&e.jsx("div",{className:"mt-2 text-center sticky bottom-0 pt-2 bg-white",children:e.jsxs("button",{className:"text-blue-600 text-sm hover:underline",onClick:()=>T(!0),children:["View all ",me.length," employees"]})}),me.length===0&&!Be&&e.jsx("div",{className:"p-4 text-center text-gray-500",children:"No employees found"})]})]}),!Zt&&v&&!b&&e.jsx("div",{className:"space-y-2",children:Q?e.jsxs("div",{className:"flex items-center justify-center p-4",children:[e.jsx("div",{className:"h-6 w-6 mr-2 rounded-full border-2 border-t-blue-500 animate-spin"}),e.jsx("span",{children:"Loading departments..."})]}):ie?e.jsx("div",{className:"p-4 text-center text-red-600",children:ie}):le.length===0?e.jsx("div",{className:"p-4 text-center text-gray-500",children:"No departments found for this company"}):le.map(Ue=>e.jsx("div",{className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all duration-200 ${b===Ue.id.toString()?"bg-gradient-to-r from-blue-100 to-blue-50 border-2 border-blue-300 shadow-md":"hover:bg-gray-50 border border-gray-200"}`,onClick:()=>_(Ue.id.toString()),children:e.jsx("span",{className:"text-sm font-medium text-gray-700",children:Ue.name})},Ue.id))}),!Zt&&b&&!k&&e.jsx("div",{className:"space-y-2",children:ve?e.jsxs("div",{className:"flex items-center justify-center p-4",children:[e.jsx("div",{className:"h-6 w-6 mr-2 rounded-full border-2 border-t-blue-500 animate-spin"}),e.jsx("span",{children:"Loading sub-departments..."})]}):ae?e.jsx("div",{className:"p-4 text-center text-red-600",children:ae}):Se.length===0?e.jsx("div",{className:"p-4 text-center text-gray-500",children:"No sub-departments found for this department"}):Se.map(Ue=>e.jsx("div",{className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all duration-200 ${k===Ue.id.toString()?"bg-gradient-to-r from-blue-100 to-blue-50 border-2 border-blue-300 shadow-md":"hover:bg-gray-50 border border-gray-200"}`,onClick:()=>A(Ue.id.toString()),children:e.jsx("span",{className:"text-sm font-medium text-gray-700",children:Ue.name})},Ue.id))}),!Zt&&b&&k&&e.jsx("div",{children:e.jsx("div",{className:"space-y-2",children:me.slice(0,3).map(Ue=>e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all duration-200 ${L.has(Ue.id.toString())?"bg-gradient-to-r from-blue-100 to-blue-50 border-2 border-blue-300 shadow-md":"hover:bg-gray-50 border border-gray-200"}`,onClick:()=>R==="employee"&&Ye(Ue.id.toString()),children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:Ue.name}),R==="employee"&&e.jsx("input",{type:"checkbox",checked:L.has(Ue.id.toString()),readOnly:!0,className:"w-4 h-4 text-blue-600 border-gray-300 rounded",tabIndex:-1})]},Ue.id))})})]})]})]}),B&&e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-opacity-40 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full p-6 relative",children:[e.jsx("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-700",onClick:()=>T(!1),children:e.jsx(zt,{className:"w-6 h-6"})}),e.jsx("h2",{className:"text-lg font-bold mb-4",children:"All Employees"}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(or,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search employees...",className:"pl-10 pr-4 py-2 w-full border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:d,onChange:Ue=>u(Ue.target.value)})]})}),e.jsx("div",{className:"overflow-x-auto max-h-[60vh]",children:e.jsxs("table",{className:"min-w-full text-sm border",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"px-3 py-2 border",children:"ID"}),e.jsx("th",{className:"px-3 py-2 border",children:"Full Name"}),e.jsx("th",{className:"px-3 py-2 border",children:"Select"})]})}),e.jsx("tbody",{children:me.map((Ue,vt)=>e.jsxs("tr",{className:vt%2===0?"bg-white":"bg-gray-50",children:[e.jsx("td",{className:"px-3 py-2 border",children:Ue.id}),e.jsx("td",{className:"px-3 py-2 border",children:Ue.name}),e.jsx("td",{className:"px-3 py-2 border text-center",children:e.jsx("input",{type:"checkbox",checked:L.has(Ue.id.toString()),onChange:()=>Ye(Ue.id.toString()),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"})})]},Ue.id))})]})}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded shadow hover:bg-blue-700",onClick:()=>T(!1),children:"Close"})})]})}),e.jsxs("div",{className:"flex-1 bg-white flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gradient-to-r from-orange-50 to-orange-25",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Shift Selection"})}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("span",{className:"font-semibold",children:[r," - ",n]}),e.jsxs("span",{className:"font-semibold text-blue-600 ml-1",children:[v&&` | ${De(v)}`,b&&` > ${Ne(b)}`,k&&` > ${Je(k)}`]})]})]}),e.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex-1 overflow-hidden border border-gray-300 rounded-lg shadow mb-4 flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"relative",children:[e.jsx(or,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search shifts by code or name...",className:"pl-10 pr-4 py-2 w-full border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:Bt,onChange:Ue=>{Ge(Ue.target.value),bt(1)}})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:Pe?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading shifts..."})]}):We?e.jsxs("div",{className:"p-8 text-center text-red-500",children:[e.jsx("p",{children:We}),e.jsx("button",{onClick:dt,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Retry"})]}):e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold border-r border-blue-500",children:"S.Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold border-r border-blue-500",children:"Shift Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold border-r border-blue-500",children:"Start Time"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold border-r border-blue-500",children:"End Time"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold border-blue-500",children:"Select"})]})}),e.jsx("tbody",{children:_e.shifts.map((Ue,vt)=>e.jsxs("tr",{className:`${vt%2===0?"bg-white":"bg-gray-50"} hover:bg-blue-50 transition-colors duration-150 border-b border-gray-200 
                          ${st.has(Ue.id)?"bg-blue-50 border-l-4 border-blue-500":""}`,children:[e.jsx("td",{className:"px-4 py-3 border-r border-gray-200",children:e.jsx("span",{className:"font-mono text-blue-600 font-semibold bg-blue-50 px-2 py-1 rounded",children:Ue.scode})}),e.jsx("td",{className:"px-4 py-3 border-r border-gray-200",children:e.jsx("span",{className:"font-medium text-gray-700",children:Ue.shiftName})}),e.jsx("td",{className:"px-4 py-3 border-r border-gray-200 font-mono text-green-600 font-semibold",children:Ue.shiftStart}),e.jsx("td",{className:"px-4 py-3 border-r border-gray-200 font-mono text-red-600 font-semibold",children:Ue.shiftEnd}),e.jsx("td",{className:"px-4 py-3 border-gray-200 text-center",children:e.jsx("button",{onClick:()=>Ke(Ue),className:`w-6 h-6 rounded-full flex items-center justify-center ${st.has(Ue.id)?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:st.has(Ue.id)?e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):e.jsx(bs,{className:"w-4 h-4"})})})]},Ue.id))})]})})]}),e.jsxs("button",{className:"w-full bg-gradient-to-r from-orange-400 to-orange-500 hover:from-orange-500 hover:to-orange-600 text-white py-2 px-4 rounded-md text-sm font-semibold shadow-md transition-all duration-200 transform hover:scale-105",onClick:ot,disabled:st.size===0||me.length===0||R==="employee"&&L.size===0,children:["Add to Roster"," ",st.size>0&&`(${st.size} shifts)`]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Pending Assignments"}),V.length===0?e.jsx("div",{className:"text-xs text-gray-500",children:"No shifts added yet."}):e.jsxs("div",{className:"space-y-2",children:[V.map((Ue,vt)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 border rounded-md",children:[e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"font-medium text-gray-800",children:[Ue.shift.shiftName," ",e.jsxs("span",{className:"text-xs text-gray-500",children:["(",Ue.shift.shiftStart," - ",Ue.shift.shiftEnd,")"]})]}),e.jsxs("div",{className:"text-xs text-gray-600",children:[De(Ue.company),Ue.department&&Ue.department!=="0"&&e.jsxs(e.Fragment,{children:[" ",` > ${Ne(Ue.department)}`," "]}),Ue.subDepartment&&Ue.subDepartment!=="0"&&e.jsxs(e.Fragment,{children:[" ",` > ${Je(Ue.subDepartment)}`]}),"  "," ",Ue.employees.length," employees ","  "," ",Ue.dateFrom,"  ",Ue.dateTo]})]}),e.jsx("button",{onClick:()=>Fe(vt),className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Remove",children:e.jsx(ns,{className:"w-4 h-4"})})]},vt)),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:()=>S([]),className:"text-xs text-gray-600 hover:underline",children:"Clear all"})})]})]}),e.jsxs("div",{className:"flex space-x-2 mt-2",children:[e.jsx("button",{className:"flex-1 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white py-2 px-4 rounded-md text-sm font-semibold shadow-md transition-all duration-200",onClick:Mt,children:"View Summary"}),e.jsx("button",{className:`flex-1 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white py-2 px-4 rounded-md text-sm font-semibold shadow-md transition-all duration-200 ${ct?"opacity-50 cursor-not-allowed":""}`,onClick:lt,disabled:ct,children:ct?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"inline-block h-4 w-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):"Process Roster"})]})]})]})]}),w&&e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-opacity-40 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full p-6 relative",children:[e.jsx("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-700",onClick:()=>E(!1),children:e.jsx(zt,{className:"w-6 h-6"})}),e.jsx("h2",{className:"text-lg font-bold mb-4",children:"Roster Summary"}),e.jsx("div",{className:"overflow-x-auto max-h-[70vh]",children:e.jsxs("table",{className:"min-w-full text-sm border",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 border",children:"Company"}),e.jsx("th",{className:"px-4 py-2 border",children:"Department"}),e.jsx("th",{className:"px-4 py-2 border",children:"Sub Department"}),e.jsx("th",{className:"px-4 py-2 border",children:"Shift"}),e.jsx("th",{className:"px-4 py-2 border",children:"Employees"}),e.jsx("th",{className:"px-4 py-2 border",children:"Date Range"})]})}),e.jsx("tbody",{children:V.map((Ue,vt)=>e.jsxs("tr",{className:vt%2===0?"bg-white":"bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 border",children:De(Ue.company)}),e.jsx("td",{className:"px-4 py-2 border",children:Ne(Ue.department)}),e.jsx("td",{className:"px-4 py-2 border",children:Je(Ue.subDepartment)}),e.jsxs("td",{className:"px-4 py-2 border",children:[e.jsx("div",{className:"font-medium",children:Ue.shift.shiftName}),e.jsxs("div",{className:"text-xs text-gray-500",children:[Ue.shift.shiftStart," -"," ",Ue.shift.shiftEnd]})]}),e.jsxs("td",{className:"px-4 py-2 border",children:[Ue.employees.length," employees"]}),e.jsxs("td",{className:"px-4 py-2 border",children:[e.jsx("div",{children:Ue.dateFrom}),e.jsx("div",{children:Ue.dateTo})]})]},vt))})]})}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded shadow hover:bg-blue-700",onClick:()=>E(!1),children:"Close"})})]})}),D&&e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-opacity-40 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-5xl w-full p-6 relative",children:[e.jsx("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-700",onClick:()=>G(!1),children:e.jsx(zt,{className:"w-6 h-6"})}),e.jsx("h2",{className:"text-lg font-bold mb-4",children:"All Rosters"}),e.jsxs("div",{className:"mb-6 border rounded-lg p-4 bg-gray-50",children:[e.jsx("h3",{className:"text-md font-semibold mb-3",children:"Search Rosters"}),e.jsxs("form",{onSubmit:rs,className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Date From"}),e.jsx("input",{type:"date",value:Oe.date_from,onChange:Ue=>jt({...Oe,date_from:Ue.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Date To"}),e.jsx("input",{type:"date",value:Oe.date_to,onChange:Ue=>jt({...Oe,date_to:Ue.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Company"}),e.jsxs("select",{value:Oe.company_id,onChange:Ue=>jt({...Oe,company_id:Ue.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Company"}),ee.map(Ue=>e.jsx("option",{value:Ue.id,children:Ue.name},Ue.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Employee ID"}),e.jsx("input",{type:"text",placeholder:"Enter employee ID",value:Oe.employee_id,onChange:Ue=>jt({...Oe,employee_id:Ue.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"col-span-3 flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:fs,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Reset"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:Gt,children:Gt?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"inline-block h-4 w-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Searching..."]}):"Search"})]})]})]}),e.jsx("div",{className:"overflow-x-auto max-h-[55vh]",children:se?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading rosters..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("table",{className:"min-w-full text-sm border",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 border",children:"Roster ID"}),e.jsx("th",{className:"px-4 py-2 border",children:"Shift Code"}),e.jsx("th",{className:"px-4 py-2 border",children:"Company"}),e.jsx("th",{className:"px-4 py-2 border",children:"Department"}),e.jsx("th",{className:"px-4 py-2 border",children:"Sub Dept"}),e.jsx("th",{className:"px-4 py-2 border",children:"Employee"}),e.jsx("th",{className:"px-4 py-2 border",children:"Date From"}),e.jsx("th",{className:"px-4 py-2 border",children:"Date To"})]})}),e.jsx("tbody",{children:((Xt?Et:K)||[]).map((Ue,vt)=>{var Ut,os,zs;return e.jsxs("tr",{className:vt%2===0?"bg-white":"bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 border",children:Ue.roster_id}),e.jsx("td",{className:"px-4 py-2 border",children:Ue.shift_code}),e.jsx("td",{className:"px-4 py-2 border",children:Ue.company_name||De((Ut=Ue.company_id)==null?void 0:Ut.toString())}),e.jsx("td",{className:"px-4 py-2 border",children:Ue.department_name||Ne((os=Ue.department_id)==null?void 0:os.toString())}),e.jsx("td",{className:"px-4 py-2 border",children:Ue.sub_department_name||Je((zs=Ue.sub_department_id)==null?void 0:zs.toString())}),e.jsx("td",{className:"px-4 py-2 border",children:Ue.employee_name||Ue.employee_id}),e.jsx("td",{className:"px-4 py-2 border",children:Ue.date_from}),e.jsx("td",{className:"px-4 py-2 border",children:Ue.date_to})]},Ue.id||vt)})})]}),Xt&&Et.length===0&&e.jsxs("div",{className:"p-6 text-center text-gray-600",children:[e.jsx("p",{className:"font-medium",children:ws||"No roster data found for the given criteria."}),e.jsx("p",{className:"text-sm mt-2 text-gray-500",children:"Adjust your filters or click Reset to show all rosters."})]}),!Xt&&K.length===0&&e.jsx("div",{className:"p-6 text-center text-gray-600",children:e.jsx("p",{className:"font-medium",children:"No roster data found."})})]})}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsx("div",{className:"text-sm text-gray-500",children:Et.length>0?`Showing ${Et.length} search results`:K.length>0?`Showing ${K.length} total rosters`:""}),e.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded shadow hover:bg-blue-700",onClick:()=>G(!1),children:"Close"})]})]})})]})},LD=async()=>{try{return(await Ze.get("/leave-masters")).data}catch(t){return console.error("Error fetching leaves:",t),[]}},fte=async t=>{try{return(await Ze.post("/leave-masters",t)).data}catch(s){throw console.error("Error creating leave:",s),s}},pte=async t=>{try{const s={...t,force_continue:!0};return(await Ze.post("/leave-masters",s)).data}catch(s){throw console.error("Error creating leave with override:",s),s}},u1=async(t,s)=>{try{return(await Ze.put(`/leave-masters/${t}/status`,s)).data}catch(r){throw console.error("Error updating leave status:",r),r}},gte=async t=>{try{return(await Ze.get(`/leave-masters/${t}`)).data}catch(s){return console.error("Error fetching leave:",s),null}},yte=async t=>{var s;try{return(await Ze.get(`/Leave-Master/${t}/counts`)).data}catch(r){throw console.error("Error fetching leave counts:",((s=r.response)==null?void 0:s.data)||r),r}};async function FD(){try{return(await Ze.get("/leave-calendars")).data}catch(t){return console.error("Error fetching leave calendar:",t),[]}}async function bte(t){try{return(await Ze.post("/leave-calendars",t)).data}catch(s){throw console.error("Error creating leave entry:",s),s}}async function vte(t,s){try{return(await Ze.put(`/leave-calendars/${t}`,s)).data}catch(r){throw console.error("Error updating leave entry:",r),r}}async function wte(t){try{return(await Ze.delete(`/leave-calendars/${t}`)).data}catch(s){throw console.error("Error deleting leave entry:",s),s}}const jte=()=>{const[t,s]=N.useState({emp_id:"",attendanceNo:"",epfNo:"",employeeName:"",department:"",reportingDate:w(),leaveType:"",leaveDateType:"fullDay",halfDayPeriod:"morning",leaveDate:{single:w(),from:w(),to:w()},reason:""}),[r,a]=N.useState(!1),[n,i]=N.useState(""),[o,l]=N.useState(!1),[d,u]=N.useState([]),[h,f]=N.useState(!1),[p,g]=N.useState(""),[v,y]=N.useState(!1),[b,_]=N.useState([]),[k,A]=N.useState(!1),[R,F]=N.useState([]),[V,S]=N.useState(null),[L,I]=N.useState(null),B={"Casual Leave":7,"Annual Leave":0,"Medical Leave":0,"Unpaid Leave":0,"Special Leave":0},T=["Casual Leave"];function w(){return new Date().toISOString().split("T")[0]}function E(Q){return Q?(typeof Q=="string"?new Date(Q):Q).toISOString().split("T")[0]:""}function D(Q){let ue="";Q.leave_date?(ue=E(Q.leave_date),Q.period&&(ue+=` (${Q.period})`)):Q.leave_from&&Q.leave_to&&(ue=`${E(Q.leave_from)} to ${E(Q.leave_to)}`,Q.leave_duration>1&&(ue+=` (${Q.leave_duration} days)`));const ie=Q.over_limit&&Q.over_limit>0;return{id:Q.id,leaveDate:ue,reportDate:E(Q.reporting_date),fullHalfDay:Q.is_half_day?"Half Day":Q.leave_duration>1?"Multiple Days":"Full Day",leaveType:Q.leave_type,status:Q.status,duration:Q.leave_duration||(Q.is_half_day?.5:1),hasOverLimit:ie,overLimit:ie?Q.over_limit:0}}const G=(Q,ue)=>{const ie=[];return ue&&Q.forEach(oe=>{if(oe.company_id===ue&&oe.start_date){const J=new Date(oe.start_date),re=oe.end_date?new Date(oe.end_date):new Date(oe.start_date);for(let ve=new Date(J);ve<=re;ve.setDate(ve.getDate()+1))ie.push(E(new Date(ve)))}}),ie},K=Q=>{const{name:ue,value:ie}=Q.target;if(ue.includes("leaveDate")&&R.includes(ie)){Me.fire({icon:"error",title:"Date Not Available",html:`
            <div class="text-left">
              <p>This date (${X(ie)}) is not available for leave requests because:</p>
              <ul class="list-disc pl-5 mt-2">
                <li>It's marked as an event day</li>
                <li>Or it's already booked as leave</li>
              </ul>
              <p class="mt-3 text-sm">Please select a different date.</p>
            </div>
          `,confirmButtonColor:"#3085d6",confirmButtonText:"Ok, I understand",customClass:{popup:"rounded-xl",confirmButton:"rounded-lg text-sm px-5 py-2.5"}});return}if(ue.includes(".")){const[oe,J]=ue.split(".");s({...t,[oe]:{...t[oe],[J]:ie}})}else s({...t,[ue]:ie})},X=Q=>{const ue={weekday:"long",year:"numeric",month:"long",day:"numeric"};return new Date(Q).toLocaleDateString(void 0,ue)},se=Q=>R.includes(Q),Z=Q=>{const ue="w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200";return se(Q)?`${ue} bg-red-50 border-red-300 text-red-700 cursor-not-allowed`:`${ue} border-gray-300`},ee=Q=>se(Q)?e.jsxs("div",{className:"absolute z-10 bottom-full mb-2 left-0 bg-red-600 text-white text-xs rounded px-2 py-1 whitespace-nowrap",children:[e.jsx(Hs,{className:"inline mr-1 w-3 h-3"}),"Unavailable date (event or existing leave)"]}):null,ce=async(Q,ue)=>{var ie,oe;if(Q){l(!0);try{const[J,re]=await Promise.all([gte(Q),FD()]),ve=(oe=(ie=ue==null?void 0:ue.organization_assignment)==null?void 0:ie.company)==null?void 0:oe.id,pe=G(re,ve);if(F(pe),J&&Array.isArray(J)){const ae=J.map(D);u(ae)}else u([])}catch(J){console.error("Error fetching employee leaves:",J),Me.fire({icon:"error",title:"Data Fetch Error",text:"Failed to fetch leave records. Please try again.",confirmButtonColor:"#3085d6"}),u([])}finally{l(!1)}}},U=async Q=>{if(Q){A(!0);try{const ue=await yte(Q);if(ue&&Array.isArray(ue)){const ie=Object.keys(B).map((oe,J)=>{const re=ue.find(he=>he.leave_type===oe)||{approved_full_days:0,approved_half_days:0,rejected_full_days:0,rejected_half_days:0},ve=(parseFloat(re.approved_full_days)||0)+(parseFloat(re.approved_half_days)||0),pe=B[oe],ae=pe-ve;return{id:J+1,leaveType:oe,total:pe,usage:ve.toFixed(1),balance:ae.toFixed(1)}});_(ie)}else{const ie=Object.keys(B).map((oe,J)=>({id:J+1,leaveType:oe,total:B[oe],usage:"0.0",balance:B[oe].toFixed(1)}));_(ie)}}catch(ue){console.error("Error fetching leave usage data:",ue),Me.fire({icon:"error",title:"Data Fetch Error",text:"Failed to fetch leave usage data. Please try again.",confirmButtonColor:"#3085d6"});const ie=Object.keys(B).map((oe,J)=>({id:J+1,leaveType:oe,total:B[oe],usage:"0.0",balance:B[oe].toFixed(1)}));_(ie)}finally{A(!1)}}},O=async()=>{var Q,ue,ie,oe,J;if(!t.attendanceNo){Me.fire({icon:"error",title:"Input Required",text:"Please enter an employee number",confirmButtonColor:"#3085d6"});return}a(!0),i("");try{const re=await ul.searchByAttendanceNo(t.attendanceNo);if(re)I(re),s({...t,emp_id:re.id||"",epfNo:re.epf||"",employeeName:re.name_with_initials||"",department:((ue=(Q=re.organization_assignment)==null?void 0:Q.department)==null?void 0:ue.name)||""}),await Promise.all([ce(re.id,re),U(re.id)]);else{Me.fire({icon:"error",title:"Employee Not Found",text:"No employee found with the provided number",confirmButtonColor:"#3085d6"}),u([]),I(null);const ve=Object.keys(B).map((pe,ae)=>({id:ae+1,leaveType:pe,total:B[pe],usage:0,balance:B[pe]}));_(ve)}}catch(re){console.error("Error fetching employee data:",re),(oe=(ie=re.response)==null?void 0:ie.data)!=null&&oe.message?Me.fire({icon:"error",title:"Error",text:re.response.data.message,confirmButtonColor:"#3085d6"}):(J=re.response)!=null&&J.data?z(re.response.data):Me.fire({icon:"error",title:"Error",text:"Failed to retrieve employee data. Please try again.",confirmButtonColor:"#3085d6"}),u([]),I(null)}finally{a(!1)}},z=Q=>{const ue=Object.values(Q).map(ie=>`<li class="text-left">${ie}</li>`).join("");Me.fire({icon:"error",title:"Limitation exceeded",html:`
        <div>
          <ul class="list-disc pl-4 mt-2">
            ${ue}
          </ul>
        </div>
      `,confirmButtonColor:"#3085d6",customClass:{container:"font-sans",popup:"rounded-xl",confirmButton:"rounded-lg text-sm px-5 py-2.5"}})},q=async Q=>{var ie,oe,J,re,ve;if(Q.preventDefault(),g(""),y(!1),f(!0),!t.attendanceNo&&!t.epfNo&&!t.employeeName&&!t.department){Me.fire({icon:"error",title:"Input Required",text:"Please enter an employee number",confirmButtonColor:"#3085d6"}),f(!1);return}try{let pe=[];if(t.leaveDateType==="fullDay")se(t.leaveDate.single)&&pe.push(t.leaveDate.single);else if(t.leaveDateType==="halfDay")se(t.leaveDate.single)&&pe.push(t.leaveDate.single);else if(t.leaveDateType==="manual"){const he=new Date(t.leaveDate.from),Te=new Date(t.leaveDate.to);if(Te<he){Me.fire({icon:"error",title:"Invalid Date Range",text:"End date cannot be before start date",confirmButtonColor:"#3085d6"}),f(!1);return}for(let Ie=new Date(he);Ie<=Te;Ie.setDate(Ie.getDate()+1)){const Be=E(Ie);se(Be)&&pe.push(Be)}}if(pe.length>0){const he=pe.map(Te=>X(Te)).join(", ");Me.fire({icon:"error",title:"Invalid Date Selection",html:`
          <div class="text-left">
            <p>The following selected dates are not available:</p>
            <ul class="list-disc pl-5 mt-2">
              ${pe.map(Te=>`<li>${X(Te)}</li>`).join("")}
            </ul>
            <p class="mt-3 text-sm">Please adjust your leave dates and try again.</p>
          </div>
        `,confirmButtonColor:"#3085d6",confirmButtonText:"Ok, I understand"});return}let ae={employee_id:parseInt(L.id),reporting_date:t.reportingDate,leave_type:t.leaveType,reason:t.reason,status:"Pending",leave_date:null,leave_from:null,leave_to:null,period:null,is_half_day:!1,leave_duration:0};if(t.leaveDateType==="fullDay")ae.leave_date=t.leaveDate.single,ae.is_half_day=!1,ae.leave_duration=1;else if(t.leaveDateType==="halfDay")ae.leave_date=t.leaveDate.single,ae.period=t.halfDayPeriod==="morning"?"Morning":"Afternoon",ae.is_half_day=!0,ae.leave_duration=.5;else if(t.leaveDateType==="manual"){ae.leave_from=t.leaveDate.from,ae.leave_to=t.leaveDate.to,ae.is_half_day=!1;const he=new Date(t.leaveDate.from),Ie=new Date(t.leaveDate.to).getTime()-he.getTime(),Be=Math.ceil(Ie/(1e3*3600*24))+1;ae.leave_duration=Be}try{const he=await fte(ae);Me.fire({icon:"success",title:"Success",text:"Leave request submitted successfully!",confirmButtonColor:"#3085d6"}),await te()}catch(he){if(((ie=he.response)==null?void 0:ie.status)===422&&((J=(oe=he.response)==null?void 0:oe.data)!=null&&J.limit_exceeded)&&((ve=(re=he.response)==null?void 0:re.data)!=null&&ve.continue_allowed)){if((await Me.fire({icon:"warning",title:"Leave Limitation",html:`
              <div class="text-left">
                <p>${he.response.data.message}</p>
                <p class="mt-3">Do you want to continue with this request anyway?</p>
                <p class="mt-2 text-xs text-gray-500">
                  Note: Continuing will mark this leave with an override status
                </p>
              </div>
            `,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Continue Anyway",cancelButtonText:"Cancel Request"})).isConfirmed)try{const Ie=await pte(ae);Me.fire({icon:"success",title:"Leave Request Submitted",text:"Your leave request has been submitted with the noted limitation.",confirmButtonColor:"#3085d6"}),await te()}catch(Ie){ge(Ie)}else f(!1);return}ge(he)}}catch(pe){ge(pe)}},te=async()=>{await Promise.all([ce(L.id,L),U(L.id)]),y(!0),s({...t,reportingDate:w(),leaveType:"",leaveDateType:"fullDay",halfDayPeriod:"morning",leaveDate:{single:w(),from:w(),to:w()},reason:""}),f(!1)},ge=Q=>{var ue,ie,oe,J,re;console.error("Error submitting leave request:",Q),((ue=Q.response)==null?void 0:ue.status)===422&&!((oe=(ie=Q.response)==null?void 0:ie.data)!=null&&oe.limit_exceeded)?z(Q.response.data):(re=(J=Q.response)==null?void 0:J.data)!=null&&re.message?Me.fire({icon:"error",title:"Error",text:Q.response.data.message,confirmButtonColor:"#3085d6"}):Me.fire({icon:"error",title:"Error",text:"Failed to submit leave request. Please try again.",confirmButtonColor:"#3085d6"}),f(!1)};return N.useEffect(()=>{const Q=Object.keys(B).map((ue,ie)=>({id:ie+1,leaveType:ue,total:B[ue],usage:"0.0",balance:B[ue].toFixed(1)}));_(Q)},[]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-slate-50 to-gray-100 py-4 sm:py-8",children:e.jsx("div",{className:"container mx-auto px-3 sm:px-4 max-w-7xl",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl border border-gray-200/50 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-slate-800 to-gray-900 px-4 sm:px-8 py-6 sm:py-8",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white text-center",children:"Leave Master"}),e.jsxs("p",{className:"text-slate-300 text-center mt-2 text-sm sm:text-base",children:["Employee Leave Management System"," ",t.attendanceNo&&`- EMP No: ${t.attendanceNo}`]})]}),e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[v&&e.jsxs("div",{className:"mb-6 bg-green-100 border border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(vs,{className:"w-5 h-5 mr-2"}),e.jsx("span",{children:"Leave request submitted successfully!"})]}),e.jsx("button",{onClick:()=>y(!1),className:"text-green-700 hover:text-green-900",children:e.jsx(zt,{className:"w-4 h-4"})})]}),p&&e.jsxs("div",{className:"mb-6 bg-red-100 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(zt,{className:"w-5 h-5 mr-2"}),e.jsx("span",{children:p})]}),e.jsx("button",{onClick:()=>g(""),className:"text-red-700 hover:text-red-900",children:e.jsx(zt,{className:"w-4 h-4"})})]}),e.jsx("form",{onSubmit:q,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-5",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["EMP number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",name:"attendanceNo",value:t.attendanceNo,onChange:K,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter employee number"}),e.jsx("button",{type:"button",className:"ml-2 p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",onClick:O,disabled:r,children:r?e.jsx("div",{className:"w-5 h-5 border-t-2 border-b-2 border-blue-600 rounded-full animate-spin"}):e.jsx(or,{className:"w-5 h-5"})})]}),n&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:n})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"EPF No"}),e.jsx("input",{type:"text",name:"epfNo",value:t.epfNo,disabled:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 bg-gray-50 text-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"EPF number"})]}),e.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Employee Name"}),e.jsx("input",{type:"text",name:"employeeName",value:t.employeeName,disabled:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 bg-gray-50 text-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Employee name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Department"}),e.jsx("input",{type:"text",name:"department",value:t.department,disabled:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 bg-gray-50 text-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Department"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Reporting Date"}),e.jsx("input",{type:"date",name:"reportingDate",value:t.reportingDate,disabled:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 bg-gray-50 text-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Leave Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"leaveType",value:t.leaveType,onChange:K,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white",children:[e.jsx("option",{value:"",children:"Select Leave Type"}),T.map(Q=>e.jsx("option",{value:Q,children:Q},Q))]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Leave Duration ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:"fullDay",name:"leaveDateType",value:"fullDay",checked:t.leaveDateType==="fullDay",onChange:K,className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"fullDay",className:"text-sm text-gray-700",children:"Full Day"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:"halfDay",name:"leaveDateType",value:"halfDay",checked:t.leaveDateType==="halfDay",onChange:K,className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"halfDay",className:"text-sm text-gray-700",children:"Half Day"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:"manual",name:"leaveDateType",value:"manual",checked:t.leaveDateType==="manual",onChange:K,className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"manual",className:"text-sm text-gray-700",children:"Date Range"})]})]}),t.leaveDateType==="fullDay"&&e.jsxs("div",{className:"mb-4 relative",children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Date"}),e.jsxs("div",{className:"relative",onMouseEnter:()=>S(t.leaveDate.single),onMouseLeave:()=>S(null),children:[e.jsx("input",{type:"date",name:"leaveDate.single",value:t.leaveDate.single,onChange:K,required:!0,className:Z(t.leaveDate.single),min:w(),onKeyDown:Q=>Q.preventDefault()}),V===t.leaveDate.single&&ee(t.leaveDate.single)]}),se(t.leaveDate.single)&&e.jsxs("p",{className:"mt-1 text-xs text-red-600 flex items-center",children:[e.jsx(Hs,{className:"w-3 h-3 mr-1"}),"This date is unavailable for leave"]})]}),t.leaveDateType==="halfDay"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Date"}),e.jsxs("div",{className:"relative",onMouseEnter:()=>S(t.leaveDate.single),onMouseLeave:()=>S(null),children:[e.jsx("input",{type:"date",name:"leaveDate.single",value:t.leaveDate.single,onChange:K,required:!0,className:Z(t.leaveDate.single),min:w(),onKeyDown:Q=>Q.preventDefault()}),V===t.leaveDate.single&&ee(t.leaveDate.single)]}),se(t.leaveDate.single)&&e.jsxs("p",{className:"mt-1 text-xs text-red-600 flex items-center",children:[e.jsx(Hs,{className:"w-3 h-3 mr-1"}),"This date is unavailable for leave"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Period"}),e.jsxs("select",{name:"halfDayPeriod",value:t.halfDayPeriod,onChange:K,required:!0,className:"w-full sm:w-1/2 border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",children:[e.jsx("option",{value:"morning",children:"Morning"}),e.jsx("option",{value:"afternoon",children:"Afternoon"})]})]})]}),t.leaveDateType==="manual"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"From"}),e.jsxs("div",{className:"relative",onMouseEnter:()=>S(t.leaveDate.from),onMouseLeave:()=>S(null),children:[e.jsx("input",{type:"date",name:"leaveDate.from",value:t.leaveDate.from,onChange:K,required:!0,className:Z(t.leaveDate.from),min:w(),onKeyDown:Q=>Q.preventDefault()}),V===t.leaveDate.from&&ee(t.leaveDate.from)]}),se(t.leaveDate.from)&&e.jsxs("p",{className:"mt-1 text-xs text-red-600 flex items-center",children:[e.jsx(Hs,{className:"w-3 h-3 mr-1"}),"This date is unavailable for leave"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"To"}),e.jsxs("div",{className:"relative",onMouseEnter:()=>S(t.leaveDate.to),onMouseLeave:()=>S(null),children:[e.jsx("input",{type:"date",name:"leaveDate.to",value:t.leaveDate.to,onChange:K,required:!0,className:Z(t.leaveDate.to),min:t.leaveDate.from,onKeyDown:Q=>Q.preventDefault()}),V===t.leaveDate.to&&ee(t.leaveDate.to)]}),se(t.leaveDate.to)&&e.jsxs("p",{className:"mt-1 text-xs text-red-600 flex items-center",children:[e.jsx(Hs,{className:"w-3 h-3 mr-1"}),"This date is unavailable for leave"]})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason"}),e.jsx("textarea",{name:"reason",value:t.reason,onChange:K,rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Reason for leave"})]}),e.jsx("div",{className:"mt-4 text-xs text-gray-500",children:e.jsxs("p",{children:["Marked with ",e.jsx("span",{className:"text-red-500",children:"*"})," are required"]})})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[e.jsx("button",{type:"button",className:"px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-lg transition-colors",onClick:()=>{s({attendanceNo:"",epfNo:"",employeeName:"",department:"",reportingDate:w(),leaveType:"",leaveDateType:"fullDay",halfDayPeriod:"morning",leaveDate:{single:w(),from:w(),to:w()},reason:""}),i(""),g(""),y(!1),u([])},disabled:h,children:"Clear Form"}),e.jsx("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-medium rounded-lg hover:from-blue-700 hover:to-blue-800 transition-colors shadow-md hover:shadow-lg flex items-center justify-center min-w-[150px]",disabled:h,children:h?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-t-2 border-b-2 border-white rounded-full animate-spin mr-2"}),e.jsx("span",{children:"Submitting..."})]}):"Submit Leave Request"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-medium text-gray-800",children:"Leave Usage Summary"}),t.employeeName&&e.jsx("span",{className:"text-sm text-gray-600",children:t.employeeName})]}),e.jsx("div",{className:"overflow-x-auto",children:k?e.jsxs("div",{className:"py-10 text-center",children:[e.jsx("div",{className:"inline-block w-6 h-6 border-t-2 border-b-2 border-blue-600 rounded-full animate-spin"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Loading leave usage data..."})]}):e.jsxs("table",{className:"min-w-full bg-white border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border",children:"#"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border",children:"Leave Type"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border",children:"Total"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border",children:"Usage"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border",children:"Balance"})]})}),e.jsxs("tbody",{children:[b.map(Q=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 border text-sm",children:Q.id}),e.jsx("td",{className:"px-4 py-3 border text-sm",children:Q.leaveType}),e.jsx("td",{className:"px-4 py-3 border text-sm",children:Q.total}),e.jsx("td",{className:"px-4 py-3 border text-sm",children:Q.usage}),e.jsx("td",{className:"px-4 py-3 border text-sm font-medium text-blue-600",children:Q.balance})]},Q.id)),b.length===0&&!k&&e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-4 py-8 border text-center text-gray-500",children:t.employeeName?"No leave usage data available for this employee":"Search for an employee to view leave balances"})})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-medium text-gray-800",children:"Employee Leave Record"}),t.employeeName&&e.jsx("span",{className:"text-sm text-gray-600",children:t.employeeName})]}),e.jsx("div",{className:"overflow-x-auto",children:o?e.jsxs("div",{className:"py-10 text-center",children:[e.jsx("div",{className:"inline-block w-6 h-6 border-t-2 border-b-2 border-blue-600 rounded-full animate-spin"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Loading leave records..."})]}):e.jsxs("table",{className:"min-w-full bg-white border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border",children:"#"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border",children:"Leave Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border",children:"Duration"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border",children:"Report Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border",children:"Type"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border",children:"Leave Type"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border",children:"Limit"})]})}),e.jsxs("tbody",{children:[d.map(Q=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 border text-sm",children:Q.id}),e.jsx("td",{className:"px-4 py-3 border text-sm",children:Q.leaveDate}),e.jsxs("td",{className:"px-4 py-3 border text-sm",children:[Q.duration," days"]}),e.jsx("td",{className:"px-4 py-3 border text-sm",children:Q.reportDate}),e.jsx("td",{className:"px-4 py-3 border text-sm",children:Q.fullHalfDay}),e.jsx("td",{className:"px-4 py-3 border text-sm",children:Q.leaveType}),e.jsx("td",{className:"px-4 py-3 border text-sm",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Q.status==="Approved"?"bg-green-100 text-green-800":Q.status==="Rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:Q.status})}),e.jsx("td",{className:"px-4 py-3 border text-sm",children:Q.hasOverLimit?e.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:["Over limit: ",Q.overLimit]}):e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Within limit"})})]},Q.id)),d.length===0&&!o&&e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"px-4 py-8 border text-center text-gray-500",children:t.employeeName?"No leave records found for this employee":"Search for an employee to view their leave records"})})]})]})})]})]})]})})]})]})})})},RD=6048e5,Nte=864e5,OD=6e4,ID=36e5,dC=Symbol.for("constructDateFrom");function Zd(t,s){return typeof t=="function"?t(s):t&&typeof t=="object"&&dC in t?t[dC](s):t instanceof Date?new t.constructor(s):new Date(s)}function Oo(t,s){return Zd(s||t,t)}let Ste={};function W1(){return Ste}function Ip(t,s){var l,d,u,h;const r=W1(),a=(s==null?void 0:s.weekStartsOn)??((d=(l=s==null?void 0:s.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,n=Oo(t,s==null?void 0:s.in),i=n.getDay(),o=(i<a?7:0)+i-a;return n.setDate(n.getDate()-o),n.setHours(0,0,0,0),n}function m1(t,s){return Ip(t,{...s,weekStartsOn:1})}function BD(t,s){const r=Oo(t,s==null?void 0:s.in),a=r.getFullYear(),n=Zd(r,0);n.setFullYear(a+1,0,4),n.setHours(0,0,0,0);const i=m1(n),o=Zd(r,0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);const l=m1(o);return r.getTime()>=i.getTime()?a+1:r.getTime()>=l.getTime()?a:a-1}function uC(t){const s=Oo(t),r=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return r.setUTCFullYear(s.getFullYear()),+t-+r}function _te(t,...s){const r=Zd.bind(null,s.find(a=>typeof a=="object"));return s.map(r)}function mC(t,s){const r=Oo(t,s==null?void 0:s.in);return r.setHours(0,0,0,0),r}function Cte(t,s,r){const[a,n]=_te(r==null?void 0:r.in,t,s),i=mC(a),o=mC(n),l=+i-uC(i),d=+o-uC(o);return Math.round((l-d)/Nte)}function kte(t,s){const r=BD(t,s),a=Zd(t,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),m1(a)}function Ate(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Ete(t){return!(!Ate(t)&&typeof t!="number"||isNaN(+Oo(t)))}function Tte(t,s){const r=Oo(t,s==null?void 0:s.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Dte={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Pte=(t,s,r)=>{let a;const n=Dte[t];return typeof n=="string"?a=n:s===1?a=n.one:a=n.other.replace("{{count}}",s.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function Zv(t){return(s={})=>{const r=s.width?String(s.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Mte={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Lte={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Fte={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Rte={date:Zv({formats:Mte,defaultWidth:"full"}),time:Zv({formats:Lte,defaultWidth:"full"}),dateTime:Zv({formats:Fte,defaultWidth:"full"})},Ote={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ite=(t,s,r,a)=>Ote[t];function Tf(t){return(s,r)=>{const a=r!=null&&r.context?String(r.context):"standalone";let n;if(a==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;n=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;n=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(s):s;return n[i]}}const Bte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zte={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$te={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ute={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Vte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},qte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Hte=(t,s)=>{const r=Number(t),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Wte={ordinalNumber:Hte,era:Tf({values:Bte,defaultWidth:"wide"}),quarter:Tf({values:zte,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Tf({values:$te,defaultWidth:"wide"}),day:Tf({values:Ute,defaultWidth:"wide"}),dayPeriod:Tf({values:Vte,defaultWidth:"wide",formattingValues:qte,defaultFormattingWidth:"wide"})};function Df(t){return(s,r={})=>{const a=r.width,n=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],i=s.match(n);if(!i)return null;const o=i[0],l=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(l)?Yte(l,f=>f.test(o)):Gte(l,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(d):d,u=r.valueCallback?r.valueCallback(u):u;const h=s.slice(o.length);return{value:u,rest:h}}}function Gte(t,s){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&s(t[r]))return r}function Yte(t,s){for(let r=0;r<t.length;r++)if(s(t[r]))return r}function Kte(t){return(s,r={})=>{const a=s.match(t.matchPattern);if(!a)return null;const n=a[0],i=s.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=s.slice(n.length);return{value:o,rest:l}}}const Xte=/^(\d+)(th|st|nd|rd)?/i,Qte=/\d+/i,Jte={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Zte={any:[/^b/i,/^(a|c)/i]},ese={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tse={any:[/1/i,/2/i,/3/i,/4/i]},sse={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},rse={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ase={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},nse={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ise={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ose={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},lse={ordinalNumber:Kte({matchPattern:Xte,parsePattern:Qte,valueCallback:t=>parseInt(t,10)}),era:Df({matchPatterns:Jte,defaultMatchWidth:"wide",parsePatterns:Zte,defaultParseWidth:"any"}),quarter:Df({matchPatterns:ese,defaultMatchWidth:"wide",parsePatterns:tse,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Df({matchPatterns:sse,defaultMatchWidth:"wide",parsePatterns:rse,defaultParseWidth:"any"}),day:Df({matchPatterns:ase,defaultMatchWidth:"wide",parsePatterns:nse,defaultParseWidth:"any"}),dayPeriod:Df({matchPatterns:ise,defaultMatchWidth:"any",parsePatterns:ose,defaultParseWidth:"any"})},cse={code:"en-US",formatDistance:Pte,formatLong:Rte,formatRelative:Ite,localize:Wte,match:lse,options:{weekStartsOn:0,firstWeekContainsDate:1}};function dse(t,s){const r=Oo(t,s==null?void 0:s.in);return Cte(r,Tte(r))+1}function use(t,s){const r=Oo(t,s==null?void 0:s.in),a=+m1(r)-+kte(r);return Math.round(a/RD)+1}function zD(t,s){var h,f,p,g;const r=Oo(t,s==null?void 0:s.in),a=r.getFullYear(),n=W1(),i=(s==null?void 0:s.firstWeekContainsDate)??((f=(h=s==null?void 0:s.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(p=n.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=Zd((s==null?void 0:s.in)||t,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const l=Ip(o,s),d=Zd((s==null?void 0:s.in)||t,0);d.setFullYear(a,0,i),d.setHours(0,0,0,0);const u=Ip(d,s);return+r>=+l?a+1:+r>=+u?a:a-1}function mse(t,s){var l,d,u,h;const r=W1(),a=(s==null?void 0:s.firstWeekContainsDate)??((d=(l=s==null?void 0:s.locale)==null?void 0:l.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,n=zD(t,s),i=Zd((s==null?void 0:s.in)||t,0);return i.setFullYear(n,0,a),i.setHours(0,0,0,0),Ip(i,s)}function hse(t,s){const r=Oo(t,s==null?void 0:s.in),a=+Ip(r,s)-+mse(r,s);return Math.round(a/RD)+1}function $r(t,s){const r=t<0?"-":"",a=Math.abs(t).toString().padStart(s,"0");return r+a}const Gu={y(t,s){const r=t.getFullYear(),a=r>0?r:1-r;return $r(s==="yy"?a%100:a,s.length)},M(t,s){const r=t.getMonth();return s==="M"?String(r+1):$r(r+1,2)},d(t,s){return $r(t.getDate(),s.length)},a(t,s){const r=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,s){return $r(t.getHours()%12||12,s.length)},H(t,s){return $r(t.getHours(),s.length)},m(t,s){return $r(t.getMinutes(),s.length)},s(t,s){return $r(t.getSeconds(),s.length)},S(t,s){const r=s.length,a=t.getMilliseconds(),n=Math.trunc(a*Math.pow(10,r-3));return $r(n,s.length)}},_h={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hC={G:function(t,s,r){const a=t.getFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(t,s,r){if(s==="yo"){const a=t.getFullYear(),n=a>0?a:1-a;return r.ordinalNumber(n,{unit:"year"})}return Gu.y(t,s)},Y:function(t,s,r,a){const n=zD(t,a),i=n>0?n:1-n;if(s==="YY"){const o=i%100;return $r(o,2)}return s==="Yo"?r.ordinalNumber(i,{unit:"year"}):$r(i,s.length)},R:function(t,s){const r=BD(t);return $r(r,s.length)},u:function(t,s){const r=t.getFullYear();return $r(r,s.length)},Q:function(t,s,r){const a=Math.ceil((t.getMonth()+1)/3);switch(s){case"Q":return String(a);case"QQ":return $r(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,s,r){const a=Math.ceil((t.getMonth()+1)/3);switch(s){case"q":return String(a);case"qq":return $r(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,s,r){const a=t.getMonth();switch(s){case"M":case"MM":return Gu.M(t,s);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(t,s,r){const a=t.getMonth();switch(s){case"L":return String(a+1);case"LL":return $r(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(t,s,r,a){const n=hse(t,a);return s==="wo"?r.ordinalNumber(n,{unit:"week"}):$r(n,s.length)},I:function(t,s,r){const a=use(t);return s==="Io"?r.ordinalNumber(a,{unit:"week"}):$r(a,s.length)},d:function(t,s,r){return s==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Gu.d(t,s)},D:function(t,s,r){const a=dse(t);return s==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):$r(a,s.length)},E:function(t,s,r){const a=t.getDay();switch(s){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(t,s,r,a){const n=t.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(s){case"e":return String(i);case"ee":return $r(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"});case"eeee":default:return r.day(n,{width:"wide",context:"formatting"})}},c:function(t,s,r,a){const n=t.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(s){case"c":return String(i);case"cc":return $r(i,s.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"});case"cccc":default:return r.day(n,{width:"wide",context:"standalone"})}},i:function(t,s,r){const a=t.getDay(),n=a===0?7:a;switch(s){case"i":return String(n);case"ii":return $r(n,s.length);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(t,s,r){const n=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(t,s,r){const a=t.getHours();let n;switch(a===12?n=_h.noon:a===0?n=_h.midnight:n=a/12>=1?"pm":"am",s){case"b":case"bb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(t,s,r){const a=t.getHours();let n;switch(a>=17?n=_h.evening:a>=12?n=_h.afternoon:a>=4?n=_h.morning:n=_h.night,s){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(t,s,r){if(s==="ho"){let a=t.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return Gu.h(t,s)},H:function(t,s,r){return s==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Gu.H(t,s)},K:function(t,s,r){const a=t.getHours()%12;return s==="Ko"?r.ordinalNumber(a,{unit:"hour"}):$r(a,s.length)},k:function(t,s,r){let a=t.getHours();return a===0&&(a=24),s==="ko"?r.ordinalNumber(a,{unit:"hour"}):$r(a,s.length)},m:function(t,s,r){return s==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Gu.m(t,s)},s:function(t,s,r){return s==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Gu.s(t,s)},S:function(t,s){return Gu.S(t,s)},X:function(t,s,r){const a=t.getTimezoneOffset();if(a===0)return"Z";switch(s){case"X":return fC(a);case"XXXX":case"XX":return r0(a);case"XXXXX":case"XXX":default:return r0(a,":")}},x:function(t,s,r){const a=t.getTimezoneOffset();switch(s){case"x":return fC(a);case"xxxx":case"xx":return r0(a);case"xxxxx":case"xxx":default:return r0(a,":")}},O:function(t,s,r){const a=t.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+xC(a,":");case"OOOO":default:return"GMT"+r0(a,":")}},z:function(t,s,r){const a=t.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+xC(a,":");case"zzzz":default:return"GMT"+r0(a,":")}},t:function(t,s,r){const a=Math.trunc(+t/1e3);return $r(a,s.length)},T:function(t,s,r){return $r(+t,s.length)}};function xC(t,s=""){const r=t>0?"-":"+",a=Math.abs(t),n=Math.trunc(a/60),i=a%60;return i===0?r+String(n):r+String(n)+s+$r(i,2)}function fC(t,s){return t%60===0?(t>0?"-":"+")+$r(Math.abs(t)/60,2):r0(t,s)}function r0(t,s=""){const r=t>0?"-":"+",a=Math.abs(t),n=$r(Math.trunc(a/60),2),i=$r(a%60,2);return r+n+s+i}const pC=(t,s)=>{switch(t){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},$D=(t,s)=>{switch(t){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},xse=(t,s)=>{const r=t.match(/(P+)(p+)?/)||[],a=r[1],n=r[2];if(!n)return pC(t,s);let i;switch(a){case"P":i=s.dateTime({width:"short"});break;case"PP":i=s.dateTime({width:"medium"});break;case"PPP":i=s.dateTime({width:"long"});break;case"PPPP":default:i=s.dateTime({width:"full"});break}return i.replace("{{date}}",pC(a,s)).replace("{{time}}",$D(n,s))},fse={p:$D,P:xse},pse=/^D+$/,gse=/^Y+$/,yse=["D","DD","YY","YYYY"];function bse(t){return pse.test(t)}function vse(t){return gse.test(t)}function wse(t,s,r){const a=jse(t,s,r);if(console.warn(a),yse.includes(t))throw new RangeError(a)}function jse(t,s,r){const a=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${s}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Nse=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Sse=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_se=/^'([^]*?)'?$/,Cse=/''/g,kse=/[a-zA-Z]/;function qy(t,s,r){var h,f,p,g;const a=W1(),n=a.locale??cse,i=a.firstWeekContainsDate??((f=(h=a.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=a.weekStartsOn??((g=(p=a.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,l=Oo(t,r==null?void 0:r.in);if(!Ete(l))throw new RangeError("Invalid time value");let d=s.match(Sse).map(v=>{const y=v[0];if(y==="p"||y==="P"){const b=fse[y];return b(v,n.formatLong)}return v}).join("").match(Nse).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const y=v[0];if(y==="'")return{isToken:!1,value:Ase(v)};if(hC[y])return{isToken:!0,value:v};if(y.match(kse))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:v}});n.localize.preprocessor&&(d=n.localize.preprocessor(l,d));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:n};return d.map(v=>{if(!v.isToken)return v.value;const y=v.value;(vse(y)||bse(y))&&wse(y,s,String(t));const b=hC[y[0]];return b(l,y,n.localize,u)}).join("")}function Ase(t){const s=t.match(_se);return s?s[1].replace(Cse,"'"):t}function gC(t,s){const r=()=>Zd(s==null?void 0:s.in,NaN),n=Pse(t);let i;if(n.date){const u=Mse(n.date,2);i=Lse(u.restDateString,u.year)}if(!i||isNaN(+i))return r();const o=+i;let l=0,d;if(n.time&&(l=Fse(n.time),isNaN(l)))return r();if(n.timezone){if(d=Rse(n.timezone),isNaN(d))return r()}else{const u=new Date(o+l),h=Oo(0,s==null?void 0:s.in);return h.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),h.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),h}return Oo(o+l+d,s==null?void 0:s.in)}const Hy={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ese=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Tse=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Dse=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Pse(t){const s={},r=t.split(Hy.dateTimeDelimiter);let a;if(r.length>2)return s;if(/:/.test(r[0])?a=r[0]:(s.date=r[0],a=r[1],Hy.timeZoneDelimiter.test(s.date)&&(s.date=t.split(Hy.timeZoneDelimiter)[0],a=t.substr(s.date.length,t.length))),a){const n=Hy.timezone.exec(a);n?(s.time=a.replace(n[1],""),s.timezone=n[1]):s.time=a}return s}function Mse(t,s){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+s)+"})|(\\d{2}|[+-]\\d{"+(2+s)+"})$)"),a=t.match(r);if(!a)return{year:NaN,restDateString:""};const n=a[1]?parseInt(a[1]):null,i=a[2]?parseInt(a[2]):null;return{year:i===null?n:i*100,restDateString:t.slice((a[1]||a[2]).length)}}function Lse(t,s){if(s===null)return new Date(NaN);const r=t.match(Ese);if(!r)return new Date(NaN);const a=!!r[4],n=Pf(r[1]),i=Pf(r[2])-1,o=Pf(r[3]),l=Pf(r[4]),d=Pf(r[5])-1;if(a)return $se(s,l,d)?Ose(s,l,d):new Date(NaN);{const u=new Date(0);return!Bse(s,i,o)||!zse(s,n)?new Date(NaN):(u.setUTCFullYear(s,i,Math.max(n,o)),u)}}function Pf(t){return t?parseInt(t):1}function Fse(t){const s=t.match(Tse);if(!s)return NaN;const r=ew(s[1]),a=ew(s[2]),n=ew(s[3]);return Use(r,a,n)?r*ID+a*OD+n*1e3:NaN}function ew(t){return t&&parseFloat(t.replace(",","."))||0}function Rse(t){if(t==="Z")return 0;const s=t.match(Dse);if(!s)return 0;const r=s[1]==="+"?-1:1,a=parseInt(s[2]),n=s[3]&&parseInt(s[3])||0;return Vse(a,n)?r*(a*ID+n*OD):NaN}function Ose(t,s,r){const a=new Date(0);a.setUTCFullYear(t,0,4);const n=a.getUTCDay()||7,i=(s-1)*7+r+1-n;return a.setUTCDate(a.getUTCDate()+i),a}const Ise=[31,null,31,30,31,30,31,31,30,31,30,31];function UD(t){return t%400===0||t%4===0&&t%100!==0}function Bse(t,s,r){return s>=0&&s<=11&&r>=1&&r<=(Ise[s]||(UD(t)?29:28))}function zse(t,s){return s>=1&&s<=(UD(t)?366:365)}function $se(t,s,r){return s>=1&&s<=53&&r>=0&&r<=6}function Use(t,s,r){return t===24?s===0&&r===0:r>=0&&r<60&&s>=0&&s<60&&t>=0&&t<25}function Vse(t,s){return s>=0&&s<=59}const Wy={getAllRecords:async t=>{try{return(await Ze.get("/no-pay-records",{params:t})).data}catch(s){throw console.error("Error fetching no pay records:",s),s}},getStats:async t=>{try{return(await Ze.get("/no-pay-records/stats",{params:t})).data}catch(s){throw console.error("Error fetching stats:",s),s}},generateRecords:async t=>{try{return(await Ze.post("/no-pay-records/generate",t)).data}catch(s){throw console.error("Error generating records:",s),s}},updateStatus:async(t,s)=>{try{return(await Ze.put(`/no-pay-records/${t}`,{status:s})).data}catch(r){throw console.error("Error updating status:",r),r}},deleteRecord:async t=>{try{return(await Ze.delete(`/no-pay-records/${t}`)).data}catch(s){throw console.error("Error deleting record:",s),s}},bulkUpdateStatus:async(t,s)=>{try{return(await Ze.post("/no-pay-records/bulk-update",{ids:t,status:s})).data}catch(r){throw console.error("Error bulk updating status:",r),r}},bulkDeleteRecords:async t=>{try{return(await Ze.delete("/no-pay-records/bulk-delete",{data:{ids:t}})).data}catch(s){throw console.error("Error bulk deleting records:",s),s}}},qse=()=>{const[t,s]=N.useState(""),[r,a]=N.useState(new Date().getFullYear()),[n,i]=N.useState(""),[o,l]=N.useState(!1),[d,u]=N.useState(!1),[h,f]=N.useState(qy(new Date,"yyyy-MM-dd")),[p,g]=N.useState([]),[v,y]=N.useState([]),[b,_]=N.useState([]),[k,A]=N.useState(!1),[R,F]=N.useState([]),[V,S]=N.useState(""),[L,I]=N.useState(1),[B]=N.useState(20),[T,w]=N.useState(0),E=["January","February","March","April","May","June","July","August","September","October","November","December"],D=Array.from({length:6},(oe,J)=>new Date().getFullYear()-J),G=async()=>{try{const oe=await Ze.get("/apiData/companies");F(Array.isArray(oe.data)?oe.data:oe.data||[])}catch(oe){console.error("Error fetching companies:",oe)}},K=async()=>{l(!0);try{const oe={page:L,per_page:B};if(t&&(oe.month=E.indexOf(t)+1),r&&(oe.year=r),n&&(oe.search=n),V!==""&&V!==null&&V!==void 0){const ve=Number(V);Number.isNaN(ve)||(oe.company_id=ve)}const J=await Wy.getAllRecords(oe),re=J.data||J;g(re),w(J.total??(Array.isArray(re)?re.length:0))}catch{Me.fire({icon:"error",title:"Error",text:"Failed to fetch no-pay records",confirmButtonColor:"#3b82f6"})}finally{l(!1)}},X=async()=>{try{const oe=await Ze.get("/employees?status=Active");y(oe.data)}catch(oe){console.error("Error fetching employees:",oe)}},[se,Z]=N.useState({totalRecords:0,totalDays:0,affectedEmployees:0}),ee=async()=>{try{const oe={};if(t&&(oe.month=E.indexOf(t)+1),r&&(oe.year=r),V!==""&&V!==null&&V!==void 0){const re=Number(V);Number.isNaN(re)||(oe.company_id=re)}const J=await Wy.getStats(oe);Z({totalRecords:J.total_records??0,totalDays:J.total_days??0,affectedEmployees:J.affected_employees??0})}catch(oe){console.error("Error fetching stats:",oe)}};N.useEffect(()=>{G(),K(),X()},[t,r,L,B,V]),N.useEffect(()=>{ee()},[t,r,p,V]);const ce=oe=>{_(J=>J.includes(oe)?J.filter(re=>re!==oe):[...J,oe])},U=()=>{_(k?[]:p.map(oe=>oe.id)),A(!k)},O=async oe=>{if(b.length===0){Me.fire({icon:"warning",title:"No records selected",text:"Please select at least one record to update",confirmButtonColor:"#3b82f6"});return}if((await Me.fire({title:"Update Status?",text:`This will update ${b.length} records to ${oe}`,icon:"question",showCancelButton:!0,confirmButtonColor:"#3b82f6",cancelButtonColor:"#6b7280",confirmButtonText:"Update",cancelButtonText:"Cancel"})).isConfirmed)try{const re=await Wy.bulkUpdateStatus(b,oe);Me.fire({icon:"success",title:"Success!",text:re.message,confirmButtonColor:"#3b82f6"}),K(),ee(),_([]),A(!1)}catch{Me.fire({icon:"error",title:"Error",text:"Failed to update records",confirmButtonColor:"#3b82f6"})}},z=async()=>{if(b.length===0){Me.fire({icon:"warning",title:"No records selected",text:"Please select at least one record to delete",confirmButtonColor:"#3b82f6"});return}if((await Me.fire({title:"Delete Records?",text:`This will permanently delete ${b.length} records`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3b82f6",cancelButtonColor:"#ef4444",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{const J=await Ze.delete("/no-pay-records/bulk-delete",{data:{ids:b}});Me.fire({icon:"success",title:"Success!",text:J.data.message,confirmButtonColor:"#3b82f6"}),K(),ee(),_([]),A(!1)}catch{Me.fire({icon:"error",title:"Error",text:"Failed to delete records",confirmButtonColor:"#3b82f6"})}},q=async oe=>{if((await Me.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3b82f6",cancelButtonColor:"#ef4444",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{await Ze.delete(`/no-pay-records/${oe}`),g(p.filter(re=>re.id!==oe)),Me.fire({icon:"success",title:"Deleted!",text:"Record has been deleted.",confirmButtonColor:"#3b82f6"}),ee()}catch{Me.fire({icon:"error",title:"Error",text:"Failed to delete record",confirmButtonColor:"#3b82f6"})}},te=async()=>{var oe,J;u(!0);try{if((await Me.fire({title:"Generate No-Pay Records?",text:`This will generate records for ${qy(new Date(h),"MMMM d, yyyy")}`,icon:"question",showCancelButton:!0,confirmButtonColor:"#3b82f6",cancelButtonColor:"#6b7280",confirmButtonText:"Generate",cancelButtonText:"Cancel"})).isConfirmed){const ve={date:h};if(t&&(ve.month=E.indexOf(t)+1),r&&(ve.year=r),V!==""&&V!==null&&V!==void 0){const ae=Number(V);Number.isNaN(ae)||(ve.company_id=ae)}const pe=await Ze.post("/no-pay-records/generate",ve);Me.fire({icon:"success",title:"Success!",text:pe.data.message,confirmButtonColor:"#3b82f6"}),K(),ee()}}catch(re){Me.fire({icon:"error",title:"Error",text:((J=(oe=re.response)==null?void 0:oe.data)==null?void 0:J.message)||"Failed to generate no-pay records",confirmButtonColor:"#3b82f6"})}finally{u(!1)}},ge=()=>{const oe=window.open("","_blank","height=600,width=800"),J=new Date().toLocaleString();oe.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>No Pay Days Report</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; color: #333; }
            .report-header { text-align: center; margin-bottom: 20px; }
            .report-header h1 { margin-bottom: 5px; }
            .report-meta { font-size: 14px; margin-bottom: 20px; color: #666; }
            table { width: 100%; border-collapse: collapse; }
            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
            th { background-color: #f2f2f2; font-weight: bold; }
            tr:nth-child(even) { background-color: #f9f9f9; }
            .report-footer { margin-top: 30px; font-size: 12px; text-align: center; color: #666; }
          </style>
        </head>
        <body>
          <div class="report-header">
            <h1>No Pay Days Report</h1>
            <p>Generated on: ${J}</p>
          </div>
          
          <div class="report-meta">
            ${t?`<strong>Month:</strong> ${t} ${r} | `:""}
            ${V?`<strong>Company ID:</strong> ${V} | `:""}
            <strong>Total Records:</strong> ${p.length}
          </div>
          
          <table>
            <thead>
              <tr>
                <th>Date</th>
                <th>Emp No</th>
                <th>Name</th>
                <th>No Pay Count</th>
                <th>Description</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              ${p.map(re=>{var ve,pe;return`
                <tr>
                  <td>${qy(gC(re.date),"MMM dd, yyyy")}</td>
                  <td>${((ve=re.employee)==null?void 0:ve.attendance_employee_no)||"N/A"}</td>
                  <td>${((pe=re.employee)==null?void 0:pe.full_name)||"N/A"}</td>
                  <td>${re.no_pay_count}</td>
                  <td>${re.description}</td>
                  <td>${re.status}</td>
                </tr>
              `}).join("")}
            </tbody>
          </table>
          
          <div class="report-footer">
            <p>HR System - Cybernetic Software Solutions</p>
          </div>
        </body>
      </html>
    `),oe.document.close(),oe.focus(),oe.print()},Q=p.filter(oe=>{var ae,he,Te,Ie,Be;if(!n)return!0;const J=n.toLowerCase(),re=((he=(ae=oe.employee)==null?void 0:ae.attendance_employee_no)==null?void 0:he.toString())||"",ve=((Ie=(Te=oe.employee)==null?void 0:Te.full_name)==null?void 0:Ie.toString())||"",pe=((Be=oe.description)==null?void 0:Be.toString())||"";return re.toLowerCase().includes(J)||ve.toLowerCase().includes(J)||pe.toLowerCase().includes(J)}),ue=oe=>I(oe),ie=Math.ceil(T/B);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-slate-50 to-gray-100 py-4 sm:py-8",children:e.jsxs("div",{className:"container mx-auto px-3 sm:px-4 max-w-7xl",children:[e.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl border border-gray-200/50 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-slate-800 to-gray-900 px-4 sm:px-8 py-6 sm:py-8",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white text-center",children:"NoPay Management"}),e.jsx("p",{className:"text-slate-300 text-center mt-2 text-sm sm:text-base",children:"Manage employee no pay records and absences"})]}),e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[b.length>0&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{className:"text-blue-800 font-medium",children:[b.length," record(s) selected"]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:()=>O("Approved"),className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white font-medium rounded-lg flex items-center gap-2",children:[e.jsx(fi,{className:"w-4 h-4"}),"Approve Selected"]}),e.jsxs("button",{onClick:()=>O("Rejected"),className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white font-medium rounded-lg flex items-center gap-2",children:[e.jsx(zt,{className:"w-4 h-4"}),"Reject Selected"]}),e.jsxs("button",{onClick:z,className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white font-medium rounded-lg flex items-center gap-2",children:[e.jsx(ns,{className:"w-4 h-4"}),"Delete Selected"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Company"}),e.jsxs("select",{value:V,onChange:oe=>{S(oe.target.value),I(1)},className:"w-full p-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 bg-white shadow-sm",children:[e.jsx("option",{value:"",children:"All Companies"}),R.map(oe=>e.jsx("option",{value:oe.id,children:oe.name},oe.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Month"}),e.jsxs("select",{value:t,onChange:oe=>{s(oe.target.value),I(1)},className:"w-full p-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 bg-white shadow-sm",children:[e.jsx("option",{value:"",children:"All Months"}),E.map(oe=>e.jsx("option",{value:oe,children:oe},oe))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Year"}),e.jsx("select",{value:r,onChange:oe=>{a(parseInt(oe.target.value)),I(1)},className:"w-full p-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 bg-white shadow-sm",children:D.map(oe=>e.jsx("option",{value:oe,children:oe},oe))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Date for Generation"}),e.jsx("input",{type:"date",value:h,onChange:oe=>f(oe.target.value),className:"w-full p-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 bg-white shadow-sm"})]}),e.jsx("div",{className:"flex items-end gap-2",children:e.jsxs("button",{onClick:te,disabled:d,className:"px-4 py-3 bg-blue-500 hover:bg-blue-600 text-white font-medium rounded-xl transition-colors flex items-center gap-2 disabled:opacity-50",children:[d?e.jsx(Bi,{className:"w-5 h-5 animate-spin"}):e.jsx(Bi,{className:"w-5 h-5"}),"Generate Records"]})})]}),e.jsxs("div",{className:"relative flex-grow mb-6",children:[e.jsx("input",{type:"text",placeholder:"Search by employee number, name or description...",value:n,onChange:oe=>{i(oe.target.value),I(1)},className:"w-full p-3 pl-10 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200"}),e.jsx(or,{className:"absolute left-3 top-3.5 text-gray-400"})]}),e.jsx("div",{className:"bg-white rounded-xl shadow border border-gray-200 overflow-hidden mb-6",children:o?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-blue-500 border-t-transparent"}),e.jsx("p",{className:"mt-2",children:"Loading records..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsx("input",{type:"checkbox",checked:k,onChange:U,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Emp No"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"No Pay Count"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:Q.length>0?Q.map(oe=>{var J,re;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("input",{type:"checkbox",checked:b.includes(oe.id),onChange:()=>ce(oe.id),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:qy(gC(oe.date),"MMM dd, yyyy")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((J=oe.employee)==null?void 0:J.attendance_employee_no)||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((re=oe.employee)==null?void 0:re.full_name)||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:oe.no_pay_count}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 max-w-xs truncate",children:oe.description}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("select",{value:oe.status,onChange:async ve=>{try{await Wy.updateStatus(oe.id,ve.target.value),K(),ee()}catch{Me.fire({icon:"error",title:"Error",text:"Failed to update status",confirmButtonColor:"#3b82f6"})}},className:`px-2 py-1 text-xs rounded-full ${oe.status==="Approved"?"bg-green-100 text-green-800":oe.status==="Rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[e.jsx("option",{value:"Pending",className:"bg-yellow-100",children:"Pending"}),e.jsx("option",{value:"Approved",className:"bg-green-100",children:"Approved"}),e.jsx("option",{value:"Rejected",className:"bg-red-100",children:"Rejected"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center flex justify-center gap-2",children:e.jsx("button",{onClick:()=>q(oe.id),className:"p-2 text-red-600 hover:text-red-900 hover:bg-red-50 rounded-full transition-colors",title:"Delete record",children:e.jsx(ns,{className:"w-5 h-5"})})})]},oe.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"px-6 py-16 text-center text-gray-500",children:"No records found. Adjust your filters or add new records."})})})]})}),T>B&&e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:(L-1)*B+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min(L*B,T)})," ","of ",e.jsx("span",{className:"font-medium",children:T})," records"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>ue(L-1),disabled:L===1,className:"px-3 py-1 border border-gray-300 rounded-md flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(gl,{className:"w-4 h-4"}),"Previous"]}),Array.from({length:ie},(oe,J)=>J+1).map(oe=>e.jsx("button",{onClick:()=>ue(oe),className:`px-3 py-1 rounded-md ${L===oe?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-50"}`,children:oe},oe)),e.jsxs("button",{onClick:()=>ue(L+1),disabled:L===ie,className:"px-3 py-1 border border-gray-300 rounded-md flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",e.jsx(Pn,{className:"w-4 h-4"})]})]})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4",children:[e.jsxs("button",{onClick:ge,className:"px-6 py-3 bg-gradient-to-r from-teal-600 to-teal-700 text-white font-medium rounded-lg hover:from-teal-700 hover:to-teal-800 transition-colors shadow-md hover:shadow-lg flex items-center justify-center gap-2",children:[e.jsx(Kj,{className:"w-5 h-5"}),"Print"]}),e.jsxs("button",{onClick:()=>{K(),ee()},className:"px-6 py-3 bg-gradient-to-r from-gray-600 to-gray-700 text-white font-medium rounded-lg hover:from-gray-700 hover:to-gray-800 transition-colors shadow-md hover:shadow-lg flex items-center justify-center gap-2",children:[e.jsx(Bi,{className:"w-5 h-5"}),"Refresh"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mt-6",children:[e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total No Pay Records"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:se.totalRecords})]}),e.jsx("div",{className:"p-3 bg-red-100 rounded-xl",children:e.jsx(Ns,{className:"w-6 h-6 text-red-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total No Pay Days"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:se.totalDays})]}),e.jsx("div",{className:"p-3 bg-yellow-100 rounded-xl",children:e.jsx(ys,{className:"w-6 h-6 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Affected Employees"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:se.affectedEmployees})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:e.jsx(er,{className:"w-6 h-6 text-blue-600"})})]})})]})]})})},Hse=()=>{var Be,Le;const[t,s]=N.useState(new Date().getMonth()),[r,a]=N.useState(new Date().getFullYear()),[n,i]=N.useState([]),[o,l]=N.useState([]),[d,u]=N.useState(!1),[h,f]=N.useState([]),[p,g]=N.useState(!1),[v,y]=N.useState(""),[b,_]=N.useState("Annual"),[k,A]=N.useState(""),[R,F]=N.useState(""),[V,S]=N.useState(""),[L,I]=N.useState(""),[B,T]=N.useState([]),[w,E]=N.useState([]),[D,G]=N.useState(""),[K,X]=N.useState(""),[se,Z]=N.useState(!1),ee=()=>new Date().toISOString().split("T")[0];N.useEffect(()=>{(async()=>{Z(!0);try{const Ve=await Qd();T(Ve)}catch(Ve){console.error("Error loading companies:",Ve),Me.fire({icon:"error",title:"Error",text:"Failed to load companies. Please try again later."})}finally{Z(!1)}})()},[]),N.useEffect(()=>{(async()=>{if(D)try{const Ve=await fN(D);E(Ve),X("")}catch(Ve){console.error("Error loading departments:",Ve)}else E([]),X("")})()},[D]),N.useEffect(()=>{(async()=>{if(D){Z(!0);try{const gt=(await FD()).filter(Ae=>K?Ae.company_id==D&&(Ae.department_id==null||Ae.department_id==K):Ae.company_id==D&&Ae.department_id==null).map(Ae=>{const We=Q(Ae.start_date,Ae.end_date||Ae.start_date);return{id:Ae.id,dates:We,startDate:Ae.start_date,endDate:Ae.end_date||Ae.start_date,description:Ae.reason||"",type:Ae.leave_type,status:"Approved",duration:We.length,company_id:Ae.company_id,department_id:Ae.department_id}});l(gt);const Pe=gt.flatMap(Ae=>Ae.dates);i(Pe)}catch(Ve){console.error("Error loading leave data:",Ve),Me.fire({icon:"error",title:"Error",text:"Failed to load leave calendar data. Please try again later."})}finally{Z(!1)}}else l([]),i([])})()},[D,K]);const ce=["January","February","March","April","May","June","July","August","September","October","November","December"],U=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],O=[{value:"Annual",color:"bg-blue-500",lightColor:"bg-blue-100",textColor:"text-blue-800"},{value:"Event",color:"bg-red-500",lightColor:"bg-red-100",textColor:"text-red-800"},{value:"Personal",color:"bg-green-500",lightColor:"bg-green-100",textColor:"text-green-800"},{value:"Emergency",color:"bg-orange-500",lightColor:"bg-orange-100",textColor:"text-orange-800"},{value:"Maternity",color:"bg-purple-500",lightColor:"bg-purple-100",textColor:"text-purple-800"},{value:"Other",color:"bg-gray-500",lightColor:"bg-gray-100",textColor:"text-gray-800"}],z=(Ee,Ve)=>new Date(Ve,Ee+1,0).getDate(),q=(Ee,Ve)=>new Date(Ve,Ee,1).getDay(),te=()=>{const Ee=z(t,r),Ve=q(t,r),mt=[];for(let gt=0;gt<Ve;gt++)mt.push(null);for(let gt=1;gt<=Ee;gt++)mt.push(gt);return mt},ge=Ee=>{if(!Ee)return null;const Ve=`${r}-${String(t+1).padStart(2,"0")}-${String(Ee).padStart(2,"0")}`;return o.find(mt=>mt.dates&&mt.dates.includes(Ve))},Q=(Ee,Ve)=>{const mt=[],gt=new Date(Ee+"T00:00:00"),Pe=new Date(Ve+"T00:00:00"),Ae=new Date(gt);for(;Ae<=Pe;){const We=`${Ae.getFullYear()}-${String(Ae.getMonth()+1).padStart(2,"0")}-${String(Ae.getDate()).padStart(2,"0")}`;mt.push(We),Ae.setDate(Ae.getDate()+1)}return mt},ue=Ee=>{if(!Ee)return;const Ve=`${r}-${String(t+1).padStart(2,"0")}-${String(Ee).padStart(2,"0")}`,mt=new Date(Ve),gt=new Date;if(gt.setHours(0,0,0,0),mt<gt){Me.fire({title:"Invalid Date",text:"You cannot select past dates for leave requests",icon:"warning"});return}const Pe=o.find(Ae=>Ae.dates&&Ae.dates.includes(Ve));if(Pe)Me.fire({title:"Remove Leave Request?",text:"Do you want to remove this leave request?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, remove it",cancelButtonText:"Cancel"}).then(Ae=>{Ae.isConfirmed&&wte(Pe.id).then(()=>{i(We=>We.filter(Xe=>!Pe.dates.includes(Xe))),l(We=>We.filter(Xe=>Xe.id!==Pe.id)),Me.fire({title:"Deleted!",text:"Leave request has been removed.",icon:"success",timer:2e3,showConfirmButton:!1})}).catch(We=>{Me.fire({title:"Error",text:"Failed to delete leave request.",icon:"error"})})});else{if(!D){Me.fire({title:"Company Required",text:"Please select a company before adding a leave request",icon:"warning"});return}F(Ve),S(Ve),y(""),_("Annual"),u(!0)}},ie=Ee=>{s(parseInt(Ee.target.value))},oe=Ee=>{a(Ve=>Ve+Ee)},J=async()=>{if(R&&v.trim()){if(V&&new Date(R)>new Date(V)){Me.fire({title:"Date Error",text:"End date cannot be before start date!",icon:"error"});return}if(b==="Other"&&!L.trim()){Me.fire({title:"Input Required",text:"Please enter a custom leave type!",icon:"warning"});return}const Ee=b==="Other"?L.trim():b,Ve=Q(R,V||R);if(Ve.some(gt=>o.some(Pe=>Pe.dates&&Pe.dates.includes(gt)))){Me.fire({title:"Date Conflict",text:"Some dates in this range already have leave requests!",icon:"warning"});return}try{Z(!0);const gt={company_id:parseInt(D),leave_type:Ee,reason:v.trim(),start_date:R,end_date:V&&V!==R?V:null};K&&(gt.department_id=parseInt(K));const Ae={id:(await bte(gt)).id,dates:Ve,startDate:R,endDate:V||R,description:v.trim(),type:Ee,status:"Approved",duration:Ve.length,company_id:parseInt(D),department_id:K?parseInt(K):null};i(We=>[...We,...Ve]),l(We=>[...We,Ae]),y(""),_("Annual"),I(""),F(""),S(""),u(!1),Me.fire({title:"Success!",text:"Leave request has been added.",icon:"success",timer:2e3,showConfirmButton:!1})}catch(gt){console.error("Error saving leave request:",gt),Me.fire({title:"Error",text:"Failed to save leave request. Please try again.",icon:"error"})}finally{Z(!1)}}},re=()=>{y(""),_("Annual"),I(""),F(""),S(""),u(!1)},ve=async()=>{if(o.length===0){Me.fire({title:"No Requests",text:"No leave requests to process!",icon:"info"});return}const Ee=o.filter(mt=>mt.status==="Pending");if(Ee.length===0){Me.fire({title:"No Pending Requests",text:"No pending leave requests to process!",icon:"info"});return}const{isConfirmed:Ve}=await Me.fire({title:"Process Requests?",text:`Process ${Ee.length} pending leave request(s)?`,icon:"question",showCancelButton:!0,confirmButtonText:"Yes, process them",cancelButtonText:"Cancel"});if(Ve){Z(!0);try{const mt=Ee.map(gt=>vte(gt.id,{status:"Approved"}));await Promise.all(mt),l(gt=>gt.map(Pe=>Pe.status==="Pending"?{...Pe,status:"Approved"}:Pe)),Me.fire({title:"Success!",text:`${Ee.length} leave request(s) approved successfully!`,icon:"success",timer:2e3,showConfirmButton:!1})}catch(mt){console.error("Error processing leave requests:",mt),Me.fire({title:"Error",text:"Failed to process some leave requests. Please try again.",icon:"error"})}finally{Z(!1)}}},pe=Ee=>new Date(Ee+"T00:00:00").toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),ae=(Ee,Ve)=>Ee===Ve?pe(Ee):`${pe(Ee)} - ${pe(Ve)}`,he=Ee=>O.find(Ve=>Ve.value===Ee)||O[0],Te=o.filter(Ee=>Ee.description.toLowerCase().includes(k.toLowerCase())||Ee.type.toLowerCase().includes(k.toLowerCase())||ae(Ee.startDate,Ee.endDate).toLowerCase().includes(k.toLowerCase())),Ie=te();return e.jsxs("div",{className:"min-h-screen bg-gray-50 p-4",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:e.jsx(ys,{className:"w-6 h-6 text-white"})}),"Leave Calendar"]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and track employee leave requests"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>oe(-1),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",children:e.jsx(gl,{size:20})}),e.jsx("span",{className:"text-lg font-semibold text-gray-900 min-w-[80px] text-center",children:r}),e.jsx("button",{onClick:()=>oe(1),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",children:e.jsx(Pn,{size:20})})]})]})}),e.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),e.jsxs("div",{className:"relative",children:[e.jsx(Kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),e.jsxs("select",{value:D,onChange:Ee=>G(Ee.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"",children:"Select Company"}),B.map(Ee=>e.jsx("option",{value:Ee.id,children:Ee.name},Ee.id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),e.jsxs("div",{className:"relative",children:[e.jsx(Uh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),e.jsxs("select",{value:K,onChange:Ee=>X(Ee.target.value),disabled:!D,className:`w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${D?"":"bg-gray-100 cursor-not-allowed"}`,children:[e.jsx("option",{value:"",children:"Select Department"}),w.map(Ee=>e.jsx("option",{value:Ee.id,children:Ee.name},Ee.id))]})]})]})]}),e.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-1 bg-blue-100 rounded-full",children:e.jsx(ys,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"How to use:"}),e.jsx("p",{className:"text-blue-800 text-sm",children:"Select a company to create company-wide leaves or select both company and department for department-specific leaves. Click on any calendar day to add a leave request. You can specify date ranges for multi-day leave. Click on existing leave days to remove them."})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Requests"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Te.length})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:e.jsx(xs,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:Te.filter(Ee=>Ee.status==="Approved").length})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:e.jsx(vs,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:Te.filter(Ee=>Ee.status==="Pending").length})]}),e.jsx("div",{className:"p-3 bg-orange-100 rounded-xl",children:e.jsx(Ns,{className:"w-6 h-6 text-orange-600"})})]})}),e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Month"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:Te.filter(Ee=>Ee.dates&&Ee.dates.some(Ve=>{const mt=new Date(Ve+"T00:00:00");return mt.getMonth()===t&&mt.getFullYear()===r})).length})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:e.jsx(ta,{className:"w-6 h-6 text-purple-600"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-lg font-semibold text-gray-700 mb-2",children:"Month"}),e.jsx("select",{value:t,onChange:ie,className:"px-4 py-3 border border-gray-200 rounded-xl bg-white text-lg min-w-[200px] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:ce.map((Ee,Ve)=>e.jsx("option",{value:Ve,children:Ee},Ve))})]}),e.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[U.map(Ee=>e.jsx("div",{className:"p-3 text-center font-semibold text-gray-600 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl",children:Ee},Ee)),Ie.map((Ee,Ve)=>{const mt=ge(Ee),gt=mt?he(mt.type):null;return e.jsx("div",{onClick:()=>ue(Ee),className:`
                        h-20 p-3 border border-gray-200 rounded-xl cursor-pointer transition-all duration-200 relative
                        ${Ee?"hover:shadow-lg hover:scale-[1.02]":"cursor-default"}
                        ${mt?`${gt.color} text-white hover:brightness-75`:"bg-white hover:bg-gray-10 hover:border-gray-300"}
                        ${Ee?"":"bg-gray-50 border-gray-100"}
                      `,children:Ee&&e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("span",{className:`text-lg font-semibold ${mt?"text-white":"text-gray-900"}`,children:Ee}),mt&&e.jsxs("div",{className:"mt-1",children:[e.jsx("span",{className:"text-xs opacity-90 block truncate",children:mt.type}),e.jsxs("span",{className:"text-xs opacity-75 block truncate",children:[mt.duration,"d "," ",mt.status]})]})]})},Ve)})]})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Leave Requests"}),e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:Te.length})]}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx(or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search requests...",value:k,onChange:Ee=>A(Ee.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:Te.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(ys,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"No leave requests"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:D&&K?"Click on calendar days to add requests":"Select a company and department"})]}):Te.map(Ee=>{const Ve=he(Ee.type),mt=B.find(Pe=>Pe.id==Ee.company_id),gt=w.find(Pe=>Pe.id==Ee.department_id);return e.jsxs("div",{className:"p-4 border border-gray-200 rounded-xl hover:bg-gray-50 transition-colors",children:[e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Ve.lightColor} ${Ve.textColor}`,children:Ee.type}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Ee.status==="Approved"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:Ee.status}),e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[Ee.duration," day",Ee.duration>1?"s":""]})]})}),mt&&gt&&e.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:[mt.name,"  ",gt.name]}),e.jsx("div",{className:"text-sm font-medium text-gray-900 mb-1",children:ae(Ee.startDate,Ee.endDate)}),e.jsx("div",{className:"text-sm text-gray-600",children:Ee.description})]},Ee.id)})}),Te.filter(Ee=>Ee.status==="Pending").length>0&&e.jsx("button",{onClick:ve,disabled:se,className:`
                    w-full mt-6 py-3 px-4 rounded-xl font-semibold text-white transition-all duration-200 shadow-lg
                    bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 hover:shadow-xl transform hover:-translate-y-0.5
                    ${se?"opacity-70 cursor-not-allowed":""}
                  `,children:se?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(Ps,{className:"w-5 h-5 animate-spin mr-2"}),"Processing..."]}):e.jsxs(e.Fragment,{children:["Process Pending (",Te.filter(Ee=>Ee.status==="Pending").length,")"]})})]})})]})]}),d&&e.jsx("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add Leave Request"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Select date range for your leave"})]}),e.jsx("button",{onClick:re,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:e.jsx(zt,{size:20})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-xl",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Company"}),e.jsx("p",{className:"font-medium text-gray-800",children:(Be=B.find(Ee=>Ee.id==D))==null?void 0:Be.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Department"}),e.jsx("p",{className:"font-medium text-gray-800",children:((Le=w.find(Ee=>Ee.id==K))==null?void 0:Le.name)||e.jsx("span",{className:"text-gray-400 italic",children:"Company-wide"})})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Start Date"}),e.jsx("input",{type:"date",value:R,min:ee(),onChange:Ee=>{const Ve=new Date(Ee.target.value),mt=new Date;if(mt.setHours(0,0,0,0),Ve<mt){Me.fire({title:"Invalid Date",text:"You cannot select past dates for leave requests",icon:"warning"});return}F(Ee.target.value)},className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"End Date"}),e.jsx("input",{type:"date",value:V,min:R||ee(),onChange:Ee=>{const Ve=new Date(Ee.target.value),mt=new Date;if(mt.setHours(0,0,0,0),Ve<mt){Me.fire({title:"Invalid Date",text:"You cannot select past dates for leave requests",icon:"warning"});return}S(Ee.target.value)},className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),R&&V&&e.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-xl",children:[e.jsxs("p",{className:"text-blue-800 text-sm",children:[e.jsx("strong",{children:"Duration:"})," ",Q(R,V).length," day",Q(R,V).length>1?"s":""]}),e.jsx("p",{className:"text-blue-600 text-xs mt-1",children:ae(R,V)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Leave Type"}),e.jsx("select",{value:b,onChange:Ee=>{_(Ee.target.value),Ee.target.value!=="Other"&&I("")},className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:O.map(Ee=>e.jsx("option",{value:Ee.value,children:Ee.value},Ee.value))}),b==="Other"&&e.jsx("div",{className:"mt-3",children:e.jsx("input",{type:"text",value:L,onChange:Ee=>I(Ee.target.value),placeholder:"Enter leave type...",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Reason for Leave *"}),e.jsx("textarea",{value:v,onChange:Ee=>y(Ee.target.value),placeholder:"Enter reason for leave...",className:"w-full p-3 border border-gray-200 rounded-xl resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",rows:"4",autoFocus:!0})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-100 bg-gray-50",children:[e.jsx("button",{onClick:re,className:"px-6 py-3 text-gray-600 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 transition-all font-medium",disabled:se,children:"Cancel"}),e.jsx("button",{onClick:J,disabled:!R||!v.trim()||se,className:`
                  px-6 py-3 rounded-xl font-medium transition-all shadow-lg
                  ${R&&v.trim()&&!se?"bg-gradient-to-r from-blue-600 to-blue-700 text-white hover:from-blue-700 hover:to-blue-800 transform hover:-translate-y-0.5":"bg-gray-300 text-gray-500 cursor-not-allowed shadow-none"}
                `,children:se?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(Ps,{className:"w-5 h-5 animate-spin mr-2"}),"Saving..."]}):"Add Request"})]})]})}),se&&e.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl flex flex-col items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500 mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium text-sm sm:text-base",children:"Loading calendar data..."})]})})]})},Wse="modulepreload",Gse=function(t){return"/"+t},yC={},dj=function(s,r,a){let n=Promise.resolve();if(r&&r.length>0){let o=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),d=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));n=o(r.map(u=>{if(u=Gse(u),u in yC)return;yC[u]=!0;const h=u.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=h?"stylesheet":Wse,h||(p.as="script"),p.crossOrigin="",p.href=u,d&&p.setAttribute("nonce",d),document.head.appendChild(p),h)return new Promise((g,v)=>{p.addEventListener("load",g),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return n.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return s().catch(i)})};function qr(t){"@babel/helpers - typeof";return qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},qr(t)}var xi=Uint8Array,Mo=Uint16Array,a5=Int32Array,G1=new xi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Y1=new xi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),uj=new xi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),VD=function(t,s){for(var r=new Mo(31),a=0;a<31;++a)r[a]=s+=1<<t[a-1];for(var n=new a5(r[30]),a=1;a<30;++a)for(var i=r[a];i<r[a+1];++i)n[i]=i-r[a]<<5|a;return{b:r,r:n}},qD=VD(G1,2),HD=qD.b,mj=qD.r;HD[28]=258,mj[258]=28;var WD=VD(Y1,0),Yse=WD.b,bC=WD.r,hj=new Mo(32768);for(var la=0;la<32768;++la){var Yu=(la&43690)>>1|(la&21845)<<1;Yu=(Yu&52428)>>2|(Yu&13107)<<2,Yu=(Yu&61680)>>4|(Yu&3855)<<4,hj[la]=((Yu&65280)>>8|(Yu&255)<<8)>>1}var Kc=function(t,s,r){for(var a=t.length,n=0,i=new Mo(s);n<a;++n)t[n]&&++i[t[n]-1];var o=new Mo(s);for(n=1;n<s;++n)o[n]=o[n-1]+i[n-1]<<1;var l;if(r){l=new Mo(1<<s);var d=15-s;for(n=0;n<a;++n)if(t[n])for(var u=n<<4|t[n],h=s-t[n],f=o[t[n]-1]++<<h,p=f|(1<<h)-1;f<=p;++f)l[hj[f]>>d]=u}else for(l=new Mo(a),n=0;n<a;++n)t[n]&&(l[n]=hj[o[t[n]-1]++]>>15-t[n]);return l},xm=new xi(288);for(var la=0;la<144;++la)xm[la]=8;for(var la=144;la<256;++la)xm[la]=9;for(var la=256;la<280;++la)xm[la]=7;for(var la=280;la<288;++la)xm[la]=8;var Bp=new xi(32);for(var la=0;la<32;++la)Bp[la]=5;var Kse=Kc(xm,9,0),Xse=Kc(xm,9,1),Qse=Kc(Bp,5,0),Jse=Kc(Bp,5,1),tw=function(t){for(var s=t[0],r=1;r<t.length;++r)t[r]>s&&(s=t[r]);return s},Ul=function(t,s,r){var a=s/8|0;return(t[a]|t[a+1]<<8)>>(s&7)&r},sw=function(t,s){var r=s/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(s&7)},n5=function(t){return(t+7)/8|0},GD=function(t,s,r){return(r==null||r>t.length)&&(r=t.length),new xi(t.subarray(s,r))},Zse=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Hl=function(t,s,r){var a=new Error(s||Zse[t]);if(a.code=t,Error.captureStackTrace&&Error.captureStackTrace(a,Hl),!r)throw a;return a},ere=function(t,s,r,a){var n=t.length,i=0;if(!n||s.f&&!s.l)return r||new xi(0);var o=!r,l=o||s.i!=2,d=s.i;o&&(r=new xi(n*3));var u=function(oe){var J=r.length;if(oe>J){var re=new xi(Math.max(J*2,oe));re.set(r),r=re}},h=s.f||0,f=s.p||0,p=s.b||0,g=s.l,v=s.d,y=s.m,b=s.n,_=n*8;do{if(!g){h=Ul(t,f,1);var k=Ul(t,f+1,3);if(f+=3,k)if(k==1)g=Xse,v=Jse,y=9,b=5;else if(k==2){var V=Ul(t,f,31)+257,S=Ul(t,f+10,15)+4,L=V+Ul(t,f+5,31)+1;f+=14;for(var I=new xi(L),B=new xi(19),T=0;T<S;++T)B[uj[T]]=Ul(t,f+T*3,7);f+=S*3;for(var w=tw(B),E=(1<<w)-1,D=Kc(B,w,1),T=0;T<L;){var G=D[Ul(t,f,E)];f+=G&15;var A=G>>4;if(A<16)I[T++]=A;else{var K=0,X=0;for(A==16?(X=3+Ul(t,f,3),f+=2,K=I[T-1]):A==17?(X=3+Ul(t,f,7),f+=3):A==18&&(X=11+Ul(t,f,127),f+=7);X--;)I[T++]=K}}var se=I.subarray(0,V),Z=I.subarray(V);y=tw(se),b=tw(Z),g=Kc(se,y,1),v=Kc(Z,b,1)}else Hl(1);else{var A=n5(f)+4,R=t[A-4]|t[A-3]<<8,F=A+R;if(F>n){d&&Hl(0);break}l&&u(p+R),r.set(t.subarray(A,F),p),s.b=p+=R,s.p=f=F*8,s.f=h;continue}if(f>_){d&&Hl(0);break}}l&&u(p+131072);for(var ee=(1<<y)-1,ce=(1<<b)-1,U=f;;U=f){var K=g[sw(t,f)&ee],O=K>>4;if(f+=K&15,f>_){d&&Hl(0);break}if(K||Hl(2),O<256)r[p++]=O;else if(O==256){U=f,g=null;break}else{var z=O-254;if(O>264){var T=O-257,q=G1[T];z=Ul(t,f,(1<<q)-1)+HD[T],f+=q}var te=v[sw(t,f)&ce],ge=te>>4;te||Hl(3),f+=te&15;var Z=Yse[ge];if(ge>3){var q=Y1[ge];Z+=sw(t,f)&(1<<q)-1,f+=q}if(f>_){d&&Hl(0);break}l&&u(p+131072);var Q=p+z;if(p<Z){var ue=i-Z,ie=Math.min(Z,Q);for(ue+p<0&&Hl(3);p<ie;++p)r[p]=a[ue+p]}for(;p<Q;++p)r[p]=r[p-Z]}}s.l=g,s.p=U,s.b=p,s.f=h,g&&(h=1,s.m=y,s.d=v,s.n=b)}while(!h);return p!=r.length&&o?GD(r,0,p):r.subarray(0,p)},Od=function(t,s,r){r<<=s&7;var a=s/8|0;t[a]|=r,t[a+1]|=r>>8},Mf=function(t,s,r){r<<=s&7;var a=s/8|0;t[a]|=r,t[a+1]|=r>>8,t[a+2]|=r>>16},rw=function(t,s){for(var r=[],a=0;a<t.length;++a)t[a]&&r.push({s:a,f:t[a]});var n=r.length,i=r.slice();if(!n)return{t:KD,l:0};if(n==1){var o=new xi(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(F,V){return F.f-V.f}),r.push({s:-1,f:25001});var l=r[0],d=r[1],u=0,h=1,f=2;for(r[0]={s:-1,f:l.f+d.f,l,r:d};h!=n-1;)l=r[r[u].f<r[f].f?u++:f++],d=r[u!=h&&r[u].f<r[f].f?u++:f++],r[h++]={s:-1,f:l.f+d.f,l,r:d};for(var p=i[0].s,a=1;a<n;++a)i[a].s>p&&(p=i[a].s);var g=new Mo(p+1),v=xj(r[h-1],g,0);if(v>s){var a=0,y=0,b=v-s,_=1<<b;for(i.sort(function(V,S){return g[S.s]-g[V.s]||V.f-S.f});a<n;++a){var k=i[a].s;if(g[k]>s)y+=_-(1<<v-g[k]),g[k]=s;else break}for(y>>=b;y>0;){var A=i[a].s;g[A]<s?y-=1<<s-g[A]++-1:++a}for(;a>=0&&y;--a){var R=i[a].s;g[R]==s&&(--g[R],++y)}v=s}return{t:new xi(g),l:v}},xj=function(t,s,r){return t.s==-1?Math.max(xj(t.l,s,r+1),xj(t.r,s,r+1)):s[t.s]=r},vC=function(t){for(var s=t.length;s&&!t[--s];);for(var r=new Mo(++s),a=0,n=t[0],i=1,o=function(d){r[a++]=d},l=1;l<=s;++l)if(t[l]==n&&l!=s)++i;else{if(!n&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(n),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(n);i=1,n=t[l]}return{c:r.subarray(0,a),n:s}},Lf=function(t,s){for(var r=0,a=0;a<s.length;++a)r+=t[a]*s[a];return r},YD=function(t,s,r){var a=r.length,n=n5(s+2);t[n]=a&255,t[n+1]=a>>8,t[n+2]=t[n]^255,t[n+3]=t[n+1]^255;for(var i=0;i<a;++i)t[n+i+4]=r[i];return(n+4+a)*8},wC=function(t,s,r,a,n,i,o,l,d,u,h){Od(s,h++,r),++n[256];for(var f=rw(n,15),p=f.t,g=f.l,v=rw(i,15),y=v.t,b=v.l,_=vC(p),k=_.c,A=_.n,R=vC(y),F=R.c,V=R.n,S=new Mo(19),L=0;L<k.length;++L)++S[k[L]&31];for(var L=0;L<F.length;++L)++S[F[L]&31];for(var I=rw(S,7),B=I.t,T=I.l,w=19;w>4&&!B[uj[w-1]];--w);var E=u+5<<3,D=Lf(n,xm)+Lf(i,Bp)+o,G=Lf(n,p)+Lf(i,y)+o+14+3*w+Lf(S,B)+2*S[16]+3*S[17]+7*S[18];if(d>=0&&E<=D&&E<=G)return YD(s,h,t.subarray(d,d+u));var K,X,se,Z;if(Od(s,h,1+(G<D)),h+=2,G<D){K=Kc(p,g,0),X=p,se=Kc(y,b,0),Z=y;var ee=Kc(B,T,0);Od(s,h,A-257),Od(s,h+5,V-1),Od(s,h+10,w-4),h+=14;for(var L=0;L<w;++L)Od(s,h+3*L,B[uj[L]]);h+=3*w;for(var ce=[k,F],U=0;U<2;++U)for(var O=ce[U],L=0;L<O.length;++L){var z=O[L]&31;Od(s,h,ee[z]),h+=B[z],z>15&&(Od(s,h,O[L]>>5&127),h+=O[L]>>12)}}else K=Kse,X=xm,se=Qse,Z=Bp;for(var L=0;L<l;++L){var q=a[L];if(q>255){var z=q>>18&31;Mf(s,h,K[z+257]),h+=X[z+257],z>7&&(Od(s,h,q>>23&31),h+=G1[z]);var te=q&31;Mf(s,h,se[te]),h+=Z[te],te>3&&(Mf(s,h,q>>5&8191),h+=Y1[te])}else Mf(s,h,K[q]),h+=X[q]}return Mf(s,h,K[256]),h+X[256]},tre=new a5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),KD=new xi(0),sre=function(t,s,r,a,n,i){var o=i.z||t.length,l=new xi(a+o+5*(1+Math.ceil(o/7e3))+n),d=l.subarray(a,l.length-n),u=i.l,h=(i.r||0)&7;if(s){h&&(d[0]=i.r>>3);for(var f=tre[s-1],p=f>>13,g=f&8191,v=(1<<r)-1,y=i.p||new Mo(32768),b=i.h||new Mo(v+1),_=Math.ceil(r/3),k=2*_,A=function(ve){return(t[ve]^t[ve+1]<<_^t[ve+2]<<k)&v},R=new a5(25e3),F=new Mo(288),V=new Mo(32),S=0,L=0,I=i.i||0,B=0,T=i.w||0,w=0;I+2<o;++I){var E=A(I),D=I&32767,G=b[E];if(y[D]=G,b[E]=D,T<=I){var K=o-I;if((S>7e3||B>24576)&&(K>423||!u)){h=wC(t,d,0,R,F,V,L,B,w,I-w,h),B=S=L=0,w=I;for(var X=0;X<286;++X)F[X]=0;for(var X=0;X<30;++X)V[X]=0}var se=2,Z=0,ee=g,ce=D-G&32767;if(K>2&&E==A(I-ce))for(var U=Math.min(p,K)-1,O=Math.min(32767,I),z=Math.min(258,K);ce<=O&&--ee&&D!=G;){if(t[I+se]==t[I+se-ce]){for(var q=0;q<z&&t[I+q]==t[I+q-ce];++q);if(q>se){if(se=q,Z=ce,q>U)break;for(var te=Math.min(ce,q-2),ge=0,X=0;X<te;++X){var Q=I-ce+X&32767,ue=y[Q],ie=Q-ue&32767;ie>ge&&(ge=ie,G=Q)}}}D=G,G=y[D],ce+=D-G&32767}if(Z){R[B++]=268435456|mj[se]<<18|bC[Z];var oe=mj[se]&31,J=bC[Z]&31;L+=G1[oe]+Y1[J],++F[257+oe],++V[J],T=I+se,++S}else R[B++]=t[I],++F[t[I]]}}for(I=Math.max(I,T);I<o;++I)R[B++]=t[I],++F[t[I]];h=wC(t,d,u,R,F,V,L,B,w,I-w,h),u||(i.r=h&7|d[h/8|0]<<3,h-=7,i.h=b,i.p=y,i.i=I,i.w=T)}else{for(var I=i.w||0;I<o+u;I+=65535){var re=I+65535;re>=o&&(d[h/8|0]=u,re=o),h=YD(d,h+1,t.subarray(I,re))}i.i=o}return GD(l,0,a+n5(h)+n)},XD=function(){var t=1,s=0;return{p:function(r){for(var a=t,n=s,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)n+=a+=r[o];a=(a&65535)+15*(a>>16),n=(n&65535)+15*(n>>16)}t=a,s=n},d:function(){return t%=65521,s%=65521,(t&255)<<24|(t&65280)<<8|(s&255)<<8|s>>8}}},rre=function(t,s,r,a,n){if(!n&&(n={l:1},s.dictionary)){var i=s.dictionary.subarray(-32768),o=new xi(i.length+t.length);o.set(i),o.set(t,i.length),t=o,n.w=i.length}return sre(t,s.level==null?6:s.level,s.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+s.mem,r,a,n)},QD=function(t,s,r){for(;r;++s)t[s]=r,r>>>=8},are=function(t,s){var r=s.level,a=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=a<<6|(s.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,s.dictionary){var n=XD();n.p(s.dictionary),QD(t,2,n.d())}},nre=function(t,s){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Hl(6,"invalid zlib data"),(t[1]>>5&1)==1&&Hl(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function fj(t,s){s||(s={});var r=XD();r.p(t);var a=rre(t,s,s.dictionary?6:2,4);return are(a,s),QD(a,a.length-4,r.d()),a}function ire(t,s){return ere(t.subarray(nre(t),-4),{i:2},s,s)}var ore=typeof TextDecoder<"u"&&new TextDecoder,lre=0;try{ore.decode(KD,{stream:!0}),lre=1}catch{}var Ds=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function aw(){Ds.console&&typeof Ds.console.log=="function"&&Ds.console.log.apply(Ds.console,arguments)}var Kr={log:aw,warn:function(t){Ds.console&&(typeof Ds.console.warn=="function"?Ds.console.warn.apply(Ds.console,arguments):aw.call(null,arguments))},error:function(t){Ds.console&&(typeof Ds.console.error=="function"?Ds.console.error.apply(Ds.console,arguments):aw(t))}};function nw(t,s,r){var a=new XMLHttpRequest;a.open("GET",t),a.responseType="blob",a.onload=function(){a0(a.response,s,r)},a.onerror=function(){Kr.error("could not download file")},a.send()}function jC(t){var s=new XMLHttpRequest;s.open("HEAD",t,!1);try{s.send()}catch{}return s.status>=200&&s.status<=299}function Gy(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(s)}}var hp,pj,a0=Ds.saveAs||((typeof window>"u"?"undefined":qr(window))!=="object"||window!==Ds?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,s,r){var a=Ds.URL||Ds.webkitURL,n=document.createElement("a");s=s||t.name||"download",n.download=s,n.rel="noopener",typeof t=="string"?(n.href=t,n.origin!==location.origin?jC(n.href)?nw(t,s,r):Gy(n,n.target="_blank"):Gy(n)):(n.href=a.createObjectURL(t),setTimeout(function(){a.revokeObjectURL(n.href)},4e4),setTimeout(function(){Gy(n)},0))}:"msSaveOrOpenBlob"in navigator?function(t,s,r){if(s=s||t.name||"download",typeof t=="string")if(jC(t))nw(t,s,r);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout(function(){Gy(a)})}else navigator.msSaveOrOpenBlob(function(n,i){return i===void 0?i={autoBom:!1}:qr(i)!=="object"&&(Kr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n}(t,r),s)}:function(t,s,r,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof t=="string")return nw(t,s,r);var n=t.type==="application/octet-stream",i=/constructor/i.test(Ds.HTMLElement)||Ds.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||n&&i)&&(typeof FileReader>"u"?"undefined":qr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var h=l.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=h:location=h,a=null},l.readAsDataURL(t)}else{var d=Ds.URL||Ds.webkitURL,u=d.createObjectURL(t);a?a.location=u:location.href=u,a=null,setTimeout(function(){d.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function JD(t){var s;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],a=0;a<r.length;a++){var n=r[a].re,i=r[a].process,o=n.exec(t);o&&(s=i(o),this.r=s[0],this.g=s[1],this.b=s[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),d=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),d.length==1&&(d="0"+d),u.length==1&&(u="0"+u),"#"+l+d+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function iw(t,s){var r=t[0],a=t[1],n=t[2],i=t[3];r=ii(r,a,n,i,s[0],7,-680876936),i=ii(i,r,a,n,s[1],12,-389564586),n=ii(n,i,r,a,s[2],17,606105819),a=ii(a,n,i,r,s[3],22,-1044525330),r=ii(r,a,n,i,s[4],7,-176418897),i=ii(i,r,a,n,s[5],12,1200080426),n=ii(n,i,r,a,s[6],17,-1473231341),a=ii(a,n,i,r,s[7],22,-45705983),r=ii(r,a,n,i,s[8],7,1770035416),i=ii(i,r,a,n,s[9],12,-1958414417),n=ii(n,i,r,a,s[10],17,-42063),a=ii(a,n,i,r,s[11],22,-1990404162),r=ii(r,a,n,i,s[12],7,1804603682),i=ii(i,r,a,n,s[13],12,-40341101),n=ii(n,i,r,a,s[14],17,-1502002290),r=oi(r,a=ii(a,n,i,r,s[15],22,1236535329),n,i,s[1],5,-165796510),i=oi(i,r,a,n,s[6],9,-1069501632),n=oi(n,i,r,a,s[11],14,643717713),a=oi(a,n,i,r,s[0],20,-373897302),r=oi(r,a,n,i,s[5],5,-701558691),i=oi(i,r,a,n,s[10],9,38016083),n=oi(n,i,r,a,s[15],14,-660478335),a=oi(a,n,i,r,s[4],20,-405537848),r=oi(r,a,n,i,s[9],5,568446438),i=oi(i,r,a,n,s[14],9,-1019803690),n=oi(n,i,r,a,s[3],14,-187363961),a=oi(a,n,i,r,s[8],20,1163531501),r=oi(r,a,n,i,s[13],5,-1444681467),i=oi(i,r,a,n,s[2],9,-51403784),n=oi(n,i,r,a,s[7],14,1735328473),r=li(r,a=oi(a,n,i,r,s[12],20,-1926607734),n,i,s[5],4,-378558),i=li(i,r,a,n,s[8],11,-2022574463),n=li(n,i,r,a,s[11],16,1839030562),a=li(a,n,i,r,s[14],23,-35309556),r=li(r,a,n,i,s[1],4,-1530992060),i=li(i,r,a,n,s[4],11,1272893353),n=li(n,i,r,a,s[7],16,-155497632),a=li(a,n,i,r,s[10],23,-1094730640),r=li(r,a,n,i,s[13],4,681279174),i=li(i,r,a,n,s[0],11,-358537222),n=li(n,i,r,a,s[3],16,-722521979),a=li(a,n,i,r,s[6],23,76029189),r=li(r,a,n,i,s[9],4,-640364487),i=li(i,r,a,n,s[12],11,-421815835),n=li(n,i,r,a,s[15],16,530742520),r=ci(r,a=li(a,n,i,r,s[2],23,-995338651),n,i,s[0],6,-198630844),i=ci(i,r,a,n,s[7],10,1126891415),n=ci(n,i,r,a,s[14],15,-1416354905),a=ci(a,n,i,r,s[5],21,-57434055),r=ci(r,a,n,i,s[12],6,1700485571),i=ci(i,r,a,n,s[3],10,-1894986606),n=ci(n,i,r,a,s[10],15,-1051523),a=ci(a,n,i,r,s[1],21,-2054922799),r=ci(r,a,n,i,s[8],6,1873313359),i=ci(i,r,a,n,s[15],10,-30611744),n=ci(n,i,r,a,s[6],15,-1560198380),a=ci(a,n,i,r,s[13],21,1309151649),r=ci(r,a,n,i,s[4],6,-145523070),i=ci(i,r,a,n,s[11],10,-1120210379),n=ci(n,i,r,a,s[2],15,718787259),a=ci(a,n,i,r,s[9],21,-343485551),t[0]=lm(r,t[0]),t[1]=lm(a,t[1]),t[2]=lm(n,t[2]),t[3]=lm(i,t[3])}function K1(t,s,r,a,n,i){return s=lm(lm(s,t),lm(a,i)),lm(s<<n|s>>>32-n,r)}function ii(t,s,r,a,n,i,o){return K1(s&r|~s&a,t,s,n,i,o)}function oi(t,s,r,a,n,i,o){return K1(s&a|r&~a,t,s,n,i,o)}function li(t,s,r,a,n,i,o){return K1(s^r^a,t,s,n,i,o)}function ci(t,s,r,a,n,i,o){return K1(r^(s|~a),t,s,n,i,o)}function ZD(t){var s,r=t.length,a=[1732584193,-271733879,-1732584194,271733878];for(s=64;s<=t.length;s+=64)iw(a,cre(t.substring(s-64,s)));t=t.substring(s-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(s=0;s<t.length;s++)n[s>>2]|=t.charCodeAt(s)<<(s%4<<3);if(n[s>>2]|=128<<(s%4<<3),s>55)for(iw(a,n),s=0;s<16;s++)n[s]=0;return n[14]=8*r,iw(a,n),a}function cre(t){var s,r=[];for(s=0;s<64;s+=4)r[s>>2]=t.charCodeAt(s)+(t.charCodeAt(s+1)<<8)+(t.charCodeAt(s+2)<<16)+(t.charCodeAt(s+3)<<24);return r}hp=Ds.atob.bind(Ds),pj=Ds.btoa.bind(Ds);var NC="0123456789abcdef".split("");function dre(t){for(var s="",r=0;r<4;r++)s+=NC[t>>8*r+4&15]+NC[t>>8*r&15];return s}function ure(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function gj(t){return ZD(t).map(ure).join("")}var mre=function(t){for(var s=0;s<t.length;s++)t[s]=dre(t[s]);return t.join("")}(ZD("hello"))!="5d41402abc4b2a76b9719d911017c592";function lm(t,s){if(mre){var r=(65535&t)+(65535&s);return(t>>16)+(s>>16)+(r>>16)<<16|65535&r}return t+s&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function yj(t,s){var r,a,n,i;if(t!==r){for(var o=(n=t,i=1+(256/t.length>>0),new Array(i+1).join(n)),l=[],d=0;d<256;d++)l[d]=d;var u=0;for(d=0;d<256;d++){var h=l[d];u=(u+h+o.charCodeAt(d))%256,l[d]=l[u],l[u]=h}r=t,a=l}else l=a;var f=s.length,p=0,g=0,v="";for(d=0;d<f;d++)g=(g+(h=l[p=(p+1)%256]))%256,l[p]=l[g],l[g]=h,o=l[(l[p]+l[g])%256],v+=String.fromCharCode(s.charCodeAt(d)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var SC={print:4,modify:8,copy:16,"annot-forms":32};function Eh(t,s,r,a){this.v=1,this.r=2;var n=192;t.forEach(function(l){if(SC.perm!==void 0)throw new Error("Invalid permission: "+l);n+=SC[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(s+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^n)),this.encryptionKey=gj(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=yj(this.encryptionKey,this.padding)}function Th(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var s="",r=t.length,a=0;a<r;a++){var n=t.charCodeAt(a);n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?s+="#"+("0"+n.toString(16)).slice(-2):s+=t[a]}return s}function _C(t){if(qr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var s={};this.subscribe=function(r,a,n){if(n=n||!1,typeof r!="string"||typeof a!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");s.hasOwnProperty(r)||(s[r]={});var i=Math.random().toString(35);return s[r][i]=[a,!!n],i},this.unsubscribe=function(r){for(var a in s)if(s[a][r])return delete s[a][r],Object.keys(s[a]).length===0&&delete s[a],!0;return!1},this.publish=function(r){if(s.hasOwnProperty(r)){var a=Array.prototype.slice.call(arguments,1),n=[];for(var i in s[r]){var o=s[r][i];try{o[0].apply(t,a)}catch(l){Ds.console&&Kr.error("jsPDF PubSub Error",l.message,l)}o[1]&&n.push(i)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return s}}function h1(t){if(!(this instanceof h1))return new h1(t);var s="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&s.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function e7(t,s){this.gState=t,this.matrix=s,this.id="",this.objectNumber=-1}function o0(t,s,r,a,n){if(!(this instanceof o0))return new o0(t,s,r,a,n);this.type=t==="axial"?2:3,this.coords=s,this.colors=r,e7.call(this,a,n)}function Fh(t,s,r,a,n){if(!(this instanceof Fh))return new Fh(t,s,r,a,n);this.boundingBox=t,this.xStep=s,this.yStep=r,this.stream="",this.cloneIndex=0,e7.call(this,a,n)}function As(t){var s,r=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],n=arguments[2],i=arguments[3],o=[],l=1,d=16,u="S",h=null;qr(t=t||{})==="object"&&(r=t.orientation,a=t.unit||a,n=t.format||n,i=t.compress||t.compressPdf||i,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(s=t.precision),t.floatPrecision!==void 0&&(d=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(i===!0?["FlateEncode"]:o),a=a||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,p={},g={internal:{},__private__:{}};g.__private__.PubSub=_C;var v="1.3",y=g.__private__.getPdfVersion=function(){return v};g.__private__.setPdfVersion=function(W){v=W};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return b};var _=g.__private__.getPageFormat=function(W){return b[W]};n=n||"a4";var k={COMPAT:"compat",ADVANCED:"advanced"},A=k.COMPAT;function R(){this.saveGraphicsState(),ae(new Wt(ke,0,0,-ke,0,uc()*ke).toString()+" cm"),this.setFontSize(this.getFontSize()/ke),u="n",A=k.ADVANCED}function F(){this.restoreGraphicsState(),u="S",A=k.COMPAT}var V=g.__private__.combineFontStyleAndFontWeight=function(W,fe){if(W=="bold"&&fe=="normal"||W=="bold"&&fe==400||W=="normal"&&fe=="italic"||W=="bold"&&fe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return fe&&(W=fe==400||fe==="normal"?W==="italic"?"italic":"normal":fe!=700&&fe!=="bold"||W!=="normal"?(fe==700?"bold":fe)+""+W:"bold"),W};g.advancedAPI=function(W){var fe=A===k.COMPAT;return fe&&R.call(this),typeof W!="function"||(W(this),fe&&F.call(this)),this},g.compatAPI=function(W){var fe=A===k.ADVANCED;return fe&&F.call(this),typeof W!="function"||(W(this),fe&&R.call(this)),this},g.isAdvancedAPI=function(){return A===k.ADVANCED};var S,L=function(W){if(A!==k.ADVANCED)throw new Error(W+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},I=g.roundToPrecision=g.__private__.roundToPrecision=function(W,fe){var ze=s||fe;if(isNaN(W)||isNaN(ze))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return W.toFixed(ze).replace(/0+$/,"")};S=g.hpf=g.__private__.hpf=typeof d=="number"?function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.hpf");return I(W,d)}:d==="smart"?function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.hpf");return I(W,W>-1&&W<1?16:5)}:function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.hpf");return I(W,16)};var B=g.f2=g.__private__.f2=function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.f2");return I(W,2)},T=g.__private__.f3=function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.f3");return I(W,3)},w=g.scale=g.__private__.scale=function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.scale");return A===k.COMPAT?W*ke:A===k.ADVANCED?W:void 0},E=function(W){return A===k.COMPAT?uc()-W:A===k.ADVANCED?W:void 0},D=function(W){return w(E(W))};g.__private__.setPrecision=g.setPrecision=function(W){typeof parseInt(W,10)=="number"&&(s=parseInt(W,10))};var G,K="00000000000000000000000000000000",X=g.__private__.getFileId=function(){return K},se=g.__private__.setFileId=function(W){return K=W!==void 0&&/^[a-fA-F0-9]{32}$/.test(W)?W.toUpperCase():K.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(pa=new Eh(h.userPermissions,h.userPassword,h.ownerPassword,K)),K};g.setFileId=function(W){return se(W),this},g.getFileId=function(){return X()};var Z=g.__private__.convertDateToPDFDate=function(W){var fe=W.getTimezoneOffset(),ze=fe<0?"+":"-",Qe=Math.floor(Math.abs(fe/60)),ht=Math.abs(fe%60),At=[ze,z(Qe),"'",z(ht),"'"].join("");return["D:",W.getFullYear(),z(W.getMonth()+1),z(W.getDate()),z(W.getHours()),z(W.getMinutes()),z(W.getSeconds()),At].join("")},ee=g.__private__.convertPDFDateToDate=function(W){var fe=parseInt(W.substr(2,4),10),ze=parseInt(W.substr(6,2),10)-1,Qe=parseInt(W.substr(8,2),10),ht=parseInt(W.substr(10,2),10),At=parseInt(W.substr(12,2),10),$t=parseInt(W.substr(14,2),10);return new Date(fe,ze,Qe,ht,At,$t,0)},ce=g.__private__.setCreationDate=function(W){var fe;if(W===void 0&&(W=new Date),W instanceof Date)fe=Z(W);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(W))throw new Error("Invalid argument passed to jsPDF.setCreationDate");fe=W}return G=fe},U=g.__private__.getCreationDate=function(W){var fe=G;return W==="jsDate"&&(fe=ee(G)),fe};g.setCreationDate=function(W){return ce(W),this},g.getCreationDate=function(W){return U(W)};var O,z=g.__private__.padd2=function(W){return("0"+parseInt(W)).slice(-2)},q=g.__private__.padd2Hex=function(W){return("00"+(W=W.toString())).substr(W.length)},te=0,ge=[],Q=[],ue=0,ie=[],oe=[],J=!1,re=Q,ve=function(){te=0,ue=0,Q=[],ge=[],ie=[],me=dt(),_e=dt()};g.__private__.setCustomOutputDestination=function(W){J=!0,re=W};var pe=function(W){J||(re=W)};g.__private__.resetCustomOutputDestination=function(){J=!1,re=Q};var ae=g.__private__.out=function(W){return W=W.toString(),ue+=W.length+1,re.push(W),re},he=g.__private__.write=function(W){return ae(arguments.length===1?W.toString():Array.prototype.join.call(arguments," "))},Te=g.__private__.getArrayBuffer=function(W){for(var fe=W.length,ze=new ArrayBuffer(fe),Qe=new Uint8Array(ze);fe--;)Qe[fe]=W.charCodeAt(fe);return ze},Ie=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Ie};var Be=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(W){return Be=A===k.ADVANCED?W/ke:W,this};var Le,Ee=g.__private__.getFontSize=g.getFontSize=function(){return A===k.COMPAT?Be:Be*ke},Ve=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(W){return Ve=W,this},g.__private__.getR2L=g.getR2L=function(){return Ve};var mt,gt=g.__private__.setZoomMode=function(W){var fe=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(W))Le=W;else if(isNaN(W)){if(fe.indexOf(W)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+W+'" is not recognized.');Le=W}else Le=parseInt(W,10)};g.__private__.getZoomMode=function(){return Le};var Pe,Ae=g.__private__.setPageMode=function(W){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(W)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+W+'" is not recognized.');mt=W};g.__private__.getPageMode=function(){return mt};var We=g.__private__.setLayoutMode=function(W){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(W)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+W+'" is not recognized.');Pe=W};g.__private__.getLayoutMode=function(){return Pe},g.__private__.setDisplayMode=g.setDisplayMode=function(W,fe,ze){return gt(W),We(fe),Ae(ze),this};var Xe={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(W){if(Object.keys(Xe).indexOf(W)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Xe[W]},g.__private__.getDocumentProperties=function(){return Xe},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(W){for(var fe in Xe)Xe.hasOwnProperty(fe)&&W[fe]&&(Xe[fe]=W[fe]);return this},g.__private__.setDocumentProperty=function(W,fe){if(Object.keys(Xe).indexOf(W)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Xe[W]=fe};var st,ke,ct,nt,Bt,Ge={},St={},bt=[],qe={},Oe={},jt={},Et={},qt=null,Gt=0,Yt=[],Xt=new _C(g),is=t.hotfixes||[],ws={},Us={},Zt=[],Wt=function W(fe,ze,Qe,ht,At,$t){if(!(this instanceof W))return new W(fe,ze,Qe,ht,At,$t);isNaN(fe)&&(fe=1),isNaN(ze)&&(ze=0),isNaN(Qe)&&(Qe=0),isNaN(ht)&&(ht=1),isNaN(At)&&(At=0),isNaN($t)&&($t=0),this._matrix=[fe,ze,Qe,ht,At,$t]};Object.defineProperty(Wt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(W){this._matrix[0]=W}}),Object.defineProperty(Wt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(W){this._matrix[1]=W}}),Object.defineProperty(Wt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(W){this._matrix[2]=W}}),Object.defineProperty(Wt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(W){this._matrix[3]=W}}),Object.defineProperty(Wt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(W){this._matrix[4]=W}}),Object.defineProperty(Wt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(W){this._matrix[5]=W}}),Object.defineProperty(Wt.prototype,"a",{get:function(){return this._matrix[0]},set:function(W){this._matrix[0]=W}}),Object.defineProperty(Wt.prototype,"b",{get:function(){return this._matrix[1]},set:function(W){this._matrix[1]=W}}),Object.defineProperty(Wt.prototype,"c",{get:function(){return this._matrix[2]},set:function(W){this._matrix[2]=W}}),Object.defineProperty(Wt.prototype,"d",{get:function(){return this._matrix[3]},set:function(W){this._matrix[3]=W}}),Object.defineProperty(Wt.prototype,"e",{get:function(){return this._matrix[4]},set:function(W){this._matrix[4]=W}}),Object.defineProperty(Wt.prototype,"f",{get:function(){return this._matrix[5]},set:function(W){this._matrix[5]=W}}),Object.defineProperty(Wt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Wt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Wt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Wt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Wt.prototype.join=function(W){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(S).join(W)},Wt.prototype.multiply=function(W){var fe=W.sx*this.sx+W.shy*this.shx,ze=W.sx*this.shy+W.shy*this.sy,Qe=W.shx*this.sx+W.sy*this.shx,ht=W.shx*this.shy+W.sy*this.sy,At=W.tx*this.sx+W.ty*this.shx+this.tx,$t=W.tx*this.shy+W.ty*this.sy+this.ty;return new Wt(fe,ze,Qe,ht,At,$t)},Wt.prototype.decompose=function(){var W=this.sx,fe=this.shy,ze=this.shx,Qe=this.sy,ht=this.tx,At=this.ty,$t=Math.sqrt(W*W+fe*fe),ts=(W/=$t)*ze+(fe/=$t)*Qe;ze-=W*ts,Qe-=fe*ts;var ms=Math.sqrt(ze*ze+Qe*Qe);return ts/=ms,W*(Qe/=ms)<fe*(ze/=ms)&&(W=-W,fe=-fe,ts=-ts,$t=-$t),{scale:new Wt($t,0,0,ms,0,0),translate:new Wt(1,0,0,1,ht,At),rotate:new Wt(W,fe,-fe,W,0,0),skew:new Wt(1,0,ts,1,0,0)}},Wt.prototype.toString=function(W){return this.join(" ")},Wt.prototype.inversed=function(){var W=this.sx,fe=this.shy,ze=this.shx,Qe=this.sy,ht=this.tx,At=this.ty,$t=1/(W*Qe-fe*ze),ts=Qe*$t,ms=-fe*$t,qs=-ze*$t,$s=W*$t;return new Wt(ts,ms,qs,$s,-ts*ht-qs*At,-ms*ht-$s*At)},Wt.prototype.applyToPoint=function(W){var fe=W.x*this.sx+W.y*this.shx+this.tx,ze=W.x*this.shy+W.y*this.sy+this.ty;return new uu(fe,ze)},Wt.prototype.applyToRectangle=function(W){var fe=this.applyToPoint(W),ze=this.applyToPoint(new uu(W.x+W.w,W.y+W.h));return new Sm(fe.x,fe.y,ze.x-fe.x,ze.y-fe.y)},Wt.prototype.clone=function(){var W=this.sx,fe=this.shy,ze=this.shx,Qe=this.sy,ht=this.tx,At=this.ty;return new Wt(W,fe,ze,Qe,ht,At)},g.Matrix=Wt;var Es=g.matrixMult=function(W,fe){return fe.multiply(W)},Bs=new Wt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Bs;var sr=function(W,fe){if(!Oe[W]){var ze=(fe instanceof o0?"Sh":"P")+(Object.keys(qe).length+1).toString(10);fe.id=ze,Oe[W]=ze,qe[ze]=fe,Xt.publish("addPattern",fe)}};g.ShadingPattern=o0,g.TilingPattern=Fh,g.addShadingPattern=function(W,fe){return L("addShadingPattern()"),sr(W,fe),this},g.beginTilingPattern=function(W){L("beginTilingPattern()"),mu(W.boundingBox[0],W.boundingBox[1],W.boundingBox[2]-W.boundingBox[0],W.boundingBox[3]-W.boundingBox[1],W.matrix)},g.endTilingPattern=function(W,fe){L("endTilingPattern()"),fe.stream=oe[O].join(`
`),sr(W,fe),Xt.publish("endTilingPattern",fe),Zt.pop().restore()};var Ms=g.__private__.newObject=function(){var W=dt();return le(W,!0),W},dt=g.__private__.newObjectDeferred=function(){return te++,ge[te]=function(){return ue},te},le=function(W,fe){return fe=typeof fe=="boolean"&&fe,ge[W]=ue,fe&&ae(W+" 0 obj"),W},Se=g.__private__.newAdditionalObject=function(){var W={objId:dt(),content:""};return ie.push(W),W},me=dt(),_e=dt(),De=g.__private__.decodeColorString=function(W){var fe=W.split(" ");if(fe.length!==2||fe[1]!=="g"&&fe[1]!=="G")fe.length===5&&(fe[4]==="k"||fe[4]==="K")&&(fe=[(1-fe[0])*(1-fe[3]),(1-fe[1])*(1-fe[3]),(1-fe[2])*(1-fe[3]),"r"]);else{var ze=parseFloat(fe[0]);fe=[ze,ze,ze,"r"]}for(var Qe="#",ht=0;ht<3;ht++)Qe+=("0"+Math.floor(255*parseFloat(fe[ht])).toString(16)).slice(-2);return Qe},Ne=g.__private__.encodeColorString=function(W){var fe;typeof W=="string"&&(W={ch1:W});var ze=W.ch1,Qe=W.ch2,ht=W.ch3,At=W.ch4,$t=W.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ze=="string"&&ze.charAt(0)!=="#"){var ts=new JD(ze);if(ts.ok)ze=ts.toHex();else if(!/^\d*\.?\d*$/.test(ze))throw new Error('Invalid color "'+ze+'" passed to jsPDF.encodeColorString.')}if(typeof ze=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ze)&&(ze="#"+ze[1]+ze[1]+ze[2]+ze[2]+ze[3]+ze[3]),typeof ze=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ze)){var ms=parseInt(ze.substr(1),16);ze=ms>>16&255,Qe=ms>>8&255,ht=255&ms}if(Qe===void 0||At===void 0&&ze===Qe&&Qe===ht)if(typeof ze=="string")fe=ze+" "+$t[0];else switch(W.precision){case 2:fe=B(ze/255)+" "+$t[0];break;case 3:default:fe=T(ze/255)+" "+$t[0]}else if(At===void 0||qr(At)==="object"){if(At&&!isNaN(At.a)&&At.a===0)return fe=["1.","1.","1.",$t[1]].join(" ");if(typeof ze=="string")fe=[ze,Qe,ht,$t[1]].join(" ");else switch(W.precision){case 2:fe=[B(ze/255),B(Qe/255),B(ht/255),$t[1]].join(" ");break;default:case 3:fe=[T(ze/255),T(Qe/255),T(ht/255),$t[1]].join(" ")}}else if(typeof ze=="string")fe=[ze,Qe,ht,At,$t[2]].join(" ");else switch(W.precision){case 2:fe=[B(ze),B(Qe),B(ht),B(At),$t[2]].join(" ");break;case 3:default:fe=[T(ze),T(Qe),T(ht),T(At),$t[2]].join(" ")}return fe},Je=g.__private__.getFilters=function(){return o},$e=g.__private__.putStream=function(W){var fe=(W=W||{}).data||"",ze=W.filters||Je(),Qe=W.alreadyAppliedFilters||[],ht=W.addLength1||!1,At=fe.length,$t=W.objectId,ts=function(ya){return ya};if(h!==null&&$t===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(ts=pa.encryptor($t,0));var ms={};ze===!0&&(ze=["FlateEncode"]);var qs=W.additionalKeyValues||[],$s=(ms=As.API.processDataByFilters!==void 0?As.API.processDataByFilters(fe,ze):{data:fe,reverseChain:[]}).reverseChain+(Array.isArray(Qe)?Qe.join(" "):Qe.toString());if(ms.data.length!==0&&(qs.push({key:"Length",value:ms.data.length}),ht===!0&&qs.push({key:"Length1",value:At})),$s.length!=0)if($s.split("/").length-1==1)qs.push({key:"Filter",value:$s});else{qs.push({key:"Filter",value:"["+$s+"]"});for(var ur=0;ur<qs.length;ur+=1)if(qs[ur].key==="DecodeParms"){for(var Xr=[],na=0;na<ms.reverseChain.split("/").length-1;na+=1)Xr.push("null");Xr.push(qs[ur].value),qs[ur].value="["+Xr.join(" ")+"]"}}ae("<<");for(var ga=0;ga<qs.length;ga++)ae("/"+qs[ga].key+" "+qs[ga].value);ae(">>"),ms.data.length!==0&&(ae("stream"),ae(ts(ms.data)),ae("endstream"))},Ke=g.__private__.putPage=function(W){var fe=W.number,ze=W.data,Qe=W.objId,ht=W.contentsObjId;le(Qe,!0),ae("<</Type /Page"),ae("/Parent "+W.rootDictionaryObjId+" 0 R"),ae("/Resources "+W.resourceDictionaryObjId+" 0 R"),ae("/MediaBox ["+parseFloat(S(W.mediaBox.bottomLeftX))+" "+parseFloat(S(W.mediaBox.bottomLeftY))+" "+S(W.mediaBox.topRightX)+" "+S(W.mediaBox.topRightY)+"]"),W.cropBox!==null&&ae("/CropBox ["+S(W.cropBox.bottomLeftX)+" "+S(W.cropBox.bottomLeftY)+" "+S(W.cropBox.topRightX)+" "+S(W.cropBox.topRightY)+"]"),W.bleedBox!==null&&ae("/BleedBox ["+S(W.bleedBox.bottomLeftX)+" "+S(W.bleedBox.bottomLeftY)+" "+S(W.bleedBox.topRightX)+" "+S(W.bleedBox.topRightY)+"]"),W.trimBox!==null&&ae("/TrimBox ["+S(W.trimBox.bottomLeftX)+" "+S(W.trimBox.bottomLeftY)+" "+S(W.trimBox.topRightX)+" "+S(W.trimBox.topRightY)+"]"),W.artBox!==null&&ae("/ArtBox ["+S(W.artBox.bottomLeftX)+" "+S(W.artBox.bottomLeftY)+" "+S(W.artBox.topRightX)+" "+S(W.artBox.topRightY)+"]"),typeof W.userUnit=="number"&&W.userUnit!==1&&ae("/UserUnit "+W.userUnit),Xt.publish("putPage",{objId:Qe,pageContext:Yt[fe],pageNumber:fe,page:ze}),ae("/Contents "+ht+" 0 R"),ae(">>"),ae("endobj");var At=ze.join(`
`);return A===k.ADVANCED&&(At+=`
Q`),le(ht,!0),$e({data:At,filters:Je(),objectId:ht}),ae("endobj"),Qe},ot=g.__private__.putPages=function(){var W,fe,ze=[];for(W=1;W<=Gt;W++)Yt[W].objId=dt(),Yt[W].contentsObjId=dt();for(W=1;W<=Gt;W++)ze.push(Ke({number:W,data:oe[W],objId:Yt[W].objId,contentsObjId:Yt[W].contentsObjId,mediaBox:Yt[W].mediaBox,cropBox:Yt[W].cropBox,bleedBox:Yt[W].bleedBox,trimBox:Yt[W].trimBox,artBox:Yt[W].artBox,userUnit:Yt[W].userUnit,rootDictionaryObjId:me,resourceDictionaryObjId:_e}));le(me,!0),ae("<</Type /Pages");var Qe="/Kids [";for(fe=0;fe<Gt;fe++)Qe+=ze[fe]+" 0 R ";ae(Qe+"]"),ae("/Count "+Gt),ae(">>"),ae("endobj"),Xt.publish("postPutPages")},Fe=function(W){Xt.publish("putFont",{font:W,out:ae,newObject:Ms,putStream:$e}),W.isAlreadyPutted!==!0&&(W.objectNumber=Ms(),ae("<<"),ae("/Type /Font"),ae("/BaseFont /"+Th(W.postScriptName)),ae("/Subtype /Type1"),typeof W.encoding=="string"&&ae("/Encoding /"+W.encoding),ae("/FirstChar 32"),ae("/LastChar 255"),ae(">>"),ae("endobj"))},Ye=function(){for(var W in Ge)Ge.hasOwnProperty(W)&&(f===!1||f===!0&&p.hasOwnProperty(W))&&Fe(Ge[W])},lt=function(W){W.objectNumber=Ms();var fe=[];fe.push({key:"Type",value:"/XObject"}),fe.push({key:"Subtype",value:"/Form"}),fe.push({key:"BBox",value:"["+[S(W.x),S(W.y),S(W.x+W.width),S(W.y+W.height)].join(" ")+"]"}),fe.push({key:"Matrix",value:"["+W.matrix.toString()+"]"});var ze=W.pages[1].join(`
`);$e({data:ze,additionalKeyValues:fe,objectId:W.objectNumber}),ae("endobj")},Mt=function(){for(var W in ws)ws.hasOwnProperty(W)&&lt(ws[W])},Dt=function(W,fe){var ze,Qe=[],ht=1/(fe-1);for(ze=0;ze<1;ze+=ht)Qe.push(ze);if(Qe.push(1),W[0].offset!=0){var At={offset:0,color:W[0].color};W.unshift(At)}if(W[W.length-1].offset!=1){var $t={offset:1,color:W[W.length-1].color};W.push($t)}for(var ts="",ms=0,qs=0;qs<Qe.length;qs++){for(ze=Qe[qs];ze>W[ms+1].offset;)ms++;var $s=W[ms].offset,ur=(ze-$s)/(W[ms+1].offset-$s),Xr=W[ms].color,na=W[ms+1].color;ts+=q(Math.round((1-ur)*Xr[0]+ur*na[0]).toString(16))+q(Math.round((1-ur)*Xr[1]+ur*na[1]).toString(16))+q(Math.round((1-ur)*Xr[2]+ur*na[2]).toString(16))}return ts.trim()},Ht=function(W,fe){fe||(fe=21);var ze=Ms(),Qe=Dt(W.colors,fe),ht=[];ht.push({key:"FunctionType",value:"0"}),ht.push({key:"Domain",value:"[0.0 1.0]"}),ht.push({key:"Size",value:"["+fe+"]"}),ht.push({key:"BitsPerSample",value:"8"}),ht.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ht.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$e({data:Qe,additionalKeyValues:ht,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ze}),ae("endobj"),W.objectNumber=Ms(),ae("<< /ShadingType "+W.type),ae("/ColorSpace /DeviceRGB");var At="/Coords ["+S(parseFloat(W.coords[0]))+" "+S(parseFloat(W.coords[1]))+" ";W.type===2?At+=S(parseFloat(W.coords[2]))+" "+S(parseFloat(W.coords[3])):At+=S(parseFloat(W.coords[2]))+" "+S(parseFloat(W.coords[3]))+" "+S(parseFloat(W.coords[4]))+" "+S(parseFloat(W.coords[5])),ae(At+="]"),W.matrix&&ae("/Matrix ["+W.matrix.toString()+"]"),ae("/Function "+ze+" 0 R"),ae("/Extend [true true]"),ae(">>"),ae("endobj")},rs=function(W,fe){var ze=dt(),Qe=Ms();fe.push({resourcesOid:ze,objectOid:Qe}),W.objectNumber=Qe;var ht=[];ht.push({key:"Type",value:"/Pattern"}),ht.push({key:"PatternType",value:"1"}),ht.push({key:"PaintType",value:"1"}),ht.push({key:"TilingType",value:"1"}),ht.push({key:"BBox",value:"["+W.boundingBox.map(S).join(" ")+"]"}),ht.push({key:"XStep",value:S(W.xStep)}),ht.push({key:"YStep",value:S(W.yStep)}),ht.push({key:"Resources",value:ze+" 0 R"}),W.matrix&&ht.push({key:"Matrix",value:"["+W.matrix.toString()+"]"}),$e({data:W.stream,additionalKeyValues:ht,objectId:W.objectNumber}),ae("endobj")},fs=function(W){var fe;for(fe in qe)qe.hasOwnProperty(fe)&&(qe[fe]instanceof o0?Ht(qe[fe]):qe[fe]instanceof Fh&&rs(qe[fe],W))},Ue=function(W){for(var fe in W.objectNumber=Ms(),ae("<<"),W)switch(fe){case"opacity":ae("/ca "+B(W[fe]));break;case"stroke-opacity":ae("/CA "+B(W[fe]))}ae(">>"),ae("endobj")},vt=function(){var W;for(W in jt)jt.hasOwnProperty(W)&&Ue(jt[W])},Ut=function(){for(var W in ae("/XObject <<"),ws)ws.hasOwnProperty(W)&&ws[W].objectNumber>=0&&ae("/"+W+" "+ws[W].objectNumber+" 0 R");Xt.publish("putXobjectDict"),ae(">>")},os=function(){pa.oid=Ms(),ae("<<"),ae("/Filter /Standard"),ae("/V "+pa.v),ae("/R "+pa.r),ae("/U <"+pa.toHexString(pa.U)+">"),ae("/O <"+pa.toHexString(pa.O)+">"),ae("/P "+pa.P),ae(">>"),ae("endobj")},zs=function(){for(var W in ae("/Font <<"),Ge)Ge.hasOwnProperty(W)&&(f===!1||f===!0&&p.hasOwnProperty(W))&&ae("/"+W+" "+Ge[W].objectNumber+" 0 R");ae(">>")},Ls=function(){if(Object.keys(qe).length>0){for(var W in ae("/Shading <<"),qe)qe.hasOwnProperty(W)&&qe[W]instanceof o0&&qe[W].objectNumber>=0&&ae("/"+W+" "+qe[W].objectNumber+" 0 R");Xt.publish("putShadingPatternDict"),ae(">>")}},Nr=function(W){if(Object.keys(qe).length>0){for(var fe in ae("/Pattern <<"),qe)qe.hasOwnProperty(fe)&&qe[fe]instanceof g.TilingPattern&&qe[fe].objectNumber>=0&&qe[fe].objectNumber<W&&ae("/"+fe+" "+qe[fe].objectNumber+" 0 R");Xt.publish("putTilingPatternDict"),ae(">>")}},Pr=function(){if(Object.keys(jt).length>0){var W;for(W in ae("/ExtGState <<"),jt)jt.hasOwnProperty(W)&&jt[W].objectNumber>=0&&ae("/"+W+" "+jt[W].objectNumber+" 0 R");Xt.publish("putGStateDict"),ae(">>")}},lr=function(W){le(W.resourcesOid,!0),ae("<<"),ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),zs(),Ls(),Nr(W.objectOid),Pr(),Ut(),ae(">>"),ae("endobj")},xr=function(){var W=[];Ye(),vt(),Mt(),fs(W),Xt.publish("putResources"),W.forEach(lr),lr({resourcesOid:_e,objectOid:Number.MAX_SAFE_INTEGER}),Xt.publish("postPutResources")},Nn=function(){Xt.publish("putAdditionalObjects");for(var W=0;W<ie.length;W++){var fe=ie[W];le(fe.objId,!0),ae(fe.content),ae("endobj")}Xt.publish("postPutAdditionalObjects")},Fn=function(W){St[W.fontName]=St[W.fontName]||{},St[W.fontName][W.fontStyle]=W.id},mn=function(W,fe,ze,Qe,ht){var At={id:"F"+(Object.keys(Ge).length+1).toString(10),postScriptName:W,fontName:fe,fontStyle:ze,encoding:Qe,isStandardFont:ht||!1,metadata:{}};return Xt.publish("addFont",{font:At,instance:this}),Ge[At.id]=At,Fn(At),At.id},Ci=function(W){for(var fe=0,ze=Ie.length;fe<ze;fe++){var Qe=mn.call(this,W[fe][0],W[fe][1],W[fe][2],Ie[fe][3],!0);f===!1&&(p[Qe]=!0);var ht=W[fe][0].split("-");Fn({id:Qe,fontName:ht[0],fontStyle:ht[1]||""})}Xt.publish("addFonts",{fonts:Ge,dictionary:St})},aa=function(W){return W.foo=function(){try{return W.apply(this,arguments)}catch(Qe){var fe=Qe.stack||"";~fe.indexOf(" at ")&&(fe=fe.split(" at ")[1]);var ze="Error in function "+fe.split(`
`)[0].split("<")[0]+": "+Qe.message;if(!Ds.console)throw new Error(ze);Ds.console.error(ze,Qe),Ds.alert&&alert(ze)}},W.foo.bar=W,W.foo},Rn=function(W,fe){var ze,Qe,ht,At,$t,ts,ms,qs,$s;if(ht=(fe=fe||{}).sourceEncoding||"Unicode",$t=fe.outputEncoding,(fe.autoencode||$t)&&Ge[st].metadata&&Ge[st].metadata[ht]&&Ge[st].metadata[ht].encoding&&(At=Ge[st].metadata[ht].encoding,!$t&&Ge[st].encoding&&($t=Ge[st].encoding),!$t&&At.codePages&&($t=At.codePages[0]),typeof $t=="string"&&($t=At[$t]),$t)){for(ms=!1,ts=[],ze=0,Qe=W.length;ze<Qe;ze++)(qs=$t[W.charCodeAt(ze)])?ts.push(String.fromCharCode(qs)):ts.push(W[ze]),ts[ze].charCodeAt(0)>>8&&(ms=!0);W=ts.join("")}for(ze=W.length;ms===void 0&&ze!==0;)W.charCodeAt(ze-1)>>8&&(ms=!0),ze--;if(!ms)return W;for(ts=fe.noBOM?[]:[254,255],ze=0,Qe=W.length;ze<Qe;ze++){if(($s=(qs=W.charCodeAt(ze))>>8)>>8)throw new Error("Character at position "+ze+" of string '"+W+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ts.push($s),ts.push(qs-($s<<8))}return String.fromCharCode.apply(void 0,ts)},Sr=g.__private__.pdfEscape=g.pdfEscape=function(W,fe){return Rn(W,fe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ki=g.__private__.beginPage=function(W){oe[++Gt]=[],Yt[Gt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(W[0]),topRightY:Number(W[1])}},On(Gt),pe(oe[O])},co=function(W,fe){var ze,Qe,ht;switch(r=fe||r,typeof W=="string"&&(ze=_(W.toLowerCase()),Array.isArray(ze)&&(Qe=ze[0],ht=ze[1])),Array.isArray(W)&&(Qe=W[0]*ke,ht=W[1]*ke),isNaN(Qe)&&(Qe=n[0],ht=n[1]),(Qe>14400||ht>14400)&&(Kr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Qe=Math.min(14400,Qe),ht=Math.min(14400,ht)),n=[Qe,ht],r.substr(0,1)){case"l":ht>Qe&&(n=[ht,Qe]);break;case"p":Qe>ht&&(n=[ht,Qe])}ki(n),q0(xn),ae(po),Nm!==0&&ae(Nm+" J"),du!==0&&ae(du+" j"),Xt.publish("addPage",{pageNumber:Gt})},uo=function(W){W>0&&W<=Gt&&(oe.splice(W,1),Yt.splice(W,1),Gt--,O>Gt&&(O=Gt),this.setPage(O))},On=function(W){W>0&&W<=Gt&&(O=W)},zo=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return oe.length-1},mo=function(W,fe,ze){var Qe,ht=void 0;return ze=ze||{},W=W!==void 0?W:Ge[st].fontName,fe=fe!==void 0?fe:Ge[st].fontStyle,Qe=W.toLowerCase(),St[Qe]!==void 0&&St[Qe][fe]!==void 0?ht=St[Qe][fe]:St[W]!==void 0&&St[W][fe]!==void 0?ht=St[W][fe]:ze.disableWarning===!1&&Kr.warn("Unable to look up font label for font '"+W+"', '"+fe+"'. Refer to getFontList() for available fonts."),ht||ze.noFallback||(ht=St.times[fe])==null&&(ht=St.times.normal),ht},Jn=g.__private__.putInfo=function(){var W=Ms(),fe=function(Qe){return Qe};for(var ze in h!==null&&(fe=pa.encryptor(W,0)),ae("<<"),ae("/Producer ("+Sr(fe("jsPDF "+As.version))+")"),Xe)Xe.hasOwnProperty(ze)&&Xe[ze]&&ae("/"+ze.substr(0,1).toUpperCase()+ze.substr(1)+" ("+Sr(fe(Xe[ze]))+")");ae("/CreationDate ("+Sr(fe(G))+")"),ae(">>"),ae("endobj")},ho=g.__private__.putCatalog=function(W){var fe=(W=W||{}).rootDictionaryObjId||me;switch(Ms(),ae("<<"),ae("/Type /Catalog"),ae("/Pages "+fe+" 0 R"),Le||(Le="fullwidth"),Le){case"fullwidth":ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ae("/OpenAction [3 0 R /Fit]");break;case"original":ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ze=""+Le;ze.substr(ze.length-1)==="%"&&(Le=parseInt(Le)/100),typeof Le=="number"&&ae("/OpenAction [3 0 R /XYZ null null "+B(Le)+"]")}switch(Pe||(Pe="continuous"),Pe){case"continuous":ae("/PageLayout /OneColumn");break;case"single":ae("/PageLayout /SinglePage");break;case"two":case"twoleft":ae("/PageLayout /TwoColumnLeft");break;case"tworight":ae("/PageLayout /TwoColumnRight")}mt&&ae("/PageMode /"+mt),Xt.publish("putCatalog"),ae(">>"),ae("endobj")},$o=g.__private__.putTrailer=function(){ae("trailer"),ae("<<"),ae("/Size "+(te+1)),ae("/Root "+te+" 0 R"),ae("/Info "+(te-1)+" 0 R"),h!==null&&ae("/Encrypt "+pa.oid+" 0 R"),ae("/ID [ <"+K+"> <"+K+"> ]"),ae(">>")},Ai=g.__private__.putHeader=function(){ae("%PDF-"+v),ae("%")},ic=g.__private__.putXRef=function(){var W="0000000000";ae("xref"),ae("0 "+(te+1)),ae("0000000000 65535 f ");for(var fe=1;fe<=te;fe++)typeof ge[fe]=="function"?ae((W+ge[fe]()).slice(-10)+" 00000 n "):ge[fe]!==void 0?ae((W+ge[fe]).slice(-10)+" 00000 n "):ae("0000000000 00000 n ")},qi=g.__private__.buildDocument=function(){ve(),pe(Q),Xt.publish("buildDocument"),Ai(),ot(),Nn(),xr(),h!==null&&os(),Jn(),ho();var W=ue;return ic(),$o(),ae("startxref"),ae(""+W),ae("%%EOF"),pe(oe[O]),Q.join(`
`)},bl=g.__private__.getBlob=function(W){return new Blob([Te(W)],{type:"application/pdf"})},Hi=g.output=g.__private__.output=aa(function(W,fe){switch(typeof(fe=fe||{})=="string"?fe={filename:fe}:fe.filename=fe.filename||"generated.pdf",W){case void 0:return qi();case"save":g.save(fe.filename);break;case"arraybuffer":return Te(qi());case"blob":return bl(qi());case"bloburi":case"bloburl":if(Ds.URL!==void 0&&typeof Ds.URL.createObjectURL=="function")return Ds.URL&&Ds.URL.createObjectURL(bl(qi()))||void 0;Kr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ze="",Qe=qi();try{ze=pj(Qe)}catch{ze=pj(unescape(encodeURIComponent(Qe)))}return"data:application/pdf;filename="+fe.filename+";base64,"+ze;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ds)==="[object Window]"){var ht="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",At=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';fe.pdfObjectUrl&&(ht=fe.pdfObjectUrl,At="");var $t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ht+'"'+At+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(fe)+");<\/script></body></html>",ts=Ds.open();return ts!==null&&ts.document.write($t),ts}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ds)==="[object Window]"){var ms='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(fe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+fe.filename+'" width="500px" height="400px" /></body></html>',qs=Ds.open();if(qs!==null){qs.document.write(ms);var $s=this;qs.document.documentElement.querySelector("#pdfViewer").onload=function(){qs.document.title=fe.filename,qs.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open($s.output("bloburl"))}}return qs}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ds)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ur='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",fe)+'"></iframe></body></html>',Xr=Ds.open();if(Xr!==null&&(Xr.document.write(ur),Xr.document.title=fe.filename),Xr||typeof safari>"u")return Xr;break;case"datauri":case"dataurl":return Ds.document.location.href=this.output("datauristring",fe);default:return null}}),vl=function(W){return Array.isArray(is)===!0&&is.indexOf(W)>-1};switch(a){case"pt":ke=1;break;case"mm":ke=72/25.4;break;case"cm":ke=72/2.54;break;case"in":ke=72;break;case"px":ke=vl("px_scaling")==1?.75:96/72;break;case"pc":case"em":ke=12;break;case"ex":ke=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);ke=a}var pa=null;ce(),se();var xo=function(W){return h!==null?pa.encryptor(W,0):function(fe){return fe}},Wi=g.__private__.getPageInfo=g.getPageInfo=function(W){if(isNaN(W)||W%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Yt[W].objId,pageNumber:W,pageContext:Yt[W]}},_s=g.__private__.getPageInfoByObjId=function(W){if(isNaN(W)||W%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var fe in Yt)if(Yt[fe].objId===W)break;return Wi(fe)},oc=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Yt[O].objId,pageNumber:O,pageContext:Yt[O]}};g.addPage=function(){return co.apply(this,arguments),this},g.setPage=function(){return On.apply(this,arguments),pe.call(this,oe[O]),this},g.insertPage=function(W){return this.addPage(),this.movePage(O,W),this},g.movePage=function(W,fe){var ze,Qe;if(W>fe){ze=oe[W],Qe=Yt[W];for(var ht=W;ht>fe;ht--)oe[ht]=oe[ht-1],Yt[ht]=Yt[ht-1];oe[fe]=ze,Yt[fe]=Qe,this.setPage(fe)}else if(W<fe){ze=oe[W],Qe=Yt[W];for(var At=W;At<fe;At++)oe[At]=oe[At+1],Yt[At]=Yt[At+1];oe[fe]=ze,Yt[fe]=Qe,this.setPage(fe)}return this},g.deletePage=function(){return uo.apply(this,arguments),this},g.__private__.text=g.text=function(W,fe,ze,Qe,ht){var At,$t,ts,ms,qs,$s,ur,Xr,na,ga=(Qe=Qe||{}).scope||this;if(typeof W=="number"&&typeof fe=="number"&&(typeof ze=="string"||Array.isArray(ze))){var ya=ze;ze=fe,fe=W,W=ya}if(arguments[3]instanceof Wt?(L("The transform parameter of text() with a Matrix value"),na=ht):(ts=arguments[4],ms=arguments[5],qr(ur=arguments[3])==="object"&&ur!==null||(typeof ts=="string"&&(ms=ts,ts=null),typeof ur=="string"&&(ms=ur,ur=null),typeof ur=="number"&&(ts=ur,ur=null),Qe={flags:ur,angle:ts,align:ms})),isNaN(fe)||isNaN(ze)||W==null)throw new Error("Invalid arguments passed to jsPDF.text");if(W.length===0)return ga;var Qa="",go=!1,Di=typeof Qe.lineHeightFactor=="number"?Qe.lineHeightFactor:Ys,yo=ga.internal.scaleFactor;function km(nr){return nr=nr.split("	").join(Array(Qe.TabLen||9).join(" ")),Sr(nr,ur)}function jl(nr){for(var ir,Hr=nr.concat(),ba=[],Ki=Hr.length;Ki--;)typeof(ir=Hr.shift())=="string"?ba.push(ir):Array.isArray(nr)&&(ir.length===1||ir[1]===void 0&&ir[2]===void 0)?ba.push(ir[0]):ba.push([ir[0],ir[1],ir[2]]);return ba}function Nl(nr,ir){var Hr;if(typeof nr=="string")Hr=ir(nr)[0];else if(Array.isArray(nr)){for(var ba,Ki,wc=nr.concat(),jc=[],Cl=wc.length;Cl--;)typeof(ba=wc.shift())=="string"?jc.push(ir(ba)[0]):Array.isArray(ba)&&typeof ba[0]=="string"&&(Ki=ir(ba[0],ba[1],ba[2]),jc.push([Ki[0],Ki[1],Ki[2]]));Hr=jc}return Hr}var fu=!1,mc=!0;if(typeof W=="string")fu=!0;else if(Array.isArray(W)){var pu=W.concat();$t=[];for(var hd,La=pu.length;La--;)(typeof(hd=pu.shift())!="string"||Array.isArray(hd)&&typeof hd[0]!="string")&&(mc=!1);fu=mc}if(fu===!1)throw new Error('Type of text must be string or Array. "'+W+'" is not recognized.');typeof W=="string"&&(W=W.match(/[\r?\n]/)?W.split(/\r\n|\r|\n/g):[W]);var hc=Be/ga.internal.scaleFactor,xd=hc*(Di-1);switch(Qe.baseline){case"bottom":ze-=xd;break;case"top":ze+=hc-xd;break;case"hanging":ze+=hc-2*xd;break;case"middle":ze+=hc/2-xd}if(($s=Qe.maxWidth||0)>0&&(typeof W=="string"?W=ga.splitTextToSize(W,$s):Object.prototype.toString.call(W)==="[object Array]"&&(W=W.reduce(function(nr,ir){return nr.concat(ga.splitTextToSize(ir,$s))},[]))),At={text:W,x:fe,y:ze,options:Qe,mutex:{pdfEscape:Sr,activeFontKey:st,fonts:Ge,activeFontSize:Be}},Xt.publish("preProcessText",At),W=At.text,ts=(Qe=At.options).angle,!(na instanceof Wt)&&ts&&typeof ts=="number"){ts*=Math.PI/180,Qe.rotationDirection===0&&(ts=-ts),A===k.ADVANCED&&(ts=-ts);var fd=Math.cos(ts),gu=Math.sin(ts);na=new Wt(fd,gu,-gu,fd,0,0)}else ts&&ts instanceof Wt&&(na=ts);A!==k.ADVANCED||na||(na=Bs),(qs=Qe.charSpace||cu)!==void 0&&(Qa+=S(w(qs))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Xr=Qe.horizontalScale)!==void 0&&(Qa+=S(100*Xr)+` Tz
`),Qe.lang;var Zn=-1,Fx=Qe.renderingMode!==void 0?Qe.renderingMode:Qe.stroke,Am=ga.internal.getCurrentPageInfo().pageContext;switch(Fx){case 0:case!1:case"fill":Zn=0;break;case 1:case!0:case"stroke":Zn=1;break;case 2:case"fillThenStroke":Zn=2;break;case 3:case"invisible":Zn=3;break;case 4:case"fillAndAddForClipping":Zn=4;break;case 5:case"strokeAndAddPathForClipping":Zn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Zn=6;break;case 7:case"addToPathForClipping":Zn=7}var W0=Am.usedRenderingMode!==void 0?Am.usedRenderingMode:-1;Zn!==-1?Qa+=Zn+` Tr
`:W0!==-1&&(Qa+=`0 Tr
`),Zn!==-1&&(Am.usedRenderingMode=Zn),ms=Qe.align||"left";var Yi,Ja=Be*Di,xc=ga.internal.pageSize.getWidth(),Em=Ge[st];qs=Qe.charSpace||cu,$s=Qe.maxWidth||0,ur=Object.assign({autoencode:!0,noBOM:!0},Qe.flags);var Sl=[],fc=function(nr){return ga.getStringUnitWidth(nr,{font:Em,charSpace:qs,fontSize:Be,doKerning:!1})*Be/yo};if(Object.prototype.toString.call(W)==="[object Array]"){var zn;$t=jl(W),ms!=="left"&&(Yi=$t.map(fc));var fn,pc=0;if(ms==="right"){fe-=Yi[0],W=[],La=$t.length;for(var ei=0;ei<La;ei++)ei===0?(fn=Ti(fe),zn=qo(ze)):(fn=w(pc-Yi[ei]),zn=-Ja),W.push([$t[ei],fn,zn]),pc=Yi[ei]}else if(ms==="center"){fe-=Yi[0]/2,W=[],La=$t.length;for(var bo=0;bo<La;bo++)bo===0?(fn=Ti(fe),zn=qo(ze)):(fn=w((pc-Yi[bo])/2),zn=-Ja),W.push([$t[bo],fn,zn]),pc=Yi[bo]}else if(ms==="left"){W=[],La=$t.length;for(var Ho=0;Ho<La;Ho++)W.push($t[Ho])}else if(ms==="justify"&&Em.encoding==="Identity-H"){W=[],La=$t.length,$s=$s!==0?$s:xc;for(var vo=0,ca=0;ca<La;ca++)if(zn=ca===0?qo(ze):-Ja,fn=ca===0?Ti(fe):vo,ca<La-1){var wo=w(($s-Yi[ca])/($t[ca].split(" ").length-1)),_a=$t[ca].split(" ");W.push([_a[0]+" ",fn,zn]),vo=0;for(var ti=1;ti<_a.length;ti++){var pd=(fc(_a[ti-1]+" "+_a[ti])-fc(_a[ti]))*yo+wo;ti==_a.length-1?W.push([_a[ti],pd,0]):W.push([_a[ti]+" ",pd,0]),vo-=pd}}else W.push([$t[ca],fn,zn]);W.push(["",vo,0])}else{if(ms!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(W=[],La=$t.length,$s=$s!==0?$s:xc,ca=0;ca<La;ca++)zn=ca===0?qo(ze):-Ja,fn=ca===0?Ti(fe):0,ca<La-1?Sl.push(S(w(($s-Yi[ca])/($t[ca].split(" ").length-1)))):Sl.push(0),W.push([$t[ca],fn,zn])}}var Wo=typeof Qe.R2L=="boolean"?Qe.R2L:Ve;Wo===!0&&(W=Nl(W,function(nr,ir,Hr){return[nr.split("").reverse().join(""),ir,Hr]})),At={text:W,x:fe,y:ze,options:Qe,mutex:{pdfEscape:Sr,activeFontKey:st,fonts:Ge,activeFontSize:Be}},Xt.publish("postProcessText",At),W=At.text,go=At.mutex.isHex||!1;var yu=Ge[st].encoding;yu!=="WinAnsiEncoding"&&yu!=="StandardEncoding"||(W=Nl(W,function(nr,ir,Hr){return[km(nr),ir,Hr]})),$t=jl(W),W=[];for(var gc,yc,bc,gd=0,bu=1,vc=Array.isArray($t[0])?bu:gd,_l="",yd=function(nr,ir,Hr){var ba="";return Hr instanceof Wt?(Hr=typeof Qe.angle=="number"?Es(Hr,new Wt(1,0,0,1,nr,ir)):Es(new Wt(1,0,0,1,nr,ir),Hr),A===k.ADVANCED&&(Hr=Es(new Wt(1,0,0,-1,0,0),Hr)),ba=Hr.join(" ")+` Tm
`):ba=S(nr)+" "+S(ir)+` Td
`,ba},da=0;da<$t.length;da++){switch(_l="",vc){case bu:bc=(go?"<":"(")+$t[da][0]+(go?">":")"),gc=parseFloat($t[da][1]),yc=parseFloat($t[da][2]);break;case gd:bc=(go?"<":"(")+$t[da]+(go?">":")"),gc=Ti(fe),yc=qo(ze)}Sl!==void 0&&Sl[da]!==void 0&&(_l=Sl[da]+` Tw
`),da===0?W.push(_l+yd(gc,yc,na)+bc):vc===gd?W.push(_l+bc):vc===bu&&W.push(_l+yd(gc,yc,na)+bc)}W=vc===gd?W.join(` Tj
T* `):W.join(` Tj
`),W+=` Tj
`;var Pi=`BT
/`;return Pi+=st+" "+Be+` Tf
`,Pi+=S(Be*Di)+` TL
`,Pi+=ud+`
`,Pi+=Qa,Pi+=W,ae(Pi+="ET"),p[st]=!0,ga};var cd=g.__private__.clip=g.clip=function(W){return ae(W==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return cd("evenodd")},g.__private__.discardPath=g.discardPath=function(){return ae("n"),this};var hn=g.__private__.isValidStyle=function(W){var fe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(W)!==-1&&(fe=!0),fe};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(W){return hn(W)&&(u=W),this};var In=g.__private__.getStyle=g.getStyle=function(W){var fe=u;switch(W){case"D":case"S":fe="S";break;case"F":fe="f";break;case"FD":case"DF":fe="B";break;case"f":case"f*":case"B":case"B*":fe=W}return fe},wl=g.close=function(){return ae("h"),this};g.stroke=function(){return ae("S"),this},g.fill=function(W){return Ei("f",W),this},g.fillEvenOdd=function(W){return Ei("f*",W),this},g.fillStroke=function(W){return Ei("B",W),this},g.fillStrokeEvenOdd=function(W){return Ei("B*",W),this};var Ei=function(W,fe){qr(fe)==="object"?Kt(fe,W):ae(W)},Bn=function(W){W===null||A===k.ADVANCED&&W===void 0||(W=In(W),ae(W))};function lc(W,fe,ze,Qe,ht){var At=new Fh(fe||this.boundingBox,ze||this.xStep,Qe||this.yStep,this.gState,ht||this.matrix);At.stream=this.stream;var $t=W+"$$"+this.cloneIndex+++"$$";return sr($t,At),At}var Kt=function(W,fe){var ze=Oe[W.key],Qe=qe[ze];if(Qe instanceof o0)ae("q"),ae(iu(fe)),Qe.gState&&g.setGState(Qe.gState),ae(W.matrix.toString()+" cm"),ae("/"+ze+" sh"),ae("Q");else if(Qe instanceof Fh){var ht=new Wt(1,0,0,-1,0,uc());W.matrix&&(ht=ht.multiply(W.matrix||Bs),ze=lc.call(Qe,W.key,W.boundingBox,W.xStep,W.yStep,ht).id),ae("q"),ae("/Pattern cs"),ae("/"+ze+" scn"),Qe.gState&&g.setGState(Qe.gState),ae(fe),ae("Q")}},iu=function(W){switch(W){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Uo=g.moveTo=function(W,fe){return ae(S(w(W))+" "+S(D(fe))+" m"),this},Gi=g.lineTo=function(W,fe){return ae(S(w(W))+" "+S(D(fe))+" l"),this},fo=g.curveTo=function(W,fe,ze,Qe,ht,At){return ae([S(w(W)),S(D(fe)),S(w(ze)),S(D(Qe)),S(w(ht)),S(D(At)),"c"].join(" ")),this};g.__private__.line=g.line=function(W,fe,ze,Qe,ht){if(isNaN(W)||isNaN(fe)||isNaN(ze)||isNaN(Qe)||!hn(ht))throw new Error("Invalid arguments passed to jsPDF.line");return A===k.COMPAT?this.lines([[ze-W,Qe-fe]],W,fe,[1,1],ht||"S"):this.lines([[ze-W,Qe-fe]],W,fe,[1,1]).stroke()},g.__private__.lines=g.lines=function(W,fe,ze,Qe,ht,At){var $t,ts,ms,qs,$s,ur,Xr,na,ga,ya,Qa,go;if(typeof W=="number"&&(go=ze,ze=fe,fe=W,W=go),Qe=Qe||[1,1],At=At||!1,isNaN(fe)||isNaN(ze)||!Array.isArray(W)||!Array.isArray(Qe)||!hn(ht)||typeof At!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Uo(fe,ze),$t=Qe[0],ts=Qe[1],qs=W.length,ya=fe,Qa=ze,ms=0;ms<qs;ms++)($s=W[ms]).length===2?(ya=$s[0]*$t+ya,Qa=$s[1]*ts+Qa,Gi(ya,Qa)):(ur=$s[0]*$t+ya,Xr=$s[1]*ts+Qa,na=$s[2]*$t+ya,ga=$s[3]*ts+Qa,ya=$s[4]*$t+ya,Qa=$s[5]*ts+Qa,fo(ur,Xr,na,ga,ya,Qa));return At&&wl(),Bn(ht),this},g.path=function(W){for(var fe=0;fe<W.length;fe++){var ze=W[fe],Qe=ze.c;switch(ze.op){case"m":Uo(Qe[0],Qe[1]);break;case"l":Gi(Qe[0],Qe[1]);break;case"c":fo.apply(this,Qe);break;case"h":wl()}}return this},g.__private__.rect=g.rect=function(W,fe,ze,Qe,ht){if(isNaN(W)||isNaN(fe)||isNaN(ze)||isNaN(Qe)||!hn(ht))throw new Error("Invalid arguments passed to jsPDF.rect");return A===k.COMPAT&&(Qe=-Qe),ae([S(w(W)),S(D(fe)),S(w(ze)),S(w(Qe)),"re"].join(" ")),Bn(ht),this},g.__private__.triangle=g.triangle=function(W,fe,ze,Qe,ht,At,$t){if(isNaN(W)||isNaN(fe)||isNaN(ze)||isNaN(Qe)||isNaN(ht)||isNaN(At)||!hn($t))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ze-W,Qe-fe],[ht-ze,At-Qe],[W-ht,fe-At]],W,fe,[1,1],$t,!0),this},g.__private__.roundedRect=g.roundedRect=function(W,fe,ze,Qe,ht,At,$t){if(isNaN(W)||isNaN(fe)||isNaN(ze)||isNaN(Qe)||isNaN(ht)||isNaN(At)||!hn($t))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ts=4/3*(Math.SQRT2-1);return ht=Math.min(ht,.5*ze),At=Math.min(At,.5*Qe),this.lines([[ze-2*ht,0],[ht*ts,0,ht,At-At*ts,ht,At],[0,Qe-2*At],[0,At*ts,-ht*ts,At,-ht,At],[2*ht-ze,0],[-ht*ts,0,-ht,-At*ts,-ht,-At],[0,2*At-Qe],[0,-At*ts,ht*ts,-At,ht,-At]],W+ht,fe,[1,1],$t,!0),this},g.__private__.ellipse=g.ellipse=function(W,fe,ze,Qe,ht){if(isNaN(W)||isNaN(fe)||isNaN(ze)||isNaN(Qe)||!hn(ht))throw new Error("Invalid arguments passed to jsPDF.ellipse");var At=4/3*(Math.SQRT2-1)*ze,$t=4/3*(Math.SQRT2-1)*Qe;return Uo(W+ze,fe),fo(W+ze,fe-$t,W+At,fe-Qe,W,fe-Qe),fo(W-At,fe-Qe,W-ze,fe-$t,W-ze,fe),fo(W-ze,fe+$t,W-At,fe+Qe,W,fe+Qe),fo(W+At,fe+Qe,W+ze,fe+$t,W+ze,fe),Bn(ht),this},g.__private__.circle=g.circle=function(W,fe,ze,Qe){if(isNaN(W)||isNaN(fe)||isNaN(ze)||!hn(Qe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(W,fe,ze,ze,Qe)},g.setFont=function(W,fe,ze){return ze&&(fe=V(fe,ze)),st=mo(W,fe,{disableWarning:!1}),this};var Xa=g.__private__.getFont=g.getFont=function(){return Ge[mo.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var W,fe,ze={};for(W in St)if(St.hasOwnProperty(W))for(fe in ze[W]=[],St[W])St[W].hasOwnProperty(fe)&&ze[W].push(fe);return ze},g.addFont=function(W,fe,ze,Qe,ht){var At=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&At.indexOf(arguments[3])!==-1?ht=arguments[3]:arguments[3]&&At.indexOf(arguments[3])==-1&&(ze=V(ze,Qe)),ht=ht||"Identity-H",mn.call(this,W,fe,ze,ht)};var Ys,xn=t.lineWidth||.200025,Vo=g.__private__.getLineWidth=g.getLineWidth=function(){return xn},q0=g.__private__.setLineWidth=g.setLineWidth=function(W){return xn=W,ae(S(w(W))+" w"),this};g.__private__.setLineDash=As.API.setLineDash=As.API.setLineDashPattern=function(W,fe){if(W=W||[],fe=fe||0,isNaN(fe)||!Array.isArray(W))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return W=W.map(function(ze){return S(w(ze))}).join(" "),fe=S(w(fe)),ae("["+W+"] "+fe+" d"),this};var ou=g.__private__.getLineHeight=g.getLineHeight=function(){return Be*Ys};g.__private__.getLineHeight=g.getLineHeight=function(){return Be*Ys};var lu=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(W){return typeof(W=W||1.15)=="number"&&(Ys=W),this},cc=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Ys};lu(t.lineHeight);var Ti=g.__private__.getHorizontalCoordinate=function(W){return w(W)},qo=g.__private__.getVerticalCoordinate=function(W){return A===k.ADVANCED?W:Yt[O].mediaBox.topRightY-Yt[O].mediaBox.bottomLeftY-w(W)},Dx=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(W){return S(Ti(W))},dc=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(W){return S(qo(W))},po=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return De(po)},g.__private__.setStrokeColor=g.setDrawColor=function(W,fe,ze,Qe){return po=Ne({ch1:W,ch2:fe,ch3:ze,ch4:Qe,pdfColorType:"draw",precision:2}),ae(po),this};var dd=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return De(dd)},g.__private__.setFillColor=g.setFillColor=function(W,fe,ze,Qe){return dd=Ne({ch1:W,ch2:fe,ch3:ze,ch4:Qe,pdfColorType:"fill",precision:2}),ae(dd),this};var ud=t.textColor||"0 g",Px=g.__private__.getTextColor=g.getTextColor=function(){return De(ud)};g.__private__.setTextColor=g.setTextColor=function(W,fe,ze,Qe){return ud=Ne({ch1:W,ch2:fe,ch3:ze,ch4:Qe,pdfColorType:"text",precision:3}),this};var cu=t.charSpace,Mx=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(cu||0)};g.__private__.setCharSpace=g.setCharSpace=function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return cu=W,this};var Nm=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(W){var fe=g.CapJoinStyles[W];if(fe===void 0)throw new Error("Line cap style of '"+W+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nm=fe,ae(fe+" J"),this};var du=0;g.__private__.setLineJoin=g.setLineJoin=function(W){var fe=g.CapJoinStyles[W];if(fe===void 0)throw new Error("Line join style of '"+W+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return du=fe,ae(fe+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(W){if(W=W||0,isNaN(W))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ae(S(w(W))+" M"),this},g.GState=h1,g.setGState=function(W){(W=typeof W=="string"?jt[Et[W]]:H0(null,W)).equals(qt)||(ae("/"+W.id+" gs"),qt=W)};var H0=function(W,fe){if(!W||!Et[W]){var ze=!1;for(var Qe in jt)if(jt.hasOwnProperty(Qe)&&jt[Qe].equals(fe)){ze=!0;break}if(ze)fe=jt[Qe];else{var ht="GS"+(Object.keys(jt).length+1).toString(10);jt[ht]=fe,fe.id=ht}return W&&(Et[W]=fe.id),Xt.publish("addGState",fe),fe}};g.addGState=function(W,fe){return H0(W,fe),this},g.saveGraphicsState=function(){return ae("q"),bt.push({key:st,size:Be,color:ud}),this},g.restoreGraphicsState=function(){ae("Q");var W=bt.pop();return st=W.key,Be=W.size,ud=W.color,qt=null,this},g.setCurrentTransformationMatrix=function(W){return ae(W.toString()+" cm"),this},g.comment=function(W){return ae("#"+W),this};var uu=function(W,fe){var ze=W||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ze},set:function(At){isNaN(At)||(ze=parseFloat(At))}});var Qe=fe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Qe},set:function(At){isNaN(At)||(Qe=parseFloat(At))}});var ht="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ht},set:function(At){ht=At.toString()}}),this},Sm=function(W,fe,ze,Qe){uu.call(this,W,fe),this.type="rect";var ht=ze||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ht},set:function($t){isNaN($t)||(ht=parseFloat($t))}});var At=Qe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return At},set:function($t){isNaN($t)||(At=parseFloat($t))}}),this},_m=function(){this.page=Gt,this.currentPage=O,this.pages=oe.slice(0),this.pagesContext=Yt.slice(0),this.x=ct,this.y=nt,this.matrix=Bt,this.width=md(O),this.height=uc(O),this.outputDestination=re,this.id="",this.objectNumber=-1};_m.prototype.restore=function(){Gt=this.page,O=this.currentPage,Yt=this.pagesContext,oe=this.pages,ct=this.x,nt=this.y,Bt=this.matrix,xu(O,this.width),Cm(O,this.height),re=this.outputDestination};var mu=function(W,fe,ze,Qe,ht){Zt.push(new _m),Gt=O=0,oe=[],ct=W,nt=fe,Bt=ht,ki([ze,Qe])},Lx=function(W){if(Us[W])Zt.pop().restore();else{var fe=new _m,ze="Xo"+(Object.keys(ws).length+1).toString(10);fe.id=ze,Us[W]=ze,ws[ze]=fe,Xt.publish("addFormObject",fe),Zt.pop().restore()}};for(var hu in g.beginFormObject=function(W,fe,ze,Qe,ht){return mu(W,fe,ze,Qe,ht),this},g.endFormObject=function(W){return Lx(W),this},g.doFormObject=function(W,fe){var ze=ws[Us[W]];return ae("q"),ae(fe.toString()+" cm"),ae("/"+ze.id+" Do"),ae("Q"),this},g.getFormObject=function(W){var fe=ws[Us[W]];return{x:fe.x,y:fe.y,width:fe.width,height:fe.height,matrix:fe.matrix}},g.save=function(W,fe){return W=W||"generated.pdf",(fe=fe||{}).returnPromise=fe.returnPromise||!1,fe.returnPromise===!1?(a0(bl(qi()),W),typeof a0.unload=="function"&&Ds.setTimeout&&setTimeout(a0.unload,911),this):new Promise(function(ze,Qe){try{var ht=a0(bl(qi()),W);typeof a0.unload=="function"&&Ds.setTimeout&&setTimeout(a0.unload,911),ze(ht)}catch(At){Qe(At.message)}})},As.API)As.API.hasOwnProperty(hu)&&(hu==="events"&&As.API.events.length?function(W,fe){var ze,Qe,ht;for(ht=fe.length-1;ht!==-1;ht--)ze=fe[ht][0],Qe=fe[ht][1],W.subscribe.apply(W,[ze].concat(typeof Qe=="function"?[Qe]:Qe))}(Xt,As.API.events):g[hu]=As.API[hu]);var md=g.getPageWidth=function(W){return(Yt[W=W||O].mediaBox.topRightX-Yt[W].mediaBox.bottomLeftX)/ke},xu=g.setPageWidth=function(W,fe){Yt[W].mediaBox.topRightX=fe*ke+Yt[W].mediaBox.bottomLeftX},uc=g.getPageHeight=function(W){return(Yt[W=W||O].mediaBox.topRightY-Yt[W].mediaBox.bottomLeftY)/ke},Cm=g.setPageHeight=function(W,fe){Yt[W].mediaBox.topRightY=fe*ke+Yt[W].mediaBox.bottomLeftY};return g.internal={pdfEscape:Sr,getStyle:In,getFont:Xa,getFontSize:Ee,getCharSpace:Mx,getTextColor:Px,getLineHeight:ou,getLineHeightFactor:cc,getLineWidth:Vo,write:he,getHorizontalCoordinate:Ti,getVerticalCoordinate:qo,getCoordinateString:Dx,getVerticalCoordinateString:dc,collections:{},newObject:Ms,newAdditionalObject:Se,newObjectDeferred:dt,newObjectDeferredBegin:le,getFilters:Je,putStream:$e,events:Xt,scaleFactor:ke,pageSize:{getWidth:function(){return md(O)},setWidth:function(W){xu(O,W)},getHeight:function(){return uc(O)},setHeight:function(W){Cm(O,W)}},encryptionOptions:h,encryption:pa,getEncryptor:xo,output:Hi,getNumberOfPages:zo,pages:oe,out:ae,f2:B,f3:T,getPageInfo:Wi,getPageInfoByObjId:_s,getCurrentPageInfo:oc,getPDFVersion:y,Point:uu,Rectangle:Sm,Matrix:Wt,hasHotfix:vl},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return md(O)},set:function(W){xu(O,W)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return uc(O)},set:function(W){Cm(O,W)},enumerable:!0,configurable:!0}),Ci.call(g,Ie),st="F1",co(n,r),Xt.publish("initialized"),g}Eh.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Eh.prototype.toHexString=function(t){return t.split("").map(function(s){return("0"+(255&s.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Eh.prototype.hexToBytes=function(t){for(var s=[],r=0;r<t.length;r+=2)s.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return s.join("")},Eh.prototype.processOwnerPassword=function(t,s){return yj(gj(s).substr(0,5),t)},Eh.prototype.encryptor=function(t,s){var r=gj(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&s,s>>8&255)).substr(0,10);return function(a){return yj(r,a)}},h1.prototype.equals=function(t){var s,r="id,objectNumber,equals";if(!t||qr(t)!==qr(this))return!1;var a=0;for(s in this)if(!(r.indexOf(s)>=0)){if(this.hasOwnProperty(s)&&!t.hasOwnProperty(s)||this[s]!==t[s])return!1;a++}for(s in t)t.hasOwnProperty(s)&&r.indexOf(s)<0&&a--;return a===0},As.API={events:[]},As.version="3.0.1";var Ea=As.API,i5=1,V0=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ch=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ws=function(t){return t.toFixed(2)},Ku=function(t){return t.toFixed(5)};Ea.__acroform__={};var lo=function(t,s){t.prototype=Object.create(s.prototype),t.prototype.constructor=t},CC=function(t){return t*i5},zc=function(t){var s=new s7,r=cs.internal.getHeight(t)||0,a=cs.internal.getWidth(t)||0;return s.BBox=[0,0,Number(Ws(a)),Number(Ws(r))],s},hre=Ea.__acroform__.setBit=function(t,s){if(t=t||0,s=s||0,isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<s},xre=Ea.__acroform__.clearBit=function(t,s){if(t=t||0,s=s||0,isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<s)},fre=Ea.__acroform__.getBit=function(t,s){if(isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<s)==0?0:1},qa=Ea.__acroform__.getBitForPdf=function(t,s){if(isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return fre(t,s-1)},Ha=Ea.__acroform__.setBitForPdf=function(t,s){if(isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return hre(t,s-1)},Wa=Ea.__acroform__.clearBitForPdf=function(t,s){if(isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return xre(t,s-1)},pre=Ea.__acroform__.calculateCoordinates=function(t,s){var r=s.internal.getHorizontalCoordinate,a=s.internal.getVerticalCoordinate,n=t[0],i=t[1],o=t[2],l=t[3],d={};return d.lowerLeft_X=r(n)||0,d.lowerLeft_Y=a(i+l)||0,d.upperRight_X=r(n+o)||0,d.upperRight_Y=a(i)||0,[Number(Ws(d.lowerLeft_X)),Number(Ws(d.lowerLeft_Y)),Number(Ws(d.upperRight_X)),Number(Ws(d.upperRight_Y))]},gre=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var s=[],r=t._V||t.DV,a=bj(t,r),n=t.scope.internal.getFont(t.fontName,t.fontStyle).id;s.push("/Tx BMC"),s.push("q"),s.push("BT"),s.push(t.scope.__private__.encodeColorString(t.color)),s.push("/"+n+" "+Ws(a.fontSize)+" Tf"),s.push("1 0 0 1 0 0 Tm"),s.push(a.text),s.push("ET"),s.push("Q"),s.push("EMC");var i=zc(t);return i.scope=t.scope,i.stream=s.join(`
`),i}},bj=function(t,s){var r=t.fontSize===0?t.maxFontSize:t.fontSize,a={text:"",fontSize:""},n=(s=(s=s.substr(0,1)=="("?s.substr(1):s).substr(s.length-1)==")"?s.substr(0,s.length-1):s).split(" ");n=t.multiline?n.map(function(T){return T.split(`
`)}):n.map(function(T){return[T]});var i=r,o=cs.internal.getHeight(t)||0;o=o<0?-o:o;var l=cs.internal.getWidth(t)||0;l=l<0?-l:l;var d=function(T,w,E){if(T+1<n.length){var D=w+" "+n[T+1][0];return Yy(D,t,E).width<=l-4}return!1};i++;e:for(;i>0;){s="",i--;var u,h,f=Yy("3",t,i).height,p=t.multiline?o-i:(o-f)/2,g=p+=2,v=0,y=0,b=0;if(i<=0){s=`(...) Tj
`,s+="% Width of Text: "+Yy(s,t,i=12).width+", FieldWidth:"+l+`
`;break}for(var _="",k=0,A=0;A<n.length;A++)if(n.hasOwnProperty(A)){var R=!1;if(n[A].length!==1&&b!==n[A].length-1){if((f+2)*(k+2)+2>o)continue e;_+=n[A][b],R=!0,y=A,A--}else{_=(_+=n[A][b]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var F=parseInt(A),V=d(F,_,i),S=A>=n.length-1;if(V&&!S){_+=" ",b=0;continue}if(V||S){if(S)y=F;else if(t.multiline&&(f+2)*(k+2)+2>o)continue e}else{if(!t.multiline||(f+2)*(k+2)+2>o)continue e;y=F}}for(var L="",I=v;I<=y;I++){var B=n[I];if(t.multiline){if(I===y){L+=B[b]+" ",b=(b+1)%B.length;continue}if(I===v){L+=B[B.length-1]+" ";continue}}L+=B[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,h=Yy(L,t,i).width,t.textAlign){case"right":u=l-h-2;break;case"center":u=(l-h)/2;break;case"left":default:u=2}s+=Ws(u)+" "+Ws(g)+` Td
`,s+="("+V0(L)+`) Tj
`,s+=-Ws(u)+` 0 Td
`,g=-(i+2),h=0,v=R?y:y+1,k++,_=""}break}return a.text=s,a.fontSize=i,a},Yy=function(t,s,r){var a=s.scope.internal.getFont(s.fontName,s.fontStyle),n=s.scope.getStringUnitWidth(t,{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:s.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:n}},yre={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},bre=function(t,s){var r={type:"reference",object:t};s.internal.getPageInfo(t.page).pageContext.annotations.find(function(a){return a.type===r.type&&a.object===r.object})===void 0&&s.internal.getPageInfo(t.page).pageContext.annotations.push(r)},vre=function(t,s){for(var r in t)if(t.hasOwnProperty(r)){var a=r,n=t[r];s.internal.newObjectDeferredBegin(n.objId,!0),qr(n)==="object"&&typeof n.putStream=="function"&&n.putStream(),delete t[a]}},wre=function(t,s){if(s.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(sc.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(yre)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");i5=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new r7,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in a)if(a.hasOwnProperty(n)){var i=a[n];i.objId=void 0,i.hasAnnotation&&bre(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(a,n){var i=!a;for(var o in a||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(o)){var l=a[o],d=[],u=l.Rect;if(l.Rect&&(l.Rect=pre(l.Rect,n)),n.internal.newObjectDeferredBegin(l.objId,!0),l.DA=cs.createDefaultAppearanceStream(l),qr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(d=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var h=gre(l);d.push({key:"AP",value:"<</N "+h+">>"}),n.internal.acroformPlugin.xForms.push(h)}if(l.appearanceStreamContent){var f="";for(var p in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(p)){var g=l.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var v=g[o];typeof v=="function"&&(v=v.call(n,l)),f+="/"+o+" "+v+" ",n.internal.acroformPlugin.xForms.indexOf(v)>=0||n.internal.acroformPlugin.xForms.push(v)}}else typeof(v=g)=="function"&&(v=v.call(n,l)),f+="/"+o+" "+v,n.internal.acroformPlugin.xForms.indexOf(v)>=0||n.internal.acroformPlugin.xForms.push(v);f+=">>"}d.push({key:"AP",value:`<<
`+f+">>"})}n.internal.putStream({additionalKeyValues:d,objectId:l.objId}),n.internal.out("endobj")}i&&vre(n.internal.acroformPlugin.xForms,n)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},t7=Ea.__acroform__.arrayToPdfArray=function(t,s,r){var a=function(o){return o};if(Array.isArray(t)){for(var n="[",i=0;i<t.length;i++)switch(i!==0&&(n+=" "),qr(t[i])){case"boolean":case"number":case"object":n+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(s!==void 0&&r&&(a=r.internal.getEncryptor(s)),n+="("+V0(a(t[i].toString()))+")"):n+=t[i].toString()}return n+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ow=function(t,s,r){var a=function(n){return n};return s!==void 0&&r&&(a=r.internal.getEncryptor(s)),(t=t||"").toString(),t="("+V0(a(t))+")"},Vc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Vc.prototype.toString=function(){return this.objId+" 0 R"},Vc.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Vc.prototype.getKeyValueListForStream=function(){var t=[],s=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in s)if(Object.getOwnPropertyDescriptor(this,s[r]).configurable===!1){var a=s[r],n=this[a];n&&(Array.isArray(n)?t.push({key:a,value:t7(n,this.objId,this.scope)}):n instanceof Vc?(n.scope=this.scope,t.push({key:a,value:n.objId+" 0 R"})):typeof n!="function"&&t.push({key:a,value:n}))}return t};var s7=function(){Vc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,s=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return s},set:function(r){s=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};lo(s7,Vc);var r7=function(){Vc.call(this);var t,s=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return s.length>0?s:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return s}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(a){return a};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+V0(r(t))+")"}},set:function(r){t=r}})};lo(r7,Vc);var sc=function t(){Vc.call(this);var s=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return s},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');s=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!qa(s,3)},set:function(_){_?this.F=Ha(s,3):this.F=Wa(s,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');r=_}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(_){a=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(_){a[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(_){a[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(_){a[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(_){a[3]=_}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof x1)return;i="FieldObject"+t.FieldNum++}var _=function(k){return k};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+V0(_(i))+")"},set:function(_){i=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(_){i=_}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(_){o=_}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(_){d=_}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/i5:u},set:function(_){u=_}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(_){h=_}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof x1||this instanceof b0))return ow(f,this.objId,this.scope)},set:function(_){_=_.toString(),f=_}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Tn?p:ow(p,this.objId,this.scope)},set:function(_){_=_.toString(),p=this instanceof Tn?_:_.substr(0,1)==="("?Ch(_.substr(1,_.length-2)):Ch(_)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Tn?Ch(p.substr(1,p.length-1)):p},set:function(_){_=_.toString(),p=this instanceof Tn?"/"+_:_}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Tn?g:ow(g,this.objId,this.scope)},set:function(_){_=_.toString(),g=this instanceof Tn?_:_.substr(0,1)==="("?Ch(_.substr(1,_.length-2)):Ch(_)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Tn?Ch(g.substr(1,g.length-1)):g},set:function(_){_=_.toString(),g=this instanceof Tn?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(_){_=!!_,y=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(_){v=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!qa(this.Ff,1)},set:function(_){_?this.Ff=Ha(this.Ff,1):this.Ff=Wa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!qa(this.Ff,2)},set:function(_){_?this.Ff=Ha(this.Ff,2):this.Ff=Wa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!qa(this.Ff,3)},set:function(_){_?this.Ff=Ha(this.Ff,3):this.Ff=Wa(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');b=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(b){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:b=2;break;case"center":case 1:b=1;break;case"left":case 0:default:b=0}}})};lo(sc,Vc);var Xh=function(){sc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var s=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return t7(s,this.objId,this.scope)},set:function(r){var a,n;n=[],typeof(a=r)=="string"&&(n=function(i,o,l){l||(l=1);for(var d,u=[];d=o.exec(i);)u.push(d[l]);return u}(a,/\((.*?)\)/g)),s=n}}),this.getOptions=function(){return s},this.setOptions=function(r){s=r,this.sort&&s.sort()},this.addOption=function(r){r=(r=r||"").toString(),s.push(r),this.sort&&s.sort()},this.removeOption=function(r,a){for(a=a||!1,r=(r=r||"").toString();s.indexOf(r)!==-1&&(s.splice(s.indexOf(r),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!qa(this.Ff,18)},set:function(r){r?this.Ff=Ha(this.Ff,18):this.Ff=Wa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!qa(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Ha(this.Ff,19):this.Ff=Wa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!qa(this.Ff,20)},set:function(r){r?(this.Ff=Ha(this.Ff,20),s.sort()):this.Ff=Wa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!qa(this.Ff,22)},set:function(r){r?this.Ff=Ha(this.Ff,22):this.Ff=Wa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!qa(this.Ff,23)},set:function(r){r?this.Ff=Ha(this.Ff,23):this.Ff=Wa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!qa(this.Ff,27)},set:function(r){r?this.Ff=Ha(this.Ff,27):this.Ff=Wa(this.Ff,27)}}),this.hasAppearanceStream=!1};lo(Xh,sc);var Qh=function(){Xh.call(this),this.fontName="helvetica",this.combo=!1};lo(Qh,Xh);var Jh=function(){Qh.call(this),this.combo=!0};lo(Jh,Qh);var fb=function(){Jh.call(this),this.edit=!0};lo(fb,Jh);var Tn=function(){sc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!qa(this.Ff,15)},set:function(r){r?this.Ff=Ha(this.Ff,15):this.Ff=Wa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!qa(this.Ff,16)},set:function(r){r?this.Ff=Ha(this.Ff,16):this.Ff=Wa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!qa(this.Ff,17)},set:function(r){r?this.Ff=Ha(this.Ff,17):this.Ff=Wa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!qa(this.Ff,26)},set:function(r){r?this.Ff=Ha(this.Ff,26):this.Ff=Wa(this.Ff,26)}});var t,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(s).length!==0){var a,n=[];for(a in n.push("<<"),s)n.push("/"+a+" ("+V0(r(s[a]))+")");return n.push(">>"),n.join(`
`)}},set:function(r){qr(r)==="object"&&(s=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(r){typeof r=="string"&&(s.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};lo(Tn,sc);var pb=function(){Tn.call(this),this.pushButton=!0};lo(pb,Tn);var Zh=function(){Tn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(s){t=s!==void 0?s:[]}})};lo(Zh,Tn);var x1=function(){var t,s;sc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return s},set:function(n){s=n}});var r,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(l){return l};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),a)o.push("/"+i+" ("+V0(n(a[i]))+")");return o.push(">>"),o.join(`
`)},set:function(n){qr(n)==="object"&&(a=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(n){typeof n=="string"&&(a.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(n){r="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=cs.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};lo(x1,sc),Zh.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var s in this.Kids)if(this.Kids.hasOwnProperty(s)){var r=this.Kids[s];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Zh.prototype.createOption=function(t){var s=new x1;return s.Parent=this,s.optionName=t,this.Kids.push(s),jre.call(this.scope,s),s};var gb=function(){Tn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=cs.CheckBox.createAppearanceStream()};lo(gb,Tn);var b0=function(){sc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!qa(this.Ff,13)},set:function(s){s?this.Ff=Ha(this.Ff,13):this.Ff=Wa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!qa(this.Ff,21)},set:function(s){s?this.Ff=Ha(this.Ff,21):this.Ff=Wa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!qa(this.Ff,23)},set:function(s){s?this.Ff=Ha(this.Ff,23):this.Ff=Wa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!qa(this.Ff,24)},set:function(s){s?this.Ff=Ha(this.Ff,24):this.Ff=Wa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!qa(this.Ff,25)},set:function(s){s?this.Ff=Ha(this.Ff,25):this.Ff=Wa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!qa(this.Ff,26)},set:function(s){s?this.Ff=Ha(this.Ff,26):this.Ff=Wa(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(s){Number.isInteger(s)&&(t=s)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};lo(b0,sc);var yb=function(){b0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!qa(this.Ff,14)},set:function(t){t?this.Ff=Ha(this.Ff,14):this.Ff=Wa(this.Ff,14)}}),this.password=!0};lo(yb,b0);var cs={CheckBox:{createAppearanceStream:function(){return{N:{On:cs.CheckBox.YesNormal},D:{On:cs.CheckBox.YesPushDown,Off:cs.CheckBox.OffPushDown}}},YesPushDown:function(t){var s=zc(t);s.scope=t.scope;var r=[],a=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=bj(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Ws(cs.internal.getWidth(t))+" "+Ws(cs.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+a+" "+Ws(i.fontSize)+" Tf "+n),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),s.stream=r.join(`
`),s},YesNormal:function(t){var s=zc(t);s.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),n=[],i=cs.internal.getHeight(t),o=cs.internal.getWidth(t),l=bj(t,t.caption);return n.push("1 g"),n.push("0 0 "+Ws(o)+" "+Ws(i)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+Ws(o-1)+" "+Ws(i-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+r+" "+Ws(l.fontSize)+" Tf "+a),n.push(l.text),n.push("ET"),n.push("Q"),s.stream=n.join(`
`),s},OffPushDown:function(t){var s=zc(t);s.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ws(cs.internal.getWidth(t))+" "+Ws(cs.internal.getHeight(t))+" re"),r.push("f"),s.stream=r.join(`
`),s}},RadioButton:{Circle:{createAppearanceStream:function(t){var s={D:{Off:cs.RadioButton.Circle.OffPushDown},N:{}};return s.N[t]=cs.RadioButton.Circle.YesNormal,s.D[t]=cs.RadioButton.Circle.YesPushDown,s},getCA:function(){return"l"},YesNormal:function(t){var s=zc(t);s.scope=t.scope;var r=[],a=cs.internal.getWidth(t)<=cs.internal.getHeight(t)?cs.internal.getWidth(t)/4:cs.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var n=cs.internal.Bezier_C,i=Number((a*n).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ku(cs.internal.getWidth(t)/2)+" "+Ku(cs.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),s.stream=r.join(`
`),s},YesPushDown:function(t){var s=zc(t);s.scope=t.scope;var r=[],a=cs.internal.getWidth(t)<=cs.internal.getHeight(t)?cs.internal.getWidth(t)/4:cs.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var n=Number((2*a).toFixed(5)),i=Number((n*cs.internal.Bezier_C).toFixed(5)),o=Number((a*cs.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ku(cs.internal.getWidth(t)/2)+" "+Ku(cs.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ku(cs.internal.getWidth(t)/2)+" "+Ku(cs.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),r.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),r.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),r.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),r.push("f"),r.push("Q"),s.stream=r.join(`
`),s},OffPushDown:function(t){var s=zc(t);s.scope=t.scope;var r=[],a=cs.internal.getWidth(t)<=cs.internal.getHeight(t)?cs.internal.getWidth(t)/4:cs.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var n=Number((2*a).toFixed(5)),i=Number((n*cs.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ku(cs.internal.getWidth(t)/2)+" "+Ku(cs.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),s.stream=r.join(`
`),s}},Cross:{createAppearanceStream:function(t){var s={D:{Off:cs.RadioButton.Cross.OffPushDown},N:{}};return s.N[t]=cs.RadioButton.Cross.YesNormal,s.D[t]=cs.RadioButton.Cross.YesPushDown,s},getCA:function(){return"8"},YesNormal:function(t){var s=zc(t);s.scope=t.scope;var r=[],a=cs.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Ws(cs.internal.getWidth(t)-2)+" "+Ws(cs.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Ws(a.x1.x)+" "+Ws(a.x1.y)+" m"),r.push(Ws(a.x2.x)+" "+Ws(a.x2.y)+" l"),r.push(Ws(a.x4.x)+" "+Ws(a.x4.y)+" m"),r.push(Ws(a.x3.x)+" "+Ws(a.x3.y)+" l"),r.push("s"),r.push("Q"),s.stream=r.join(`
`),s},YesPushDown:function(t){var s=zc(t);s.scope=t.scope;var r=cs.internal.calculateCross(t),a=[];return a.push("0.749023 g"),a.push("0 0 "+Ws(cs.internal.getWidth(t))+" "+Ws(cs.internal.getHeight(t))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+Ws(cs.internal.getWidth(t)-2)+" "+Ws(cs.internal.getHeight(t)-2)+" re"),a.push("W"),a.push("n"),a.push(Ws(r.x1.x)+" "+Ws(r.x1.y)+" m"),a.push(Ws(r.x2.x)+" "+Ws(r.x2.y)+" l"),a.push(Ws(r.x4.x)+" "+Ws(r.x4.y)+" m"),a.push(Ws(r.x3.x)+" "+Ws(r.x3.y)+" l"),a.push("s"),a.push("Q"),s.stream=a.join(`
`),s},OffPushDown:function(t){var s=zc(t);s.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ws(cs.internal.getWidth(t))+" "+Ws(cs.internal.getHeight(t))+" re"),r.push("f"),s.stream=r.join(`
`),s}}},createDefaultAppearanceStream:function(t){var s=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+s+" "+t.fontSize+" Tf "+r}};cs.internal={Bezier_C:.551915024494,calculateCross:function(t){var s=cs.internal.getWidth(t),r=cs.internal.getHeight(t),a=Math.min(s,r);return{x1:{x:(s-a)/2,y:(r-a)/2+a},x2:{x:(s-a)/2+a,y:(r-a)/2},x3:{x:(s-a)/2,y:(r-a)/2},x4:{x:(s-a)/2+a,y:(r-a)/2+a}}}},cs.internal.getWidth=function(t){var s=0;return qr(t)==="object"&&(s=CC(t.Rect[2])),s},cs.internal.getHeight=function(t){var s=0;return qr(t)==="object"&&(s=CC(t.Rect[3])),s};var jre=Ea.addField=function(t){if(wre(this,t),!(t instanceof sc))throw new Error("Invalid argument passed to jsPDF.addField.");var s;return(s=t).scope.internal.acroformPlugin.printedOut&&(s.scope.internal.acroformPlugin.printedOut=!1,s.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),s.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(s),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Ea.AcroFormChoiceField=Xh,Ea.AcroFormListBox=Qh,Ea.AcroFormComboBox=Jh,Ea.AcroFormEditBox=fb,Ea.AcroFormButton=Tn,Ea.AcroFormPushButton=pb,Ea.AcroFormRadioButton=Zh,Ea.AcroFormCheckBox=gb,Ea.AcroFormTextField=b0,Ea.AcroFormPasswordField=yb,Ea.AcroFormAppearance=cs,Ea.AcroForm={ChoiceField:Xh,ListBox:Qh,ComboBox:Jh,EditBox:fb,Button:Tn,PushButton:pb,RadioButton:Zh,CheckBox:gb,TextField:b0,PasswordField:yb,Appearance:cs},As.AcroForm={ChoiceField:Xh,ListBox:Qh,ComboBox:Jh,EditBox:fb,Button:Tn,PushButton:pb,RadioButton:Zh,CheckBox:gb,TextField:b0,PasswordField:yb,Appearance:cs};As.AcroForm;function a7(t){return t.reduce(function(s,r,a){return s[r]=a,s},{})}(function(t){t.__addimage__={};var s="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=t.__addimage__.getImageFileTypeByImageData=function(T,w){var E,D,G,K,X,se=s;if((w=w||s)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(V(T))for(X in r)for(G=r[X],E=0;E<G.length;E+=1){for(K=!0,D=0;D<G[E].length;D+=1)if(G[E][D]!==void 0&&G[E][D]!==T[D]){K=!1;break}if(K===!0){se=X;break}}else for(X in r)for(G=r[X],E=0;E<G.length;E+=1){for(K=!0,D=0;D<G[E].length;D+=1)if(G[E][D]!==void 0&&G[E][D]!==T.charCodeAt(D)){K=!1;break}if(K===!0){se=X;break}}return se===s&&w!==s&&(se=w),se},n=function T(w){for(var E=this.internal.write,D=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);w.objectId=this.internal.newObject();var K=[];if(K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Image"}),K.push({key:"Width",value:w.width}),K.push({key:"Height",value:w.height}),w.colorSpace===b.INDEXED?K.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(w.palette.length/3-1)+" "+("sMask"in w&&w.sMask!==void 0?w.objectId+2:w.objectId+1)+" 0 R]"}):(K.push({key:"ColorSpace",value:"/"+w.colorSpace}),w.colorSpace===b.DEVICE_CMYK&&K.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),K.push({key:"BitsPerComponent",value:w.bitsPerComponent}),"decodeParameters"in w&&w.decodeParameters!==void 0&&K.push({key:"DecodeParms",value:"<<"+w.decodeParameters+">>"}),"transparency"in w&&Array.isArray(w.transparency)){for(var X="",se=0,Z=w.transparency.length;se<Z;se++)X+=w.transparency[se]+" "+w.transparency[se]+" ";K.push({key:"Mask",value:"["+X+"]"})}w.sMask!==void 0&&K.push({key:"SMask",value:w.objectId+1+" 0 R"});var ee=w.filter!==void 0?["/"+w.filter]:void 0;if(D({data:w.data,additionalKeyValues:K,alreadyAppliedFilters:ee,objectId:w.objectId}),E("endobj"),"sMask"in w&&w.sMask!==void 0){var ce="/Predictor "+w.predictor+" /Colors 1 /BitsPerComponent "+w.bitsPerComponent+" /Columns "+w.width,U={width:w.width,height:w.height,colorSpace:"DeviceGray",bitsPerComponent:w.bitsPerComponent,decodeParameters:ce,data:w.sMask};"filter"in w&&(U.filter=w.filter),T.call(this,U)}if(w.colorSpace===b.INDEXED){var O=this.internal.newObject();D({data:L(new Uint8Array(w.palette)),objectId:O}),E("endobj")}},i=function(){var T=this.internal.collections.addImage_images;for(var w in T)n.call(this,T[w])},o=function(){var T,w=this.internal.collections.addImage_images,E=this.internal.write;for(var D in w)E("/I"+(T=w[D]).index,T.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},d=function(){var T=this.internal.collections.addImage_images;return l.call(this),T},u=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(T){return typeof t["process"+T.toUpperCase()]=="function"},f=function(T){return qr(T)==="object"&&T.nodeType===1},p=function(T,w){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var E=""+T.getAttribute("src");if(E.indexOf("data:image/")===0)return hp(unescape(E).split("base64,").pop());var D=t.loadFile(E,!0);if(D!==void 0)return D}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var G;switch(w){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;case"JPEG":case"JPG":default:G="image/jpeg"}return hp(T.toDataURL(G,1).split("base64,").pop())}},g=function(T){var w=this.internal.collections.addImage_images;if(w){for(var E in w)if(T===w[E].alias)return w[E]}},v=function(T,w,E){return T||w||(T=-96,w=-96),T<0&&(T=-1*E.width*72/T/this.internal.scaleFactor),w<0&&(w=-1*E.height*72/w/this.internal.scaleFactor),T===0&&(T=w*E.width/E.height),w===0&&(w=T*E.height/E.width),[T,w]},y=function(T,w,E,D,G,K){var X=v.call(this,E,D,G),se=this.internal.getCoordinateString,Z=this.internal.getVerticalCoordinateString,ee=d.call(this);if(E=X[0],D=X[1],ee[G.index]=G,K){K*=Math.PI/180;var ce=Math.cos(K),U=Math.sin(K),O=function(q){return q.toFixed(4)},z=[O(ce),O(U),O(-1*U),O(ce),0,0,"cm"]}this.internal.write("q"),K?(this.internal.write([1,"0","0",1,se(T),Z(w+D),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([se(E),"0","0",se(D),"0","0","cm"].join(" "))):this.internal.write([se(E),"0","0",se(D),se(T),Z(w+D),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},b=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=t.__addimage__.sHashCode=function(T){var w,E,D=0;if(typeof T=="string")for(E=T.length,w=0;w<E;w++)D=(D<<5)-D+T.charCodeAt(w),D|=0;else if(V(T))for(E=T.byteLength/2,w=0;w<E;w++)D=(D<<5)-D+T[w],D|=0;return D},A=t.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var w=!0;return T.length===0&&(w=!1),T.length%4!=0&&(w=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(w=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(w=!1),w},R=t.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var w=T.indexOf(",");return w<0?null:T.substring(0,w).trim().endsWith("base64")?T.substring(w+1):null},F=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(T){return F()&&T instanceof ArrayBuffer};var V=t.__addimage__.isArrayBufferView=function(T){return F()&&typeof Uint32Array<"u"&&(T instanceof Int8Array||T instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)},S=t.__addimage__.binaryStringToUint8Array=function(T){for(var w=T.length,E=new Uint8Array(w),D=0;D<w;D++)E[D]=T.charCodeAt(D);return E},L=t.__addimage__.arrayBufferToBinaryString=function(T){for(var w="",E=V(T)?T:new Uint8Array(T),D=0;D<E.length;D+=8192)w+=String.fromCharCode.apply(null,E.subarray(D,D+8192));return w};t.addImage=function(){var T,w,E,D,G,K,X,se,Z;if(typeof arguments[1]=="number"?(w=s,E=arguments[1],D=arguments[2],G=arguments[3],K=arguments[4],X=arguments[5],se=arguments[6],Z=arguments[7]):(w=arguments[1],E=arguments[2],D=arguments[3],G=arguments[4],K=arguments[5],X=arguments[6],se=arguments[7],Z=arguments[8]),qr(T=arguments[0])==="object"&&!f(T)&&"imageData"in T){var ee=T;T=ee.imageData,w=ee.format||w||s,E=ee.x||E||0,D=ee.y||D||0,G=ee.w||ee.width||G,K=ee.h||ee.height||K,X=ee.alias||X,se=ee.compression||se,Z=ee.rotation||ee.angle||Z}var ce=this.internal.getFilters();if(se===void 0&&ce.indexOf("FlateEncode")!==-1&&(se="SLOW"),isNaN(E)||isNaN(D))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var U=I.call(this,T,w,X,se);return y.call(this,E,D,G,K,U,Z),this};var I=function(T,w,E,D){var G,K,X;if(typeof T=="string"&&a(T)===s){T=unescape(T);var se=B(T,!1);(se!==""||(se=t.loadFile(T,!0))!==void 0)&&(T=se)}if(f(T)&&(T=p(T,w)),w=a(T,w),!h(w))throw new Error("addImage does not support files of type '"+w+"', please ensure that a plugin for '"+w+"' support is added.");if(((X=E)==null||X.length===0)&&(E=function(Z){return typeof Z=="string"||V(Z)?k(Z):V(Z.data)?k(Z.data):null}(T)),(G=g.call(this,E))||(F()&&(T instanceof Uint8Array||w==="RGBA"||(K=T,T=S(T))),G=this["process"+w.toUpperCase()](T,u.call(this),E,function(Z){return Z&&typeof Z=="string"&&(Z=Z.toUpperCase()),Z in t.image_compression?Z:_.NONE}(D),K)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},B=t.__addimage__.convertBase64ToBinaryString=function(T,w){w=typeof w!="boolean"||w;var E,D="";if(typeof T=="string"){var G;E=(G=R(T))!==null&&G!==void 0?G:T;try{D=hp(E)}catch(K){if(w)throw A(E)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+K.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return D};t.getImageProperties=function(T){var w,E,D="";if(f(T)&&(T=p(T)),typeof T=="string"&&a(T)===s&&((D=B(T,!1))===""&&(D=t.loadFile(T)||""),T=D),E=a(T),!h(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(!F()||T instanceof Uint8Array||(T=S(T)),!(w=this["process"+E.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return w.fileType=E,w}})(As.API),function(t){var s=function(r){if(r!==void 0&&r!="")return!0};As.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var a,n,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,h=!1,f=0;f<u.length&&!h;f++)switch((a=u[f]).type){case"link":(s(a.options.url)||s(a.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){a=u[p];var g=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(y.objId),k=a.title||"Note";i="<</Type /Annot /Subtype /Text "+(n="/Rect ["+o(a.bounds.x)+" "+l(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w)+" "+l(a.bounds.y)+"] ")+"/Contents ("+g(_(a.contents))+")",i+=" /Popup "+b.objId+" 0 R",i+=" /P "+d.objId+" 0 R",i+=" /T ("+g(_(k))+") >>",y.content=i;var A=y.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+o(a.bounds.x+30)+" "+l(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w+30)+" "+l(a.bounds.y)+"] ")+" /Parent "+A,a.open&&(i+=" /Open true"),i+=" >>",b.content=i,this.internal.write(y.objId,"0 R",b.objId,"0 R");break;case"freetext":n="/Rect ["+o(a.bounds.x)+" "+l(a.bounds.y)+" "+o(a.bounds.x+a.bounds.w)+" "+l(a.bounds.y+a.bounds.h)+"] ";var R=a.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+g(v(a.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(a.options.name){var F=this.annotations._nameMap[a.options.name];a.options.pageNumber=F.page,a.options.top=F.y}else a.options.top||(a.options.top=0);if(n="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",i="",a.options.url)i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+g(v(a.options.url))+") >>";else if(a.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,i+=" /FitV "+a.options.left+"]";break;case"XYZ":default:var V=l(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),i+=" /XYZ "+a.options.left+" "+V+" "+a.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var a=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":a.pageContext.annotations.push(r)}},t.link=function(r,a,n,i,o){var l=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:d(r),y:u(a),w:d(r+n),h:u(a+i)},options:o,type:"link"})},t.textWithLink=function(r,a,n,i){var o,l,d=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var h=this.splitTextToSize(r,l).length;o=Math.ceil(u*h)}else l=d,o=u;return this.text(r,a,n,i),n+=.2*u,i.align==="center"&&(a-=d/2),i.align==="right"&&(a-=d),this.link(a,n-u,l,o,i),d},t.getTextWidth=function(r){var a=this.internal.getFontSize();return this.getStringUnitWidth(r)*a/this.internal.scaleFactor}}(As.API),function(t){var s={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(y){return s[y.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},l=t.__arabicParser__.isArabicEndLetter=function(y){return o(y)&&i(y)&&s[y.charCodeAt(0)].length<=2},d=t.__arabicParser__.isArabicAlfLetter=function(y){return o(y)&&n.indexOf(y.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return o(y)&&i(y)&&s[y.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(y){return o(y)&&i(y)&&s[y.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(y){return o(y)&&i(y)&&s[y.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(y){return o(y)&&i(y)&&s[y.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(y){var b=0,_=r,k="",A=0;for(b=0;b<y.length;b+=1)_[y.charCodeAt(b)]!==void 0?(A++,typeof(_=_[y.charCodeAt(b)])=="number"&&(k+=String.fromCharCode(_),_=r,A=0),b===y.length-1&&(_=r,k+=y.charAt(b-(A-1)),b-=A-1,A=0)):(_=r,k+=y.charAt(b-A),b-=A,A=0);return k};t.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&a[y.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(y,b,_){return o(y)?i(y)===!1?-1:!u(y)||!o(b)&&!o(_)||!o(_)&&l(b)||l(y)&&!o(b)||l(y)&&d(b)||l(y)&&l(b)?0:h(y)&&o(b)&&!l(b)&&o(_)&&u(_)?3:l(y)||!o(_)?1:2:-1},g=function(y){var b=0,_=0,k=0,A="",R="",F="",V=(y=y||"").split("\\s+"),S=[];for(b=0;b<V.length;b+=1){for(S.push(""),_=0;_<V[b].length;_+=1)A=V[b][_],R=V[b][_-1],F=V[b][_+1],o(A)?(k=p(A,R,F),S[b]+=k!==-1?String.fromCharCode(s[A.charCodeAt(0)][k]):A):S[b]+=A;S[b]=f(S[b])}return S.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var y,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(b)){var k=0;for(_=[],k=0;k<b.length;k+=1)Array.isArray(b[k])?_.push([g(b[k][0]),b[k][1],b[k][2]]):_.push([g(b[k])]);y=_}else y=g(b);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};t.events.push(["preProcessText",v])}(As.API),As.API.autoPrint=function(t){var s;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){s=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+s+" 0 R")})}return this},function(t){var s=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};s.prototype.getContext=function(r,a){var n;if((r=r||"2d")!=="2d")return null;for(n in a)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=a[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},s.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new s,this.canvas.pdf=this}])}(As.API),function(t){var s={left:0,top:0,bottom:0,right:0},r=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},s),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(y){g=y}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(y){v=y}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(d){return a.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},t.getTextDimensions=function(d,u){a.call(this);var h=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,g=0,v=0,y=0,b=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var _=u.maxWidth;_>0?typeof d=="string"?d=this.splitTextToSize(d,_):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(A,R){return A.concat(b.splitTextToSize(R,_))},[])):d=Array.isArray(d)?d:[d];for(var k=0;k<d.length;k++)g<(y=this.getStringUnitWidth(d[k],{font:f})*h)&&(g=y);return g!==0&&(v=d.length),{w:g/=p,h:Math.max((v*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){a.call(this),this.addPage();var d=this.internal.__cell__.margins||s;return this.internal.__cell__.lastCell=new i(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var d;d=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var u=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,f=this.internal.__cell__.margins||s,p=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===d.lineNumber?(d.x=(u.x||0)+(u.width||0),d.y=u.y||0):u.y+u.height+d.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=f.top,g&&p&&(this.printHeaderRow(d.lineNumber,!0),d.y+=p[0].height)):d.y=u.y+u.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,r===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-h,d.y+h,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+h,{align:"center",baseline:"top",maxWidth:d.width-h-h}):this.text(d.text,d.x+h,d.y+h,{align:"left",baseline:"top",maxWidth:d.width-h-h})),this.internal.__cell__.lastCell=d,this};t.table=function(d,u,h,f,p){if(a.call(this),!h)throw new Error("No data for PDF table.");var g,v,y,b,_=[],k=[],A=[],R={},F={},V=[],S=[],L=(p=p||{}).autoSize||!1,I=p.printHeaders!==!1,B=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,T=p.margins||Object.assign({width:this.getPageWidth()},s),w=typeof p.padding=="number"?p.padding:3,E=p.headerBackgroundColor||"#c8c8c8",D=p.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=B,this.internal.__cell__.padding=w,this.internal.__cell__.headerBackgroundColor=E,this.internal.__cell__.headerTextColor=D,this.setFontSize(B),f==null)k=_=Object.keys(h[0]),A=_.map(function(){return"left"});else if(Array.isArray(f)&&qr(f[0])==="object")for(_=f.map(function(ee){return ee.name}),k=f.map(function(ee){return ee.prompt||ee.name||""}),A=f.map(function(ee){return ee.align||"left"}),g=0;g<f.length;g+=1)F[f[g].name]=f[g].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(k=_=f,A=_.map(function(){return"left"}));if(L||Array.isArray(f)&&typeof f[0]=="string")for(g=0;g<_.length;g+=1){for(R[b=_[g]]=h.map(function(ee){return ee[b]}),this.setFont(void 0,"bold"),V.push(this.getTextDimensions(k[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=R[b],this.setFont(void 0,"normal"),y=0;y<v.length;y+=1)V.push(this.getTextDimensions(v[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);F[b]=Math.max.apply(null,V)+w+w,V=[]}if(I){var G={};for(g=0;g<_.length;g+=1)G[_[g]]={},G[_[g]].text=k[g],G[_[g]].align=A[g];var K=l.call(this,G,F);S=_.map(function(ee){return new i(d,u,F[ee],K,G[ee].text,void 0,G[ee].align)}),this.setTableHeaderRow(S),this.printHeaderRow(1,!1)}var X=f.reduce(function(ee,ce){return ee[ce.name]=ce.align,ee},{});for(g=0;g<h.length;g+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:g,data:h[g]},this);var se=l.call(this,h[g],F);for(y=0;y<_.length;y+=1){var Z=h[g][_[y]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:g,col:y,data:Z},this),o.call(this,new i(d,u,F[_[y]],se,Z,g+2,X[_[y]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=u,this};var l=function(d,u){var h=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(d).map(function(g){var v=d[g];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[g]-h-h)},this).map(function(g){return this.getLineHeightFactor()*g.length*f/p+h+h},this).reduce(function(g,v){return Math.max(g,v)},0)};t.setTableHeaderRow=function(d){a.call(this),this.internal.__cell__.tableHeaderRow=d},t.printHeaderRow=function(d,u){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){h=this.internal.__cell__.tableHeaderRow[g].clone(),u&&(h.y=this.internal.__cell__.margins.top||0,p.push(h)),h.lineNumber=d;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(v)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(As.API);var n7={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},i7=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],vj=a7(i7),o7=[100,200,300,400,500,600,700,800,900],Nre=a7(o7);function wj(t){var s=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return n7[i=i||"normal"]?i:"normal"}(t.style),a=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(t.weight),n=function(i){return typeof vj[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:s,style:r,weight:a,stretch:n,src:t.src||[],ref:t.ref||{name:s,style:[n,r,a].join(" ")}}}function kC(t,s,r,a){var n;for(n=r;n>=0&&n<s.length;n+=a)if(t[s[n]])return t[s[n]];for(n=r;n>=0&&n<s.length;n-=a)if(t[s[n]])return t[s[n]]}var Sre={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},AC={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function EC(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function _re(t,s,r){for(var a=(r=r||{}).defaultFontFamily||"times",n=Object.assign({},Sre,r.genericFontFamilies||{}),i=null,o=null,l=0;l<s.length;++l)if(n[(i=wj(s[l])).family]&&(i.family=n[i.family]),t.hasOwnProperty(i.family)){o=t[i.family];break}if(!(o=o||t[a]))throw new Error("Could not find a font-family for the rule '"+EC(i)+"' and default family '"+a+"'.");if(o=function(d,u){if(u[d])return u[d];var h=vj[d],f=h<=vj.normal?-1:1,p=kC(u,i7,h,f);if(!p)throw new Error("Could not find a matching font-stretch value for "+d);return p}(i.stretch,o),o=function(d,u){if(u[d])return u[d];for(var h=n7[d],f=0;f<h.length;++f)if(u[h[f]])return u[h[f]];throw new Error("Could not find a matching font-style for "+d)}(i.style,o),!(o=function(d,u){if(u[d])return u[d];if(d===400&&u[500])return u[500];if(d===500&&u[400])return u[400];var h=Nre[d],f=kC(u,o7,h,d<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+d);return f}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+EC(i)+"'.");return o}function TC(t){return t.trimLeft()}function Cre(t,s){for(var r=0;r<t.length;){if(t.charAt(r)===s)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function kre(t){var s=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return s===null?null:[s[0],t.substring(s[0].length)]}var Ky,DC,PC,lw=["times"];(function(t){var s,r,a,n,i,o,l,d,u,h=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new d,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new o,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new o,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),s=this.internal.f2,r=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,d=this.internal.Matrix,u=new h}]);var f=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var O=U;Object.defineProperty(this,"pdf",{get:function(){return O}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(pe){z=!!pe}});var q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return q},set:function(pe){q=!!pe}});var te=0;Object.defineProperty(this,"posX",{get:function(){return te},set:function(pe){isNaN(pe)||(te=pe)}});var ge=0;Object.defineProperty(this,"posY",{get:function(){return ge},set:function(pe){isNaN(pe)||(ge=pe)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(pe){var ae;typeof pe=="number"?ae=[pe,pe,pe,pe]:((ae=new Array(4))[0]=pe[0],ae[1]=pe.length>=2?pe[1]:ae[0],ae[2]=pe.length>=3?pe[2]:ae[0],ae[3]=pe.length>=4?pe[3]:ae[1]),u.margin=ae}});var Q=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Q},set:function(pe){Q=pe}});var ue=0;Object.defineProperty(this,"lastBreak",{get:function(){return ue},set:function(pe){ue=pe}});var ie=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ie},set:function(pe){ie=pe}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(pe){pe instanceof h&&(u=pe)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(pe){u.path=pe}});var oe=[];Object.defineProperty(this,"ctxStack",{get:function(){return oe},set:function(pe){oe=pe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(pe){var ae;ae=p(pe),this.ctx.fillStyle=ae.style,this.ctx.isFillTransparent=ae.a===0,this.ctx.fillOpacity=ae.a,this.pdf.setFillColor(ae.r,ae.g,ae.b,{a:ae.a}),this.pdf.setTextColor(ae.r,ae.g,ae.b,{a:ae.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(pe){var ae=p(pe);this.ctx.strokeStyle=ae.style,this.ctx.isStrokeTransparent=ae.a===0,this.ctx.strokeOpacity=ae.a,ae.a===0?this.pdf.setDrawColor(255,255,255):(ae.a,this.pdf.setDrawColor(ae.r,ae.g,ae.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(pe){["butt","round","square"].indexOf(pe)!==-1&&(this.ctx.lineCap=pe,this.pdf.setLineCap(pe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(pe){isNaN(pe)||(this.ctx.lineWidth=pe,this.pdf.setLineWidth(pe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(pe){["bevel","round","miter"].indexOf(pe)!==-1&&(this.ctx.lineJoin=pe,this.pdf.setLineJoin(pe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(pe){isNaN(pe)||(this.ctx.miterLimit=pe,this.pdf.setMiterLimit(pe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(pe){this.ctx.textBaseline=pe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(pe){["right","end","center","left","start"].indexOf(pe)!==-1&&(this.ctx.textAlign=pe)}});var J=null;function re(pe,ae){if(J===null){var he=function(Te){var Ie=[];return Object.keys(Te).forEach(function(Be){Te[Be].forEach(function(Le){var Ee=null;switch(Le){case"bold":Ee={family:Be,weight:"bold"};break;case"italic":Ee={family:Be,style:"italic"};break;case"bolditalic":Ee={family:Be,weight:"bold",style:"italic"};break;case"":case"normal":Ee={family:Be}}Ee!==null&&(Ee.ref={name:Be,style:Le},Ie.push(Ee))})}),Ie}(pe.getFontList());J=function(Te){for(var Ie={},Be=0;Be<Te.length;++Be){var Le=wj(Te[Be]),Ee=Le.family,Ve=Le.stretch,mt=Le.style,gt=Le.weight;Ie[Ee]=Ie[Ee]||{},Ie[Ee][Ve]=Ie[Ee][Ve]||{},Ie[Ee][Ve][mt]=Ie[Ee][Ve][mt]||{},Ie[Ee][Ve][mt][gt]=Le}return Ie}(he.concat(ae))}return J}var ve=null;Object.defineProperty(this,"fontFaces",{get:function(){return ve},set:function(pe){J=null,ve=pe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(pe){var ae;if(this.ctx.font=pe,(ae=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(pe))!==null){var he=ae[1];ae[2];var Te=ae[3],Ie=ae[4];ae[5];var Be=ae[6],Le=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ie)[2];Ie=Math.floor(Le==="px"?parseFloat(Ie)*this.pdf.internal.scaleFactor:Le==="em"?parseFloat(Ie)*this.pdf.getFontSize():parseFloat(Ie)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ie);var Ee=function(Xe){var st,ke,ct=[],nt=Xe.trim();if(nt==="")return lw;if(nt in AC)return[AC[nt]];for(;nt!=="";){switch(ke=null,st=(nt=TC(nt)).charAt(0)){case'"':case"'":ke=Cre(nt.substring(1),st);break;default:ke=kre(nt)}if(ke===null||(ct.push(ke[0]),(nt=TC(ke[1]))!==""&&nt.charAt(0)!==","))return lw;nt=nt.replace(/^,/,"")}return ct}(Be);if(this.fontFaces){var Ve=_re(re(this.pdf,this.fontFaces),Ee.map(function(Xe){return{family:Xe,stretch:"normal",weight:Te,style:he}}));this.pdf.setFont(Ve.ref.name,Ve.ref.style)}else{var mt="";(Te==="bold"||parseInt(Te,10)>=700||he==="bold")&&(mt="bold"),he==="italic"&&(mt+="italic"),mt.length===0&&(mt="normal");for(var gt="",Pe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ae=0;Ae<Ee.length;Ae++){if(this.pdf.internal.getFont(Ee[Ae],mt,{noFallback:!0,disableWarning:!0})!==void 0){gt=Ee[Ae];break}if(mt==="bolditalic"&&this.pdf.internal.getFont(Ee[Ae],"bold",{noFallback:!0,disableWarning:!0})!==void 0)gt=Ee[Ae],mt="bold";else if(this.pdf.internal.getFont(Ee[Ae],"normal",{noFallback:!0,disableWarning:!0})!==void 0){gt=Ee[Ae],mt="normal";break}}if(gt===""){for(var We=0;We<Ee.length;We++)if(Pe[Ee[We]]){gt=Pe[Ee[We]];break}}gt=gt===""?"Times":gt,this.pdf.setFont(gt,mt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(pe){this.ctx.globalCompositeOperation=pe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(pe){this.ctx.globalAlpha=pe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(pe){this.ctx.lineDashOffset=pe,ce.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(pe){this.ctx.lineDash=pe,ce.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(pe){this.ctx.ignoreClearRect=!!pe}})};f.prototype.setLineDash=function(U){this.lineDash=U},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){R.call(this,"fill",!1)},f.prototype.stroke=function(){R.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(U,O){if(isNaN(U)||isNaN(O))throw Kr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new o(U,O));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new o(U,O)},f.prototype.closePath=function(){var U=new o(0,0),O=0;for(O=this.path.length-1;O!==-1;O--)if(this.path[O].type==="begin"&&qr(this.path[O+1])==="object"&&typeof this.path[O+1].x=="number"){U=new o(this.path[O+1].x,this.path[O+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(U.x,U.y)},f.prototype.lineTo=function(U,O){if(isNaN(U)||isNaN(O))throw Kr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new o(U,O));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new o(z.x,z.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},f.prototype.quadraticCurveTo=function(U,O,z,q){if(isNaN(z)||isNaN(q)||isNaN(U)||isNaN(O))throw Kr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var te=this.ctx.transform.applyToPoint(new o(z,q)),ge=this.ctx.transform.applyToPoint(new o(U,O));this.path.push({type:"qct",x1:ge.x,y1:ge.y,x:te.x,y:te.y}),this.ctx.lastPoint=new o(te.x,te.y)},f.prototype.bezierCurveTo=function(U,O,z,q,te,ge){if(isNaN(te)||isNaN(ge)||isNaN(U)||isNaN(O)||isNaN(z)||isNaN(q))throw Kr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Q=this.ctx.transform.applyToPoint(new o(te,ge)),ue=this.ctx.transform.applyToPoint(new o(U,O)),ie=this.ctx.transform.applyToPoint(new o(z,q));this.path.push({type:"bct",x1:ue.x,y1:ue.y,x2:ie.x,y2:ie.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},f.prototype.arc=function(U,O,z,q,te,ge){if(isNaN(U)||isNaN(O)||isNaN(z)||isNaN(q)||isNaN(te))throw Kr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ge=!!ge,!this.ctx.transform.isIdentity){var Q=this.ctx.transform.applyToPoint(new o(U,O));U=Q.x,O=Q.y;var ue=this.ctx.transform.applyToPoint(new o(0,z)),ie=this.ctx.transform.applyToPoint(new o(0,0));z=Math.sqrt(Math.pow(ue.x-ie.x,2)+Math.pow(ue.y-ie.y,2))}Math.abs(te-q)>=2*Math.PI&&(q=0,te=2*Math.PI),this.path.push({type:"arc",x:U,y:O,radius:z,startAngle:q,endAngle:te,counterclockwise:ge})},f.prototype.arcTo=function(U,O,z,q,te){throw new Error("arcTo not implemented.")},f.prototype.rect=function(U,O,z,q){if(isNaN(U)||isNaN(O)||isNaN(z)||isNaN(q))throw Kr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,O),this.lineTo(U+z,O),this.lineTo(U+z,O+q),this.lineTo(U,O+q),this.lineTo(U,O),this.lineTo(U+z,O),this.lineTo(U,O)},f.prototype.fillRect=function(U,O,z,q){if(isNaN(U)||isNaN(O)||isNaN(z)||isNaN(q))throw Kr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var te={};this.lineCap!=="butt"&&(te.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(te.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,O,z,q),this.fill(),te.hasOwnProperty("lineCap")&&(this.lineCap=te.lineCap),te.hasOwnProperty("lineJoin")&&(this.lineJoin=te.lineJoin)}},f.prototype.strokeRect=function(U,O,z,q){if(isNaN(U)||isNaN(O)||isNaN(z)||isNaN(q))throw Kr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(U,O,z,q),this.stroke())},f.prototype.clearRect=function(U,O,z,q){if(isNaN(U)||isNaN(O)||isNaN(z)||isNaN(q))throw Kr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,O,z,q))},f.prototype.save=function(U){U=typeof U!="boolean"||U;for(var O=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(O),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var q=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=q}},f.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var O=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(O),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(U){var O,z,q,te;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))O=0,z=0,q=0,te=0;else{var ge=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(ge!==null)O=parseInt(ge[1]),z=parseInt(ge[2]),q=parseInt(ge[3]),te=1;else if((ge=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)O=parseInt(ge[1]),z=parseInt(ge[2]),q=parseInt(ge[3]),te=parseFloat(ge[4]);else{if(te=1,typeof U=="string"&&U.charAt(0)!=="#"){var Q=new JD(U);U=Q.ok?Q.toHex():"#000000"}U.length===4?(O=U.substring(1,2),O+=O,z=U.substring(2,3),z+=z,q=U.substring(3,4),q+=q):(O=U.substring(1,3),z=U.substring(3,5),q=U.substring(5,7)),O=parseInt(O,16),z=parseInt(z,16),q=parseInt(q,16)}}return{r:O,g:z,b:q,a:te,style:U}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(U,O,z,q){if(isNaN(O)||isNaN(z)||typeof U!="string")throw Kr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(q=isNaN(q)?void 0:q,!g.call(this)){var te=se(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;w.call(this,{text:U,x:O,y:z,scale:ge,angle:te,align:this.textAlign,maxWidth:q})}},f.prototype.strokeText=function(U,O,z,q){if(isNaN(O)||isNaN(z)||typeof U!="string")throw Kr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){q=isNaN(q)?void 0:q;var te=se(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;w.call(this,{text:U,x:O,y:z,scale:ge,renderingMode:"stroke",angle:te,align:this.textAlign,maxWidth:q})}},f.prototype.measureText=function(U){if(typeof U!="string")throw Kr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var O=this.pdf,z=this.pdf.internal.scaleFactor,q=O.internal.getFontSize(),te=O.getStringUnitWidth(U)*q/O.internal.scaleFactor,ge=function(Q){var ue=(Q=Q||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ue}}),this};return new ge({width:te*=Math.round(96*z/72*1e4)/1e4})},f.prototype.scale=function(U,O){if(isNaN(U)||isNaN(O))throw Kr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new d(U,0,0,O,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.rotate=function(U){if(isNaN(U))throw Kr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var O=new d(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(O)},f.prototype.translate=function(U,O){if(isNaN(U)||isNaN(O))throw Kr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new d(1,0,0,1,U,O);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.transform=function(U,O,z,q,te,ge){if(isNaN(U)||isNaN(O)||isNaN(z)||isNaN(q)||isNaN(te)||isNaN(ge))throw Kr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Q=new d(U,O,z,q,te,ge);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.setTransform=function(U,O,z,q,te,ge){U=isNaN(U)?1:U,O=isNaN(O)?0:O,z=isNaN(z)?0:z,q=isNaN(q)?1:q,te=isNaN(te)?0:te,ge=isNaN(ge)?0:ge,this.ctx.transform=new d(U,O,z,q,te,ge)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(U,O,z,q,te,ge,Q,ue,ie){var oe=this.pdf.getImageProperties(U),J=1,re=1,ve=1,pe=1;q!==void 0&&ue!==void 0&&(ve=ue/q,pe=ie/te,J=oe.width/q*ue/q,re=oe.height/te*ie/te),ge===void 0&&(ge=O,Q=z,O=0,z=0),q!==void 0&&ue===void 0&&(ue=q,ie=te),q===void 0&&ue===void 0&&(ue=oe.width,ie=oe.height);for(var ae,he=this.ctx.transform.decompose(),Te=se(he.rotate.shx),Ie=new d,Be=(Ie=(Ie=(Ie=Ie.multiply(he.translate)).multiply(he.skew)).multiply(he.scale)).applyToRectangle(new l(ge-O*ve,Q-z*pe,q*J,te*re)),Le=b.call(this,Be),Ee=[],Ve=0;Ve<Le.length;Ve+=1)Ee.indexOf(Le[Ve])===-1&&Ee.push(Le[Ve]);if(A(Ee),this.autoPaging)for(var mt=Ee[0],gt=Ee[Ee.length-1],Pe=mt;Pe<gt+1;Pe++){this.pdf.setPage(Pe);var Ae=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],We=Pe===1?this.posY+this.margin[0]:this.margin[0],Xe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ke=Pe===1?0:Xe+(Pe-2)*st;if(this.ctx.clip_path.length!==0){var ct=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(ae,this.posX+this.margin[3],-ke+We+this.ctx.prevPageLastElemOffset),F.call(this,"fill",!0),this.path=ct}var nt=JSON.parse(JSON.stringify(Be));nt=k([nt],this.posX+this.margin[3],-ke+We+this.ctx.prevPageLastElemOffset)[0];var Bt=(Pe>mt||Pe<gt)&&y.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ae,st,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",nt.x,nt.y,nt.w,nt.h,null,null,Te),Bt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(U,"JPEG",Be.x,Be.y,Be.w,Be.h,null,null,Te)};var b=function(U,O,z){var q=[];O=O||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var te=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":q.push(Math.floor((U.y+te)/z)+1);break;case"arc":q.push(Math.floor((U.y+te-U.radius)/z)+1),q.push(Math.floor((U.y+te+U.radius)/z)+1);break;case"qct":var ge=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);q.push(Math.floor((ge.y+te)/z)+1),q.push(Math.floor((ge.y+ge.h+te)/z)+1);break;case"bct":var Q=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);q.push(Math.floor((Q.y+te)/z)+1),q.push(Math.floor((Q.y+Q.h+te)/z)+1);break;case"rect":q.push(Math.floor((U.y+te)/z)+1),q.push(Math.floor((U.y+U.h+te)/z)+1)}for(var ue=0;ue<q.length;ue+=1)for(;this.pdf.internal.getNumberOfPages()<q[ue];)_.call(this);return q},_=function(){var U=this.fillStyle,O=this.strokeStyle,z=this.font,q=this.lineCap,te=this.lineWidth,ge=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=O,this.font=z,this.lineCap=q,this.lineWidth=te,this.lineJoin=ge},k=function(U,O,z){for(var q=0;q<U.length;q++)switch(U[q].type){case"bct":U[q].x2+=O,U[q].y2+=z;case"qct":U[q].x1+=O,U[q].y1+=z;case"mt":case"lt":case"arc":default:U[q].x+=O,U[q].y+=z}return U},A=function(U){return U.sort(function(O,z){return O-z})},R=function(U,O){for(var z,q,te=this.fillStyle,ge=this.strokeStyle,Q=this.lineCap,ue=this.lineWidth,ie=Math.abs(ue*this.ctx.transform.scaleX),oe=this.lineJoin,J=JSON.parse(JSON.stringify(this.path)),re=JSON.parse(JSON.stringify(this.path)),ve=[],pe=0;pe<re.length;pe++)if(re[pe].x!==void 0)for(var ae=b.call(this,re[pe]),he=0;he<ae.length;he+=1)ve.indexOf(ae[he])===-1&&ve.push(ae[he]);for(var Te=0;Te<ve.length;Te++)for(;this.pdf.internal.getNumberOfPages()<ve[Te];)_.call(this);if(A(ve),this.autoPaging)for(var Ie=ve[0],Be=ve[ve.length-1],Le=Ie;Le<Be+1;Le++){this.pdf.setPage(Le),this.fillStyle=te,this.strokeStyle=ge,this.lineCap=Q,this.lineWidth=ie,this.lineJoin=oe;var Ee=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ve=Le===1?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Pe=Le===1?0:mt+(Le-2)*gt;if(this.ctx.clip_path.length!==0){var Ae=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(z,this.posX+this.margin[3],-Pe+Ve+this.ctx.prevPageLastElemOffset),F.call(this,U,!0),this.path=Ae}if(q=JSON.parse(JSON.stringify(J)),this.path=k(q,this.posX+this.margin[3],-Pe+Ve+this.ctx.prevPageLastElemOffset),O===!1||Le===0){var We=(Le>Ie||Le<Be)&&y.call(this);We&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ee,gt,null).clip().discardPath()),F.call(this,U,O),We&&this.pdf.restoreGraphicsState()}this.lineWidth=ue}else this.lineWidth=ie,F.call(this,U,O),this.lineWidth=ue;this.path=J},F=function(U,O){if((U!=="stroke"||O||!v.call(this))&&(U==="stroke"||O||!g.call(this))){for(var z,q,te=[],ge=this.path,Q=0;Q<ge.length;Q++){var ue=ge[Q];switch(ue.type){case"begin":te.push({begin:!0});break;case"close":te.push({close:!0});break;case"mt":te.push({start:ue,deltas:[],abs:[]});break;case"lt":var ie=te.length;if(ge[Q-1]&&!isNaN(ge[Q-1].x)&&(z=[ue.x-ge[Q-1].x,ue.y-ge[Q-1].y],ie>0)){for(;ie>=0;ie--)if(te[ie-1].close!==!0&&te[ie-1].begin!==!0){te[ie-1].deltas.push(z),te[ie-1].abs.push(ue);break}}break;case"bct":z=[ue.x1-ge[Q-1].x,ue.y1-ge[Q-1].y,ue.x2-ge[Q-1].x,ue.y2-ge[Q-1].y,ue.x-ge[Q-1].x,ue.y-ge[Q-1].y],te[te.length-1].deltas.push(z);break;case"qct":var oe=ge[Q-1].x+2/3*(ue.x1-ge[Q-1].x),J=ge[Q-1].y+2/3*(ue.y1-ge[Q-1].y),re=ue.x+2/3*(ue.x1-ue.x),ve=ue.y+2/3*(ue.y1-ue.y),pe=ue.x,ae=ue.y;z=[oe-ge[Q-1].x,J-ge[Q-1].y,re-ge[Q-1].x,ve-ge[Q-1].y,pe-ge[Q-1].x,ae-ge[Q-1].y],te[te.length-1].deltas.push(z);break;case"arc":te.push({deltas:[],abs:[],arc:!0}),Array.isArray(te[te.length-1].abs)&&te[te.length-1].abs.push(ue)}}q=O?null:U==="stroke"?"stroke":"fill";for(var he=!1,Te=0;Te<te.length;Te++)if(te[Te].arc)for(var Ie=te[Te].abs,Be=0;Be<Ie.length;Be++){var Le=Ie[Be];Le.type==="arc"?L.call(this,Le.x,Le.y,Le.radius,Le.startAngle,Le.endAngle,Le.counterclockwise,void 0,O,!he):E.call(this,Le.x,Le.y),he=!0}else if(te[Te].close===!0)this.pdf.internal.out("h"),he=!1;else if(te[Te].begin!==!0){var Ee=te[Te].start.x,Ve=te[Te].start.y;D.call(this,te[Te].deltas,Ee,Ve),he=!0}q&&I.call(this,q),O&&B.call(this)}},V=function(U){var O=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=O*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-z;case"top":return U+O-z;case"hanging":return U+O-2*z;case"middle":return U+O/2-z;case"ideographic":return U;case"alphabetic":default:return U}},S=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(O,z){this.colorStops.push([O,z])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(U,O,z,q,te,ge,Q,ue,ie){for(var oe=K.call(this,z,q,te,ge),J=0;J<oe.length;J++){var re=oe[J];J===0&&(ie?T.call(this,re.x1+U,re.y1+O):E.call(this,re.x1+U,re.y1+O)),G.call(this,U,O,re.x2,re.y2,re.x3,re.y3,re.x4,re.y4)}ue?B.call(this):I.call(this,Q)},I=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},B=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(U,O){this.pdf.internal.out(r(U)+" "+a(O)+" m")},w=function(U){var O;switch(U.align){case"right":case"end":O="right";break;case"center":O="center";break;case"left":case"start":default:O="left"}var z=this.pdf.getTextDimensions(U.text),q=V.call(this,U.y),te=S.call(this,q)-z.h,ge=this.ctx.transform.applyToPoint(new o(U.x,q)),Q=this.ctx.transform.decompose(),ue=new d;ue=(ue=(ue=ue.multiply(Q.translate)).multiply(Q.skew)).multiply(Q.scale);for(var ie,oe,J,re=this.ctx.transform.applyToRectangle(new l(U.x,q,z.w,z.h)),ve=ue.applyToRectangle(new l(U.x,te,z.w,z.h)),pe=b.call(this,ve),ae=[],he=0;he<pe.length;he+=1)ae.indexOf(pe[he])===-1&&ae.push(pe[he]);if(A(ae),this.autoPaging)for(var Te=ae[0],Ie=ae[ae.length-1],Be=Te;Be<Ie+1;Be++){this.pdf.setPage(Be);var Le=Be===1?this.posY+this.margin[0]:this.margin[0],Ee=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ve=this.pdf.internal.pageSize.height-this.margin[2],mt=Ve-this.margin[0],gt=this.pdf.internal.pageSize.width-this.margin[1],Pe=gt-this.margin[3],Ae=Be===1?0:Ee+(Be-2)*mt;if(this.ctx.clip_path.length!==0){var We=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(ie,this.posX+this.margin[3],-1*Ae+Le),F.call(this,"fill",!0),this.path=We}var Xe=k([JSON.parse(JSON.stringify(ve))],this.posX+this.margin[3],-Ae+Le+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(oe*U.scale),J=this.lineWidth,this.lineWidth=J*U.scale);var st=this.autoPaging!=="text";if(st||Xe.y+Xe.h<=Ve){if(st||Xe.y>=Le&&Xe.x<=gt){var ke=st?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||gt-Xe.x)[0],ct=k([JSON.parse(JSON.stringify(re))],this.posX+this.margin[3],-Ae+Le+this.ctx.prevPageLastElemOffset)[0],nt=st&&(Be>Te||Be<Ie)&&y.call(this);nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pe,mt,null).clip().discardPath()),this.pdf.text(ke,ct.x,ct.y,{angle:U.angle,align:O,renderingMode:U.renderingMode}),nt&&this.pdf.restoreGraphicsState()}}else Xe.y<Ve&&(this.ctx.prevPageLastElemOffset+=Ve-Xe.y);U.scale>=.01&&(this.pdf.setFontSize(oe),this.lineWidth=J)}else U.scale>=.01&&(oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(oe*U.scale),J=this.lineWidth,this.lineWidth=J*U.scale),this.pdf.text(U.text,ge.x+this.posX,ge.y+this.posY,{angle:U.angle,align:O,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(oe),this.lineWidth=J)},E=function(U,O,z,q){z=z||0,q=q||0,this.pdf.internal.out(r(U+z)+" "+a(O+q)+" l")},D=function(U,O,z){return this.pdf.lines(U,O,z,null,null)},G=function(U,O,z,q,te,ge,Q,ue){this.pdf.internal.out([s(n(z+U)),s(i(q+O)),s(n(te+U)),s(i(ge+O)),s(n(Q+U)),s(i(ue+O)),"c"].join(" "))},K=function(U,O,z,q){for(var te=2*Math.PI,ge=Math.PI/2;O>z;)O-=te;var Q=Math.abs(z-O);Q<te&&q&&(Q=te-Q);for(var ue=[],ie=q?-1:1,oe=O;Q>1e-5;){var J=oe+ie*Math.min(Q,ge);ue.push(X.call(this,U,oe,J)),Q-=Math.abs(J-oe),oe=J}return ue},X=function(U,O,z){var q=(z-O)/2,te=U*Math.cos(q),ge=U*Math.sin(q),Q=te,ue=-ge,ie=Q*Q+ue*ue,oe=ie+Q*te+ue*ge,J=4/3*(Math.sqrt(2*ie*oe)-oe)/(Q*ge-ue*te),re=Q-J*ue,ve=ue+J*Q,pe=re,ae=-ve,he=q+O,Te=Math.cos(he),Ie=Math.sin(he);return{x1:U*Math.cos(O),y1:U*Math.sin(O),x2:re*Te-ve*Ie,y2:re*Ie+ve*Te,x3:pe*Te-ae*Ie,y3:pe*Ie+ae*Te,x4:U*Math.cos(z),y4:U*Math.sin(z)}},se=function(U){return 180*U/Math.PI},Z=function(U,O,z,q,te,ge){var Q=U+.5*(z-U),ue=O+.5*(q-O),ie=te+.5*(z-te),oe=ge+.5*(q-ge),J=Math.min(U,te,Q,ie),re=Math.max(U,te,Q,ie),ve=Math.min(O,ge,ue,oe),pe=Math.max(O,ge,ue,oe);return new l(J,ve,re-J,pe-ve)},ee=function(U,O,z,q,te,ge,Q,ue){var ie,oe,J,re,ve,pe,ae,he,Te,Ie,Be,Le,Ee,Ve,mt=z-U,gt=q-O,Pe=te-z,Ae=ge-q,We=Q-te,Xe=ue-ge;for(oe=0;oe<41;oe++)Te=(ae=(J=U+(ie=oe/40)*mt)+ie*((ve=z+ie*Pe)-J))+ie*(ve+ie*(te+ie*We-ve)-ae),Ie=(he=(re=O+ie*gt)+ie*((pe=q+ie*Ae)-re))+ie*(pe+ie*(ge+ie*Xe-pe)-he),oe==0?(Be=Te,Le=Ie,Ee=Te,Ve=Ie):(Be=Math.min(Be,Te),Le=Math.min(Le,Ie),Ee=Math.max(Ee,Te),Ve=Math.max(Ve,Ie));return new l(Math.round(Be),Math.round(Le),Math.round(Ee-Be),Math.round(Ve-Le))},ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,O,z=(U=this.ctx.lineDash,O=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:O}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(As.API),function(t){var s=function(i){var o,l,d,u,h,f,p,g,v,y;for(l=[],d=0,u=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;u>d;d+=4)(h=(i.charCodeAt(d)<<24)+(i.charCodeAt(d+1)<<16)+(i.charCodeAt(d+2)<<8)+i.charCodeAt(d+3))!==0?(f=(h=((h=((h=((h=(h-(y=h%85))/85)-(v=h%85))/85)-(g=h%85))/85)-(p=h%85))/85)%85,l.push(f+33,p+33,g+33,v+33,y+33)):l.push(122);return function(b,_){for(var k=_;k>0;k--)b.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(i){var o,l,d,u,h,f=String,p="length",g=255,v="charCodeAt",y="slice",b="replace";for(i[y](-2),i=i[y](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),d=[],u=0,h=(i+=o="uuuuu"[y](i[p]%5||5))[p];h>u;u+=5)l=52200625*(i[v](u)-33)+614125*(i[v](u+1)-33)+7225*(i[v](u+2)-33)+85*(i[v](u+3)-33)+(i[v](u+4)-33),d.push(g&l>>24,g&l>>16,g&l>>8,g&l);return function(_,k){for(var A=k;A>0;A--)_.pop()}(d,o[p]),f.fromCharCode.apply(f,d)},a=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var l="",d=0;d<i.length;d+=2)l+=String.fromCharCode("0x"+(i[d]+i[d+1]));return l},n=function(i){for(var o=new Uint8Array(i.length),l=i.length;l--;)o[l]=i.charCodeAt(l);return i=(o=fj(o)).reduce(function(d,u){return d+String.fromCharCode(u)},"")};t.processDataByFilters=function(i,o){var l=0,d=i||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":d=r(d),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=s(d),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=d.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=n(d),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:d,reverseChain:u.reverse().join(" ")}}}(As.API),function(t){t.loadFile=function(s,r,a){return function(n,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(d,u,h){var f=new XMLHttpRequest,p=0,g=function(v){var y=v.length,b=[],_=String.fromCharCode;for(p=0;p<y;p+=1)b.push(_(255&v.charCodeAt(p)));return b.join("")};if(f.open("GET",d,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?h(g(this.responseText)):h(void 0)}),f.send(null),u&&f.status===200)return g(f.responseText)}(n,i,o)}catch{}return l}(s,r,a)},t.loadImageFile=t.loadFile}(As.API),function(t){function s(){return(Ds.html2canvas?Promise.resolve(Ds.html2canvas):dj(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Ds.DOMPurify?Promise.resolve(Ds.DOMPurify):dj(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var a=function(o){var l=qr(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},n=function(o,l){var d=document.createElement(o);for(var u in l.className&&(d.className=l.className),l.innerHTML&&l.dompurify&&(d.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)d.style[u]=l.style[u];return d},i=function o(l){var d=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),d);return u=(u=u.setProgress(1,o,1,[o])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,l){return o.__proto__=l||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(d){switch(a(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(d){return this.set({src:n("div",{innerHTML:o,dompurify:d})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function d(u,h){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),p=u.firstChild;p;p=p.nextSibling)h!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||f.appendChild(d(p,h));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(s).then(function(l){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,l(this.prop.container,d)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(s).then(function(l){var d=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=u,u)for(var p=0;p<u.length;++p){var g=u[p],v=g.src.find(function(y){return y.format==="truetype"});v&&d.addFont(v.url,g.ref.name,g.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,d.context2d.save(!0),l(this.prop.container,f)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,l,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},i.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(a(o)!=="object")return this;var l=Object.keys(o||{}).map(function(d){if(d in i.template.prop)return function(){this.prop[d]=o[d]};switch(d){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[d]=o[d]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(o,l){return this.then(function(){var d=o in i.template.prop?this.prop[o]:this.opt[o];return l?l(d):d})},i.prototype.setMargin=function(o){return this.then(function(){switch(a(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function l(d,u){return Math.floor(d*u/72*96)}return this.then(function(){(o=o||As.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,l,d,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),d!=null&&(this.progress.n=d),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,l,d,u){return this.setProgress(o?this.progress.val+o:null,l||null,d?this.progress.n+d:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(o,l){var d=this;return this.thenCore(o,l,function(u,h){return d.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return d.updateProgress(null,u),f}).then(u,h).then(function(f){return d.updateProgress(1),f})})},i.prototype.thenCore=function(o,l,d){d=d||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),h=d.call(u,o,l);return i.convert(h,this.__proto__)},i.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},i.prototype.thenList=function(o){var l=this;return o.forEach(function(d){l=l.thenCore(d)}),l},i.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return i.convert(l,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,As.getPageSize=function(o,l,d){if(qr(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,d=u.format||d}l=l||"mm",d=d||"a4",o=(""+(o||"P")).toLowerCase();var h,f=(""+d).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var g,v=0,y=0;if(p.hasOwnProperty(f))v=p[f][1]/h,y=p[f][0]/h;else try{v=d[1],y=d[0]}catch{throw new Error("Invalid format: "+d)}if(o==="p"||o==="portrait")o="p",y>v&&(g=y,y=v,v=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>y&&(g=y,y=v,v=g)}return{width:y,height:v,unit:l,k:h,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(wj):null;var d=new i(l);return l.worker?d:d.from(o).doCallback()}}(As.API),As.API.addJS=function(t){return PC=t,this.internal.events.subscribe("postPutResources",function(){Ky=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ky+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),DC=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+PC+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ky!==void 0&&DC!==void 0&&this.internal.out("/Names <</JavaScript "+Ky+" 0 R>>")}),this},function(t){var s;t.events.push(["postPutResources",function(){var r=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=r.outline.render().split(/\r\n/),i=0;i<n.length;i++){var o=n[i],l=a.exec(o);if(l!=null){var d=l[1];r.internal.newObjectDeferredBegin(d,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,h=[];for(i=0;i<u;i++){var f=r.internal.newObject();h.push(f);var p=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<h.length;i++)r.internal.write("(page_"+(i+1)+")"+h[i]+" 0 R");r.internal.write(" ] >>","endobj"),s=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+s+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(a,n,i){var o={title:n,options:i,children:[]};return a==null&&(a=this.root),a.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(a){a.id=r.internal.newObjectDeferred();for(var n=0;n<a.children.length;n++)this.genIds_r(a.children[n])},r.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},r.outline.renderItems=function(a){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<a.children.length;i++){var o=a.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(a)),i>0&&this.line("/Prev "+this.makeRef(a.children[i-1])),i<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var d=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var u=0;u<a.children.length;u++)this.renderItems(a.children[u])},r.outline.line=function(a){this.ctx.val+=a+`\r
`},r.outline.makeRef=function(a){return a.id+" 0 R"},r.outline.makeString=function(a){return"("+r.internal.pdfEscape(a)+")"},r.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(a,n){for(var i=0;i<n.children.length;i++)a.count++,this.count_r(a,n.children[i]);return a.count}}])}(As.API),function(t){var s=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,a,n,i,o,l){var d,u=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(d=function(f){for(var p,g=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,y={width:0,height:0,numcomponents:1},b=4;b<v;b+=2){if(b+=g,s.indexOf(f.charCodeAt(b+1))!==-1){p=256*f.charCodeAt(b+5)+f.charCodeAt(b+6),y={width:256*f.charCodeAt(b+7)+f.charCodeAt(b+8),height:p,numcomponents:f.charCodeAt(b+9)};break}g=256*f.charCodeAt(b+2)+f.charCodeAt(b+3)}return y}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}h={data:r,width:d.width,height:d.height,colorSpace:l,bitsPerComponent:8,filter:u,index:a,alias:n}}return h}}(As.API);var kh,Xy,MC,LC,FC,Are=function(){var t,s,r;function a(i){var o,l,d,u,h,f,p,g,v,y,b,_,k,A;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),v=(function(){var R,F;for(F=[],R=0;R<4;++R)F.push(String.fromCharCode(this.data[this.pos++]));return F}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*h/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,o-=4),i=(f!=null?f.data:void 0)||this.imgData,_=0;0<=o?_<o:_>o;0<=o?++_:--_)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(d=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>d)throw new Error("More transparent colors than palette size");if((y=d-this.transparency.indexed.length)>0)for(k=0;0<=y?k<y:k>y;0<=y?++k:--k)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":p=(b=this.read(o)).indexOf(0),g=String.fromCharCode.apply(String,b.slice(0,p)),this.text[g]=String.fromCharCode.apply(String,b.slice(p+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(A=this.colorType)===4||A===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}a.prototype.read=function(i){var o,l;for(l=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)l.push(this.data[this.pos++]);return l},a.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},a.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},a.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),d=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function h(f,p,g,v){var y,b,_,k,A,R,F,V,S,L,I,B,T,w,E,D,G,K,X,se,Z,ee=Math.ceil((u.width-f)/g),ce=Math.ceil((u.height-p)/v),U=u.width==ee&&u.height==ce;for(w=o*ee,B=U?l:new Uint8Array(w*ce),R=i.length,T=0,b=0;T<ce&&d<R;){switch(i[d++]){case 0:for(k=G=0;G<w;k=G+=1)B[b++]=i[d++];break;case 1:for(k=K=0;K<w;k=K+=1)y=i[d++],A=k<o?0:B[b-o],B[b++]=(y+A)%256;break;case 2:for(k=X=0;X<w;k=X+=1)y=i[d++],_=(k-k%o)/o,E=T&&B[(T-1)*w+_*o+k%o],B[b++]=(E+y)%256;break;case 3:for(k=se=0;se<w;k=se+=1)y=i[d++],_=(k-k%o)/o,A=k<o?0:B[b-o],E=T&&B[(T-1)*w+_*o+k%o],B[b++]=(y+Math.floor((A+E)/2))%256;break;case 4:for(k=Z=0;Z<w;k=Z+=1)y=i[d++],_=(k-k%o)/o,A=k<o?0:B[b-o],T===0?E=D=0:(E=B[(T-1)*w+_*o+k%o],D=_&&B[(T-1)*w+(_-1)*o+k%o]),F=A+E-D,V=Math.abs(F-A),L=Math.abs(F-E),I=Math.abs(F-D),S=V<=L&&V<=I?A:L<=I?E:D,B[b++]=(y+S)%256;break;default:throw new Error("Invalid filter algorithm: "+i[d-1])}if(!U){var O=((p+T*v)*u.width+f)*o,z=T*w;for(k=0;k<ee;k+=1){for(var q=0;q<o;q+=1)l[O++]=B[z++];O+=(g-1)*o}}T++}}return i=ire(i),u.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),l},a.prototype.decodePalette=function(){var i,o,l,d,u,h,f,p,g;for(l=this.palette,h=this.transparency.indexed||[],u=new Uint8Array((h.length||0)+l.length),d=0,i=0,o=f=0,p=l.length;f<p;o=f+=3)u[d++]=l[o],u[d++]=l[o+1],u[d++]=l[o+2],u[d++]=(g=h[i++])!=null?g:255;return u},a.prototype.copyToImageData=function(i,o){var l,d,u,h,f,p,g,v,y,b,_;if(d=this.colors,y=null,l=this.hasAlphaChannel,this.palette.length&&(y=(_=this._decodedPalette)!=null?_:this._decodedPalette=this.decodePalette(),d=4,l=!0),v=(u=i.data||i).length,f=y||o,h=p=0,d===1)for(;h<v;)g=y?4*o[h/4]:p,b=f[g++],u[h++]=b,u[h++]=b,u[h++]=b,u[h++]=l?f[g++]:255,p=g;else for(;h<v;)g=y?4*o[h/4]:p,u[h++]=f[g++],u[h++]=f[g++],u[h++]=f[g++],u[h++]=l?f[g++]:255,p=g},a.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var n=function(){if(Object.prototype.toString.call(Ds)==="[object Window]"){try{s=Ds.document.createElement("canvas"),r=s.getContext("2d")}catch{return!1}return!0}return!1};return n(),t=function(i){var o;if(n()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(o=new Image).src=s.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},a.prototype.decodeFrames=function(i){var o,l,d,u,h,f,p,g;if(this.animation){for(g=[],l=h=0,f=(p=this.animation.frames).length;h<f;l=++h)o=p[l],d=i.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(d,u),o.imageData=d,g.push(o.image=t(d));return g}},a.prototype.renderFrame=function(i,o){var l,d,u;return l=(d=this.animation.frames)[o],u=d[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},a.prototype.animate=function(i){var o,l,d,u,h,f,p=this;return l=0,f=this.animation,u=f.numFrames,d=f.frames,h=f.numPlays,(o=function(){var g,v;if(g=l++%u,v=d[g],p.renderFrame(i,g),u>1&&l/u<h)return p.animation._timeout=setTimeout(o,v.delay)})()},a.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},a.prototype.render=function(i){var o,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},a}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Ere(t){var s=0;if(t[s++]!==71||t[s++]!==73||t[s++]!==70||t[s++]!==56||(t[s++]+1&253)!=56||t[s++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[s++]|t[s++]<<8,a=t[s++]|t[s++]<<8,n=t[s++],i=n>>7,o=1<<(7&n)+1;t[s++],t[s++];var l=null,d=null;i&&(l=s,d=o,s+=3*o);var u=!0,h=[],f=0,p=null,g=0,v=null;for(this.width=r,this.height=a;u&&s<t.length;)switch(t[s++]){case 33:switch(t[s++]){case 255:if(t[s]!==11||t[s+1]==78&&t[s+2]==69&&t[s+3]==84&&t[s+4]==83&&t[s+5]==67&&t[s+6]==65&&t[s+7]==80&&t[s+8]==69&&t[s+9]==50&&t[s+10]==46&&t[s+11]==48&&t[s+12]==3&&t[s+13]==1&&t[s+16]==0)s+=14,v=t[s++]|t[s++]<<8,s++;else for(s+=12;;){if(!((T=t[s++])>=0))throw Error("Invalid block size");if(T===0)break;s+=T}break;case 249:if(t[s++]!==4||t[s+4]!==0)throw new Error("Invalid graphics extension block.");var y=t[s++];f=t[s++]|t[s++]<<8,p=t[s++],(1&y)==0&&(p=null),g=y>>2&7,s++;break;case 254:for(;;){if(!((T=t[s++])>=0))throw Error("Invalid block size");if(T===0)break;s+=T}break;default:throw new Error("Unknown graphic control label: 0x"+t[s-1].toString(16))}break;case 44:var b=t[s++]|t[s++]<<8,_=t[s++]|t[s++]<<8,k=t[s++]|t[s++]<<8,A=t[s++]|t[s++]<<8,R=t[s++],F=R>>6&1,V=1<<(7&R)+1,S=l,L=d,I=!1;R>>7&&(I=!0,S=s,L=V,s+=3*V);var B=s;for(s++;;){var T;if(!((T=t[s++])>=0))throw Error("Invalid block size");if(T===0)break;s+=T}h.push({x:b,y:_,width:k,height:A,has_local_palette:I,palette_offset:S,palette_size:L,data_offset:B,data_length:s-B,transparent_index:p,interlaced:!!F,delay:f,disposal:g});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[s-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return v},this.frameInfo=function(w){if(w<0||w>=h.length)throw new Error("Frame index out of range.");return h[w]},this.decodeAndBlitFrameBGRA=function(w,E){var D=this.frameInfo(w),G=D.width*D.height,K=new Uint8Array(G);RC(t,D.data_offset,K,G);var X=D.palette_offset,se=D.transparent_index;se===null&&(se=256);var Z=D.width,ee=r-Z,ce=Z,U=4*(D.y*r+D.x),O=4*((D.y+D.height)*r+D.x),z=U,q=4*ee;D.interlaced===!0&&(q+=4*r*7);for(var te=8,ge=0,Q=K.length;ge<Q;++ge){var ue=K[ge];if(ce===0&&(ce=Z,(z+=q)>=O&&(q=4*ee+4*r*(te-1),z=U+(Z+ee)*(te<<1),te>>=1)),ue===se)z+=4;else{var ie=t[X+3*ue],oe=t[X+3*ue+1],J=t[X+3*ue+2];E[z++]=J,E[z++]=oe,E[z++]=ie,E[z++]=255}--ce}},this.decodeAndBlitFrameRGBA=function(w,E){var D=this.frameInfo(w),G=D.width*D.height,K=new Uint8Array(G);RC(t,D.data_offset,K,G);var X=D.palette_offset,se=D.transparent_index;se===null&&(se=256);var Z=D.width,ee=r-Z,ce=Z,U=4*(D.y*r+D.x),O=4*((D.y+D.height)*r+D.x),z=U,q=4*ee;D.interlaced===!0&&(q+=4*r*7);for(var te=8,ge=0,Q=K.length;ge<Q;++ge){var ue=K[ge];if(ce===0&&(ce=Z,(z+=q)>=O&&(q=4*ee+4*r*(te-1),z=U+(Z+ee)*(te<<1),te>>=1)),ue===se)z+=4;else{var ie=t[X+3*ue],oe=t[X+3*ue+1],J=t[X+3*ue+2];E[z++]=ie,E[z++]=oe,E[z++]=J,E[z++]=255}--ce}}}function RC(t,s,r,a){for(var n=t[s++],i=1<<n,o=i+1,l=o+1,d=n+1,u=(1<<d)-1,h=0,f=0,p=0,g=t[s++],v=new Int32Array(4096),y=null;;){for(;h<16&&g!==0;)f|=t[s++]<<h,h+=8,g===1?g=t[s++]:--g;if(h<d)break;var b=f&u;if(f>>=d,h-=d,b!==i){if(b===o)break;for(var _=b<l?b:y,k=0,A=_;A>i;)A=v[A]>>8,++k;var R=A;if(p+k+(_!==b?1:0)>a)return void Kr.log("Warning, gif stream longer than expected.");r[p++]=R;var F=p+=k;for(_!==b&&(r[p++]=R),A=_;k--;)A=v[A],r[--F]=255&A,A>>=8;y!==null&&l<4096&&(v[l++]=y<<8|R,l>=u+1&&d<12&&(++d,u=u<<1|1)),y=b}else l=o+1,u=(1<<(d=n+1))-1,y=null}return p!==a&&Kr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function cw(t){var s,r,a,n,i,o=Math.floor,l=new Array(64),d=new Array(64),u=new Array(64),h=new Array(64),f=new Array(65535),p=new Array(65535),g=new Array(64),v=new Array(64),y=[],b=0,_=7,k=new Array(64),A=new Array(64),R=new Array(64),F=new Array(256),V=new Array(2048),S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],w=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function K(U,O){for(var z=0,q=0,te=new Array,ge=1;ge<=16;ge++){for(var Q=1;Q<=U[ge];Q++)te[O[q]]=[],te[O[q]][0]=z,te[O[q]][1]=ge,q++,z++;z*=2}return te}function X(U){for(var O=U[0],z=U[1]-1;z>=0;)O&1<<z&&(b|=1<<_),z--,--_<0&&(b==255?(se(255),se(0)):se(b),_=7,b=0)}function se(U){y.push(U)}function Z(U){se(U>>8&255),se(255&U)}function ee(U,O,z,q,te){for(var ge,Q=te[0],ue=te[240],ie=function(Ie,Be){var Le,Ee,Ve,mt,gt,Pe,Ae,We,Xe,st,ke=0;for(Xe=0;Xe<8;++Xe){Le=Ie[ke],Ee=Ie[ke+1],Ve=Ie[ke+2],mt=Ie[ke+3],gt=Ie[ke+4],Pe=Ie[ke+5],Ae=Ie[ke+6];var ct=Le+(We=Ie[ke+7]),nt=Le-We,Bt=Ee+Ae,Ge=Ee-Ae,St=Ve+Pe,bt=Ve-Pe,qe=mt+gt,Oe=mt-gt,jt=ct+qe,Et=ct-qe,qt=Bt+St,Gt=Bt-St;Ie[ke]=jt+qt,Ie[ke+4]=jt-qt;var Yt=.707106781*(Gt+Et);Ie[ke+2]=Et+Yt,Ie[ke+6]=Et-Yt;var Xt=.382683433*((jt=Oe+bt)-(Gt=Ge+nt)),is=.5411961*jt+Xt,ws=1.306562965*Gt+Xt,Us=.707106781*(qt=bt+Ge),Zt=nt+Us,Wt=nt-Us;Ie[ke+5]=Wt+is,Ie[ke+3]=Wt-is,Ie[ke+1]=Zt+ws,Ie[ke+7]=Zt-ws,ke+=8}for(ke=0,Xe=0;Xe<8;++Xe){Le=Ie[ke],Ee=Ie[ke+8],Ve=Ie[ke+16],mt=Ie[ke+24],gt=Ie[ke+32],Pe=Ie[ke+40],Ae=Ie[ke+48];var Es=Le+(We=Ie[ke+56]),Bs=Le-We,sr=Ee+Ae,Ms=Ee-Ae,dt=Ve+Pe,le=Ve-Pe,Se=mt+gt,me=mt-gt,_e=Es+Se,De=Es-Se,Ne=sr+dt,Je=sr-dt;Ie[ke]=_e+Ne,Ie[ke+32]=_e-Ne;var $e=.707106781*(Je+De);Ie[ke+16]=De+$e,Ie[ke+48]=De-$e;var Ke=.382683433*((_e=me+le)-(Je=Ms+Bs)),ot=.5411961*_e+Ke,Fe=1.306562965*Je+Ke,Ye=.707106781*(Ne=le+Ms),lt=Bs+Ye,Mt=Bs-Ye;Ie[ke+40]=Mt+ot,Ie[ke+24]=Mt-ot,Ie[ke+8]=lt+Fe,Ie[ke+56]=lt-Fe,ke++}for(Xe=0;Xe<64;++Xe)st=Ie[Xe]*Be[Xe],g[Xe]=st>0?st+.5|0:st-.5|0;return g}(U,O),oe=0;oe<64;++oe)v[S[oe]]=ie[oe];var J=v[0]-z;z=v[0],J==0?X(q[0]):(X(q[p[ge=32767+J]]),X(f[ge]));for(var re=63;re>0&&v[re]==0;)re--;if(re==0)return X(Q),z;for(var ve,pe=1;pe<=re;){for(var ae=pe;v[pe]==0&&pe<=re;)++pe;var he=pe-ae;if(he>=16){ve=he>>4;for(var Te=1;Te<=ve;++Te)X(ue);he&=15}ge=32767+v[pe],X(te[(he<<4)+p[ge]]),X(f[ge]),pe++}return re!=63&&X(Q),z}function ce(U){U=Math.min(Math.max(U,1),100),i!=U&&(function(O){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],q=0;q<64;q++){var te=o((z[q]*O+50)/100);te=Math.min(Math.max(te,1),255),l[S[q]]=te}for(var ge=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Q=0;Q<64;Q++){var ue=o((ge[Q]*O+50)/100);ue=Math.min(Math.max(ue,1),255),d[S[Q]]=ue}for(var ie=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],oe=0,J=0;J<8;J++)for(var re=0;re<8;re++)u[oe]=1/(l[S[oe]]*ie[J]*ie[re]*8),h[oe]=1/(d[S[oe]]*ie[J]*ie[re]*8),oe++}(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),i=U)}this.encode=function(U,O){O&&ce(O),y=new Array,b=0,_=7,Z(65496),Z(65504),Z(16),se(74),se(70),se(73),se(70),se(0),se(1),se(1),se(0),Z(1),Z(1),se(0),se(0),function(){Z(65499),Z(132),se(0);for(var Ee=0;Ee<64;Ee++)se(l[Ee]);se(1);for(var Ve=0;Ve<64;Ve++)se(d[Ve])}(),function(Ee,Ve){Z(65472),Z(17),se(8),Z(Ve),Z(Ee),se(3),se(1),se(17),se(0),se(2),se(17),se(1),se(3),se(17),se(1)}(U.width,U.height),function(){Z(65476),Z(418),se(0);for(var Ee=0;Ee<16;Ee++)se(L[Ee+1]);for(var Ve=0;Ve<=11;Ve++)se(I[Ve]);se(16);for(var mt=0;mt<16;mt++)se(B[mt+1]);for(var gt=0;gt<=161;gt++)se(T[gt]);se(1);for(var Pe=0;Pe<16;Pe++)se(w[Pe+1]);for(var Ae=0;Ae<=11;Ae++)se(E[Ae]);se(17);for(var We=0;We<16;We++)se(D[We+1]);for(var Xe=0;Xe<=161;Xe++)se(G[Xe])}(),Z(65498),Z(12),se(3),se(1),se(0),se(2),se(17),se(3),se(17),se(0),se(63),se(0);var z=0,q=0,te=0;b=0,_=7,this.encode.displayName="_encode_";for(var ge,Q,ue,ie,oe,J,re,ve,pe,ae=U.data,he=U.width,Te=U.height,Ie=4*he,Be=0;Be<Te;){for(ge=0;ge<Ie;){for(oe=Ie*Be+ge,re=-1,ve=0,pe=0;pe<64;pe++)J=oe+(ve=pe>>3)*Ie+(re=4*(7&pe)),Be+ve>=Te&&(J-=Ie*(Be+1+ve-Te)),ge+re>=Ie&&(J-=ge+re-Ie+4),Q=ae[J++],ue=ae[J++],ie=ae[J++],k[pe]=(V[Q]+V[ue+256>>0]+V[ie+512>>0]>>16)-128,A[pe]=(V[Q+768>>0]+V[ue+1024>>0]+V[ie+1280>>0]>>16)-128,R[pe]=(V[Q+1280>>0]+V[ue+1536>>0]+V[ie+1792>>0]>>16)-128;z=ee(k,u,z,s,a),q=ee(A,h,q,r,n),te=ee(R,h,te,r,n),ge+=32}Be+=8}if(_>=0){var Le=[];Le[1]=_+1,Le[0]=(1<<_+1)-1,X(Le)}return Z(65497),new Uint8Array(y)},t=t||50,function(){for(var U=String.fromCharCode,O=0;O<256;O++)F[O]=U(O)}(),s=K(L,I),r=K(w,E),a=K(B,T),n=K(D,G),function(){for(var U=1,O=2,z=1;z<=15;z++){for(var q=U;q<O;q++)p[32767+q]=z,f[32767+q]=[],f[32767+q][1]=z,f[32767+q][0]=q;for(var te=-(O-1);te<=-U;te++)p[32767+te]=z,f[32767+te]=[],f[32767+te][1]=z,f[32767+te][0]=O-1+te;U<<=1,O<<=1}}(),function(){for(var U=0;U<256;U++)V[U]=19595*U,V[U+256>>0]=38470*U,V[U+512>>0]=7471*U+32768,V[U+768>>0]=-11059*U,V[U+1024>>0]=-21709*U,V[U+1280>>0]=32768*U+8421375,V[U+1536>>0]=-27439*U,V[U+1792>>0]=-5329*U}(),ce(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Vl(t,s){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!s,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function OC(t){function s(L){if(!L)throw Error("assert :P")}function r(L,I,B){for(var T=0;4>T;T++)if(L[I+T]!=B.charCodeAt(T))return!0;return!1}function a(L,I,B,T,w){for(var E=0;E<w;E++)L[I+E]=B[T+E]}function n(L,I,B,T){for(var w=0;w<T;w++)L[I+w]=B}function i(L){return new Int32Array(L)}function o(L,I){for(var B=[],T=0;T<L;T++)B.push(new I);return B}function l(L,I){var B=[];return function T(w,E,D){for(var G=D[E],K=0;K<G&&(w.push(D.length>E+1?[]:new I),!(D.length<E+1));K++)T(w[K],E+1,D)}(B,0,L),B}var d=function(){var L=this;function I(C,M){for(var Y=1<<M-1>>>0;C&Y;)Y>>>=1;return Y?(C&Y-1)+Y:C}function B(C,M,Y,ne,xe){s(!(ne%Y));do C[M+(ne-=Y)]=xe;while(0<ne)}function T(C,M,Y,ne,xe){if(s(2328>=xe),512>=xe)var ye=i(512);else if((ye=i(xe))==null)return 0;return function(be,we,Ce,Re,et,pt){var xt,it,Rt=we,_t=1<<Ce,tt=i(16),at=i(16);for(s(et!=0),s(Re!=null),s(be!=null),s(0<Ce),it=0;it<et;++it){if(15<Re[it])return 0;++tt[Re[it]]}if(tt[0]==et)return 0;for(at[1]=0,xt=1;15>xt;++xt){if(tt[xt]>1<<xt)return 0;at[xt+1]=at[xt]+tt[xt]}for(it=0;it<et;++it)xt=Re[it],0<Re[it]&&(pt[at[xt]++]=it);if(at[15]==1)return(Re=new w).g=0,Re.value=pt[0],B(be,Rt,1,_t,Re),_t;var Tt,Ot=-1,Lt=_t-1,ss=0,Qt=1,ps=1,Jt=1<<Ce;for(it=0,xt=1,et=2;xt<=Ce;++xt,et<<=1){if(Qt+=ps<<=1,0>(ps-=tt[xt]))return 0;for(;0<tt[xt];--tt[xt])(Re=new w).g=xt,Re.value=pt[it++],B(be,Rt+ss,et,Jt,Re),ss=I(ss,xt)}for(xt=Ce+1,et=2;15>=xt;++xt,et<<=1){if(Qt+=ps<<=1,0>(ps-=tt[xt]))return 0;for(;0<tt[xt];--tt[xt]){if(Re=new w,(ss&Lt)!=Ot){for(Rt+=Jt,Tt=1<<(Ot=xt)-Ce;15>Ot&&!(0>=(Tt-=tt[Ot]));)++Ot,Tt<<=1;_t+=Jt=1<<(Tt=Ot-Ce),be[we+(Ot=ss&Lt)].g=Tt+Ce,be[we+Ot].value=Rt-we-Ot}Re.g=xt-Ce,Re.value=pt[it++],B(be,Rt+(ss>>Ce),et,Jt,Re),ss=I(ss,xt)}}return Qt!=2*at[15]-1?0:_t}(C,M,Y,ne,xe,ye)}function w(){this.value=this.g=0}function E(){this.value=this.g=0}function D(){this.G=o(5,w),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(La,E)}function G(C,M,Y,ne){s(C!=null),s(M!=null),s(2147483648>ne),C.Ca=254,C.I=0,C.b=-8,C.Ka=0,C.oa=M,C.pa=Y,C.Jd=M,C.Yc=Y+ne,C.Zc=4<=ne?Y+ne-4+1:Y,ge(C)}function K(C,M){for(var Y=0;0<M--;)Y|=ue(C,128)<<M;return Y}function X(C,M){var Y=K(C,M);return Q(C)?-Y:Y}function se(C,M,Y,ne){var xe,ye=0;for(s(C!=null),s(M!=null),s(4294967288>ne),C.Sb=ne,C.Ra=0,C.u=0,C.h=0,4<ne&&(ne=4),xe=0;xe<ne;++xe)ye+=M[Y+xe]<<8*xe;C.Ra=ye,C.bb=ne,C.oa=M,C.pa=Y}function Z(C){for(;8<=C.u&&C.bb<C.Sb;)C.Ra>>>=8,C.Ra+=C.oa[C.pa+C.bb]<<fd-8>>>0,++C.bb,C.u-=8;z(C)&&(C.h=1,C.u=0)}function ee(C,M){if(s(0<=M),!C.h&&M<=xd){var Y=O(C)&hc[M];return C.u+=M,Z(C),Y}return C.h=1,C.u=0}function ce(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function O(C){return C.Ra>>>(C.u&fd-1)>>>0}function z(C){return s(C.bb<=C.Sb),C.h||C.bb==C.Sb&&C.u>fd}function q(C,M){C.u=M,C.h=z(C)}function te(C){C.u>=gu&&(s(C.u>=gu),Z(C))}function ge(C){s(C!=null&&C.oa!=null),C.pa<C.Zc?(C.I=(C.oa[C.pa++]|C.I<<8)>>>0,C.b+=8):(s(C!=null&&C.oa!=null),C.pa<C.Yc?(C.b+=8,C.I=C.oa[C.pa++]|C.I<<8):C.Ka?C.b=0:(C.I<<=8,C.b+=8,C.Ka=1))}function Q(C){return K(C,1)}function ue(C,M){var Y=C.Ca;0>C.b&&ge(C);var ne=C.b,xe=Y*M>>>8,ye=(C.I>>>ne>xe)+0;for(ye?(Y-=xe,C.I-=xe+1<<ne>>>0):Y=xe+1,ne=Y,xe=0;256<=ne;)xe+=8,ne>>=8;return ne=7^xe+Zn[ne],C.b-=ne,C.Ca=(Y<<ne)-1,ye}function ie(C,M,Y){C[M+0]=Y>>24&255,C[M+1]=Y>>16&255,C[M+2]=Y>>8&255,C[M+3]=Y>>0&255}function oe(C,M){return C[M+0]<<0|C[M+1]<<8}function J(C,M){return oe(C,M)|C[M+2]<<16}function re(C,M){return oe(C,M)|oe(C,M+2)<<16}function ve(C,M){var Y=1<<M;return s(C!=null),s(0<M),C.X=i(Y),C.X==null?0:(C.Mb=32-M,C.Xa=M,1)}function pe(C,M){s(C!=null),s(M!=null),s(C.Xa==M.Xa),a(M.X,0,C.X,0,1<<M.Xa)}function ae(){this.X=[],this.Xa=this.Mb=0}function he(C,M,Y,ne){s(Y!=null),s(ne!=null);var xe=Y[0],ye=ne[0];return xe==0&&(xe=(C*ye+M/2)/M),ye==0&&(ye=(M*xe+C/2)/C),0>=xe||0>=ye?0:(Y[0]=xe,ne[0]=ye,1)}function Te(C,M){return C+(1<<M)-1>>>M}function Ie(C,M){return((4278255360&C)+(4278255360&M)>>>0&4278255360)+((16711935&C)+(16711935&M)>>>0&16711935)>>>0}function Be(C,M){L[M]=function(Y,ne,xe,ye,be,we,Ce){var Re;for(Re=0;Re<be;++Re){var et=L[C](we[Ce+Re-1],xe,ye+Re);we[Ce+Re]=Ie(Y[ne+Re],et)}}}function Le(){this.ud=this.hd=this.jd=0}function Ee(C,M){return((4278124286&(C^M))>>>1)+(C&M)>>>0}function Ve(C){return 0<=C&&256>C?C:0>C?0:255<C?255:void 0}function mt(C,M){return Ve(C+(C-M+.5>>1))}function gt(C,M,Y){return Math.abs(M-Y)-Math.abs(C-Y)}function Pe(C,M,Y,ne,xe,ye,be){for(ne=ye[be-1],Y=0;Y<xe;++Y)ye[be+Y]=ne=Ie(C[M+Y],ne)}function Ae(C,M,Y,ne,xe){var ye;for(ye=0;ye<Y;++ye){var be=C[M+ye],we=be>>8&255,Ce=16711935&(Ce=(Ce=16711935&be)+((we<<16)+we));ne[xe+ye]=(4278255360&be)+Ce>>>0}}function We(C,M){M.jd=C>>0&255,M.hd=C>>8&255,M.ud=C>>16&255}function Xe(C,M,Y,ne,xe,ye){var be;for(be=0;be<ne;++be){var we=M[Y+be],Ce=we>>>8,Re=we,et=255&(et=(et=we>>>16)+((C.jd<<24>>24)*(Ce<<24>>24)>>>5));Re=255&(Re=(Re=Re+((C.hd<<24>>24)*(Ce<<24>>24)>>>5))+((C.ud<<24>>24)*(et<<24>>24)>>>5)),xe[ye+be]=(4278255360&we)+(et<<16)+Re}}function st(C,M,Y,ne,xe){L[M]=function(ye,be,we,Ce,Re,et,pt,xt,it){for(Ce=pt;Ce<xt;++Ce)for(pt=0;pt<it;++pt)Re[et++]=xe(we[ne(ye[be++])])},L[C]=function(ye,be,we,Ce,Re,et,pt){var xt=8>>ye.b,it=ye.Ea,Rt=ye.K[0],_t=ye.w;if(8>xt)for(ye=(1<<ye.b)-1,_t=(1<<xt)-1;be<we;++be){var tt,at=0;for(tt=0;tt<it;++tt)tt&ye||(at=ne(Ce[Re++])),et[pt++]=xe(Rt[at&_t]),at>>=xt}else L["VP8LMapColor"+Y](Ce,Re,Rt,_t,et,pt,be,we,it)}}function ke(C,M,Y,ne,xe){for(Y=M+Y;M<Y;){var ye=C[M++];ne[xe++]=ye>>16&255,ne[xe++]=ye>>8&255,ne[xe++]=ye>>0&255}}function ct(C,M,Y,ne,xe){for(Y=M+Y;M<Y;){var ye=C[M++];ne[xe++]=ye>>16&255,ne[xe++]=ye>>8&255,ne[xe++]=ye>>0&255,ne[xe++]=ye>>24&255}}function nt(C,M,Y,ne,xe){for(Y=M+Y;M<Y;){var ye=(be=C[M++])>>16&240|be>>12&15,be=be>>0&240|be>>28&15;ne[xe++]=ye,ne[xe++]=be}}function Bt(C,M,Y,ne,xe){for(Y=M+Y;M<Y;){var ye=(be=C[M++])>>16&248|be>>13&7,be=be>>5&224|be>>3&31;ne[xe++]=ye,ne[xe++]=be}}function Ge(C,M,Y,ne,xe){for(Y=M+Y;M<Y;){var ye=C[M++];ne[xe++]=ye>>0&255,ne[xe++]=ye>>8&255,ne[xe++]=ye>>16&255}}function St(C,M,Y,ne,xe,ye){if(ye==0)for(Y=M+Y;M<Y;)ie(ne,((ye=C[M++])[0]>>24|ye[1]>>8&65280|ye[2]<<8&16711680|ye[3]<<24)>>>0),xe+=32;else a(ne,xe,C,M,Y)}function bt(C,M){L[M][0]=L[C+"0"],L[M][1]=L[C+"1"],L[M][2]=L[C+"2"],L[M][3]=L[C+"3"],L[M][4]=L[C+"4"],L[M][5]=L[C+"5"],L[M][6]=L[C+"6"],L[M][7]=L[C+"7"],L[M][8]=L[C+"8"],L[M][9]=L[C+"9"],L[M][10]=L[C+"10"],L[M][11]=L[C+"11"],L[M][12]=L[C+"12"],L[M][13]=L[C+"13"],L[M][14]=L[C+"0"],L[M][15]=L[C+"0"]}function qe(C){return C==Dm||C==Nc||C==Al||C==wu}function Oe(){this.eb=[],this.size=this.A=this.fb=0}function jt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Et(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Oe,this.f.kb=new jt,this.sd=null}function qt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Gt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Yt(C){return alert("todo:WebPSamplerProcessPlane"),C.T}function Xt(C,M){var Y=C.T,ne=M.ba.f.RGBA,xe=ne.eb,ye=ne.fb+C.ka*ne.A,be=en[M.ba.S],we=C.y,Ce=C.O,Re=C.f,et=C.N,pt=C.ea,xt=C.W,it=M.cc,Rt=M.dc,_t=M.Mc,tt=M.Nc,at=C.ka,Tt=C.ka+C.T,Ot=C.U,Lt=Ot+1>>1;for(at==0?be(we,Ce,null,null,Re,et,pt,xt,Re,et,pt,xt,xe,ye,null,null,Ot):(be(M.ec,M.fc,we,Ce,it,Rt,_t,tt,Re,et,pt,xt,xe,ye-ne.A,xe,ye,Ot),++Y);at+2<Tt;at+=2)it=Re,Rt=et,_t=pt,tt=xt,et+=C.Rc,xt+=C.Rc,ye+=2*ne.A,be(we,(Ce+=2*C.fa)-C.fa,we,Ce,it,Rt,_t,tt,Re,et,pt,xt,xe,ye-ne.A,xe,ye,Ot);return Ce+=C.fa,C.j+Tt<C.o?(a(M.ec,M.fc,we,Ce,Ot),a(M.cc,M.dc,Re,et,Lt),a(M.Mc,M.Nc,pt,xt,Lt),Y--):1&Tt||be(we,Ce,null,null,Re,et,pt,xt,Re,et,pt,xt,xe,ye+ne.A,null,null,Ot),Y}function is(C,M,Y){var ne=C.F,xe=[C.J];if(ne!=null){var ye=C.U,be=M.ba.S,we=be==vd||be==Al;M=M.ba.f.RGBA;var Ce=[0],Re=C.ka;Ce[0]=C.T,C.Kb&&(Re==0?--Ce[0]:(--Re,xe[0]-=C.width),C.j+C.ka+C.T==C.o&&(Ce[0]=C.o-C.j-Re));var et=M.eb;Re=M.fb+Re*M.A,C=ir(ne,xe[0],C.width,ye,Ce,et,Re+(we?0:3),M.A),s(Y==Ce),C&&qe(be)&&Pi(et,Re,we,ye,Ce,M.A)}return 0}function ws(C){var M=C.ma,Y=M.ba.S,ne=11>Y,xe=Y==vu||Y==Tm||Y==vd||Y==kl||Y==12||qe(Y);if(M.memory=null,M.Ib=null,M.Jb=null,M.Nd=null,!mc(M.Oa,C,xe?11:12))return 0;if(xe&&qe(Y)&&$t(),C.da)alert("todo:use_scaling");else{if(ne){if(M.Ib=Yt,C.Kb){if(Y=C.U+1>>1,M.memory=i(C.U+2*Y),M.memory==null)return 0;M.ec=M.memory,M.fc=0,M.cc=M.ec,M.dc=M.fc+C.U,M.Mc=M.cc,M.Nc=M.dc+Y,M.Ib=Xt,$t()}}else alert("todo:EmitYUV");xe&&(M.Jb=is,ne&&ht())}if(ne&&!Ng){for(C=0;256>C;++C)u2[C]=89858*(C-128)+Ra>>Qo,Lm[C]=-22014*(C-128)+Ra,Ox[C]=-45773*(C-128),Oa[C]=113618*(C-128)+Ra>>Qo;for(C=Cc;C<Z0;++C)M=76283*(C-16)+Ra>>Qo,Fm[C-Cc]=Di(M,255),Ix[C-Cc]=Di(M+8>>4,15);Ng=1}return 1}function Us(C){var M=C.ma,Y=C.U,ne=C.T;return s(!(1&C.ka)),0>=Y||0>=ne?0:(Y=M.Ib(C,M),M.Jb!=null&&M.Jb(C,M,Y),M.Dc+=Y,1)}function Zt(C){C.ma.memory=null}function Wt(C,M,Y,ne){return ee(C,8)!=47?0:(M[0]=ee(C,14)+1,Y[0]=ee(C,14)+1,ne[0]=ee(C,1),ee(C,3)!=0?0:!C.h)}function Es(C,M){if(4>C)return C+1;var Y=C-2>>1;return(2+(1&C)<<Y)+ee(M,Y)+1}function Bs(C,M){return 120<M?M-120:1<=(Y=((Y=Tl[M-1])>>4)*C+(8-(15&Y)))?Y:1;var Y}function sr(C,M,Y){var ne=O(Y),xe=C[M+=255&ne].g-8;return 0<xe&&(q(Y,Y.u+8),ne=O(Y),M+=C[M].value,M+=ne&(1<<xe)-1),q(Y,Y.u+C[M].g),C[M].value}function Ms(C,M,Y){return Y.g+=C.g,Y.value+=C.value<<M>>>0,s(8>=Y.g),C.g}function dt(C,M,Y){var ne=C.xc;return s((M=ne==0?0:C.vc[C.md*(Y>>ne)+(M>>ne)])<C.Wb),C.Ya[M]}function le(C,M,Y,ne){var xe=C.ab,ye=C.c*M,be=C.C;M=be+M;var we=Y,Ce=ne;for(ne=C.Ta,Y=C.Ua;0<xe--;){var Re=C.gc[xe],et=be,pt=M,xt=we,it=Ce,Rt=(Ce=ne,we=Y,Re.Ea);switch(s(et<pt),s(pt<=Re.nc),Re.hc){case 2:W0(xt,it,(pt-et)*Rt,Ce,we);break;case 0:var _t=et,tt=pt,at=Ce,Tt=we,Ot=(Jt=Re).Ea;_t==0&&(Fx(xt,it,null,null,1,at,Tt),Pe(xt,it+1,0,0,Ot-1,at,Tt+1),it+=Ot,Tt+=Ot,++_t);for(var Lt=1<<Jt.b,ss=Lt-1,Qt=Te(Ot,Jt.b),ps=Jt.K,Jt=Jt.w+(_t>>Jt.b)*Qt;_t<tt;){var yr=ps,kr=Jt,rr=1;for(Am(xt,it,at,Tt-Ot,1,at,Tt);rr<Ot;){var Js=(rr&~ss)+Lt;Js>Ot&&(Js=Ot),(0,Sl[yr[kr++]>>8&15])(xt,it+ +rr,at,Tt+rr-Ot,Js-rr,at,Tt+rr),rr=Js}it+=Ot,Tt+=Ot,++_t&ss||(Jt+=Qt)}pt!=Re.nc&&a(Ce,we-Rt,Ce,we+(pt-et-1)*Rt,Rt);break;case 1:for(Rt=xt,tt=it,Ot=(xt=Re.Ea)-(Tt=xt&~(at=(it=1<<Re.b)-1)),_t=Te(xt,Re.b),Lt=Re.K,Re=Re.w+(et>>Re.b)*_t;et<pt;){for(ss=Lt,Qt=Re,ps=new Le,Jt=tt+Tt,yr=tt+xt;tt<Jt;)We(ss[Qt++],ps),fc(ps,Rt,tt,it,Ce,we),tt+=it,we+=it;tt<yr&&(We(ss[Qt++],ps),fc(ps,Rt,tt,Ot,Ce,we),tt+=Ot,we+=Ot),++et&at||(Re+=_t)}break;case 3:if(xt==Ce&&it==we&&0<Re.b){for(tt=Ce,xt=Rt=we+(pt-et)*Rt-(Tt=(pt-et)*Te(Re.Ea,Re.b)),it=Ce,at=we,_t=[],Tt=(Ot=Tt)-1;0<=Tt;--Tt)_t[Tt]=it[at+Tt];for(Tt=Ot-1;0<=Tt;--Tt)tt[xt+Tt]=_t[Tt];Yi(Re,et,pt,Ce,Rt,Ce,we)}else Yi(Re,et,pt,xt,it,Ce,we)}we=ne,Ce=Y}Ce!=Y&&a(ne,Y,we,Ce,ye)}function Se(C,M){var Y=C.V,ne=C.Ba+C.c*C.C,xe=M-C.C;if(s(M<=C.l.o),s(16>=xe),0<xe){var ye=C.l,be=C.Ta,we=C.Ua,Ce=ye.width;if(le(C,xe,Y,ne),xe=we=[we],s((Y=C.C)<(ne=M)),s(ye.v<ye.va),ne>ye.o&&(ne=ye.o),Y<ye.j){var Re=ye.j-Y;Y=ye.j,xe[0]+=Re*Ce}if(Y>=ne?Y=0:(xe[0]+=4*ye.v,ye.ka=Y-ye.j,ye.U=ye.va-ye.v,ye.T=ne-Y,Y=1),Y){if(we=we[0],11>(Y=C.ca).S){var et=Y.f.RGBA,pt=(ne=Y.S,xe=ye.U,ye=ye.T,Re=et.eb,et.A),xt=ye;for(et=et.fb+C.Ma*et.A;0<xt--;){var it=be,Rt=we,_t=xe,tt=Re,at=et;switch(ne){case Sn:zn(it,Rt,_t,tt,at);break;case vu:fn(it,Rt,_t,tt,at);break;case Dm:fn(it,Rt,_t,tt,at),Pi(tt,at,0,_t,1,0);break;case Go:bo(it,Rt,_t,tt,at);break;case Tm:St(it,Rt,_t,tt,at,1);break;case Nc:St(it,Rt,_t,tt,at,1),Pi(tt,at,0,_t,1,0);break;case vd:St(it,Rt,_t,tt,at,0);break;case Al:St(it,Rt,_t,tt,at,0),Pi(tt,at,1,_t,1,0);break;case kl:pc(it,Rt,_t,tt,at);break;case wu:pc(it,Rt,_t,tt,at),nr(tt,at,_t,1,0);break;case Y0:ei(it,Rt,_t,tt,at);break;default:s(0)}we+=Ce,et+=pt}C.Ma+=ye}else alert("todo:EmitRescaledRowsYUVA");s(C.Ma<=Y.height)}}C.C=M,s(C.C<=C.i)}function me(C){var M;if(0<C.ua)return 0;for(M=0;M<C.Wb;++M){var Y=C.Ya[M].G,ne=C.Ya[M].H;if(0<Y[1][ne[1]+0].g||0<Y[2][ne[2]+0].g||0<Y[3][ne[3]+0].g)return 0}return 1}function _e(C,M,Y,ne,xe,ye){if(C.Z!=0){var be=C.qd,we=C.rd;for(s(Ko[C.Z]!=null);M<Y;++M)Ko[C.Z](be,we,ne,xe,ne,xe,ye),be=ne,we=xe,xe+=ye;C.qd=be,C.rd=we}}function De(C,M){var Y=C.l.ma,ne=Y.Z==0||Y.Z==1?C.l.j:C.C;if(ne=C.C<ne?ne:C.C,s(M<=C.l.o),M>ne){var xe=C.l.width,ye=Y.ca,be=Y.tb+xe*ne,we=C.V,Ce=C.Ba+C.c*ne,Re=C.gc;s(C.ab==1),s(Re[0].hc==3),xc(Re[0],ne,M,we,Ce,ye,be),_e(Y,ne,M,ye,be,xe)}C.C=C.Ma=M}function Ne(C,M,Y,ne,xe,ye,be){var we=C.$/ne,Ce=C.$%ne,Re=C.m,et=C.s,pt=Y+C.$,xt=pt;xe=Y+ne*xe;var it=Y+ne*ye,Rt=280+et.ua,_t=C.Pb?we:16777216,tt=0<et.ua?et.Wa:null,at=et.wc,Tt=pt<it?dt(et,Ce,we):null;s(C.C<ye),s(it<=xe);var Ot=!1;e:for(;;){for(;Ot||pt<it;){var Lt=0;if(we>=_t){var ss=pt-Y;s((_t=C).Pb),_t.wd=_t.m,_t.xd=ss,0<_t.s.ua&&pe(_t.s.Wa,_t.s.vb),_t=we+vg}if(Ce&at||(Tt=dt(et,Ce,we)),s(Tt!=null),Tt.Qb&&(M[pt]=Tt.qb,Ot=!0),!Ot)if(te(Re),Tt.jc){Lt=Re,ss=M;var Qt=pt,ps=Tt.pd[O(Lt)&La-1];s(Tt.jc),256>ps.g?(q(Lt,Lt.u+ps.g),ss[Qt]=ps.value,Lt=0):(q(Lt,Lt.u+ps.g-256),s(256<=ps.value),Lt=ps.value),Lt==0&&(Ot=!0)}else Lt=sr(Tt.G[0],Tt.H[0],Re);if(Re.h)break;if(Ot||256>Lt){if(!Ot)if(Tt.nd)M[pt]=(Tt.qb|Lt<<8)>>>0;else{if(te(Re),Ot=sr(Tt.G[1],Tt.H[1],Re),te(Re),ss=sr(Tt.G[2],Tt.H[2],Re),Qt=sr(Tt.G[3],Tt.H[3],Re),Re.h)break;M[pt]=(Qt<<24|Ot<<16|Lt<<8|ss)>>>0}if(Ot=!1,++pt,++Ce>=ne&&(Ce=0,++we,be!=null&&we<=ye&&!(we%16)&&be(C,we),tt!=null))for(;xt<pt;)Lt=M[xt++],tt.X[(506832829*Lt&4294967295)>>>tt.Mb]=Lt}else if(280>Lt){if(Lt=Es(Lt-256,Re),ss=sr(Tt.G[4],Tt.H[4],Re),te(Re),ss=Bs(ne,ss=Es(ss,Re)),Re.h)break;if(pt-Y<ss||xe-pt<Lt)break e;for(Qt=0;Qt<Lt;++Qt)M[pt+Qt]=M[pt+Qt-ss];for(pt+=Lt,Ce+=Lt;Ce>=ne;)Ce-=ne,++we,be!=null&&we<=ye&&!(we%16)&&be(C,we);if(s(pt<=xe),Ce&at&&(Tt=dt(et,Ce,we)),tt!=null)for(;xt<pt;)Lt=M[xt++],tt.X[(506832829*Lt&4294967295)>>>tt.Mb]=Lt}else{if(!(Lt<Rt))break e;for(Ot=Lt-280,s(tt!=null);xt<pt;)Lt=M[xt++],tt.X[(506832829*Lt&4294967295)>>>tt.Mb]=Lt;Lt=pt,s(!(Ot>>>(ss=tt).Xa)),M[Lt]=ss.X[Ot],Ot=!0}Ot||s(Re.h==z(Re))}if(C.Pb&&Re.h&&pt<xe)s(C.m.h),C.a=5,C.m=C.wd,C.$=C.xd,0<C.s.ua&&pe(C.s.vb,C.s.Wa);else{if(Re.h)break e;be!=null&&be(C,we>ye?ye:we),C.a=0,C.$=pt-Y}return 1}return C.a=3,0}function Je(C){s(C!=null),C.vc=null,C.yc=null,C.Ya=null;var M=C.Wa;M!=null&&(M.X=null),C.vb=null,s(C!=null)}function $e(){var C=new Lx;return C==null?null:(C.a=0,C.xb=ju,bt("Predictor","VP8LPredictors"),bt("Predictor","VP8LPredictors_C"),bt("PredictorAdd","VP8LPredictorsAdd"),bt("PredictorAdd","VP8LPredictorsAdd_C"),W0=Ae,fc=Xe,zn=ke,fn=ct,pc=nt,ei=Bt,bo=Ge,L.VP8LMapColor32b=Ja,L.VP8LMapColor8b=Em,C)}function Ke(C,M,Y,ne,xe){var ye=1,be=[C],we=[M],Ce=ne.m,Re=ne.s,et=null,pt=0;e:for(;;){if(Y)for(;ye&&ee(Ce,1);){var xt=be,it=we,Rt=ne,_t=1,tt=Rt.m,at=Rt.gc[Rt.ab],Tt=ee(tt,2);if(Rt.Oc&1<<Tt)ye=0;else{switch(Rt.Oc|=1<<Tt,at.hc=Tt,at.Ea=xt[0],at.nc=it[0],at.K=[null],++Rt.ab,s(4>=Rt.ab),Tt){case 0:case 1:at.b=ee(tt,3)+2,_t=Ke(Te(at.Ea,at.b),Te(at.nc,at.b),0,Rt,at.K),at.K=at.K[0];break;case 3:var Ot,Lt=ee(tt,8)+1,ss=16<Lt?0:4<Lt?1:2<Lt?2:3;if(xt[0]=Te(at.Ea,ss),at.b=ss,Ot=_t=Ke(Lt,1,0,Rt,at.K)){var Qt,ps=Lt,Jt=at,yr=1<<(8>>Jt.b),kr=i(yr);if(kr==null)Ot=0;else{var rr=Jt.K[0],Js=Jt.w;for(kr[0]=Jt.K[0][0],Qt=1;Qt<1*ps;++Qt)kr[Qt]=Ie(rr[Js+Qt],kr[Qt-1]);for(;Qt<4*yr;++Qt)kr[Qt]=0;Jt.K[0]=null,Jt.K[0]=kr,Ot=1}}_t=Ot;break;case 2:break;default:s(0)}ye=_t}}if(be=be[0],we=we[0],ye&&ee(Ce,1)&&!(ye=1<=(pt=ee(Ce,4))&&11>=pt)){ne.a=3;break e}var Lr;if(Lr=ye)t:{var Ar,Vs,Ir,js=ne,Ts=be,pr=we,br=pt,tn=Y,Ia=js.m,va=js.s,wa=[null],Ca=1,Ji=0,Er=jd[br];s:for(;;){if(tn&&ee(Ia,1)){var ka=ee(Ia,3)+2,jo=Te(Ts,ka),kc=Te(pr,ka),_d=jo*kc;if(!Ke(jo,kc,0,js,wa))break s;for(wa=wa[0],va.xc=ka,Ar=0;Ar<_d;++Ar){var Ac=wa[Ar]>>8&65535;wa[Ar]=Ac,Ac>=Ca&&(Ca=Ac+1)}}if(Ia.h)break s;for(Vs=0;5>Vs;++Vs){var Qr=Mi[Vs];!Vs&&0<br&&(Qr+=1<<br),Ji<Qr&&(Ji=Qr)}var Rm=o(Ca*Er,w),eh=Ca,Un=o(eh,D);if(Un==null)var ia=null;else s(65536>=eh),ia=Un;var Cd=i(Ji);if(ia==null||Cd==null||Rm==null){js.a=1;break s}var Ec=Rm;for(Ar=Ir=0;Ar<Ca;++Ar){var si=ia[Ar],Tc=si.G,ri=si.H,Om=0,Su=1,th=0;for(Vs=0;5>Vs;++Vs){Qr=Mi[Vs],Tc[Vs]=Ec,ri[Vs]=Ir,!Vs&&0<br&&(Qr+=1<<br);a:{var Im,sh=Qr,Bm=js,_u=Cd,Cg=Ec,kg=Ir,zm=0,Ll=Bm.m,h2=ee(Ll,1);if(n(_u,0,0,sh),h2){var Ag=ee(Ll,1)+1,Eg=ee(Ll,1),Bx=ee(Ll,Eg==0?1:8);_u[Bx]=1,Ag==2&&(_u[Bx=ee(Ll,8)]=1);var Cu=1}else{var zx=i(19),$x=ee(Ll,4)+4;if(19<$x){Bm.a=3;var $m=0;break a}for(Im=0;Im<$x;++Im)zx[El[Im]]=ee(Ll,3);var rh=void 0,ku=void 0,Tg=Bm,Dg=zx,Fl=sh,Um=_u,ah=0,No=Tg.m,Au=8,Ux=o(128,w);r:for(;T(Ux,0,7,Dg,19);){if(ee(No,1)){var Pg=2+2*ee(No,3);if((rh=2+ee(No,Pg))>Fl)break r}else rh=Fl;for(ku=0;ku<Fl&&rh--;){te(No);var Vx=Ux[0+(127&O(No))];q(No,No.u+Vx.g);var kd=Vx.value;if(16>kd)Um[ku++]=kd,kd!=0&&(Au=kd);else{var Mg=kd==16,qx=kd-16,Hx=Qi[qx],Wx=ee(No,K0[qx])+Hx;if(ku+Wx>Fl)break r;for(var Lg=Mg?Au:0;0<Wx--;)Um[ku++]=Lg}}ah=1;break r}ah||(Tg.a=3),Cu=ah}(Cu=Cu&&!Ll.h)&&(zm=T(Cg,kg,8,_u,sh)),Cu&&zm!=0?$m=zm:(Bm.a=3,$m=0)}if($m==0)break s;if(Su&&wd[Vs]==1&&(Su=Ec[Ir].g==0),Om+=Ec[Ir].g,Ir+=$m,3>=Vs){var Ad,nh=Cd[0];for(Ad=1;Ad<Qr;++Ad)Cd[Ad]>nh&&(nh=Cd[Ad]);th+=nh}}if(si.nd=Su,si.Qb=0,Su&&(si.qb=(Tc[3][ri[3]+0].value<<24|Tc[1][ri[1]+0].value<<16|Tc[2][ri[2]+0].value)>>>0,Om==0&&256>Tc[0][ri[0]+0].value&&(si.Qb=1,si.qb+=Tc[0][ri[0]+0].value<<8)),si.jc=!si.Qb&&6>th,si.jc){var Vm,Rl=si;for(Vm=0;Vm<La;++Vm){var Jo=Vm,Ol=Rl.pd[Jo],qm=Rl.G[0][Rl.H[0]+Jo];256<=qm.value?(Ol.g=qm.g+256,Ol.value=qm.value):(Ol.g=0,Ol.value=0,Jo>>=Ms(qm,8,Ol),Jo>>=Ms(Rl.G[1][Rl.H[1]+Jo],16,Ol),Jo>>=Ms(Rl.G[2][Rl.H[2]+Jo],0,Ol),Ms(Rl.G[3][Rl.H[3]+Jo],24,Ol))}}}va.vc=wa,va.Wb=Ca,va.Ya=ia,va.yc=Rm,Lr=1;break t}Lr=0}if(!(ye=Lr)){ne.a=3;break e}if(0<pt){if(Re.ua=1<<pt,!ve(Re.Wa,pt)){ne.a=1,ye=0;break e}}else Re.ua=0;var Hm=ne,Gx=be,Fg=we,Yx=Hm.s,Kx=Yx.xc;if(Hm.c=Gx,Hm.i=Fg,Yx.md=Te(Gx,Kx),Yx.wc=Kx==0?-1:(1<<Kx)-1,Y){ne.xb=jg;break e}if((et=i(be*we))==null){ne.a=1,ye=0;break e}ye=(ye=Ne(ne,et,0,be,we,we,null))&&!Ce.h;break e}return ye?(xe!=null?xe[0]=et:(s(et==null),s(Y)),ne.$=0,Y||Je(Re)):Je(Re),ye}function ot(C,M){var Y=C.c*C.i,ne=Y+M+16*M;return s(C.c<=M),C.V=i(ne),C.V==null?(C.Ta=null,C.Ua=0,C.a=1,0):(C.Ta=C.V,C.Ua=C.Ba+Y+M,1)}function Fe(C,M){var Y=C.C,ne=M-Y,xe=C.V,ye=C.Ba+C.c*Y;for(s(M<=C.l.o);0<ne;){var be=16<ne?16:ne,we=C.l.ma,Ce=C.l.width,Re=Ce*be,et=we.ca,pt=we.tb+Ce*Y,xt=C.Ta,it=C.Ua;le(C,be,xe,ye),Hr(xt,it,et,pt,Re),_e(we,Y,Y+be,et,pt,Ce),ne-=be,xe+=be*C.c,Y+=be}s(Y==M),C.C=C.Ma=M}function Ye(){this.ub=this.yd=this.td=this.Rb=0}function lt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Mt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Dt(){this.Yb=function(){var C=[];return function M(Y,ne,xe){for(var ye=xe[ne],be=0;be<ye&&(Y.push(xe.length>ne+1?[]:0),!(xe.length<ne+1));be++)M(Y[be],ne+1,xe)}(C,0,[3,11]),C}()}function Ht(){this.jb=i(3),this.Wc=l([4,8],Dt),this.Xc=l([4,17],Dt)}function rs(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function fs(){this.ld=this.La=this.dd=this.tc=0}function Ue(){this.Na=this.la=0}function vt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ut(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function os(){this.uc=this.M=this.Nb=0,this.wa=Array(new fs),this.Y=0,this.ya=Array(new Ut),this.aa=0,this.l=new Nr}function zs(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Ls(){this.cb=this.a=0,this.sc="",this.m=new ce,this.Od=new Ye,this.Kc=new lt,this.ed=new rs,this.Qa=new Mt,this.Ic=this.$c=this.Aa=0,this.D=new os,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ce),this.ia=0,this.pb=o(4,vt),this.Pa=new Ht,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new zs),this.Hd=0,this.rb=Array(new Ue),this.sb=0,this.wa=Array(new fs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ut),this.L=this.aa=0,this.gd=l([4,2],fs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Nr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Pr(){var C=new Ls;return C!=null&&(C.a=0,C.sc="OK",C.cb=0,C.Xb=0,Fa||(Fa=Fn)),C}function lr(C,M,Y){return C.a==0&&(C.a=M,C.sc=Y,C.cb=0),0}function xr(C,M,Y){return 3<=Y&&C[M+0]==157&&C[M+1]==1&&C[M+2]==42}function Nn(C,M){if(C==null)return 0;if(C.a=0,C.sc="OK",M==null)return lr(C,2,"null VP8Io passed to VP8GetHeaders()");var Y=M.data,ne=M.w,xe=M.ha;if(4>xe)return lr(C,7,"Truncated header.");var ye=Y[ne+0]|Y[ne+1]<<8|Y[ne+2]<<16,be=C.Od;if(be.Rb=!(1&ye),be.td=ye>>1&7,be.yd=ye>>4&1,be.ub=ye>>5,3<be.td)return lr(C,3,"Incorrect keyframe parameters.");if(!be.yd)return lr(C,4,"Frame not displayable.");ne+=3,xe-=3;var we=C.Kc;if(be.Rb){if(7>xe)return lr(C,7,"cannot parse picture header");if(!xr(Y,ne,xe))return lr(C,3,"Bad code word");we.c=16383&(Y[ne+4]<<8|Y[ne+3]),we.Td=Y[ne+4]>>6,we.i=16383&(Y[ne+6]<<8|Y[ne+5]),we.Ud=Y[ne+6]>>6,ne+=7,xe-=7,C.za=we.c+15>>4,C.Ub=we.i+15>>4,M.width=we.c,M.height=we.i,M.Da=0,M.j=0,M.v=0,M.va=M.width,M.o=M.height,M.da=0,M.ib=M.width,M.hb=M.height,M.U=M.width,M.T=M.height,n((ye=C.Pa).jb,0,255,ye.jb.length),s((ye=C.Qa)!=null),ye.Cb=0,ye.Bb=0,ye.Fb=1,n(ye.Zb,0,0,ye.Zb.length),n(ye.Lb,0,0,ye.Lb)}if(be.ub>xe)return lr(C,7,"bad partition length");G(ye=C.m,Y,ne,be.ub),ne+=be.ub,xe-=be.ub,be.Rb&&(we.Ld=Q(ye),we.Kd=Q(ye)),we=C.Qa;var Ce,Re=C.Pa;if(s(ye!=null),s(we!=null),we.Cb=Q(ye),we.Cb){if(we.Bb=Q(ye),Q(ye)){for(we.Fb=Q(ye),Ce=0;4>Ce;++Ce)we.Zb[Ce]=Q(ye)?X(ye,7):0;for(Ce=0;4>Ce;++Ce)we.Lb[Ce]=Q(ye)?X(ye,6):0}if(we.Bb)for(Ce=0;3>Ce;++Ce)Re.jb[Ce]=Q(ye)?K(ye,8):255}else we.Bb=0;if(ye.Ka)return lr(C,3,"cannot parse segment header");if((we=C.ed).zd=Q(ye),we.Tb=K(ye,6),we.wb=K(ye,3),we.Pc=Q(ye),we.Pc&&Q(ye)){for(Re=0;4>Re;++Re)Q(ye)&&(we.vd[Re]=X(ye,6));for(Re=0;4>Re;++Re)Q(ye)&&(we.od[Re]=X(ye,6))}if(C.L=we.Tb==0?0:we.zd?1:2,ye.Ka)return lr(C,3,"cannot parse filter header");var et=xe;if(xe=Ce=ne,ne=Ce+et,we=et,C.Xb=(1<<K(C.m,2))-1,et<3*(Re=C.Xb))Y=7;else{for(Ce+=3*Re,we-=3*Re,et=0;et<Re;++et){var pt=Y[xe+0]|Y[xe+1]<<8|Y[xe+2]<<16;pt>we&&(pt=we),G(C.Jc[+et],Y,Ce,pt),Ce+=pt,we-=pt,xe+=3}G(C.Jc[+Re],Y,Ce,we),Y=Ce<ne?0:5}if(Y!=0)return lr(C,Y,"cannot parse partitions");for(Y=K(Ce=C.m,7),xe=Q(Ce)?X(Ce,4):0,ne=Q(Ce)?X(Ce,4):0,we=Q(Ce)?X(Ce,4):0,Re=Q(Ce)?X(Ce,4):0,Ce=Q(Ce)?X(Ce,4):0,et=C.Qa,pt=0;4>pt;++pt){if(et.Cb){var xt=et.Zb[pt];et.Fb||(xt+=Y)}else{if(0<pt){C.pb[pt]=C.pb[0];continue}xt=Y}var it=C.pb[pt];it.Sc[0]=Pm[Di(xt+xe,127)],it.Sc[1]=Mm[Di(xt+0,127)],it.Eb[0]=2*Pm[Di(xt+ne,127)],it.Eb[1]=101581*Mm[Di(xt+we,127)]>>16,8>it.Eb[1]&&(it.Eb[1]=8),it.Qc[0]=Pm[Di(xt+Re,117)],it.Qc[1]=Mm[Di(xt+Ce,127)],it.lc=xt+Ce}if(!be.Rb)return lr(C,4,"Not a key frame.");for(Q(ye),be=C.Pa,Y=0;4>Y;++Y){for(xe=0;8>xe;++xe)for(ne=0;3>ne;++ne)for(we=0;11>we;++we)Re=ue(ye,Nd[Y][xe][ne][we])?K(ye,8):Yo[Y][xe][ne][we],be.Wc[Y][xe].Yb[ne][we]=Re;for(xe=0;17>xe;++xe)be.Xc[Y][xe]=be.Wc[Y][wg[xe]]}return C.kc=Q(ye),C.kc&&(C.Bd=K(ye,8)),C.cb=1}function Fn(C,M,Y,ne,xe,ye,be){var we=M[xe].Yb[Y];for(Y=0;16>xe;++xe){if(!ue(C,we[Y+0]))return xe;for(;!ue(C,we[Y+1]);)if(we=M[++xe].Yb[0],Y=0,xe==16)return 16;var Ce=M[xe+1].Yb;if(ue(C,we[Y+2])){var Re=C,et=0;if(ue(Re,(xt=we)[(pt=Y)+3]))if(ue(Re,xt[pt+6])){for(we=0,pt=2*(et=ue(Re,xt[pt+8]))+(xt=ue(Re,xt[pt+9+et])),et=0,xt=ua[pt];xt[we];++we)et+=et+ue(Re,xt[we]);et+=3+(8<<pt)}else ue(Re,xt[pt+7])?(et=7+2*ue(Re,165),et+=ue(Re,145)):et=5+ue(Re,159);else et=ue(Re,xt[pt+4])?3+ue(Re,xt[pt+5]):2;we=Ce[2]}else et=1,we=Ce[1];Ce=be+_r[xe],0>(Re=C).b&&ge(Re);var pt,xt=Re.b,it=(pt=Re.Ca>>1)-(Re.I>>xt)>>31;--Re.b,Re.Ca+=it,Re.Ca|=1,Re.I-=(pt+1&it)<<xt,ye[Ce]=((et^it)-it)*ne[(0<xe)+0]}return 16}function mn(C){var M=C.rb[C.sb-1];M.la=0,M.Na=0,n(C.zc,0,0,C.zc.length),C.ja=0}function Ci(C,M){if(C==null)return 0;if(M==null)return lr(C,2,"NULL VP8Io parameter in VP8Decode().");if(!C.cb&&!Nn(C,M))return 0;if(s(C.cb),M.ac==null||M.ac(M)){M.ob&&(C.L=0);var Y=Ml[C.L];if(C.L==2?(C.yb=0,C.zb=0):(C.yb=M.v-Y>>4,C.zb=M.j-Y>>4,0>C.yb&&(C.yb=0),0>C.zb&&(C.zb=0)),C.Va=M.o+15+Y>>4,C.Hb=M.va+15+Y>>4,C.Hb>C.za&&(C.Hb=C.za),C.Va>C.Ub&&(C.Va=C.Ub),0<C.L){var ne=C.ed;for(Y=0;4>Y;++Y){var xe;if(C.Qa.Cb){var ye=C.Qa.Lb[Y];C.Qa.Fb||(ye+=ne.Tb)}else ye=ne.Tb;for(xe=0;1>=xe;++xe){var be=C.gd[Y][xe],we=ye;if(ne.Pc&&(we+=ne.vd[0],xe&&(we+=ne.od[0])),0<(we=0>we?0:63<we?63:we)){var Ce=we;0<ne.wb&&(Ce=4<ne.wb?Ce>>2:Ce>>1)>9-ne.wb&&(Ce=9-ne.wb),1>Ce&&(Ce=1),be.dd=Ce,be.tc=2*we+Ce,be.ld=40<=we?2:15<=we?1:0}else be.tc=0;be.La=xe}}}Y=0}else lr(C,6,"Frame setup failed"),Y=C.a;if(Y=Y==0){if(Y){C.$c=0,0<C.Aa||(C.Ic=Sg);e:{Y=C.Ic,ne=4*(Ce=C.za);var Re=32*Ce,et=Ce+1,pt=0<C.L?Ce*(0<C.Aa?2:1):0,xt=(C.Aa==2?2:1)*Ce;if((be=ne+832+(xe=3*(16*Y+Ml[C.L])/2*Re)+(ye=C.Fa!=null&&0<C.Fa.length?C.Kc.c*C.Kc.i:0))!=be)Y=0;else{if(be>C.Vb){if(C.Vb=0,C.Ec=i(be),C.Fc=0,C.Ec==null){Y=lr(C,1,"no memory during frame initialization.");break e}C.Vb=be}be=C.Ec,we=C.Fc,C.Ac=be,C.Bc=we,we+=ne,C.Gd=o(Re,zs),C.Hd=0,C.rb=o(et+1,Ue),C.sb=1,C.wa=pt?o(pt,fs):null,C.Y=0,C.D.Nb=0,C.D.wa=C.wa,C.D.Y=C.Y,0<C.Aa&&(C.D.Y+=Ce),s(!0),C.oc=be,C.pc=we,we+=832,C.ya=o(xt,Ut),C.aa=0,C.D.ya=C.ya,C.D.aa=C.aa,C.Aa==2&&(C.D.aa+=Ce),C.R=16*Ce,C.B=8*Ce,Ce=(Re=Ml[C.L])*C.R,Re=Re/2*C.B,C.sa=be,C.ta=we+Ce,C.qa=C.sa,C.ra=C.ta+16*Y*C.R+Re,C.Ha=C.qa,C.Ia=C.ra+8*Y*C.B+Re,C.$c=0,we+=xe,C.mb=ye?be:null,C.nb=ye?we:null,s(we+ye<=C.Fc+C.Vb),mn(C),n(C.Ac,C.Bc,0,ne),Y=1}}if(Y){if(M.ka=0,M.y=C.sa,M.O=C.ta,M.f=C.qa,M.N=C.ra,M.ea=C.Ha,M.Vd=C.Ia,M.fa=C.R,M.Rc=C.B,M.F=null,M.J=0,!Cl){for(Y=-255;255>=Y;++Y)ba[255+Y]=0>Y?-Y:Y;for(Y=-1020;1020>=Y;++Y)Ki[1020+Y]=-128>Y?-128:127<Y?127:Y;for(Y=-112;112>=Y;++Y)wc[112+Y]=-16>Y?-16:15<Y?15:Y;for(Y=-255;510>=Y;++Y)jc[255+Y]=0>Y?0:255<Y?255:Y;Cl=1}Ho=Jn,vo=uo,wo=On,_a=zo,ti=mo,ca=co,pd=dd,Wo=ud,yu=Mx,gc=Nm,yc=Px,bc=cu,gd=du,bu=H0,vc=cc,_l=Ti,yd=qo,da=Dx,$n[0]=hn,$n[1]=$o,$n[2]=oc,$n[3]=cd,$n[4]=In,$n[5]=Ei,$n[6]=wl,$n[7]=Bn,$n[8]=Kt,$n[9]=lc,Dl[0]=vl,Dl[1]=ic,Dl[2]=qi,Dl[3]=bl,Dl[4]=pa,Dl[5]=xo,Dl[6]=Wi,Li[0]=fo,Li[1]=Ai,Li[2]=iu,Li[3]=Uo,Li[4]=Ys,Li[5]=Xa,Li[6]=xn,Y=1}else Y=0}Y&&(Y=function(it,Rt){for(it.M=0;it.M<it.Va;++it.M){var _t,tt=it.Jc[it.M&it.Xb],at=it.m,Tt=it;for(_t=0;_t<Tt.za;++_t){var Ot=at,Lt=Tt,ss=Lt.Ac,Qt=Lt.Bc+4*_t,ps=Lt.zc,Jt=Lt.ya[Lt.aa+_t];if(Lt.Qa.Bb?Jt.$b=ue(Ot,Lt.Pa.jb[0])?2+ue(Ot,Lt.Pa.jb[2]):ue(Ot,Lt.Pa.jb[1]):Jt.$b=0,Lt.kc&&(Jt.Ad=ue(Ot,Lt.Bd)),Jt.Za=!ue(Ot,145)+0,Jt.Za){var yr=Jt.Ob,kr=0;for(Lt=0;4>Lt;++Lt){var rr,Js=ps[0+Lt];for(rr=0;4>rr;++rr){Js=Rx[ss[Qt+rr]][Js];for(var Lr=Sc[ue(Ot,Js[0])];0<Lr;)Lr=Sc[2*Lr+ue(Ot,Js[Lr])];Js=-Lr,ss[Qt+rr]=Js}a(yr,kr,ss,Qt,4),kr+=4,ps[0+Lt]=Js}}else Js=ue(Ot,156)?ue(Ot,128)?1:3:ue(Ot,163)?2:0,Jt.Ob[0]=Js,n(ss,Qt,Js,4),n(ps,0,Js,4);Jt.Dd=ue(Ot,142)?ue(Ot,114)?ue(Ot,183)?1:3:2:0}if(Tt.m.Ka)return lr(it,7,"Premature end-of-partition0 encountered.");for(;it.ja<it.za;++it.ja){if(Tt=tt,Ot=(at=it).rb[at.sb-1],ss=at.rb[at.sb+at.ja],_t=at.ya[at.aa+at.ja],Qt=at.kc?_t.Ad:0)Ot.la=ss.la=0,_t.Za||(Ot.Na=ss.Na=0),_t.Hc=0,_t.Gc=0,_t.ia=0;else{var Ar,Vs;if(Ot=ss,ss=Tt,Qt=at.Pa.Xc,ps=at.ya[at.aa+at.ja],Jt=at.pb[ps.$b],Lt=ps.ad,yr=0,kr=at.rb[at.sb-1],Js=rr=0,n(Lt,yr,0,384),ps.Za)var Ir=0,js=Qt[3];else{Lr=i(16);var Ts=Ot.Na+kr.Na;if(Ts=Fa(ss,Qt[1],Ts,Jt.Eb,0,Lr,0),Ot.Na=kr.Na=(0<Ts)+0,1<Ts)Ho(Lr,0,Lt,yr);else{var pr=Lr[0]+3>>3;for(Lr=0;256>Lr;Lr+=16)Lt[yr+Lr]=pr}Ir=1,js=Qt[0]}var br=15&Ot.la,tn=15&kr.la;for(Lr=0;4>Lr;++Lr){var Ia=1&tn;for(pr=Vs=0;4>pr;++pr)br=br>>1|(Ia=(Ts=Fa(ss,js,Ts=Ia+(1&br),Jt.Sc,Ir,Lt,yr))>Ir)<<7,Vs=Vs<<2|(3<Ts?3:1<Ts?2:Lt[yr+0]!=0),yr+=16;br>>=4,tn=tn>>1|Ia<<7,rr=(rr<<8|Vs)>>>0}for(js=br,Ir=tn>>4,Ar=0;4>Ar;Ar+=2){for(Vs=0,br=Ot.la>>4+Ar,tn=kr.la>>4+Ar,Lr=0;2>Lr;++Lr){for(Ia=1&tn,pr=0;2>pr;++pr)Ts=Ia+(1&br),br=br>>1|(Ia=0<(Ts=Fa(ss,Qt[2],Ts,Jt.Qc,0,Lt,yr)))<<3,Vs=Vs<<2|(3<Ts?3:1<Ts?2:Lt[yr+0]!=0),yr+=16;br>>=2,tn=tn>>1|Ia<<5}Js|=Vs<<4*Ar,js|=br<<4<<Ar,Ir|=(240&tn)<<Ar}Ot.la=js,kr.la=Ir,ps.Hc=rr,ps.Gc=Js,ps.ia=43690&Js?0:Jt.ia,Qt=!(rr|Js)}if(0<at.L&&(at.wa[at.Y+at.ja]=at.gd[_t.$b][_t.Za],at.wa[at.Y+at.ja].La|=!Qt),Tt.Ka)return lr(it,7,"Premature end-of-file encountered.")}if(mn(it),at=Rt,Tt=1,_t=(tt=it).D,Ot=0<tt.L&&tt.M>=tt.zb&&tt.M<=tt.Va,tt.Aa==0)e:{if(_t.M=tt.M,_t.uc=Ot,Nl(tt,_t),Tt=1,_t=(Vs=tt.D).Nb,Ot=(Js=Ml[tt.L])*tt.R,ss=Js/2*tt.B,Lr=16*_t*tt.R,pr=8*_t*tt.B,Qt=tt.sa,ps=tt.ta-Ot+Lr,Jt=tt.qa,Lt=tt.ra-ss+pr,yr=tt.Ha,kr=tt.Ia-ss+pr,tn=(br=Vs.M)==0,rr=br>=tt.Va-1,tt.Aa==2&&Nl(tt,Vs),Vs.uc)for(Ia=(Ts=tt).D.M,s(Ts.D.uc),Vs=Ts.yb;Vs<Ts.Hb;++Vs){Ir=Vs,js=Ia;var va=(wa=(Qr=Ts).D).Nb;Ar=Qr.R;var wa=wa.wa[wa.Y+Ir],Ca=Qr.sa,Ji=Qr.ta+16*va*Ar+16*Ir,Er=wa.dd,ka=wa.tc;if(ka!=0)if(s(3<=ka),Qr.L==1)0<Ir&&_l(Ca,Ji,Ar,ka+4),wa.La&&da(Ca,Ji,Ar,ka),0<js&&vc(Ca,Ji,Ar,ka+4),wa.La&&yd(Ca,Ji,Ar,ka);else{var jo=Qr.B,kc=Qr.qa,_d=Qr.ra+8*va*jo+8*Ir,Ac=Qr.Ha,Qr=Qr.Ia+8*va*jo+8*Ir;va=wa.ld,0<Ir&&(Wo(Ca,Ji,Ar,ka+4,Er,va),gc(kc,_d,Ac,Qr,jo,ka+4,Er,va)),wa.La&&(bc(Ca,Ji,Ar,ka,Er,va),bu(kc,_d,Ac,Qr,jo,ka,Er,va)),0<js&&(pd(Ca,Ji,Ar,ka+4,Er,va),yu(kc,_d,Ac,Qr,jo,ka+4,Er,va)),wa.La&&(yc(Ca,Ji,Ar,ka,Er,va),gd(kc,_d,Ac,Qr,jo,ka,Er,va))}}if(tt.ia&&alert("todo:DitherRow"),at.put!=null){if(Vs=16*br,br=16*(br+1),tn?(at.y=tt.sa,at.O=tt.ta+Lr,at.f=tt.qa,at.N=tt.ra+pr,at.ea=tt.Ha,at.W=tt.Ia+pr):(Vs-=Js,at.y=Qt,at.O=ps,at.f=Jt,at.N=Lt,at.ea=yr,at.W=kr),rr||(br-=Js),br>at.o&&(br=at.o),at.F=null,at.J=null,tt.Fa!=null&&0<tt.Fa.length&&Vs<br&&(at.J=Cm(tt,at,Vs,br-Vs),at.F=tt.mb,at.F==null&&at.F.length==0)){Tt=lr(tt,3,"Could not decode alpha data.");break e}Vs<at.j&&(Js=at.j-Vs,Vs=at.j,s(!(1&Js)),at.O+=tt.R*Js,at.N+=tt.B*(Js>>1),at.W+=tt.B*(Js>>1),at.F!=null&&(at.J+=at.width*Js)),Vs<br&&(at.O+=at.v,at.N+=at.v>>1,at.W+=at.v>>1,at.F!=null&&(at.J+=at.v),at.ka=Vs-at.j,at.U=at.va-at.v,at.T=br-Vs,Tt=at.put(at))}_t+1!=tt.Ic||rr||(a(tt.sa,tt.ta-Ot,Qt,ps+16*tt.R,Ot),a(tt.qa,tt.ra-ss,Jt,Lt+8*tt.B,ss),a(tt.Ha,tt.Ia-ss,yr,kr+8*tt.B,ss))}if(!Tt)return lr(it,6,"Output aborted.")}return 1}(C,M)),M.bc!=null&&M.bc(M),Y&=1}return Y?(C.cb=0,Y):0}function aa(C,M,Y,ne,xe){xe=C[M+Y+32*ne]+(xe>>3),C[M+Y+32*ne]=-256&xe?0>xe?0:255:xe}function Rn(C,M,Y,ne,xe,ye){aa(C,M,0,Y,ne+xe),aa(C,M,1,Y,ne+ye),aa(C,M,2,Y,ne-ye),aa(C,M,3,Y,ne-xe)}function Sr(C){return(20091*C>>16)+C}function ki(C,M,Y,ne){var xe,ye=0,be=i(16);for(xe=0;4>xe;++xe){var we=C[M+0]+C[M+8],Ce=C[M+0]-C[M+8],Re=(35468*C[M+4]>>16)-Sr(C[M+12]),et=Sr(C[M+4])+(35468*C[M+12]>>16);be[ye+0]=we+et,be[ye+1]=Ce+Re,be[ye+2]=Ce-Re,be[ye+3]=we-et,ye+=4,M++}for(xe=ye=0;4>xe;++xe)we=(C=be[ye+0]+4)+be[ye+8],Ce=C-be[ye+8],Re=(35468*be[ye+4]>>16)-Sr(be[ye+12]),aa(Y,ne,0,0,we+(et=Sr(be[ye+4])+(35468*be[ye+12]>>16))),aa(Y,ne,1,0,Ce+Re),aa(Y,ne,2,0,Ce-Re),aa(Y,ne,3,0,we-et),ye++,ne+=32}function co(C,M,Y,ne){var xe=C[M+0]+4,ye=35468*C[M+4]>>16,be=Sr(C[M+4]),we=35468*C[M+1]>>16;Rn(Y,ne,0,xe+be,C=Sr(C[M+1]),we),Rn(Y,ne,1,xe+ye,C,we),Rn(Y,ne,2,xe-ye,C,we),Rn(Y,ne,3,xe-be,C,we)}function uo(C,M,Y,ne,xe){ki(C,M,Y,ne),xe&&ki(C,M+16,Y,ne+4)}function On(C,M,Y,ne){vo(C,M+0,Y,ne,1),vo(C,M+32,Y,ne+128,1)}function zo(C,M,Y,ne){var xe;for(C=C[M+0]+4,xe=0;4>xe;++xe)for(M=0;4>M;++M)aa(Y,ne,M,xe,C)}function mo(C,M,Y,ne){C[M+0]&&_a(C,M+0,Y,ne),C[M+16]&&_a(C,M+16,Y,ne+4),C[M+32]&&_a(C,M+32,Y,ne+128),C[M+48]&&_a(C,M+48,Y,ne+128+4)}function Jn(C,M,Y,ne){var xe,ye=i(16);for(xe=0;4>xe;++xe){var be=C[M+0+xe]+C[M+12+xe],we=C[M+4+xe]+C[M+8+xe],Ce=C[M+4+xe]-C[M+8+xe],Re=C[M+0+xe]-C[M+12+xe];ye[0+xe]=be+we,ye[8+xe]=be-we,ye[4+xe]=Re+Ce,ye[12+xe]=Re-Ce}for(xe=0;4>xe;++xe)be=(C=ye[0+4*xe]+3)+ye[3+4*xe],we=ye[1+4*xe]+ye[2+4*xe],Ce=ye[1+4*xe]-ye[2+4*xe],Re=C-ye[3+4*xe],Y[ne+0]=be+we>>3,Y[ne+16]=Re+Ce>>3,Y[ne+32]=be-we>>3,Y[ne+48]=Re-Ce>>3,ne+=64}function ho(C,M,Y){var ne,xe=M-32,ye=Za,be=255-C[xe-1];for(ne=0;ne<Y;++ne){var we,Ce=ye,Re=be+C[M-1];for(we=0;we<Y;++we)C[M+we]=Ce[Re+C[xe+we]];M+=32}}function $o(C,M){ho(C,M,4)}function Ai(C,M){ho(C,M,8)}function ic(C,M){ho(C,M,16)}function qi(C,M){var Y;for(Y=0;16>Y;++Y)a(C,M+32*Y,C,M-32,16)}function bl(C,M){var Y;for(Y=16;0<Y;--Y)n(C,M,C[M-1],16),M+=32}function Hi(C,M,Y){var ne;for(ne=0;16>ne;++ne)n(M,Y+32*ne,C,16)}function vl(C,M){var Y,ne=16;for(Y=0;16>Y;++Y)ne+=C[M-1+32*Y]+C[M+Y-32];Hi(ne>>5,C,M)}function pa(C,M){var Y,ne=8;for(Y=0;16>Y;++Y)ne+=C[M-1+32*Y];Hi(ne>>4,C,M)}function xo(C,M){var Y,ne=8;for(Y=0;16>Y;++Y)ne+=C[M+Y-32];Hi(ne>>4,C,M)}function Wi(C,M){Hi(128,C,M)}function _s(C,M,Y){return C+2*M+Y+2>>2}function oc(C,M){var Y,ne=M-32;for(ne=new Uint8Array([_s(C[ne-1],C[ne+0],C[ne+1]),_s(C[ne+0],C[ne+1],C[ne+2]),_s(C[ne+1],C[ne+2],C[ne+3]),_s(C[ne+2],C[ne+3],C[ne+4])]),Y=0;4>Y;++Y)a(C,M+32*Y,ne,0,ne.length)}function cd(C,M){var Y=C[M-1],ne=C[M-1+32],xe=C[M-1+64],ye=C[M-1+96];ie(C,M+0,16843009*_s(C[M-1-32],Y,ne)),ie(C,M+32,16843009*_s(Y,ne,xe)),ie(C,M+64,16843009*_s(ne,xe,ye)),ie(C,M+96,16843009*_s(xe,ye,ye))}function hn(C,M){var Y,ne=4;for(Y=0;4>Y;++Y)ne+=C[M+Y-32]+C[M-1+32*Y];for(ne>>=3,Y=0;4>Y;++Y)n(C,M+32*Y,ne,4)}function In(C,M){var Y=C[M-1+0],ne=C[M-1+32],xe=C[M-1+64],ye=C[M-1-32],be=C[M+0-32],we=C[M+1-32],Ce=C[M+2-32],Re=C[M+3-32];C[M+0+96]=_s(ne,xe,C[M-1+96]),C[M+1+96]=C[M+0+64]=_s(Y,ne,xe),C[M+2+96]=C[M+1+64]=C[M+0+32]=_s(ye,Y,ne),C[M+3+96]=C[M+2+64]=C[M+1+32]=C[M+0+0]=_s(be,ye,Y),C[M+3+64]=C[M+2+32]=C[M+1+0]=_s(we,be,ye),C[M+3+32]=C[M+2+0]=_s(Ce,we,be),C[M+3+0]=_s(Re,Ce,we)}function wl(C,M){var Y=C[M+1-32],ne=C[M+2-32],xe=C[M+3-32],ye=C[M+4-32],be=C[M+5-32],we=C[M+6-32],Ce=C[M+7-32];C[M+0+0]=_s(C[M+0-32],Y,ne),C[M+1+0]=C[M+0+32]=_s(Y,ne,xe),C[M+2+0]=C[M+1+32]=C[M+0+64]=_s(ne,xe,ye),C[M+3+0]=C[M+2+32]=C[M+1+64]=C[M+0+96]=_s(xe,ye,be),C[M+3+32]=C[M+2+64]=C[M+1+96]=_s(ye,be,we),C[M+3+64]=C[M+2+96]=_s(be,we,Ce),C[M+3+96]=_s(we,Ce,Ce)}function Ei(C,M){var Y=C[M-1+0],ne=C[M-1+32],xe=C[M-1+64],ye=C[M-1-32],be=C[M+0-32],we=C[M+1-32],Ce=C[M+2-32],Re=C[M+3-32];C[M+0+0]=C[M+1+64]=ye+be+1>>1,C[M+1+0]=C[M+2+64]=be+we+1>>1,C[M+2+0]=C[M+3+64]=we+Ce+1>>1,C[M+3+0]=Ce+Re+1>>1,C[M+0+96]=_s(xe,ne,Y),C[M+0+64]=_s(ne,Y,ye),C[M+0+32]=C[M+1+96]=_s(Y,ye,be),C[M+1+32]=C[M+2+96]=_s(ye,be,we),C[M+2+32]=C[M+3+96]=_s(be,we,Ce),C[M+3+32]=_s(we,Ce,Re)}function Bn(C,M){var Y=C[M+0-32],ne=C[M+1-32],xe=C[M+2-32],ye=C[M+3-32],be=C[M+4-32],we=C[M+5-32],Ce=C[M+6-32],Re=C[M+7-32];C[M+0+0]=Y+ne+1>>1,C[M+1+0]=C[M+0+64]=ne+xe+1>>1,C[M+2+0]=C[M+1+64]=xe+ye+1>>1,C[M+3+0]=C[M+2+64]=ye+be+1>>1,C[M+0+32]=_s(Y,ne,xe),C[M+1+32]=C[M+0+96]=_s(ne,xe,ye),C[M+2+32]=C[M+1+96]=_s(xe,ye,be),C[M+3+32]=C[M+2+96]=_s(ye,be,we),C[M+3+64]=_s(be,we,Ce),C[M+3+96]=_s(we,Ce,Re)}function lc(C,M){var Y=C[M-1+0],ne=C[M-1+32],xe=C[M-1+64],ye=C[M-1+96];C[M+0+0]=Y+ne+1>>1,C[M+2+0]=C[M+0+32]=ne+xe+1>>1,C[M+2+32]=C[M+0+64]=xe+ye+1>>1,C[M+1+0]=_s(Y,ne,xe),C[M+3+0]=C[M+1+32]=_s(ne,xe,ye),C[M+3+32]=C[M+1+64]=_s(xe,ye,ye),C[M+3+64]=C[M+2+64]=C[M+0+96]=C[M+1+96]=C[M+2+96]=C[M+3+96]=ye}function Kt(C,M){var Y=C[M-1+0],ne=C[M-1+32],xe=C[M-1+64],ye=C[M-1+96],be=C[M-1-32],we=C[M+0-32],Ce=C[M+1-32],Re=C[M+2-32];C[M+0+0]=C[M+2+32]=Y+be+1>>1,C[M+0+32]=C[M+2+64]=ne+Y+1>>1,C[M+0+64]=C[M+2+96]=xe+ne+1>>1,C[M+0+96]=ye+xe+1>>1,C[M+3+0]=_s(we,Ce,Re),C[M+2+0]=_s(be,we,Ce),C[M+1+0]=C[M+3+32]=_s(Y,be,we),C[M+1+32]=C[M+3+64]=_s(ne,Y,be),C[M+1+64]=C[M+3+96]=_s(xe,ne,Y),C[M+1+96]=_s(ye,xe,ne)}function iu(C,M){var Y;for(Y=0;8>Y;++Y)a(C,M+32*Y,C,M-32,8)}function Uo(C,M){var Y;for(Y=0;8>Y;++Y)n(C,M,C[M-1],8),M+=32}function Gi(C,M,Y){var ne;for(ne=0;8>ne;++ne)n(M,Y+32*ne,C,8)}function fo(C,M){var Y,ne=8;for(Y=0;8>Y;++Y)ne+=C[M+Y-32]+C[M-1+32*Y];Gi(ne>>4,C,M)}function Xa(C,M){var Y,ne=4;for(Y=0;8>Y;++Y)ne+=C[M+Y-32];Gi(ne>>3,C,M)}function Ys(C,M){var Y,ne=4;for(Y=0;8>Y;++Y)ne+=C[M-1+32*Y];Gi(ne>>3,C,M)}function xn(C,M){Gi(128,C,M)}function Vo(C,M,Y){var ne=C[M-Y],xe=C[M+0],ye=3*(xe-ne)+G0[1020+C[M-2*Y]-C[M+Y]],be=bd[112+(ye+4>>3)];C[M-Y]=Za[255+ne+bd[112+(ye+3>>3)]],C[M+0]=Za[255+xe-be]}function q0(C,M,Y,ne){var xe=C[M+0],ye=C[M+Y];return Xi[255+C[M-2*Y]-C[M-Y]]>ne||Xi[255+ye-xe]>ne}function ou(C,M,Y,ne){return 4*Xi[255+C[M-Y]-C[M+0]]+Xi[255+C[M-2*Y]-C[M+Y]]<=ne}function lu(C,M,Y,ne,xe){var ye=C[M-3*Y],be=C[M-2*Y],we=C[M-Y],Ce=C[M+0],Re=C[M+Y],et=C[M+2*Y],pt=C[M+3*Y];return 4*Xi[255+we-Ce]+Xi[255+be-Re]>ne?0:Xi[255+C[M-4*Y]-ye]<=xe&&Xi[255+ye-be]<=xe&&Xi[255+be-we]<=xe&&Xi[255+pt-et]<=xe&&Xi[255+et-Re]<=xe&&Xi[255+Re-Ce]<=xe}function cc(C,M,Y,ne){var xe=2*ne+1;for(ne=0;16>ne;++ne)ou(C,M+ne,Y,xe)&&Vo(C,M+ne,Y)}function Ti(C,M,Y,ne){var xe=2*ne+1;for(ne=0;16>ne;++ne)ou(C,M+ne*Y,1,xe)&&Vo(C,M+ne*Y,1)}function qo(C,M,Y,ne){var xe;for(xe=3;0<xe;--xe)cc(C,M+=4*Y,Y,ne)}function Dx(C,M,Y,ne){var xe;for(xe=3;0<xe;--xe)Ti(C,M+=4,Y,ne)}function dc(C,M,Y,ne,xe,ye,be,we){for(ye=2*ye+1;0<xe--;){if(lu(C,M,Y,ye,be))if(q0(C,M,Y,we))Vo(C,M,Y);else{var Ce=C,Re=M,et=Y,pt=Ce[Re-2*et],xt=Ce[Re-et],it=Ce[Re+0],Rt=Ce[Re+et],_t=Ce[Re+2*et],tt=27*(Tt=G0[1020+3*(it-xt)+G0[1020+pt-Rt]])+63>>7,at=18*Tt+63>>7,Tt=9*Tt+63>>7;Ce[Re-3*et]=Za[255+Ce[Re-3*et]+Tt],Ce[Re-2*et]=Za[255+pt+at],Ce[Re-et]=Za[255+xt+tt],Ce[Re+0]=Za[255+it-tt],Ce[Re+et]=Za[255+Rt-at],Ce[Re+2*et]=Za[255+_t-Tt]}M+=ne}}function po(C,M,Y,ne,xe,ye,be,we){for(ye=2*ye+1;0<xe--;){if(lu(C,M,Y,ye,be))if(q0(C,M,Y,we))Vo(C,M,Y);else{var Ce=C,Re=M,et=Y,pt=Ce[Re-et],xt=Ce[Re+0],it=Ce[Re+et],Rt=bd[112+((_t=3*(xt-pt))+4>>3)],_t=bd[112+(_t+3>>3)],tt=Rt+1>>1;Ce[Re-2*et]=Za[255+Ce[Re-2*et]+tt],Ce[Re-et]=Za[255+pt+_t],Ce[Re+0]=Za[255+xt-Rt],Ce[Re+et]=Za[255+it-tt]}M+=ne}}function dd(C,M,Y,ne,xe,ye){dc(C,M,Y,1,16,ne,xe,ye)}function ud(C,M,Y,ne,xe,ye){dc(C,M,1,Y,16,ne,xe,ye)}function Px(C,M,Y,ne,xe,ye){var be;for(be=3;0<be;--be)po(C,M+=4*Y,Y,1,16,ne,xe,ye)}function cu(C,M,Y,ne,xe,ye){var be;for(be=3;0<be;--be)po(C,M+=4,1,Y,16,ne,xe,ye)}function Mx(C,M,Y,ne,xe,ye,be,we){dc(C,M,xe,1,8,ye,be,we),dc(Y,ne,xe,1,8,ye,be,we)}function Nm(C,M,Y,ne,xe,ye,be,we){dc(C,M,1,xe,8,ye,be,we),dc(Y,ne,1,xe,8,ye,be,we)}function du(C,M,Y,ne,xe,ye,be,we){po(C,M+4*xe,xe,1,8,ye,be,we),po(Y,ne+4*xe,xe,1,8,ye,be,we)}function H0(C,M,Y,ne,xe,ye,be,we){po(C,M+4,1,xe,8,ye,be,we),po(Y,ne+4,1,xe,8,ye,be,we)}function uu(){this.ba=new Et,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Gt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Sm(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function _m(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function mu(){this.ua=0,this.Wa=new ae,this.vb=new ae,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new D,this.yc=new w}function Lx(){this.xb=this.a=0,this.l=new Nr,this.ca=new Et,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new mu,this.ab=0,this.gc=o(4,_m),this.Oc=0}function hu(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Nr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function md(C,M,Y,ne,xe,ye,be){for(C=C==null?0:C[M+0],M=0;M<be;++M)xe[ye+M]=C+Y[ne+M]&255,C=xe[ye+M]}function xu(C,M,Y,ne,xe,ye,be){var we;if(C==null)md(null,null,Y,ne,xe,ye,be);else for(we=0;we<be;++we)xe[ye+we]=C[M+we]+Y[ne+we]&255}function uc(C,M,Y,ne,xe,ye,be){if(C==null)md(null,null,Y,ne,xe,ye,be);else{var we,Ce=C[M+0],Re=Ce,et=Ce;for(we=0;we<be;++we)Re=et+(Ce=C[M+we])-Re,et=Y[ne+we]+(-256&Re?0>Re?0:255:Re)&255,Re=Ce,xe[ye+we]=et}}function Cm(C,M,Y,ne){var xe=M.width,ye=M.o;if(s(C!=null&&M!=null),0>Y||0>=ne||Y+ne>ye)return null;if(!C.Cc){if(C.ga==null){var be;if(C.ga=new hu,(be=C.ga==null)||(be=M.width*M.o,s(C.Gb.length==0),C.Gb=i(be),C.Uc=0,C.Gb==null?be=0:(C.mb=C.Gb,C.nb=C.Uc,C.rc=null,be=1),be=!be),!be){be=C.ga;var we=C.Fa,Ce=C.P,Re=C.qc,et=C.mb,pt=C.nb,xt=Ce+1,it=Re-1,Rt=be.l;if(s(we!=null&&et!=null&&M!=null),Ko[0]=null,Ko[1]=md,Ko[2]=xu,Ko[3]=uc,be.ca=et,be.tb=pt,be.c=M.width,be.i=M.height,s(0<be.c&&0<be.i),1>=Re)M=0;else if(be.$a=we[Ce+0]>>0&3,be.Z=we[Ce+0]>>2&3,be.Lc=we[Ce+0]>>4&3,Ce=we[Ce+0]>>6&3,0>be.$a||1<be.$a||4<=be.Z||1<be.Lc||Ce)M=0;else if(Rt.put=Us,Rt.ac=ws,Rt.bc=Zt,Rt.ma=be,Rt.width=M.width,Rt.height=M.height,Rt.Da=M.Da,Rt.v=M.v,Rt.va=M.va,Rt.j=M.j,Rt.o=M.o,be.$a)e:{s(be.$a==1),M=$e();t:for(;;){if(M==null){M=0;break e}if(s(be!=null),be.mc=M,M.c=be.c,M.i=be.i,M.l=be.l,M.l.ma=be,M.l.width=be.c,M.l.height=be.i,M.a=0,se(M.m,we,xt,it),!Ke(be.c,be.i,1,M,null)||(M.ab==1&&M.gc[0].hc==3&&me(M.s)?(be.ic=1,we=M.c*M.i,M.Ta=null,M.Ua=0,M.V=i(we),M.Ba=0,M.V==null?(M.a=1,M=0):M=1):(be.ic=0,M=ot(M,be.c)),!M))break t;M=1;break e}be.mc=null,M=0}else M=it>=be.c*be.i;be=!M}if(be)return null;C.ga.Lc!=1?C.Ga=0:ne=ye-Y}s(C.ga!=null),s(Y+ne<=ye);e:{if(M=(we=C.ga).c,ye=we.l.o,we.$a==0){if(xt=C.rc,it=C.Vc,Rt=C.Fa,Ce=C.P+1+Y*M,Re=C.mb,et=C.nb+Y*M,s(Ce<=C.P+C.qc),we.Z!=0)for(s(Ko[we.Z]!=null),be=0;be<ne;++be)Ko[we.Z](xt,it,Rt,Ce,Re,et,M),xt=Re,it=et,et+=M,Ce+=M;else for(be=0;be<ne;++be)a(Re,et,Rt,Ce,M),xt=Re,it=et,et+=M,Ce+=M;C.rc=xt,C.Vc=it}else{if(s(we.mc!=null),M=Y+ne,s((be=we.mc)!=null),s(M<=be.i),be.C>=M)M=1;else if(we.ic||ht(),we.ic){we=be.V,xt=be.Ba,it=be.c;var _t=be.i,tt=(Rt=1,Ce=be.$/it,Re=be.$%it,et=be.m,pt=be.s,be.$),at=it*_t,Tt=it*M,Ot=pt.wc,Lt=tt<Tt?dt(pt,Re,Ce):null;s(tt<=at),s(M<=_t),s(me(pt));t:for(;;){for(;!et.h&&tt<Tt;){if(Re&Ot||(Lt=dt(pt,Re,Ce)),s(Lt!=null),te(et),256>(_t=sr(Lt.G[0],Lt.H[0],et)))we[xt+tt]=_t,++tt,++Re>=it&&(Re=0,++Ce<=M&&!(Ce%16)&&De(be,Ce));else{if(!(280>_t)){Rt=0;break t}_t=Es(_t-256,et);var ss,Qt=sr(Lt.G[4],Lt.H[4],et);if(te(et),!(tt>=(Qt=Bs(it,Qt=Es(Qt,et)))&&at-tt>=_t)){Rt=0;break t}for(ss=0;ss<_t;++ss)we[xt+tt+ss]=we[xt+tt+ss-Qt];for(tt+=_t,Re+=_t;Re>=it;)Re-=it,++Ce<=M&&!(Ce%16)&&De(be,Ce);tt<Tt&&Re&Ot&&(Lt=dt(pt,Re,Ce))}s(et.h==z(et))}De(be,Ce>M?M:Ce);break t}!Rt||et.h&&tt<at?(Rt=0,be.a=et.h?5:3):be.$=tt,M=Rt}else M=Ne(be,be.V,be.Ba,be.c,be.i,M,Fe);if(!M){ne=0;break e}}Y+ne>=ye&&(C.Cc=1),ne=1}if(!ne)return null;if(C.Cc&&((ne=C.ga)!=null&&(ne.mc=null),C.ga=null,0<C.Ga))return alert("todo:WebPDequantizeLevels"),null}return C.nb+Y*xe}function W(C,M,Y,ne,xe,ye){for(;0<xe--;){var be,we=C,Ce=M+(Y?1:0),Re=C,et=M+(Y?0:3);for(be=0;be<ne;++be){var pt=Re[et+4*be];pt!=255&&(pt*=32897,we[Ce+4*be+0]=we[Ce+4*be+0]*pt>>23,we[Ce+4*be+1]=we[Ce+4*be+1]*pt>>23,we[Ce+4*be+2]=we[Ce+4*be+2]*pt>>23)}M+=ye}}function fe(C,M,Y,ne,xe){for(;0<ne--;){var ye;for(ye=0;ye<Y;++ye){var be=C[M+2*ye+0],we=15&(Re=C[M+2*ye+1]),Ce=4369*we,Re=(240&Re|Re>>4)*Ce>>16;C[M+2*ye+0]=(240&be|be>>4)*Ce>>16&240|(15&be|be<<4)*Ce>>16>>4&15,C[M+2*ye+1]=240&Re|we}M+=xe}}function ze(C,M,Y,ne,xe,ye,be,we){var Ce,Re,et=255;for(Re=0;Re<xe;++Re){for(Ce=0;Ce<ne;++Ce){var pt=C[M+Ce];ye[be+4*Ce]=pt,et&=pt}M+=Y,be+=we}return et!=255}function Qe(C,M,Y,ne,xe){var ye;for(ye=0;ye<xe;++ye)Y[ne+ye]=C[M+ye]>>8}function ht(){Pi=W,nr=fe,ir=ze,Hr=Qe}function At(C,M,Y){L[C]=function(ne,xe,ye,be,we,Ce,Re,et,pt,xt,it,Rt,_t,tt,at,Tt,Ot){var Lt,ss=Ot-1>>1,Qt=we[Ce+0]|Re[et+0]<<16,ps=pt[xt+0]|it[Rt+0]<<16;s(ne!=null);var Jt=3*Qt+ps+131074>>2;for(M(ne[xe+0],255&Jt,Jt>>16,_t,tt),ye!=null&&(Jt=3*ps+Qt+131074>>2,M(ye[be+0],255&Jt,Jt>>16,at,Tt)),Lt=1;Lt<=ss;++Lt){var yr=we[Ce+Lt]|Re[et+Lt]<<16,kr=pt[xt+Lt]|it[Rt+Lt]<<16,rr=Qt+yr+ps+kr+524296,Js=rr+2*(yr+ps)>>3;Jt=Js+Qt>>1,Qt=(rr=rr+2*(Qt+kr)>>3)+yr>>1,M(ne[xe+2*Lt-1],255&Jt,Jt>>16,_t,tt+(2*Lt-1)*Y),M(ne[xe+2*Lt-0],255&Qt,Qt>>16,_t,tt+(2*Lt-0)*Y),ye!=null&&(Jt=rr+ps>>1,Qt=Js+kr>>1,M(ye[be+2*Lt-1],255&Jt,Jt>>16,at,Tt+(2*Lt-1)*Y),M(ye[be+2*Lt+0],255&Qt,Qt>>16,at,Tt+(2*Lt+0)*Y)),Qt=yr,ps=kr}1&Ot||(Jt=3*Qt+ps+131074>>2,M(ne[xe+Ot-1],255&Jt,Jt>>16,_t,tt+(Ot-1)*Y),ye!=null&&(Jt=3*ps+Qt+131074>>2,M(ye[be+Ot-1],255&Jt,Jt>>16,at,Tt+(Ot-1)*Y)))}}function $t(){en[Sn]=Pl,en[vu]=Xo,en[Go]=_c,en[Tm]=X0,en[vd]=Q0,en[kl]=Nu,en[Y0]=J0,en[Dm]=Xo,en[Nc]=X0,en[Al]=Q0,en[wu]=Nu}function ts(C){return C&-16384?0>C?0:255:C>>d2}function ms(C,M){return ts((19077*C>>8)+(26149*M>>8)-14234)}function qs(C,M,Y){return ts((19077*C>>8)-(6419*M>>8)-(13320*Y>>8)+8708)}function $s(C,M){return ts((19077*C>>8)+(33050*M>>8)-17685)}function ur(C,M,Y,ne,xe){ne[xe+0]=ms(C,Y),ne[xe+1]=qs(C,M,Y),ne[xe+2]=$s(C,M)}function Xr(C,M,Y,ne,xe){ne[xe+0]=$s(C,M),ne[xe+1]=qs(C,M,Y),ne[xe+2]=ms(C,Y)}function na(C,M,Y,ne,xe){var ye=qs(C,M,Y);M=ye<<3&224|$s(C,M)>>3,ne[xe+0]=248&ms(C,Y)|ye>>5,ne[xe+1]=M}function ga(C,M,Y,ne,xe){var ye=240&$s(C,M)|15;ne[xe+0]=240&ms(C,Y)|qs(C,M,Y)>>4,ne[xe+1]=ye}function ya(C,M,Y,ne,xe){ne[xe+0]=255,ur(C,M,Y,ne,xe+1)}function Qa(C,M,Y,ne,xe){Xr(C,M,Y,ne,xe),ne[xe+3]=255}function go(C,M,Y,ne,xe){ur(C,M,Y,ne,xe),ne[xe+3]=255}function Di(C,M){return 0>C?0:C>M?M:C}function yo(C,M,Y){L[C]=function(ne,xe,ye,be,we,Ce,Re,et,pt){for(var xt=et+(-2&pt)*Y;et!=xt;)M(ne[xe+0],ye[be+0],we[Ce+0],Re,et),M(ne[xe+1],ye[be+0],we[Ce+0],Re,et+Y),xe+=2,++be,++Ce,et+=2*Y;1&pt&&M(ne[xe+0],ye[be+0],we[Ce+0],Re,et)}}function km(C,M,Y){return Y==0?C==0?M==0?6:5:M==0?4:0:Y}function jl(C,M,Y,ne,xe){switch(C>>>30){case 3:vo(M,Y,ne,xe,0);break;case 2:ca(M,Y,ne,xe);break;case 1:_a(M,Y,ne,xe)}}function Nl(C,M){var Y,ne,xe=M.M,ye=M.Nb,be=C.oc,we=C.pc+40,Ce=C.oc,Re=C.pc+584,et=C.oc,pt=C.pc+600;for(Y=0;16>Y;++Y)be[we+32*Y-1]=129;for(Y=0;8>Y;++Y)Ce[Re+32*Y-1]=129,et[pt+32*Y-1]=129;for(0<xe?be[we-1-32]=Ce[Re-1-32]=et[pt-1-32]=129:(n(be,we-32-1,127,21),n(Ce,Re-32-1,127,9),n(et,pt-32-1,127,9)),ne=0;ne<C.za;++ne){var xt=M.ya[M.aa+ne];if(0<ne){for(Y=-1;16>Y;++Y)a(be,we+32*Y-4,be,we+32*Y+12,4);for(Y=-1;8>Y;++Y)a(Ce,Re+32*Y-4,Ce,Re+32*Y+4,4),a(et,pt+32*Y-4,et,pt+32*Y+4,4)}var it=C.Gd,Rt=C.Hd+ne,_t=xt.ad,tt=xt.Hc;if(0<xe&&(a(be,we-32,it[Rt].y,0,16),a(Ce,Re-32,it[Rt].f,0,8),a(et,pt-32,it[Rt].ea,0,8)),xt.Za){var at=be,Tt=we-32+16;for(0<xe&&(ne>=C.za-1?n(at,Tt,it[Rt].y[15],4):a(at,Tt,it[Rt+1].y,0,4)),Y=0;4>Y;Y++)at[Tt+128+Y]=at[Tt+256+Y]=at[Tt+384+Y]=at[Tt+0+Y];for(Y=0;16>Y;++Y,tt<<=2)at=be,Tt=we+Sd[Y],$n[xt.Ob[Y]](at,Tt),jl(tt,_t,16*+Y,at,Tt)}else if(at=km(ne,xe,xt.Ob[0]),Dl[at](be,we),tt!=0)for(Y=0;16>Y;++Y,tt<<=2)jl(tt,_t,16*+Y,be,we+Sd[Y]);for(Y=xt.Gc,at=km(ne,xe,xt.Dd),Li[at](Ce,Re),Li[at](et,pt),tt=_t,at=Ce,Tt=Re,255&(xt=Y>>0)&&(170&xt?wo(tt,256,at,Tt):ti(tt,256,at,Tt)),xt=et,tt=pt,255&(Y>>=8)&&(170&Y?wo(_t,320,xt,tt):ti(_t,320,xt,tt)),xe<C.Ub-1&&(a(it[Rt].y,0,be,we+480,16),a(it[Rt].f,0,Ce,Re+224,8),a(it[Rt].ea,0,et,pt+224,8)),Y=8*ye*C.B,it=C.sa,Rt=C.ta+16*ne+16*ye*C.R,_t=C.qa,xt=C.ra+8*ne+Y,tt=C.Ha,at=C.Ia+8*ne+Y,Y=0;16>Y;++Y)a(it,Rt+Y*C.R,be,we+32*Y,16);for(Y=0;8>Y;++Y)a(_t,xt+Y*C.B,Ce,Re+32*Y,8),a(tt,at+Y*C.B,et,pt+32*Y,8)}}function fu(C,M,Y,ne,xe,ye,be,we,Ce){var Re=[0],et=[0],pt=0,xt=Ce!=null?Ce.kd:0,it=Ce??new Sm;if(C==null||12>Y)return 7;it.data=C,it.w=M,it.ha=Y,M=[M],Y=[Y],it.gb=[it.gb];e:{var Rt=M,_t=Y,tt=it.gb;if(s(C!=null),s(_t!=null),s(tt!=null),tt[0]=0,12<=_t[0]&&!r(C,Rt[0],"RIFF")){if(r(C,Rt[0]+8,"WEBP")){tt=3;break e}var at=re(C,Rt[0]+4);if(12>at||4294967286<at){tt=3;break e}if(xt&&at>_t[0]-8){tt=7;break e}tt[0]=at,Rt[0]+=12,_t[0]-=12}tt=0}if(tt!=0)return tt;for(at=0<it.gb[0],Y=Y[0];;){e:{var Tt=C;_t=M,tt=Y;var Ot=Re,Lt=et,ss=Rt=[0];if((Jt=pt=[pt])[0]=0,8>tt[0])tt=7;else{if(!r(Tt,_t[0],"VP8X")){if(re(Tt,_t[0]+4)!=10){tt=3;break e}if(18>tt[0]){tt=7;break e}var Qt=re(Tt,_t[0]+8),ps=1+J(Tt,_t[0]+12);if(2147483648<=ps*(Tt=1+J(Tt,_t[0]+15))){tt=3;break e}ss!=null&&(ss[0]=Qt),Ot!=null&&(Ot[0]=ps),Lt!=null&&(Lt[0]=Tt),_t[0]+=18,tt[0]-=18,Jt[0]=1}tt=0}}if(pt=pt[0],Rt=Rt[0],tt!=0)return tt;if(_t=!!(2&Rt),!at&&pt)return 3;if(ye!=null&&(ye[0]=!!(16&Rt)),be!=null&&(be[0]=_t),we!=null&&(we[0]=0),be=Re[0],Rt=et[0],pt&&_t&&Ce==null){tt=0;break}if(4>Y){tt=7;break}if(at&&pt||!at&&!pt&&!r(C,M[0],"ALPH")){Y=[Y],it.na=[it.na],it.P=[it.P],it.Sa=[it.Sa];e:{Qt=C,tt=M,at=Y;var Jt=it.gb;Ot=it.na,Lt=it.P,ss=it.Sa,ps=22,s(Qt!=null),s(at!=null),Tt=tt[0];var yr=at[0];for(s(Ot!=null),s(ss!=null),Ot[0]=null,Lt[0]=null,ss[0]=0;;){if(tt[0]=Tt,at[0]=yr,8>yr){tt=7;break e}var kr=re(Qt,Tt+4);if(4294967286<kr){tt=3;break e}var rr=8+kr+1&-2;if(ps+=rr,0<Jt&&ps>Jt){tt=3;break e}if(!r(Qt,Tt,"VP8 ")||!r(Qt,Tt,"VP8L")){tt=0;break e}if(yr[0]<rr){tt=7;break e}r(Qt,Tt,"ALPH")||(Ot[0]=Qt,Lt[0]=Tt+8,ss[0]=kr),Tt+=rr,yr-=rr}}if(Y=Y[0],it.na=it.na[0],it.P=it.P[0],it.Sa=it.Sa[0],tt!=0)break}Y=[Y],it.Ja=[it.Ja],it.xa=[it.xa];e:if(Jt=C,tt=M,at=Y,Ot=it.gb[0],Lt=it.Ja,ss=it.xa,Qt=tt[0],Tt=!r(Jt,Qt,"VP8 "),ps=!r(Jt,Qt,"VP8L"),s(Jt!=null),s(at!=null),s(Lt!=null),s(ss!=null),8>at[0])tt=7;else{if(Tt||ps){if(Jt=re(Jt,Qt+4),12<=Ot&&Jt>Ot-12){tt=3;break e}if(xt&&Jt>at[0]-8){tt=7;break e}Lt[0]=Jt,tt[0]+=8,at[0]-=8,ss[0]=ps}else ss[0]=5<=at[0]&&Jt[Qt+0]==47&&!(Jt[Qt+4]>>5),Lt[0]=at[0];tt=0}if(Y=Y[0],it.Ja=it.Ja[0],it.xa=it.xa[0],M=M[0],tt!=0)break;if(4294967286<it.Ja)return 3;if(we==null||_t||(we[0]=it.xa?2:1),be=[be],Rt=[Rt],it.xa){if(5>Y){tt=7;break}we=be,xt=Rt,_t=ye,C==null||5>Y?C=0:5<=Y&&C[M+0]==47&&!(C[M+4]>>5)?(at=[0],Jt=[0],Ot=[0],se(Lt=new U,C,M,Y),Wt(Lt,at,Jt,Ot)?(we!=null&&(we[0]=at[0]),xt!=null&&(xt[0]=Jt[0]),_t!=null&&(_t[0]=Ot[0]),C=1):C=0):C=0}else{if(10>Y){tt=7;break}we=Rt,C==null||10>Y||!xr(C,M+3,Y-3)?C=0:(xt=C[M+0]|C[M+1]<<8|C[M+2]<<16,_t=16383&(C[M+7]<<8|C[M+6]),C=16383&(C[M+9]<<8|C[M+8]),1&xt||3<(xt>>1&7)||!(xt>>4&1)||xt>>5>=it.Ja||!_t||!C?C=0:(be&&(be[0]=_t),we&&(we[0]=C),C=1))}if(!C||(be=be[0],Rt=Rt[0],pt&&(Re[0]!=be||et[0]!=Rt)))return 3;Ce!=null&&(Ce[0]=it,Ce.offset=M-Ce.w,s(4294967286>M-Ce.w),s(Ce.offset==Ce.ha-Y));break}return tt==0||tt==7&&pt&&Ce==null?(ye!=null&&(ye[0]|=it.na!=null&&0<it.na.length),ne!=null&&(ne[0]=be),xe!=null&&(xe[0]=Rt),0):tt}function mc(C,M,Y){var ne=M.width,xe=M.height,ye=0,be=0,we=ne,Ce=xe;if(M.Da=C!=null&&0<C.Da,M.Da&&(we=C.cd,Ce=C.bd,ye=C.v,be=C.j,11>Y||(ye&=-2,be&=-2),0>ye||0>be||0>=we||0>=Ce||ye+we>ne||be+Ce>xe))return 0;if(M.v=ye,M.j=be,M.va=ye+we,M.o=be+Ce,M.U=we,M.T=Ce,M.da=C!=null&&0<C.da,M.da){if(!he(we,Ce,Y=[C.ib],ye=[C.hb]))return 0;M.ib=Y[0],M.hb=ye[0]}return M.ob=C!=null&&C.ob,M.Kb=C==null||!C.Sd,M.da&&(M.ob=M.ib<3*ne/4&&M.hb<3*xe/4,M.Kb=0),1}function pu(C){if(C==null)return 2;if(11>C.S){var M=C.f.RGBA;M.fb+=(C.height-1)*M.A,M.A=-M.A}else M=C.f.kb,C=C.height,M.O+=(C-1)*M.fa,M.fa=-M.fa,M.N+=(C-1>>1)*M.Ab,M.Ab=-M.Ab,M.W+=(C-1>>1)*M.Db,M.Db=-M.Db,M.F!=null&&(M.J+=(C-1)*M.lb,M.lb=-M.lb);return 0}function hd(C,M,Y,ne){if(ne==null||0>=C||0>=M)return 2;if(Y!=null){if(Y.Da){var xe=Y.cd,ye=Y.bd,be=-2&Y.v,we=-2&Y.j;if(0>be||0>we||0>=xe||0>=ye||be+xe>C||we+ye>M)return 2;C=xe,M=ye}if(Y.da){if(!he(C,M,xe=[Y.ib],ye=[Y.hb]))return 2;C=xe[0],M=ye[0]}}ne.width=C,ne.height=M;e:{var Ce=ne.width,Re=ne.height;if(C=ne.S,0>=Ce||0>=Re||!(C>=Sn&&13>C))C=2;else{if(0>=ne.Rd&&ne.sd==null){be=ye=xe=M=0;var et=(we=Ce*_g[C])*Re;if(11>C||(ye=(Re+1)/2*(M=(Ce+1)/2),C==12&&(be=(xe=Ce)*Re)),(Re=i(et+2*ye+be))==null){C=1;break e}ne.sd=Re,11>C?((Ce=ne.f.RGBA).eb=Re,Ce.fb=0,Ce.A=we,Ce.size=et):((Ce=ne.f.kb).y=Re,Ce.O=0,Ce.fa=we,Ce.Fd=et,Ce.f=Re,Ce.N=0+et,Ce.Ab=M,Ce.Cd=ye,Ce.ea=Re,Ce.W=0+et+ye,Ce.Db=M,Ce.Ed=ye,C==12&&(Ce.F=Re,Ce.J=0+et+2*ye),Ce.Tc=be,Ce.lb=xe)}if(M=1,xe=ne.S,ye=ne.width,be=ne.height,xe>=Sn&&13>xe)if(11>xe)C=ne.f.RGBA,M&=(we=Math.abs(C.A))*(be-1)+ye<=C.size,M&=we>=ye*_g[xe],M&=C.eb!=null;else{C=ne.f.kb,we=(ye+1)/2,et=(be+1)/2,Ce=Math.abs(C.fa),Re=Math.abs(C.Ab);var pt=Math.abs(C.Db),xt=Math.abs(C.lb),it=xt*(be-1)+ye;M&=Ce*(be-1)+ye<=C.Fd,M&=Re*(et-1)+we<=C.Cd,M=(M&=pt*(et-1)+we<=C.Ed)&Ce>=ye&Re>=we&pt>=we,M&=C.y!=null,M&=C.f!=null,M&=C.ea!=null,xe==12&&(M&=xt>=ye,M&=it<=C.Tc,M&=C.F!=null)}else M=0;C=M?0:2}}return C!=0||Y!=null&&Y.fd&&(C=pu(ne)),C}var La=64,hc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],xd=24,fd=32,gu=8,Zn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Be("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(C){return C},L.Predictor2=function(C,M,Y){return M[Y+0]},L.Predictor3=function(C,M,Y){return M[Y+1]},L.Predictor4=function(C,M,Y){return M[Y-1]},L.Predictor5=function(C,M,Y){return Ee(Ee(C,M[Y+1]),M[Y+0])},L.Predictor6=function(C,M,Y){return Ee(C,M[Y-1])},L.Predictor7=function(C,M,Y){return Ee(C,M[Y+0])},L.Predictor8=function(C,M,Y){return Ee(M[Y-1],M[Y+0])},L.Predictor9=function(C,M,Y){return Ee(M[Y+0],M[Y+1])},L.Predictor10=function(C,M,Y){return Ee(Ee(C,M[Y-1]),Ee(M[Y+0],M[Y+1]))},L.Predictor11=function(C,M,Y){var ne=M[Y+0];return 0>=gt(ne>>24&255,C>>24&255,(M=M[Y-1])>>24&255)+gt(ne>>16&255,C>>16&255,M>>16&255)+gt(ne>>8&255,C>>8&255,M>>8&255)+gt(255&ne,255&C,255&M)?ne:C},L.Predictor12=function(C,M,Y){var ne=M[Y+0];return(Ve((C>>24&255)+(ne>>24&255)-((M=M[Y-1])>>24&255))<<24|Ve((C>>16&255)+(ne>>16&255)-(M>>16&255))<<16|Ve((C>>8&255)+(ne>>8&255)-(M>>8&255))<<8|Ve((255&C)+(255&ne)-(255&M)))>>>0},L.Predictor13=function(C,M,Y){var ne=M[Y-1];return(mt((C=Ee(C,M[Y+0]))>>24&255,ne>>24&255)<<24|mt(C>>16&255,ne>>16&255)<<16|mt(C>>8&255,ne>>8&255)<<8|mt(C>>0&255,ne>>0&255))>>>0};var Fx=L.PredictorAdd0;L.PredictorAdd1=Pe,Be("Predictor2","PredictorAdd2"),Be("Predictor3","PredictorAdd3"),Be("Predictor4","PredictorAdd4"),Be("Predictor5","PredictorAdd5"),Be("Predictor6","PredictorAdd6"),Be("Predictor7","PredictorAdd7"),Be("Predictor8","PredictorAdd8"),Be("Predictor9","PredictorAdd9"),Be("Predictor10","PredictorAdd10"),Be("Predictor11","PredictorAdd11"),Be("Predictor12","PredictorAdd12"),Be("Predictor13","PredictorAdd13");var Am=L.PredictorAdd2;st("ColorIndexInverseTransform","MapARGB","32b",function(C){return C>>8&255},function(C){return C}),st("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(C){return C},function(C){return C>>8&255});var W0,Yi=L.ColorIndexInverseTransform,Ja=L.MapARGB,xc=L.VP8LColorIndexInverseTransformAlpha,Em=L.MapAlpha,Sl=L.VP8LPredictorsAdd=[];Sl.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var fc,zn,fn,pc,ei,bo,Ho,vo,ca,wo,_a,ti,pd,Wo,yu,gc,yc,bc,gd,bu,vc,_l,yd,da,Pi,nr,ir,Hr,ba=i(511),Ki=i(2041),wc=i(225),jc=i(767),Cl=0,G0=Ki,bd=wc,Za=jc,Xi=ba,Sn=0,vu=1,Go=2,Tm=3,vd=4,kl=5,Y0=6,Dm=7,Nc=8,Al=9,wu=10,K0=[2,3,7],Qi=[3,3,11],Mi=[280,256,256,256,40],wd=[0,1,1,1,0],El=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Tl=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],jd=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],vg=8,Pm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Mm=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Fa=null,ua=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],_r=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Sc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Yo=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Rx=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Nd=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],wg=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Dl=[],$n=[],Li=[],jg=1,ju=2,Ko=[],en=[];At("UpsampleRgbLinePair",ur,3),At("UpsampleBgrLinePair",Xr,3),At("UpsampleRgbaLinePair",go,4),At("UpsampleBgraLinePair",Qa,4),At("UpsampleArgbLinePair",ya,4),At("UpsampleRgba4444LinePair",ga,2),At("UpsampleRgb565LinePair",na,2);var Pl=L.UpsampleRgbLinePair,_c=L.UpsampleBgrLinePair,Xo=L.UpsampleRgbaLinePair,X0=L.UpsampleBgraLinePair,Q0=L.UpsampleArgbLinePair,Nu=L.UpsampleRgba4444LinePair,J0=L.UpsampleRgb565LinePair,Qo=16,Ra=1<<Qo-1,Cc=-227,Z0=482,d2=6,Ng=0,u2=i(256),Oa=i(256),Ox=i(256),Lm=i(256),Fm=i(Z0-Cc),Ix=i(Z0-Cc);yo("YuvToRgbRow",ur,3),yo("YuvToBgrRow",Xr,3),yo("YuvToRgbaRow",go,4),yo("YuvToBgraRow",Qa,4),yo("YuvToArgbRow",ya,4),yo("YuvToRgba4444Row",ga,2),yo("YuvToRgb565Row",na,2);var Sd=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ml=[0,2,8],m2=[8,7,6,4,4,2,2,2,1,1,1,1],Sg=1;this.WebPDecodeRGBA=function(C,M,Y,ne,xe){var ye=vu,be=new uu,we=new Et;be.ba=we,we.S=ye,we.width=[we.width],we.height=[we.height];var Ce=we.width,Re=we.height,et=new qt;if(et==null||C==null)var pt=2;else s(et!=null),pt=fu(C,M,Y,et.width,et.height,et.Pd,et.Qd,et.format,null);if(pt!=0?Ce=0:(Ce!=null&&(Ce[0]=et.width[0]),Re!=null&&(Re[0]=et.height[0]),Ce=1),Ce){we.width=we.width[0],we.height=we.height[0],ne!=null&&(ne[0]=we.width),xe!=null&&(xe[0]=we.height);e:{if(ne=new Nr,(xe=new Sm).data=C,xe.w=M,xe.ha=Y,xe.kd=1,M=[0],s(xe!=null),((C=fu(xe.data,xe.w,xe.ha,null,null,null,M,null,xe))==0||C==7)&&M[0]&&(C=4),(M=C)==0){if(s(be!=null),ne.data=xe.data,ne.w=xe.w+xe.offset,ne.ha=xe.ha-xe.offset,ne.put=Us,ne.ac=ws,ne.bc=Zt,ne.ma=be,xe.xa){if((C=$e())==null){be=1;break e}if(function(xt,it){var Rt=[0],_t=[0],tt=[0];t:for(;;){if(xt==null)return 0;if(it==null)return xt.a=2,0;if(xt.l=it,xt.a=0,se(xt.m,it.data,it.w,it.ha),!Wt(xt.m,Rt,_t,tt)){xt.a=3;break t}if(xt.xb=ju,it.width=Rt[0],it.height=_t[0],!Ke(Rt[0],_t[0],1,xt,null))break t;return 1}return s(xt.a!=0),0}(C,ne)){if(ne=(M=hd(ne.width,ne.height,be.Oa,be.ba))==0){t:{ne=C;s:for(;;){if(ne==null){ne=0;break t}if(s(ne.s.yc!=null),s(ne.s.Ya!=null),s(0<ne.s.Wb),s((Y=ne.l)!=null),s((xe=Y.ma)!=null),ne.xb!=0){if(ne.ca=xe.ba,ne.tb=xe.tb,s(ne.ca!=null),!mc(xe.Oa,Y,Tm)){ne.a=2;break s}if(!ot(ne,Y.width)||Y.da)break s;if((Y.da||qe(ne.ca.S))&&ht(),11>ne.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ne.ca.f.kb.F!=null&&ht()),ne.Pb&&0<ne.s.ua&&ne.s.vb.X==null&&!ve(ne.s.vb,ne.s.Wa.Xa)){ne.a=1;break s}ne.xb=0}if(!Ne(ne,ne.V,ne.Ba,ne.c,ne.i,Y.o,Se))break s;xe.Dc=ne.Ma,ne=1;break t}s(ne.a!=0),ne=0}ne=!ne}ne&&(M=C.a)}else M=C.a}else{if((C=new Pr)==null){be=1;break e}if(C.Fa=xe.na,C.P=xe.P,C.qc=xe.Sa,Nn(C,ne)){if((M=hd(ne.width,ne.height,be.Oa,be.ba))==0){if(C.Aa=0,Y=be.Oa,s((xe=C)!=null),Y!=null){if(0<(Ce=0>(Ce=Y.Md)?0:100<Ce?255:255*Ce/100)){for(Re=et=0;4>Re;++Re)12>(pt=xe.pb[Re]).lc&&(pt.ia=Ce*m2[0>pt.lc?0:pt.lc]>>3),et|=pt.ia;et&&(alert("todo:VP8InitRandom"),xe.ia=1)}xe.Ga=Y.Id,100<xe.Ga?xe.Ga=100:0>xe.Ga&&(xe.Ga=0)}Ci(C,ne)||(M=C.a)}}else M=C.a}M==0&&be.Oa!=null&&be.Oa.fd&&(M=pu(be.ba))}be=M}ye=be!=0?null:11>ye?we.f.RGBA.eb:we.f.kb.y}else ye=null;return ye};var _g=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(L,I){for(var B="",T=0;T<4;T++)B+=String.fromCharCode(L[I++]);return B}function h(L,I){return(L[I+0]<<0|L[I+1]<<8|L[I+2]<<16)>>>0}function f(L,I){return(L[I+0]<<0|L[I+1]<<8|L[I+2]<<16|L[I+3]<<24)>>>0}new d;var p=[0],g=[0],v=[],y=new d,b=t,_=function(L,I){var B={},T=0,w=!1,E=0,D=0;if(B.frames=[],!function(O,z,q,te){for(var ge=0;ge<te;ge++)if(O[z+ge]!=q.charCodeAt(ge))return!0;return!1}(L,I,"RIFF",4)){for(f(L,I+=4),I+=8;I<L.length;){var G=u(L,I),K=f(L,I+=4);I+=4;var X=K+(1&K);switch(G){case"VP8 ":case"VP8L":B.frames[T]===void 0&&(B.frames[T]={}),(ee=B.frames[T]).src_off=w?D:I-8,ee.src_size=E+K+8,T++,w&&(w=!1,E=0,D=0);break;case"VP8X":(ee=B.header={}).feature_flags=L[I];var se=I+4;ee.canvas_width=1+h(L,se),se+=3,ee.canvas_height=1+h(L,se),se+=3;break;case"ALPH":w=!0,E=X+8,D=I-8;break;case"ANIM":(ee=B.header).bgcolor=f(L,I),se=I+4,ee.loop_count=(ce=L)[(U=se)+0]<<0|ce[U+1]<<8,se+=2;break;case"ANMF":var Z,ee;(ee=B.frames[T]={}).offset_x=2*h(L,I),I+=3,ee.offset_y=2*h(L,I),I+=3,ee.width=1+h(L,I),I+=3,ee.height=1+h(L,I),I+=3,ee.duration=h(L,I),I+=3,Z=L[I++],ee.dispose=1&Z,ee.blend=Z>>1&1}G!="ANMF"&&(I+=X)}var ce,U;return B}}(b,0);_.response=b,_.rgbaoutput=!0,_.dataurl=!1;var k=_.header?_.header:null,A=_.frames?_.frames:null;if(k){k.loop_counter=k.loop_count,p=[k.canvas_height],g=[k.canvas_width];for(var R=0;R<A.length&&A[R].blend!=0;R++);}var F=A[0],V=y.WebPDecodeRGBA(b,F.src_off,F.src_size,g,p);F.rgba=V,F.imgwidth=g[0],F.imgheight=p[0];for(var S=0;S<g[0]*p[0]*4;S++)v[S]=V[S];return this.width=g,this.height=p,this.data=v,this}(function(t){var s=function(){return typeof fj=="function"},r=function(p,g,v,y){var b=4,_=o;switch(y){case t.image_compression.FAST:b=1,_=i;break;case t.image_compression.MEDIUM:b=6,_=l;break;case t.image_compression.SLOW:b=9,_=d}p=a(p,g,v,_);var k=fj(p,{level:b});return t.__addimage__.arrayBufferToBinaryString(k)},a=function(p,g,v,y){for(var b,_,k,A=p.length/g,R=new Uint8Array(p.length+A),F=h(),V=0;V<A;V+=1){if(k=V*g,b=p.subarray(k,k+g),y)R.set(y(b,v,_),k+V);else{for(var S,L=F.length,I=[];S<L;S+=1)I[S]=F[S](b,v,_);var B=f(I.concat());R.set(I[B],k+V)}_=b}return R},n=function(p){var g=Array.apply([],p);return g.unshift(0),g},i=function(p,g){var v,y=[],b=p.length;y[0]=1;for(var _=0;_<b;_+=1)v=p[_-g]||0,y[_+1]=p[_]-v+256&255;return y},o=function(p,g,v){var y,b=[],_=p.length;b[0]=2;for(var k=0;k<_;k+=1)y=v&&v[k]||0,b[k+1]=p[k]-y+256&255;return b},l=function(p,g,v){var y,b,_=[],k=p.length;_[0]=3;for(var A=0;A<k;A+=1)y=p[A-g]||0,b=v&&v[A]||0,_[A+1]=p[A]+256-(y+b>>>1)&255;return _},d=function(p,g,v){var y,b,_,k,A=[],R=p.length;A[0]=4;for(var F=0;F<R;F+=1)y=p[F-g]||0,b=v&&v[F]||0,_=v&&v[F-g]||0,k=u(y,b,_),A[F+1]=p[F]-k+256&255;return A},u=function(p,g,v){if(p===g&&g===v)return p;var y=Math.abs(g-v),b=Math.abs(p-v),_=Math.abs(p+g-v-v);return y<=b&&y<=_?p:b<=_?g:v},h=function(){return[n,i,o,l,d]},f=function(p){var g=p.map(function(v){return v.reduce(function(y,b){return y+Math.abs(b)},0)});return g.indexOf(Math.min.apply(null,g))};t.processPNG=function(p,g,v,y){var b,_,k,A,R,F,V,S,L,I,B,T,w,E,D,G=this.decode.FLATE_DECODE,K="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(k=new Are(p)).imgData,_=k.bits,b=k.colorSpace,R=k.colors,[4,6].indexOf(k.colorType)!==-1){if(k.bits===8){L=(S=k.pixelBitlength==32?new Uint32Array(k.decodePixels().buffer):k.pixelBitlength==16?new Uint16Array(k.decodePixels().buffer):new Uint8Array(k.decodePixels().buffer)).length,B=new Uint8Array(L*k.colors),I=new Uint8Array(L);var X,se=k.pixelBitlength-k.bits;for(E=0,D=0;E<L;E++){for(w=S[E],X=0;X<se;)B[D++]=w>>>X&255,X+=k.bits;I[E]=w>>>X&255}}if(k.bits===16){L=(S=new Uint32Array(k.decodePixels().buffer)).length,B=new Uint8Array(L*(32/k.pixelBitlength)*k.colors),I=new Uint8Array(L*(32/k.pixelBitlength)),T=k.colors>1,E=0,D=0;for(var Z=0;E<L;)w=S[E++],B[D++]=w>>>0&255,T&&(B[D++]=w>>>16&255,w=S[E++],B[D++]=w>>>0&255),I[Z++]=w>>>16&255;_=8}y!==t.image_compression.NONE&&s()?(p=r(B,k.width*k.colors,k.colors,y),V=r(I,k.width,1,y)):(p=B,V=I,G=void 0)}if(k.colorType===3&&(b=this.color_spaces.INDEXED,F=k.palette,k.transparency.indexed)){var ee=k.transparency.indexed,ce=0;for(E=0,L=ee.length;E<L;++E)ce+=ee[E];if((ce/=255)===L-1&&ee.indexOf(0)!==-1)A=[ee.indexOf(0)];else if(ce!==L){for(S=k.decodePixels(),I=new Uint8Array(S.length),E=0,L=S.length;E<L;E++)I[E]=ee[S[E]];V=r(I,k.width,1)}}var U=function(O){var z;switch(O){case t.image_compression.FAST:z=11;break;case t.image_compression.MEDIUM:z=13;break;case t.image_compression.SLOW:z=14;break;default:z=12}return z}(y);return G===this.decode.FLATE_DECODE&&(K="/Predictor "+U+" "),K+="/Colors "+R+" /BitsPerComponent "+_+" /Columns "+k.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(V&&this.__addimage__.isArrayBuffer(V)||this.__addimage__.isArrayBufferView(V))&&(V=this.__addimage__.arrayBufferToBinaryString(V)),{alias:v,data:p,index:g,filter:G,decodeParameters:K,transparency:A,palette:F,sMask:V,predictor:U,width:k.width,height:k.height,bitsPerComponent:_,colorSpace:b}}}})(As.API),function(t){t.processGIF89A=function(s,r,a,n){var i=new Ere(s),o=i.width,l=i.height,d=[];i.decodeAndBlitFrameRGBA(0,d);var u={data:d,width:o,height:l},h=new cw(100).encode(u,100);return t.processJPEG.call(this,h,r,a,n)},t.processGIF87A=t.processGIF89A}(As.API),Vl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var s=0;s<t;s++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[s]={red:n,green:a,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Vl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,s=this.width*this.height*4;this.data=new Uint8Array(s),this[t]()}catch(r){Kr.log("bit decode error:"+r)}},Vl.prototype.bit1=function(){var t,s=Math.ceil(this.width/8),r=s%4;for(t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,n=0;n<s;n++)for(var i=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+8*n*4,l=0;l<8&&8*n+l<this.width;l++){var d=this.palette[i>>7-l&1];this.data[o+4*l]=d.blue,this.data[o+4*l+1]=d.green,this.data[o+4*l+2]=d.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Vl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),s=t%4,r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,n=0;n<t;n++){var i=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+2*n*4,l=i>>4,d=15&i,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*n+1>=this.width)break;u=this.palette[d],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}s!==0&&(this.pos+=4-s)}},Vl.prototype.bit8=function(){for(var t=this.width%4,s=this.height-1;s>=0;s--){for(var r=this.bottom_up?s:this.height-1-s,a=0;a<this.width;a++){var n=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*a;if(n<this.palette.length){var o=this.palette[n];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Vl.prototype.bit15=function(){for(var t=this.width%3,s=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&s)/s*255|0,l=(i>>5&s)/s*255|0,d=(i>>10&s)/s*255|0,u=i>>15?255:0,h=a*this.width*4+4*n;this.data[h]=d,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=u}this.pos+=t}},Vl.prototype.bit16=function(){for(var t=this.width%3,s=parseInt("11111",2),r=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var n=this.bottom_up?a:this.height-1-a,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&s)/s*255|0,d=(o>>5&r)/r*255|0,u=(o>>11)/s*255|0,h=n*this.width*4+4*i;this.data[h]=u,this.data[h+1]=d,this.data[h+2]=l,this.data[h+3]=255}this.pos+=t}},Vl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+4*r;this.data[o]=i,this.data[o+1]=n,this.data[o+2]=a,this.data[o+3]=255}this.pos+=this.width%4}},Vl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var s=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=s*this.width*4+4*r;this.data[l]=i,this.data[l+1]=n,this.data[l+2]=a,this.data[l+3]=o}},Vl.prototype.getData=function(){return this.data},function(t){t.processBMP=function(s,r,a,n){var i=new Vl(s,!1),o=i.width,l=i.height,d={data:i.getData(),width:o,height:l},u=new cw(100).encode(d,100);return t.processJPEG.call(this,u,r,a,n)}}(As.API),OC.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(s,r,a,n){var i=new OC(s),o=i.width,l=i.height,d={data:i.getData(),width:o,height:l},u=new cw(100).encode(d,100);return t.processJPEG.call(this,u,r,a,n)}}(As.API),As.API.processRGBA=function(t,s,r){for(var a=t.data,n=a.length,i=new Uint8Array(n/4*3),o=new Uint8Array(n/4),l=0,d=0,u=0;u<n;u+=4){var h=a[u],f=a[u+1],p=a[u+2],g=a[u+3];i[l++]=h,i[l++]=f,i[l++]=p,o[d++]=g}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:s,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},As.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},kh=As.API,Xy=kh.getCharWidthsArray=function(t,s){var r,a,n=(s=s||{}).font||this.internal.getFont(),i=s.fontSize||this.internal.getFontSize(),o=s.charSpace||this.internal.getCharSpace(),l=s.widths?s.widths:n.metadata.Unicode.widths,d=l.fof?l.fof:1,u=s.kerning?s.kerning:n.metadata.Unicode.kerning,h=u.fof?u.fof:1,f=s.doKerning!==!1,p=0,g=t.length,v=0,y=l[0]||d,b=[];for(r=0;r<g;r++)a=t.charCodeAt(r),typeof n.metadata.widthOfString=="function"?b.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(a))+o*(1e3/i)||0)/1e3):(p=f&&qr(u[a])==="object"&&!isNaN(parseInt(u[a][v],10))?u[a][v]/h:0,b.push((l[a]||y)/d+p)),v=a;return b},MC=kh.getStringUnitWidth=function(t,s){var r=(s=s||{}).fontSize||this.internal.getFontSize(),a=s.font||this.internal.getFont(),n=s.charSpace||this.internal.getCharSpace();return kh.processArabic&&(t=kh.processArabic(t)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(t,r,n)/r:Xy.apply(this,arguments).reduce(function(i,o){return i+o},0)},LC=function(t,s,r,a){for(var n=[],i=0,o=t.length,l=0;i!==o&&l+s[i]<r;)l+=s[i],i++;n.push(t.slice(0,i));var d=i;for(l=0;i!==o;)l+s[i]>a&&(n.push(t.slice(d,i)),l=0,d=i),l+=s[i],i++;return d!==i&&n.push(t.slice(d,i)),n},FC=function(t,s,r){r||(r={});var a,n,i,o,l,d,u,h=[],f=[h],p=r.textIndent||0,g=0,v=0,y=t.split(" "),b=Xy.apply(this,[" ",r])[0];if(d=r.lineIndent===-1?y[0].length+2:r.lineIndent||0){var _=Array(d).join(" "),k=[];y.map(function(R){(R=R.split(/\s*\n/)).length>1?k=k.concat(R.map(function(F,V){return(V&&F.length?`
`:"")+F})):k.push(R[0])}),y=k,d=MC.apply(this,[_,r])}for(i=0,o=y.length;i<o;i++){var A=0;if(a=y[i],d&&a[0]==`
`&&(a=a.substr(1),A=1),p+g+(v=(n=Xy.apply(this,[a,r])).reduce(function(R,F){return R+F},0))>s||A){if(v>s){for(l=LC.apply(this,[a,n,s-(p+g),s]),h.push(l.shift()),h=[l.pop()];l.length;)f.push([l.shift()]);v=n.slice(a.length-(h[0]?h[0].length:0)).reduce(function(R,F){return R+F},0)}else h=[a];f.push(h),p=v+d,g=b}else h.push(a),p+=g+v,g=b}return u=d?function(R,F){return(F?_:"")+R.join(" ")}:function(R){return R.join(" ")},f.map(u)},kh.splitTextToSize=function(t,s,r){var a,n=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var f=this.internal.getFont(h.fontName,h.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);a=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*s/n;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/n:0,i.lineIndent=r.lineIndent;var l,d,u=[];for(l=0,d=a.length;l<d;l++)u=u.concat(FC.apply(this,[a[l],o,i]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var s="klmnopqrstuvwxyz",r={},a={},n=0;n<s.length;n++)r[s[n]]="0123456789abcdef"[n],a["0123456789abcdef"[n]]=s[n];var i=function(f){return"0x"+parseInt(f,10).toString(16)},o=t.__fontmetrics__.compress=function(f){var p,g,v,y,b=["{"];for(var _ in f){if(p=f[_],isNaN(parseInt(_,10))?g="'"+_+"'":(_=parseInt(_,10),g=(g=i(_).slice(2)).slice(0,-1)+a[g.slice(-1)]),typeof p=="number")p<0?(v=i(p).slice(3),y="-"):(v=i(p).slice(2),y=""),v=y+v.slice(0,-1)+a[v.slice(-1)];else{if(qr(p)!=="object")throw new Error("Don't know what to do with value type "+qr(p)+".");v=o(p)}b.push(g+v)}return b.push("}"),b.join("")},l=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,g,v,y,b={},_=1,k=b,A=[],R="",F="",V=f.length-1,S=1;S<V;S+=1)(y=f[S])=="'"?p?(v=p.join(""),p=void 0):p=[]:p?p.push(y):y=="{"?(A.push([k,v]),k={},v=void 0):y=="}"?((g=A.pop())[0][g[1]]=k,v=void 0,k=g[0]):y=="-"?_=-1:v===void 0?r.hasOwnProperty(y)?(R+=r[y],v=parseInt(R,16)*_,_=1,R=""):R+=y:r.hasOwnProperty(y)?(F+=r[y],k[v]=parseInt(F,16)*_,_=1,v=void 0,F=""):F+=y;return b},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var p=f.font,g=h.Unicode[p.postScriptName];g&&(p.metadata.Unicode={},p.metadata.Unicode.widths=g.widths,p.metadata.Unicode.kerning=g.kerning);var v=u.Unicode[p.postScriptName];v&&(p.metadata.Unicode.encoding=v,p.encoding=v.codePages[0])}])}(As.API),function(t){var s=function(r){for(var a=r.length,n=new Uint8Array(a),i=0;i<a;i++)n[i]=r.charCodeAt(i);return n};t.API.events.push(["addFont",function(r){var a=void 0,n=r.font,i=r.instance;if(!n.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(a=i.existsFileInVFS(n.postScriptName)===!1?i.loadFile(n.postScriptName):i.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?s(l):s(hp(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(n,a)}}])}(As),function(t){function s(){return(Ds.canvg?Promise.resolve(Ds.canvg):dj(()=>import("./index.es-BhUAbOPA.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}As.API.addSvgAsImage=function(r,a,n,i,o,l,d,u){if(isNaN(a)||isNaN(n))throw Kr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw Kr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=i,h.height=o;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return s().then(function(v){return v.fromString(f,r,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(p)}).then(function(){g.addImage(h.toDataURL("image/jpeg",1),a,n,i,o,d,u)})}}(),As.API.putTotalPages=function(t){var s,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(s=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(s=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var n=0;n<this.internal.pages[a].length;n++)this.internal.pages[a][n]=this.internal.pages[a][n].replace(s,r);return this},As.API.viewerPreferences=function(t,s){var r;t=t||{},s=s||!1;var a,n,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),d=[],u=0,h=0,f=0;function p(v,y){var b,_=!1;for(b=0;b<v.length;b+=1)v[b]===y&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||s===!0){var g=l.length;for(f=0;f<g;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(qr(t)==="object"){for(n in t)if(i=t[n],p(l,n)&&i!==void 0){if(r[n].type==="boolean"&&typeof i=="boolean")r[n].value=i;else if(r[n].type==="name"&&p(r[n].valueSet,i))r[n].value=i;else if(r[n].type==="integer"&&Number.isInteger(i))r[n].value=i;else if(r[n].type==="array"){for(u=0;u<i.length;u+=1)if(a=!0,i[u].length===1&&typeof i[u][0]=="number")d.push(String(i[u]-1));else if(i[u].length>1){for(h=0;h<i[u].length;h+=1)typeof i[u][h]!="number"&&(a=!1);a===!0&&d.push([i[u][0]-1,i[u][1]-1].join(" "))}r[n].value="["+d.join(" ")+"]"}else r[n].value=r[n].defaultValue;r[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,y=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?y.push("/"+v+" /"+r[v].value):y.push("/"+v+" "+r[v].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var s=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(a)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+l.length+n.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(n+i+o+l+d),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(a,n){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",s)),this}}(As.API),function(t){var s=t.API,r=s.pdfEscape16=function(i,o){for(var l,d=o.metadata.Unicode.widths,u=["","0","00","000","0000"],h=[""],f=0,p=i.length;f<p;++f){if(l=o.metadata.characterToGlyph(i.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(f),d.indexOf(l)==-1&&(d.push(l),d.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return h.join("");l=l.toString(16),h.push(u[4-l.length],l)}return h.join("")},a=function(i){var o,l,d,u,h,f,p;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],f=0,p=(l=Object.keys(i).sort(function(g,v){return g-v})).length;f<p;f++)o=l[f],d.length>=100&&(h+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),d.push("<"+o+"><"+u+">"));return d.length&&(h+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};s.events.push(["putFont",function(i){(function(o){var l=o.font,d=o.out,u=o.newObject,h=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,p=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),g="",v=0;v<p.length;v++)g+=String.fromCharCode(p[v]);var y=u();h({data:g,addLength1:!0,objectId:y}),d("endobj");var b=u();h({data:a(l.metadata.toUnicode),addLength1:!0,objectId:b}),d("endobj");var _=u();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+Th(l.fontName)),d("/FontFile2 "+y+" 0 R"),d("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),d("/Flags "+l.metadata.flags),d("/StemV "+l.metadata.stemV),d("/ItalicAngle "+l.metadata.italicAngle),d("/Ascent "+l.metadata.ascender),d("/Descent "+l.metadata.decender),d("/CapHeight "+l.metadata.capHeight),d(">>"),d("endobj");var k=u();d("<<"),d("/Type /Font"),d("/BaseFont /"+Th(l.fontName)),d("/FontDescriptor "+_+" 0 R"),d("/W "+t.API.PDFObject.convert(f)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+l.encoding+")"),d(">>"),d(">>"),d("endobj"),l.objectNumber=u(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+b+" 0 R"),d("/BaseFont /"+Th(l.fontName)),d("/Encoding /"+l.encoding),d("/DescendantFonts ["+k+" 0 R]"),d(">>"),d("endobj"),l.isAlreadyPutted=!0}})(i)}]),s.events.push(["putFont",function(i){(function(o){var l=o.font,d=o.out,u=o.newObject,h=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,p="",g=0;g<f.length;g++)p+=String.fromCharCode(f[g]);var v=u();h({data:p,addLength1:!0,objectId:v}),d("endobj");var y=u();h({data:a(l.metadata.toUnicode),addLength1:!0,objectId:y}),d("endobj");var b=u();d("<<"),d("/Descent "+l.metadata.decender),d("/CapHeight "+l.metadata.capHeight),d("/StemV "+l.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+v+" 0 R"),d("/Flags 96"),d("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),d("/FontName /"+Th(l.fontName)),d("/ItalicAngle "+l.metadata.italicAngle),d("/Ascent "+l.metadata.ascender),d(">>"),d("endobj"),l.objectNumber=u();for(var _=0;_<l.metadata.hmtx.widths.length;_++)l.metadata.hmtx.widths[_]=parseInt(l.metadata.hmtx.widths[_]*(1e3/l.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+Th(l.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),d("endobj"),l.isAlreadyPutted=!0}})(i)}]);var n=function(i){var o,l=i.text||"",d=i.x,u=i.y,h=i.options||{},f=i.mutex||{},p=f.pdfEscape,g=f.activeFontKey,v=f.fonts,y=g,b="",_=0,k="",A=v[y].encoding;if(v[y].encoding!=="Identity-H")return{text:l,x:d,y:u,options:h,mutex:f};for(k=l,y=g,Array.isArray(l)&&(k=l[0]),_=0;_<k.length;_+=1)v[y].metadata.hasOwnProperty("cmap")&&(o=v[y].metadata.cmap.unicode.codeMap[k[_].charCodeAt(0)]),o||k[_].charCodeAt(0)<256&&v[y].metadata.hasOwnProperty("Unicode")?b+=k[_]:b+="";var R="";return parseInt(y.slice(1))<14||A==="WinAnsiEncoding"?R=p(b,y).split("").map(function(F){return F.charCodeAt(0).toString(16)}).join(""):A==="Identity-H"&&(R=r(b,v[y])),f.isHex=!0,{text:R,x:d,y:u,options:h,mutex:f}};s.events.push(["postProcessText",function(i){var o=i.text||"",l=[],d={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([n(Object.assign({},d,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(n(Object.assign({},d,{text:o[u]})).text);i.text=l}else i.text=n(Object.assign({},d,{text:o})).text}])}(As),function(t){var s=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return s.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,a){return s.call(this),this.internal.vFS[r]=a,this},t.getFileFromVFS=function(r){return s.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(As.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(a){var n,i,o,l,d,u,h,f=s,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),k=!1,A=0;this.__bidiEngine__={};var R=function(T){var w=T.charCodeAt(),E=w>>8,D=y[E];return D!==void 0?f[256*D+(255&w)]:E===252||E===253?"AL":_.test(E)?"L":E===8?"R":"N"},F=function(T){for(var w,E=0;E<T.length;E++){if((w=R(T.charAt(E)))==="L")return!1;if(w==="R")return!0}return!1},V=function(T,w,E,D){var G,K,X,se,Z=w[D];switch(Z){case"L":case"R":k=!1;break;case"N":case"AN":break;case"EN":k&&(Z="AN");break;case"AL":k=!0,Z="R";break;case"WS":Z="N";break;case"CS":D<1||D+1>=w.length||(G=E[D-1])!=="EN"&&G!=="AN"||(K=w[D+1])!=="EN"&&K!=="AN"?Z="N":k&&(K="AN"),Z=K===G?K:"N";break;case"ES":Z=(G=D>0?E[D-1]:"B")==="EN"&&D+1<w.length&&w[D+1]==="EN"?"EN":"N";break;case"ET":if(D>0&&E[D-1]==="EN"){Z="EN";break}if(k){Z="N";break}for(X=D+1,se=w.length;X<se&&w[X]==="ET";)X++;Z=X<se&&w[X]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(se=w.length,X=D+1;X<se&&w[X]==="NSM";)X++;if(X<se){var ee=T[D],ce=ee>=1425&&ee<=2303||ee===64286;if(G=w[X],ce&&(G==="R"||G==="AL")){Z="R";break}}}Z=D<1||(G=w[D-1])==="B"?"N":E[D-1];break;case"B":k=!1,n=!0,Z=A;break;case"S":i=!0,Z="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":k=!1;break;case"BN":Z="N"}return Z},S=function(T,w,E){var D=T.split("");return E&&L(D,E,{hiLevel:A}),D.reverse(),w&&w.reverse(),D.join("")},L=function(T,w,E){var D,G,K,X,se,Z=-1,ee=T.length,ce=0,U=[],O=A?g:p,z=[];for(k=!1,n=!1,i=!1,G=0;G<ee;G++)z[G]=R(T[G]);for(K=0;K<ee;K++){if(se=ce,U[K]=V(T,z,U,K),D=240&(ce=O[se][v[U[K]]]),ce&=15,w[K]=X=O[ce][5],D>0)if(D===16){for(G=Z;G<K;G++)w[G]=1;Z=-1}else Z=-1;if(O[ce][6])Z===-1&&(Z=K);else if(Z>-1){for(G=Z;G<K;G++)w[G]=X;Z=-1}z[K]==="B"&&(w[K]=0),E.hiLevel|=X}i&&function(q,te,ge){for(var Q=0;Q<ge;Q++)if(q[Q]==="S"){te[Q]=A;for(var ue=Q-1;ue>=0&&q[ue]==="WS";ue--)te[ue]=A}}(z,w,ee)},I=function(T,w,E,D,G){if(!(G.hiLevel<T)){if(T===1&&A===1&&!n)return w.reverse(),void(E&&E.reverse());for(var K,X,se,Z,ee=w.length,ce=0;ce<ee;){if(D[ce]>=T){for(se=ce+1;se<ee&&D[se]>=T;)se++;for(Z=ce,X=se-1;Z<X;Z++,X--)K=w[Z],w[Z]=w[X],w[X]=K,E&&(K=E[Z],E[Z]=E[X],E[X]=K);ce=se}ce++}}},B=function(T,w,E){var D=T.split(""),G={hiLevel:A};return E||(E=[]),L(D,E,G),function(K,X,se){if(se.hiLevel!==0&&h)for(var Z,ee=0;ee<K.length;ee++)X[ee]===1&&(Z=b.indexOf(K[ee]))>=0&&(K[ee]=b[Z+1])}(D,E,G),I(2,D,w,E,G),I(1,D,w,E,G),D.join("")};return this.__bidiEngine__.doBidiReorder=function(T,w,E){if(function(G,K){if(K)for(var X=0;X<G.length;X++)K[X]=X;l===void 0&&(l=F(G)),u===void 0&&(u=F(G))}(T,w),o||!d||u)if(o&&d&&l^u)A=l?1:0,T=S(T,w,E);else if(!o&&d&&u)A=l?1:0,T=B(T,w,E),T=S(T,w);else if(!o||l||d||u){if(o&&!d&&l^u)T=S(T,w),l?(A=0,T=B(T,w,E)):(A=1,T=B(T,w,E),T=S(T,w));else if(o&&l&&!d&&u)A=1,T=B(T,w,E),T=S(T,w);else if(!o&&!d&&l^u){var D=h;l?(A=1,T=B(T,w,E),A=0,h=!1,T=B(T,w,E),h=D):(A=0,T=B(T,w,E),T=S(T,w),A=1,h=!1,T=B(T,w,E),h=D,T=S(T,w))}}else A=0,T=B(T,w,E);else A=l?1:0,T=B(T,w,E);return T},this.__bidiEngine__.setOptions=function(T){T&&(o=T.isInputVisual,d=T.isOutputVisual,l=T.isInputRtl,u=T.isOutputRtl,h=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var s=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(a){var n=a.text;a.x,a.y;var i=a.options||{};a.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(n)==="[object Array]"){var l=0;for(o=[],l=0;l<n.length;l+=1)Object.prototype.toString.call(n[l])==="[object Array]"?o.push([r.doBidiReorder(n[l][0]),n[l][1],n[l][2]]):o.push([r.doBidiReorder(n[l])]);a.text=o}else a.text=r.doBidiReorder(n);r.setOptions({isInputVisual:!0})}])}(As),As.API.TTFFont=function(){function t(s){var r;if(this.rawData=s,r=this.contents=new fm(s),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new qre(this),this.registerTTF()}return t.open=function(s){return new t(s)},t.prototype.parse=function(){return this.directory=new Tre(this.contents),this.head=new Pre(this),this.name=new Ore(this),this.cmap=new l7(this),this.toUnicode={},this.hhea=new Mre(this),this.maxp=new Ire(this),this.hmtx=new Bre(this),this.post=new Fre(this),this.os2=new Lre(this),this.loca=new Vre(this),this.glyf=new zre(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var s,r,a,n,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,d,u;for(u=[],o=0,l=(d=this.bbox).length;o<l;o++)s=d[o],u.push(Math.round(s*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(a=255&(n=this.post.italic_angle),(32768&(r=n>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(s){var r;return((r=this.cmap.unicode)!=null?r.codeMap[s]:void 0)||0},t.prototype.widthOfGlyph=function(s){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(s).advance*r},t.prototype.widthOfString=function(s,r,a){var n,i,o,l;for(o=0,i=0,l=(s=""+s).length;0<=l?i<l:i>l;i=0<=l?++i:--i)n=s.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(n))+a*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(s,r){var a;return r==null&&(r=!1),a=r?this.lineGap:0,(this.ascender+a-this.decender)/1e3*s},t}();var rc,fm=function(){function t(s){this.data=s??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(s){return this.data[this.pos++]=s},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(s){return this.writeByte(s>>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},t.prototype.readInt32=function(){var s;return(s=this.readUInt32())>=2147483648?s-4294967296:s},t.prototype.writeInt32=function(s){return s<0&&(s+=4294967296),this.writeUInt32(s)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(s){return this.writeByte(s>>8&255),this.writeByte(255&s)},t.prototype.readInt16=function(){var s;return(s=this.readUInt16())>=32768?s-65536:s},t.prototype.writeInt16=function(s){return s<0&&(s+=65536),this.writeUInt16(s)},t.prototype.readString=function(s){var r,a;for(a=[],r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)a[r]=String.fromCharCode(this.readByte());return a.join("")},t.prototype.writeString=function(s){var r,a,n;for(n=[],r=0,a=s.length;0<=a?r<a:r>a;r=0<=a?++r:--r)n.push(this.writeByte(s.charCodeAt(r)));return n},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(s){return this.writeInt16(s)},t.prototype.readLongLong=function(){var s,r,a,n,i,o,l,d;return s=this.readByte(),r=this.readByte(),a=this.readByte(),n=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),d=this.readByte(),128&s?-1*(72057594037927940*(255^s)+281474976710656*(255^r)+1099511627776*(255^a)+4294967296*(255^n)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^d)+1):72057594037927940*s+281474976710656*r+1099511627776*a+4294967296*n+16777216*i+65536*o+256*l+d},t.prototype.writeLongLong=function(s){var r,a;return r=Math.floor(s/4294967296),a=4294967295&s,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(s){return this.writeInt32(s)},t.prototype.read=function(s){var r,a;for(r=[],a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)r.push(this.readByte());return r},t.prototype.write=function(s){var r,a,n,i;for(i=[],a=0,n=s.length;a<n;a++)r=s[a],i.push(this.writeByte(r));return i},t}(),Tre=function(){var t;function s(r){var a,n,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},n=0,i=this.tableCount;0<=i?n<i:n>i;n=0<=i?++n:--n)a={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[a.tag]=a}return s.prototype.encode=function(r){var a,n,i,o,l,d,u,h,f,p,g,v,y;for(y in g=Object.keys(r).length,d=Math.log(2),f=16*Math.floor(Math.log(g)/d),o=Math.floor(f/d),h=16*g-f,(n=new fm).writeInt(this.scalarType),n.writeShort(g),n.writeShort(f),n.writeShort(o),n.writeShort(h),i=16*g,u=n.pos+i,l=null,v=[],r)for(p=r[y],n.writeString(y),n.writeInt(t(p)),n.writeInt(u),n.writeInt(p.length),v=v.concat(p),y==="head"&&(l=u),u+=p.length;u%4;)v.push(0),u++;return n.write(v),a=2981146554-t(n.data),n.pos=l+8,n.writeUInt32(a),n.data},t=function(r){var a,n,i,o;for(r=c7.call(r);r.length%4;)r.push(0);for(i=new fm(r),n=0,a=0,o=r.length;a<o;a=a+=4)n+=i.readUInt32();return 4294967295&n},s}(),Dre={}.hasOwnProperty,id=function(t,s){for(var r in s)Dre.call(s,r)&&(t[r]=s[r]);function a(){this.constructor=t}return a.prototype=s.prototype,t.prototype=new a,t.__super__=s.prototype,t};rc=function(){function t(s){var r;this.file=s,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Pre=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return id(s,rc),s.prototype.tag="head",s.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},s.prototype.encode=function(r){var a;return(a=new fm).writeInt(this.version),a.writeInt(this.revision),a.writeInt(this.checkSumAdjustment),a.writeInt(this.magicNumber),a.writeShort(this.flags),a.writeShort(this.unitsPerEm),a.writeLongLong(this.created),a.writeLongLong(this.modified),a.writeShort(this.xMin),a.writeShort(this.yMin),a.writeShort(this.xMax),a.writeShort(this.yMax),a.writeShort(this.macStyle),a.writeShort(this.lowestRecPPEM),a.writeShort(this.fontDirectionHint),a.writeShort(r),a.writeShort(this.glyphDataFormat),a.data},s}(),IC=function(){function t(s,r){var a,n,i,o,l,d,u,h,f,p,g,v,y,b,_,k,A;switch(this.platformID=s.readUInt16(),this.encodingID=s.readShort(),this.offset=r+s.readInt(),f=s.pos,s.pos=this.offset,this.format=s.readUInt16(),this.length=s.readUInt16(),this.language=s.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=s.readByte();break;case 4:for(g=s.readUInt16(),p=g/2,s.pos+=6,i=function(){var R,F;for(F=[],d=R=0;0<=p?R<p:R>p;d=0<=p?++R:--R)F.push(s.readUInt16());return F}(),s.pos+=2,y=function(){var R,F;for(F=[],d=R=0;0<=p?R<p:R>p;d=0<=p?++R:--R)F.push(s.readUInt16());return F}(),u=function(){var R,F;for(F=[],d=R=0;0<=p?R<p:R>p;d=0<=p?++R:--R)F.push(s.readUInt16());return F}(),h=function(){var R,F;for(F=[],d=R=0;0<=p?R<p:R>p;d=0<=p?++R:--R)F.push(s.readUInt16());return F}(),n=(this.length-s.pos+this.offset)/2,l=function(){var R,F;for(F=[],d=R=0;0<=n?R<n:R>n;d=0<=n?++R:--R)F.push(s.readUInt16());return F}(),d=_=0,A=i.length;_<A;d=++_)for(b=i[d],a=k=v=y[d];v<=b?k<=b:k>=b;a=v<=b?++k:--k)h[d]===0?o=a+u[d]:(o=l[h[d]/2+(a-v)-(p-d)]||0)!==0&&(o+=u[d]),this.codeMap[a]=65535&o}s.pos=f}return t.encode=function(s,r){var a,n,i,o,l,d,u,h,f,p,g,v,y,b,_,k,A,R,F,V,S,L,I,B,T,w,E,D,G,K,X,se,Z,ee,ce,U,O,z,q,te,ge,Q,ue,ie,oe,J;switch(D=new fm,o=Object.keys(s).sort(function(re,ve){return re-ve}),r){case"macroman":for(y=0,b=function(){var re=[];for(v=0;v<256;++v)re.push(0);return re}(),k={0:0},i={},G=0,Z=o.length;G<Z;G++)k[ue=s[n=o[G]]]==null&&(k[ue]=++y),i[n]={old:s[n],new:k[s[n]]},b[n]=k[s[n]];return D.writeUInt16(1),D.writeUInt16(0),D.writeUInt32(12),D.writeUInt16(0),D.writeUInt16(262),D.writeUInt16(0),D.write(b),{charMap:i,subtable:D.data,maxGlyphID:y+1};case"unicode":for(w=[],f=[],A=0,k={},a={},_=u=null,K=0,ee=o.length;K<ee;K++)k[F=s[n=o[K]]]==null&&(k[F]=++A),a[n]={old:F,new:k[F]},l=k[F]-n,_!=null&&l===u||(_&&f.push(_),w.push(n),u=l),_=n;for(_&&f.push(_),f.push(65535),w.push(65535),B=2*(I=w.length),L=2*Math.pow(Math.log(I)/Math.LN2,2),p=Math.log(L/2)/Math.LN2,S=2*I-L,d=[],V=[],g=[],v=X=0,ce=w.length;X<ce;v=++X){if(T=w[v],h=f[v],T===65535){d.push(0),V.push(0);break}if(T-(E=a[T].new)>=32768)for(d.push(0),V.push(2*(g.length+I-v)),n=se=T;T<=h?se<=h:se>=h;n=T<=h?++se:--se)g.push(a[n].new);else d.push(E-T),V.push(0)}for(D.writeUInt16(3),D.writeUInt16(1),D.writeUInt32(12),D.writeUInt16(4),D.writeUInt16(16+8*I+2*g.length),D.writeUInt16(0),D.writeUInt16(B),D.writeUInt16(L),D.writeUInt16(p),D.writeUInt16(S),ge=0,U=f.length;ge<U;ge++)n=f[ge],D.writeUInt16(n);for(D.writeUInt16(0),Q=0,O=w.length;Q<O;Q++)n=w[Q],D.writeUInt16(n);for(ie=0,z=d.length;ie<z;ie++)l=d[ie],D.writeUInt16(l);for(oe=0,q=V.length;oe<q;oe++)R=V[oe],D.writeUInt16(R);for(J=0,te=g.length;J<te;J++)y=g[J],D.writeUInt16(y);return{charMap:a,subtable:D.data,maxGlyphID:A+1}}},t}(),l7=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return id(s,rc),s.prototype.tag="cmap",s.prototype.parse=function(r){var a,n,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)a=new IC(r,this.offset),this.tables.push(a),a.isUnicode&&this.unicode==null&&(this.unicode=a);return!0},s.encode=function(r,a){var n,i;return a==null&&(a="macroman"),n=IC.encode(r,a),(i=new fm).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},s}(),Mre=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return id(s,rc),s.prototype.tag="hhea",s.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},s}(),Lre=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return id(s,rc),s.prototype.tag="OS/2",s.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var a,n;for(n=[],a=0;a<10;++a)n.push(r.readByte());return n}(),this.charRange=function(){var a,n;for(n=[],a=0;a<4;++a)n.push(r.readInt());return n}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var a,n;for(n=[],a=0;a<2;a=++a)n.push(r.readInt());return n}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},s}(),Fre=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return id(s,rc),s.prototype.tag="post",s.prototype.parse=function(r){var a,n,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(n=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)a=r.readByte(),i.push(this.names.push(r.readString(a)));return i;case 151552:return n=r.readUInt16(),this.offsets=r.read(n);case 196608:break;case 262144:return this.map=(function(){var l,d,u;for(u=[],o=l=0,d=this.file.maxp.numGlyphs;0<=d?l<d:l>d;o=0<=d?++l:--l)u.push(r.readUInt32());return u}).call(this)}},s}(),Rre=function(t,s){this.raw=t,this.length=t.length,this.platformID=s.platformID,this.encodingID=s.encodingID,this.languageID=s.languageID},Ore=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return id(s,rc),s.prototype.tag="name",s.prototype.parse=function(r){var a,n,i,o,l,d,u,h,f,p,g;for(r.pos=this.offset,r.readShort(),a=r.readShort(),d=r.readShort(),n=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)n.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+d+r.readShort()});for(u={},o=f=0,p=n.length;f<p;o=++f)i=n[o],r.pos=i.offset,h=r.readString(i.length),l=new Rre(h,i),u[g=i.nameID]==null&&(u[g]=[]),u[i.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},s}(),Ire=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return id(s,rc),s.prototype.tag="maxp",s.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},s}(),Bre=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return id(s,rc),s.prototype.tag="hmtx",s.prototype.parse=function(r){var a,n,i,o,l,d,u;for(r.pos=this.offset,this.metrics=[],a=0,d=this.file.hhea.numberOfMetrics;0<=d?a<d:a>d;a=0<=d?++a:--a)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,f;for(f=[],a=h=0;0<=i?h<i:h>i;a=0<=i?++h:--h)f.push(r.readInt16());return f}(),this.widths=(function(){var h,f,p,g;for(g=[],h=0,f=(p=this.metrics).length;h<f;h++)o=p[h],g.push(o.advance);return g}).call(this),n=this.widths[this.widths.length-1],u=[],a=l=0;0<=i?l<i:l>i;a=0<=i?++l:--l)u.push(this.widths.push(n));return u},s.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},s}(),c7=[].slice,zre=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return id(s,rc),s.prototype.tag="glyf",s.prototype.parse=function(){return this.cache={}},s.prototype.glyphFor=function(r){var a,n,i,o,l,d,u,h,f,p;return r in this.cache?this.cache[r]:(o=this.file.loca,a=this.file.contents,n=o.indexOf(r),(i=o.lengthOf(r))===0?this.cache[r]=null:(a.pos=this.offset+n,l=(d=new fm(a.read(i))).readShort(),h=d.readShort(),p=d.readShort(),u=d.readShort(),f=d.readShort(),this.cache[r]=l===-1?new Ure(d,h,p,u,f):new $re(d,l,h,p,u,f),this.cache[r]))},s.prototype.encode=function(r,a,n){var i,o,l,d,u;for(l=[],o=[],d=0,u=a.length;d<u;d++)i=r[a[d]],o.push(l.length),i&&(l=l.concat(i.encode(n)));return o.push(l.length),{table:l,offsets:o}},s}(),$re=function(){function t(s,r,a,n,i,o){this.raw=s,this.numberOfContours=r,this.xMin=a,this.yMin=n,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Ure=function(){function t(s,r,a,n,i){var o,l;for(this.raw=s,this.xMin=r,this.yMin=a,this.xMax=n,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var s,r,a;for(r=new fm(c7.call(this.raw.data)),s=0,a=this.glyphIDs.length;s<a;++s)r.pos=this.glyphOffsets[s];return r.data},t}(),Vre=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return id(s,rc),s.prototype.tag="loca",s.prototype.parse=function(r){var a,n;return r.pos=this.offset,a=this.file.head.indexToLocFormat,this.offsets=a===0?(function(){var i,o;for(o=[],n=0,i=this.length;n<i;n+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],n=0,i=this.length;n<i;n+=4)o.push(r.readUInt32());return o}).call(this)},s.prototype.indexOf=function(r){return this.offsets[r]},s.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},s.prototype.encode=function(r,a){for(var n=new Uint32Array(this.offsets.length),i=0,o=0,l=0;l<n.length;++l)if(n[l]=i,o<a.length&&a[o]==l){++o,n[l]=i;var d=this.offsets[l],u=this.offsets[l+1]-d;u>0&&(i+=u)}for(var h=new Array(4*n.length),f=0;f<n.length;++f)h[4*f+3]=255&n[f],h[4*f+2]=(65280&n[f])>>8,h[4*f+1]=(16711680&n[f])>>16,h[4*f]=(4278190080&n[f])>>24;return h},s}(),qre=function(){function t(s){this.font=s,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var s,r,a,n,i;for(r in n=this.font.cmap.tables[0].codeMap,s={},i=this.subset)a=i[r],s[r]=n[a];return s},t.prototype.glyphsFor=function(s){var r,a,n,i,o,l,d;for(n={},o=0,l=s.length;o<l;o++)n[i=s[o]]=this.font.glyf.glyphFor(i);for(i in r=[],n)(a=n[i])!=null&&a.compound&&r.push.apply(r,a.glyphIDs);if(r.length>0)for(i in d=this.glyphsFor(r))a=d[i],n[i]=a;return n},t.prototype.encode=function(s,r){var a,n,i,o,l,d,u,h,f,p,g,v,y,b,_;for(n in a=l7.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(s),g={0:0},_=a.charMap)g[(d=_[n]).old]=d.new;for(v in p=a.maxGlyphID,o)v in g||(g[v]=p++);return h=function(k){var A,R;for(A in R={},k)R[k[A]]=A;return R}(g),f=Object.keys(h).sort(function(k,A){return k-A}),y=function(){var k,A,R;for(R=[],k=0,A=f.length;k<A;k++)l=f[k],R.push(h[l]);return R}(),i=this.font.glyf.encode(o,y,g),u=this.font.loca.encode(i.offsets,y),b={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},t}();As.API.PDFObject=function(){var t;function s(){}return t=function(r,a){return(Array(a+1).join("0")+r).slice(-a)},s.convert=function(r){var a,n,i,o;if(Array.isArray(r))return"["+function(){var l,d,u;for(u=[],l=0,d=r.length;l<d;l++)a=r[l],u.push(s.convert(a));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(n in i=["<<"],r)o=r[n],i.push("/"+n+" "+s.convert(o));return i.push(">>"),i.join(`
`)}return""+r},s}();const Hre=async(t,s,r,a)=>{try{return(await Ze.get(`/salaryCal/employees?month=${t}&year=${s}&company_id=${r}&department_id=${a}`)).data}catch(n){throw console.error("Error fetching salary data:",n),n}},Wre=async t=>{try{return(await Ze.post("/salary/process/allowances",t)).data}catch(s){throw console.error("Error fetching salary data:",s),s}},Gre=async t=>{try{return(await Ze.post("/salary/process/save",{data:t})).data}catch(s){throw s}},BC=async t=>{try{return(await Ze.get(`/salary/update/status?status=${t}`)).data}catch(s){throw console.error("Error updating salary status:",s),s}},Yre=async()=>{try{return(await Ze.get("/salary/processed")).data}catch(t){throw console.error("Error fetching processed salaries:",t),t}},Kre=async t=>{try{return(await Ze.post("/salary/process/fetchExcelData",t)).data}catch(s){throw console.error("Error marking payslips as issued:",s),s}},Xre=async t=>{const s=t.name.toLowerCase().includes("allowance")?"allowances":t.name.toLowerCase().includes("deduction")?"deductions":"allowances",r=new FormData;return r.append("file",t),r.append("type",s),(await Ze.post("/salary/process/importExcelData",r,{headers:{"Content-Type":"multipart/form-data"}})).data},d7=()=>{const t=(rp==null?void 0:rp())||null;return t!=null&&t.id?{user_id:t.id,user_name:t.name||t.username||"Unknown"}:{}},Qre=async(t={})=>{var s,r;try{return(await Ze.get("/salary",{params:t})).data}catch(a){throw console.error("Error fetching salary data:",((r=(s=a.response)==null?void 0:s.data)==null?void 0:r.message)||a.message),a}},Jre=async(t,s)=>{var r,a,n,i;try{const o=d7(),l={...s,...o};return(await Ze.put(`/salary/${t}`,l)).data}catch(o){throw console.error("Error updating salary record:",((a=(r=o.response)==null?void 0:r.data)==null?void 0:a.message)||o.message),(i=(n=o.response)==null?void 0:n.data)!=null&&i.errors&&console.error("Validation errors:",o.response.data.errors),o}},Zre=async t=>{var s,r;try{const a=d7();return(await Ze.delete(`/salary/${t}`,{data:a})).data}catch(a){throw console.error("Error deleting salary record:",((r=(s=a.response)==null?void 0:s.data)==null?void 0:r.message)||a.message),a}},eae=async(t={})=>{var s,r;try{return(await Ze.get("/salary/process/csv",{responseType:"blob",params:t})).data}catch(a){throw console.error("Error downloading salary CSV:",((r=(s=a.response)==null?void 0:s.data)==null?void 0:r.message)||a.message),a}},tae=({isOpen:t,onClose:s,onSuccess:r,onImport:a})=>{const[n,i]=N.useState(null),[o,l]=N.useState(!1),[d,u]=N.useState(""),h=p=>{i(p.target.files[0])},f=async p=>{if(p.preventDefault(),!n){u("Please select a file");return}l(!0),u("");try{await a(n),r("Employee allowances imported successfully"),s()}catch(g){u(g.message||"Failed to upload file")}finally{l(!1)}};return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Import Employee Allowances/Deductions"}),e.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-700",children:""})]}),e.jsxs("form",{onSubmit:f,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select CSV File (ID, Allowance or Deduction ID, Amount (LKR))"}),e.jsx("input",{type:"file",accept:".csv",onChange:h,className:`block w-full text-sm text-gray-500\r
                file:mr-4 file:py-2 file:px-4\r
                file:rounded-md file:border-0\r
                file:text-sm file:font-semibold\r
                file:bg-blue-50 file:text-blue-700\r
                hover:file:bg-blue-100`}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"CSV must include: Employee ID, Allowance or Deduction ID, and Amount columns"})]}),d&&e.jsx("p",{className:"text-red-500 text-sm mb-4",children:d}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg disabled:opacity-50",children:o?"Importing...":"Import"})]})]})]})}):null},sae="processedSalaryData",za={success:(t,s)=>Me.fire({icon:"success",title:t,text:s,confirmButtonColor:"#3085d6"}),error:(t,s)=>Me.fire({icon:"error",title:t,text:s,confirmButtonColor:"#d33"}),warning:(t,s)=>Me.fire({icon:"warning",title:t,text:s,confirmButtonColor:"#f59e0b"}),info:(t,s)=>Me.fire({icon:"info",title:t,text:s,confirmButtonColor:"#3085d6"})},rae=()=>{const[t,s]=N.useState("All Locations"),[r,a]=N.useState(""),[n,i]=N.useState(new Date().getFullYear().toString()),[o,l]=N.useState("Unprocessed"),[d,u]=N.useState([]),[h,f]=N.useState("All"),[p,g]=N.useState(""),[v,y]=N.useState(""),[b,_]=N.useState(""),[k,A]=N.useState(!1),[R,F]=N.useState([]),[V,S]=N.useState(!1),[L,I]=N.useState(!1),[B,T]=N.useState([]),[w,E]=N.useState([]),[D,G]=N.useState(""),[K,X]=N.useState(""),[se,Z]=N.useState(!1),[ee,ce]=N.useState(!1),[U,O]=N.useState([]),[z,q]=N.useState([]),[te,ge]=N.useState(!1),[Q,ue]=N.useState([]),[ie,oe]=N.useState(!1),[J,re]=N.useState(!1),[ve,pe]=N.useState("allowance"),[ae,he]=N.useState(""),[Te,Ie]=N.useState(""),[Be,Le]=N.useState(""),[Ee,Ve]=N.useState(!1),[mt,gt]=N.useState(""),Pe=async dt=>{var le,Se;try{const me=await Xre(dt);return gt(me.message||"Employee allowances imported successfully"),za.success("Imported","Employee allowances imported successfully"),!0}catch(me){console.error("Error importing Excel:",me);const _e=((Se=(le=me.response)==null?void 0:le.data)==null?void 0:Se.message)||"Failed to import file";throw za.error("Import Failed",_e),_e}},Ae=async()=>{try{const le=await await eae(),Se=window.URL.createObjectURL(le),me=document.createElement("a");me.href=Se,me.download="salary_records.csv",document.body.appendChild(me),me.click(),document.body.removeChild(me)}catch(dt){console.error("Download failed:",dt),alert("Failed to download CSV")}},We=dt=>{gt(dt),za.success("Import Successful",dt||"Data imported"),qt()},Xe={processUser:"Admin",lastProcessDate:"2025-05-30"},[st,ke]=N.useState([]),[ct,nt]=N.useState([]),Bt=(ct||[]).reduce((dt,le)=>dt+(parseFloat(le==null?void 0:le.basic_salary)||0),0),Ge=ct.length,St=[{value:"01",label:"January"},{value:"02",label:"February"},{value:"03",label:"March"},{value:"04",label:"April"},{value:"05",label:"May"},{value:"06",label:"June"},{value:"07",label:"July"},{value:"08",label:"August"},{value:"09",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],bt=async()=>{var dt,le;l("Processed"),Xe.lastProcessDate=new Date().toISOString().split("T")[0];try{await BC("processed"),za.success("Status Updated","Salary status updated!")}catch(Se){za.error("Update Failed",((le=(dt=Se.response)==null?void 0:dt.data)==null?void 0:le.message)||Se.message||"Unknown error")}localStorage.setItem(sae,JSON.stringify(st))},qe=async()=>{var dt,le;try{I(!0);const Se=await Yre();if(!Se||Se.length===0){za.info("No Data","No processed salary data found for the selected period.");return}const me=new As,_e=St.find(Ne=>Ne.value===r),De=_e?_e.label:` ${r}`;Se.forEach((Ne,Je)=>{var Ye,lt,Mt,Dt,Ht,rs,fs,Ue,vt,Ut,os,zs,Ls,Nr,Pr,lr,xr,Nn,Fn,mn,Ci,aa,Rn,Sr,ki,co,uo,On,zo,mo,Jn,ho,$o;Je>0&&me.addPage(),me.setFontSize(12),me.setFont("helvetica","bold"),me.text(`Company: ${Ne.company_name}`,105,15,{align:"center"}),me.text(`Department: ${Ne.department_name}`,105,22,{align:"center"}),me.text("Payslip",105,29,{align:"center"}),me.text(`${De} ${n}`,105,36,{align:"center"}),me.rect(10,8,190,32);let $e=50;me.setFontSize(10),me.setFont("helvetica","normal"),me.text("EPF No :",15,$e),me.text(`${Ne.employee_no||"N/A"}`,60,$e),$e+=6,me.text("Code :",15,$e),me.text(`${Ne.employee_no||"N/A"}`,60,$e),$e+=6,me.text("Name :",15,$e),me.text(`${Ne.full_name||"N/A"}`,60,$e),$e+=6,me.text("Bank :",15,$e),me.text(`${((Ye=Ne.compensation)==null?void 0:Ye.bank_name)||"N/A"}`,60,$e),$e+=6,me.text("Branch :",15,$e),me.text(`${((lt=Ne.compensation)==null?void 0:lt.branch_name)||"N/A"}`,60,$e),$e+=6,me.text("Account No. :",15,$e),me.text(`${((Mt=Ne.compensation)==null?void 0:Mt.bank_account_no)||"N/A"}`,60,$e),$e+=10,me.setFont("helvetica","bold"),me.text("Basic Salary",15,$e),me.text(`${((Ht=(Dt=Ne.salary_breakdown)==null?void 0:Dt.basic_salary)==null?void 0:Ht.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))||"0.00"}`,170,$e,{align:"right"}),$e+=10,me.setFont("helvetica","normal"),me.text("Transactions for EPF",15,$e),$e+=8,me.text("Allowances",15,$e),$e+=6,Ne.allowances&&Ne.allowances.length>0?Ne.allowances.forEach(Ai=>{me.text(`${Ai.name}`,15,$e),me.text(`${parseFloat(Ai.amount||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,170,$e,{align:"right"}),$e+=6}):(me.text("BRA1 Act",15,$e),me.text(`${((fs=(rs=Ne.salary_breakdown)==null?void 0:rs.br_allowance)==null?void 0:fs.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))||"0.00"}`,170,$e,{align:"right"}),$e+=6),$e+=4,me.text("Nopay Amount",15,$e),me.text(`${((vt=(Ue=Ne.salary_breakdown)==null?void 0:Ue.no_pay_deduction)==null?void 0:vt.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))||"0.00"}`,170,$e,{align:"right"}),$e+=8,me.setFont("helvetica","bold"),me.text("Gross for EPF",15,$e),me.text(`${((os=(Ut=Ne.salary_breakdown)==null?void 0:Ut.epf_etf_base)==null?void 0:os.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))||"0.00"}`,170,$e,{align:"right"}),$e+=10,me.setFont("helvetica","bold"),me.text("Overtime Details",15,$e),$e+=8,me.setFont("helvetica","normal"),me.text("Morning OT Amount",15,$e),me.text(`${((Ls=(zs=Ne.salary_breakdown)==null?void 0:zs.ot_morning_fees)==null?void 0:Ls.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))||"0.00"}`,170,$e,{align:"right"}),$e+=6,me.text("Evening OT Amount",15,$e),me.text(`${((Pr=(Nr=Ne.salary_breakdown)==null?void 0:Nr.ot_night_fees)==null?void 0:Pr.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))||"0.00"}`,170,$e,{align:"right"}),$e+=8,me.text("Nopay Amount ",15,$e),me.text(`${((xr=(lr=Ne.salary_breakdown)==null?void 0:lr.no_pay_deduction)==null?void 0:xr.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))||"0.00"}`,170,$e,{align:"right"}),$e+=8,me.setFont("helvetica","bold"),me.text("Gross Salary",15,$e),me.text(`${((Fn=(Nn=Ne.salary_breakdown)==null?void 0:Nn.gross_salary)==null?void 0:Fn.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))||"0.00"}`,170,$e,{align:"right"}),$e+=10,me.text("Deductions",15,$e),$e+=8,me.setFont("helvetica","normal"),me.text("EPF - Employee - 8.00%",15,$e),me.text(`${((Ci=(mn=Ne.salary_breakdown)==null?void 0:mn.epf_employee_deduction)==null?void 0:Ci.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))||"0.00"}`,170,$e,{align:"right"}),$e+=6,Ne.deductions&&Ne.deductions.length>0?Ne.deductions.forEach(Ai=>{me.text(`${Ai.name}`,15,$e),me.text(`${parseFloat(Ai.amount||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,170,$e,{align:"right"}),$e+=6}):(me.text("Stamp Duty",15,$e),me.text(`${(((aa=Ne.salary_breakdown)==null?void 0:aa.stamp)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,170,$e,{align:"right"}),$e+=6),(Rn=Ne.salary_breakdown)!=null&&Rn.loan_installment&&(me.text("Loan",15,$e),me.text(`${Ne.salary_breakdown.loan_installment.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,170,$e,{align:"right"}),$e+=6),$e+=2,me.setFont("helvetica","bold"),me.text("Total Deduction",15,$e),me.text(`${((ki=(Sr=Ne.salary_breakdown)==null?void 0:Sr.total_deductions)==null?void 0:ki.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))||"0.00"}`,170,$e,{align:"right"}),$e+=10,me.setFontSize(12),me.text("Net Salary Rs.",15,$e),me.text(`${((uo=(co=Ne.salary_breakdown)==null?void 0:co.net_salary)==null?void 0:uo.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))||"0.00"}`,170,$e,{align:"right"}),$e+=12,me.setFontSize(10),me.setFont("helvetica","italic"),me.text("Employer Contribution:",15,$e),$e+=8,me.setFont("helvetica","normal"),me.text("EPF - 12.00%",15,$e),me.text(`${((zo=(On=Ne.salary_breakdown)==null?void 0:On.epf_employer_contribution)==null?void 0:zo.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))||"0.00"}`,170,$e,{align:"right"}),$e+=6,me.text("ETF - 3.00%",15,$e),me.text(`${((Jn=(mo=Ne.salary_breakdown)==null?void 0:mo.etf_employer_contribution)==null?void 0:Jn.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))||"0.00"}`,170,$e,{align:"right"}),$e+=6;const Ke=(((ho=Ne.salary_breakdown)==null?void 0:ho.epf_employee_deduction)||0)+((($o=Ne.salary_breakdown)==null?void 0:$o.epf_employer_contribution)||0);me.text("Total EPF",15,$e),me.text(`${Ke.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,170,$e,{align:"right"}),$e+=15,me.text("LIFEHRMS",15,$e);const ot=new Date,Fe=`${ot.getDate().toString().padStart(2,"0")}/${(ot.getMonth()+1).toString().padStart(2,"0")}/${ot.getFullYear()}`;me.text(Fe,170,$e,{align:"right"}),me.rect(10,45,190,$e-40)}),me.save(`payslips_${De}_${n}.pdf`);try{await BC("issued"),za.success("Salary Issued","Salary Issued!")}catch(Ne){za.error("Issue Update Failed",((le=(dt=Ne.response)==null?void 0:dt.data)==null?void 0:le.message)||Ne.message||"Unknown error")}}catch(Se){console.error("Error generating PDF:",Se),za.error("PDF Error","Error generating PDF. Please try again.")}finally{I(!1)}},Oe=()=>{f("EPF");const dt=st.filter(le=>le.enable_epf_etf);nt(dt)},jt=()=>{f("NonEPF");const dt=st.filter(le=>!le.enable_epf_etf);nt(dt)},Et=()=>{if(f("All"),!st||st.length===0){za.info("No Data","No data loaded yet. Please apply filters first.");return}nt(st),u(st),g("")};N.useEffect(()=>{(async()=>{Z(!0);try{const le=await Qd();T(le)}catch(le){console.error("Error loading companies:",le)}finally{Z(!1)}})()},[]),N.useEffect(()=>{(async()=>{if(D){ce(!0);try{const le=await fN(D);E(le)}catch(le){console.error("Error loading departments:",le)}finally{ce(!1)}}else E([]),X("")})()},[D]);const qt=async()=>{if(!r||!n||!D)return za.warning("Missing Filters","Please select company, month, and year before applying filters"),null;I(!0);try{const dt=await Hre(r,n,D,K||"");return ke(dt.data),nt(dt.data),u(dt.data),dt.data}catch(dt){return console.error("Error fetching salary data:",dt),za.error("Fetch Failed","Error fetching salary data. Please try again."),null}finally{I(!1)}},Gt=async()=>{const dt=await qt();if(!dt)return;let le=dt;if(h==="EPF"?le=le.filter(Se=>Se.enable_epf_etf):h==="NonEPF"&&(le=le.filter(Se=>!Se.enable_epf_etf)),p){const Se=p.toLowerCase();le=le.filter(me=>me.emp_no.toString().includes(Se)||me.full_name.toLowerCase().includes(Se))}nt(le),u(le)},Yt=()=>{f("All"),ke([]),nt([]),u([]),G(""),X(""),a(""),g(""),y(""),_(""),A(!1),F([]),S(!1)},Xt=async dt=>{ge(!0);try{const le=await Ju.getAllowancesByCompanyOrDepartment(dt,null);O(le||[])}catch(le){console.error("Error loading allowances by company:",le)}finally{ge(!1)}};N.useEffect(()=>{(async()=>{ge(!0);try{const le=await Ju.getAllAllowances();O(le||[]);const Se=await PH();q(Se||[])}catch(le){console.error("Error loading allowances and deductions:",le)}finally{ge(!1)}})()},[]);const is=dt=>{const le=dt.target.value;G(le),X(""),le?Xt(le):loadAllowancesAndDeductions()},ws=dt=>{if(Le(dt),ve==="allowance"){const le=U.find(Se=>Se.id===dt);if(le&&le.amount){const Se=parseFloat(le.amount).toFixed(2);he(Se)}}else{const le=z.find(Se=>Se.id===dt);if(le&&le.amount){const Se=parseFloat(le.amount).toFixed(2);he(Se)}}},Us=dt=>{const le=`${dt.id}`;Q.includes(le)?ue(Q.filter(Se=>Se!==le)):ue([...Q,le])},Zt=async()=>{if(!Be||Q.length===0){za.warning("Missing Data","Please fill all fields and select at least one employee");return}const dt={selectedEmployees:Q,bulkActionId:Be,bulkActionType:ve};try{const le=await Kre(dt);console.log(JSON.stringify(le));const[Se,me,_e]=le,De=Se.map($e=>{const Ke={EMPLOYEE_NO:$e.attendance_employee_no,NIC:$e.nic,"Full Name":$e.full_name};return me&&me.length>0&&me.forEach(ot=>{Ke["Allowance ID"]=ot.id,Ke["Allowance Name"]=ot.allowance_name,Ke["Amount (LKR)"]=0}),_e&&_e.length>0&&_e.forEach(ot=>{Ke["Deduction ID"]=ot.id,Ke["Deduction Name"]=ot.deduction_name,Ke["Amount (LKR)"]=0}),Ke}),Ne=Wt(De),Je=dt.bulkActionType==="allowance"?"employee_allowances":"employee_deductions";Ms(Ne,`${Je}_${Date.now()}.csv`),za.success("Download Ready","Template downloaded successfully")}catch(le){console.error("Error generating Excel data:",le),za.error("Failed","Failed to generate Excel file")}};function Wt(dt){if(dt.length===0)return"";const le=Object.keys(dt[0]),Se=dt.map(me=>le.map(_e=>{let De=me[_e]!==void 0?String(me[_e]):"";return(De.includes(",")||De.includes('"')||De.includes(`
`))&&(De=`"${De.replace(/"/g,'""')}"`),De}).join(","));return[le.join(","),...Se].join(`
`)}const Es=()=>{if(ie)ue([]);else{const dt=ct.map(le=>`${le.id}`);ue(dt)}oe(!ie)},Bs=async()=>{var le,Se;if(!Be||Q.length===0){za.warning("Missing Data","Please fill all fields and select at least one employee");return}const dt={selectedEmployees:Q,bulkActionId:Be,bulkActionType:ve,bulkActionAmount:ae||null};try{const me=await Wre(dt);console.log(JSON.stringify(me)),za.success("Success",`Successfully applied ${ve} to ${Q.length} employee(s)`),await qt(),ue([]),oe(!1),re(!1),he(""),Ie("")}catch(me){console.log(me),za.error("Error",((Se=(le=me.response)==null?void 0:le.data)==null?void 0:Se.message)||me.message||"Operation failed")}};N.useEffect(()=>{const dt=ct.length>0&&Q.length===ct.length;oe(dt)},[Q,ct]),N.useEffect(()=>{ue([]),oe(!1)},[p,t,r,h,k]);function sr(dt){if(dt.length===0)return"";const le=dt.map(Ne=>{const Je={...Ne};if(Array.isArray(Ne.allowances)?Je.allowances=Ne.allowances.map(Ke=>`${Ke.name}: $${Ke.amount}`).join("; "):Je.allowances="",Array.isArray(Ne.deductions)?Je.deductions=Ne.deductions.map(Ke=>`${Ke.name}: $${Ke.amount}`).join("; "):Je.deductions="",Ne.salary_breakdown&&typeof Ne.salary_breakdown=="object"){for(const[Ke,ot]of Object.entries(Ne.salary_breakdown))Je[`breakdown_${Ke}`]=ot;delete Je.salary_breakdown}return["increment_active","ot_morning","ot_evening","enable_epf_etf","br1","br2"].forEach(Ke=>{Je[Ke]!==void 0&&Je[Ke]!==null&&(Je[Ke]=Je[Ke]==1?"Yes":"No")}),Je}),Se={id:"ID",emp_no:"Employee No",full_name:"Full Name",company_name:"Company",department_name:"Department",sub_department_name:"Sub Department",basic_salary:"Basic Salary",increment_active:"Increment Active",increment_value:"Increment Value",increment_effected_date:"Increment Effective Date",ot_morning:"OT Morning",ot_evening:"OT Evening",enable_epf_etf:"EPF/ETF Enabled",br1:"BR1 Allowance",br2:"BR2 Allowance",ot_morning_rate:"OT Morning Rate",ot_night_rate:"OT Night Rate",stamp:"Stamp Fee",br_status:"BR Status",total_loan_amount:"Total Loan Amount",installment_count:"Installment Count",installment_amount:"Installment Amount",approved_no_pay_days:"Approved No-Pay Days",allowances:"Allowances",deductions:"Deductions",breakdown_basic_salary:"Basic Salary (Adjusted)",breakdown_br_allowance:"BR Allowance",breakdown_ot_morning_fees:"OT Morning Fees",breakdown_ot_night_fees:"OT Night Fees",breakdown_adjusted_basic:"Adjusted Basic",breakdown_per_day_salary:"Per Day Salary",breakdown_no_pay_deduction:"No-Pay Deduction",breakdown_total_allowances:"Total Allowances",breakdown_epf_etf_base:"EPF/ETF Base",breakdown_epf_employee_deduction:"EPF Employee Deduction",breakdown_epf_employer_contribution:"EPF Employer Contribution",breakdown_etf_employer_contribution:"ETF Employer Contribution",breakdown_total_fixed_deductions:"Total Fixed Deductions",breakdown_loan_installment:"Loan Installment",breakdown_gross_salary:"Gross Salary",breakdown_total_deductions:"Total Deductions",breakdown_stamp:"Stamp Fee (Breakdown)",breakdown_net_salary:"Net Salary"},me=Object.keys(le[0]),_e=me.map(Ne=>Se[Ne]||Ne.replace(/_/g," ").replace(/\b\w/g,Je=>Je.toUpperCase())),De=le.map(Ne=>me.map(Je=>{let $e=Ne[Je]!==void 0&&Ne[Je]!==null?String(Ne[Je]):"";return(Je.includes("salary")||Je.includes("amount")||Je.includes("rate")||Je.includes("fee")||Je.includes("deduction")||Je.includes("contribution"))&&!isNaN(parseFloat($e))&&isFinite($e)&&($e=parseFloat($e).toFixed(2)),($e.includes(",")||$e.includes('"')||$e.includes(`
`)||$e.includes(";"))&&($e=`"${$e.replace(/"/g,'""')}"`),$e}).join(","));return[_e.join(","),...De].join(`
`)}function Ms(dt,le){const Se=new Blob([dt],{type:"text/csv;charset=utf-8;"}),me=URL.createObjectURL(Se),_e=document.createElement("a");_e.setAttribute("href",me),_e.setAttribute("download",le),_e.style.visibility="hidden",document.body.appendChild(_e),_e.click(),document.body.removeChild(_e)}return e.jsxs("div",{className:"container mx-auto px-4 py-8 bg-gradient-to-br from-blue-50 via-white to-green-50 min-h-screen",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 tracking-tight",children:"Salary Processing"}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("span",{className:`
            px-4 py-1.5 rounded-full text-xs font-semibold shadow-sm border
            ${o==="Processed"?"bg-green-100 text-green-800 border-green-200":"bg-yellow-100 text-yellow-800 border-yellow-200"}
          `,children:[o==="Processed"?e.jsx(vs,{className:"inline mr-1 h-4 w-4"}):e.jsx(Hs,{className:"inline mr-1 h-4 w-4"}),o]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-100 to-blue-50 rounded-2xl border border-blue-200 p-6 shadow-md",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-700 mb-1",children:"Total Salary Cost"}),e.jsxs("p",{className:"text-3xl font-bold text-blue-900",children:["LKR ",Bt.toLocaleString()]})]}),e.jsx("div",{className:"p-4 rounded-xl bg-blue-200 text-blue-700 shadow",children:e.jsx(Tw,{size:24,strokeWidth:2})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-100 to-green-50 rounded-2xl border border-green-200 p-6 shadow-md",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-700 mb-1",children:"Employee Count"}),e.jsx("p",{className:"text-3xl font-bold text-green-900",children:Ge})]}),e.jsx("div",{className:"p-4 rounded-xl bg-green-200 text-green-700 shadow",children:e.jsx(ta,{size:24,strokeWidth:2})})]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-5 shadow flex flex-wrap gap-4",children:[e.jsx("button",{className:`
                flex items-center gap-2 px-5 py-2.5 rounded-lg text-base font-semibold transition-colors
                ${h==="All"?"bg-blue-600 text-white shadow":"bg-white border border-gray-300 text-gray-700 hover:bg-blue-50"}
              `,onClick:Et,children:"All Employees"}),e.jsxs("button",{className:`
                flex items-center gap-2 px-5 py-2.5 rounded-lg text-base font-semibold transition-colors
                ${h==="EPF"?"bg-blue-600 text-white shadow":"bg-white border border-gray-300 text-gray-700 hover:bg-blue-50"}
              `,onClick:Oe,children:[e.jsx(ta,{size:18,strokeWidth:2}),"EPF Employee"]}),e.jsxs("button",{className:`
                flex items-center gap-2 px-5 py-2.5 rounded-lg text-base font-semibold transition-colors
                ${h==="NonEPF"?"bg-blue-600 text-white shadow":"bg-white border border-gray-300 text-gray-700 hover:bg-blue-50"}
              `,onClick:jt,children:[e.jsx(ta,{size:18,strokeWidth:2}),"Non EPF Employee"]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-700 mb-4",children:"Filter Employees"}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx("label",{htmlFor:"search",className:"block text-xs font-semibold text-gray-500 mb-1",children:"Search by ID or Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",id:"search",placeholder:"Enter employee ID or name...",value:p,onChange:dt=>g(dt.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white shadow-sm"}),e.jsx(or,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-5 mb-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("label",{htmlFor:"company",className:"block text-xs font-semibold text-gray-500 mb-1",children:"Company"}),e.jsxs("div",{className:"relative",children:[e.jsx(Kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),se?e.jsxs("div",{className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-blue-500"}),e.jsx("span",{className:"ml-2 text-gray-500",children:"Loading..."})]}):e.jsxs("select",{id:"company",value:D,onChange:is,className:"appearance-none w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white shadow-sm",children:[e.jsx("option",{value:"",children:"All Companies"}),B.map(dt=>e.jsx("option",{value:dt.id,children:dt.name},dt.id))]}),e.jsx(dn,{className:"pointer-events-none absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-blue-400"})]})]}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("label",{htmlFor:"department",className:"block text-xs font-semibold text-gray-500 mb-1",children:"Department"}),e.jsxs("div",{className:"relative",children:[e.jsx(Uh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),ee?e.jsxs("div",{className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-blue-500"}),e.jsx("span",{className:"ml-2 text-gray-500",children:"Loading..."})]}):e.jsxs("select",{id:"department",value:K,onChange:dt=>X(dt.target.value),disabled:!D,className:`appearance-none w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white shadow-sm ${D?"":"bg-gray-100 cursor-not-allowed"}`,children:[e.jsx("option",{value:"",children:"All Departments"}),w.map(dt=>e.jsx("option",{value:dt.id,children:dt.name},dt.id))]}),e.jsx(dn,{className:"pointer-events-none absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-blue-400"})]})]}),e.jsxs("div",{className:"relative flex-1",children:[e.jsxs("label",{htmlFor:"month",className:"block text-xs font-semibold text-gray-500 mb-1",children:["Month ",r]}),e.jsxs("select",{id:"month",value:r,onChange:dt=>a(dt.target.value),className:"appearance-none w-full pl-3 pr-10 py-2 border border-gray-300 rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white shadow-sm",children:[e.jsx("option",{value:"",children:"Select Month"}),St.map(dt=>e.jsx("option",{value:dt.value,children:dt.label},dt.value))]}),e.jsx(dn,{className:"pointer-events-none absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-blue-400"})]}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("label",{htmlFor:"year",className:"block text-xs font-semibold text-gray-500 mb-1",children:"Year"}),e.jsx("input",{type:"number",id:"year",value:n,onChange:dt=>i(dt.target.value),className:"w-full pl-3 pr-3 py-2 border border-gray-300 rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white shadow-sm",placeholder:"Enter year"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsxs("button",{className:"flex items-center gap-2 px-5 py-2.5 bg-blue-600 text-white rounded-lg text-base font-semibold hover:bg-blue-700 transition-colors shadow",onClick:Gt,type:"button",children:[e.jsx(un,{size:18,strokeWidth:2}),"Apply Filters"]}),e.jsx("button",{className:"flex items-center gap-2 px-5 py-2.5 bg-gray-200 text-gray-700 rounded-lg text-base font-semibold hover:bg-gray-300 transition-colors shadow",onClick:Yt,type:"button",children:"Clear"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-white to-blue-50 rounded-2xl border border-blue-100 p-6 shadow h-fit",children:[e.jsx("h3",{className:"text-base font-semibold text-blue-700 mb-4",children:"Process Status"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1",children:"Status"}),e.jsxs("div",{className:"flex items-center",children:[o==="Processed"?e.jsx(vs,{className:"h-5 w-5 text-green-500 mr-2"}):e.jsx(Hs,{className:"h-5 w-5 text-yellow-500 mr-2"}),e.jsx("p",{className:`font-semibold text-lg ${o==="Processed"?"text-green-700":"text-yellow-700"}`,children:o})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1",children:"Processed By"}),e.jsx("p",{className:"font-semibold text-gray-800",children:Xe.processUser})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1",children:"Last Process Date"}),e.jsx("p",{className:"font-semibold text-gray-800",children:Xe.lastProcessDate})]}),e.jsxs("div",{className:"pt-2 space-y-3",children:[e.jsxs("button",{className:`
                  w-full flex items-center justify-center gap-2 px-5 py-2.5 rounded-lg text-base font-semibold transition-colors
                  ${o==="Processed"?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-purple-600 text-white hover:bg-purple-700 shadow"}
                `,onClick:async()=>{var dt,le;if(d.length===0){za.info("No Data","No data to save. Please apply filters first.");return}try{const Se=d.map(De=>({...De,month:r})),me=await Gre(Se),_e=sr(d);Ms(_e,`salary_data_${Date.now()}.csv`),za.success("Saved","Salary data saved and downloaded successfully!")}catch(Se){console.error("Error saving salary data:",Se),za.error("Save Failed",((le=(dt=Se.response)==null?void 0:dt.data)==null?void 0:le.message)||Se.message||"Unknown error")}},type:"button",disabled:d.length===0,children:[e.jsx(xs,{size:18,strokeWidth:2}),"Save Data"]}),e.jsxs("button",{className:`
                  w-full flex items-center justify-center gap-2 px-5 py-2.5 rounded-lg text-base font-semibold transition-colors
                  ${o==="Processed"?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700 shadow"}
                `,onClick:bt,disabled:o==="Processed",children:[e.jsx(xs,{size:18,strokeWidth:2}),"Process Salary"]}),e.jsxs("button",{className:`w-full flex items-center justify-center gap-2 px-5 py-2.5 rounded-lg text-base font-semibold transition-colors
    ${o!=="Processed"?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-purple-600 text-white hover:bg-purple-700 shadow"}`,onClick:()=>{qe(),Ae()},disabled:o!=="Processed",children:[e.jsx(Mn,{size:18,strokeWidth:2}),"Download All Processed Payslips"]})]})]})]})]}),Q.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl border border-blue-200 p-6 shadow-md mb-8 animate-fadeIn",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-800 mb-4 flex items-center",children:[e.jsx(ta,{className:"mr-2",size:20}),"Bulk Actions (",Q.length," employees selected)"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Action Type"}),e.jsxs("select",{value:ve,onChange:dt=>{pe(dt.target.value),Ie(""),he("")},className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"allowance",children:"Add Allowance"}),e.jsx("option",{value:"deduction",children:"Add Deduction"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:ve==="allowance"?"Allowance Type":"Deduction Type"}),e.jsxs("select",{value:Be,onChange:dt=>ws(dt.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select Type"}),ve==="allowance"?U.map(dt=>e.jsx("option",{value:dt.id,children:dt.allowance_name},dt.id)):z.map(dt=>e.jsx("option",{value:dt.id,children:dt.deduction_name},dt.id))]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Amount"}),e.jsx("input",{type:"number",value:ae,onChange:dt=>he(dt.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter amount"})]}),e.jsxs("div",{className:"flex items-end",children:[e.jsx("button",{className:"py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition duration-200",onClick:Bs,children:"Apply to Selected"}),e.jsx("button",{className:"ms-2 py-2 px-4 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition duration-200",onClick:Zt,type:"button",children:"Download Excel"}),e.jsx("button",{className:"ms-2 py-2 px-4 bg-green-300 hover:bg-green-400 text-black font-medium rounded-lg transition duration-200",onClick:()=>Ve(!0),type:"button",children:"Import Excel"}),Ee&&e.jsx(tae,{isOpen:Ee,onClose:()=>{Ve(!1),gt("")},onSuccess:We,onImport:Pe}),mt&&e.jsx("div",{className:"mb-4 p-3 bg-green-100 text-green-700 rounded",children:mt})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"text-gray-600 hover:text-gray-800 font-medium",onClick:()=>{ue([]),oe(!1)},children:"Clear Selection"})})]}),L&&e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),!L&&ct.length>0&&e.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden shadow mb-8",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-blue-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-center",children:e.jsx("input",{type:"checkbox",checked:ie,onChange:Es,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider",children:"EMP No"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider",children:"Company/Dept"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider",children:"Salary Details"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider",children:"EPF/ETF"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider",children:"Allowances"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider",children:"Deductions"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider",children:"Overtime"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider",children:"Salary Breakdown"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider",children:"Net Salary"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:ct.map(dt=>{var De,Ne,Je,$e,Ke,ot,Fe,Ye,lt,Mt,Dt,Ht,rs,fs,Ue,vt;const le=`${dt.id}`,Se=((De=dt.allowances)==null?void 0:De.reduce((Ut,os)=>Ut+(parseFloat(os.amount)||0),0))||0,me=((Ne=dt.deductions)==null?void 0:Ne.reduce((Ut,os)=>Ut+(parseFloat(os.amount)||0),0))||0,_e=((Je=dt.salary_breakdown)==null?void 0:Je.net_salary)||(parseFloat(dt.basic_salary)||0)+Se-me;return e.jsxs("tr",{className:"hover:bg-blue-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:e.jsx("input",{type:"checkbox",checked:Q.includes(le),onChange:()=>Us(dt),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:dt.emp_no}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.jsx("div",{className:"font-medium",children:dt.full_name}),e.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",dt.id," | BR: ",dt.br_status]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.jsx("div",{className:"font-medium",children:dt.company_name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[dt.department_name,dt.sub_department_name&&` (${dt.sub_department_name})`]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.jsxs("div",{children:["Basic:"," ",parseFloat(dt.basic_salary||0).toLocaleString()]}),e.jsx("div",{className:"text-xs text-gray-500",children:dt.increment_active?e.jsxs(e.Fragment,{children:["Incr: ",dt.increment_value," (eff."," ",dt.increment_effected_date,")"]}):"No active increment"}),e.jsxs("div",{className:"text-xs text-gray-500",children:["OT: ",dt.ot_morning?"Morning":""," ",dt.ot_evening?"Evening":""]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.jsx("div",{children:dt.enable_epf_etf?"Yes":"No"}),dt.enable_epf_etf&&e.jsxs("div",{className:"text-xs text-gray-500",children:["EPF:"," ",((Ke=($e=dt.salary_breakdown)==null?void 0:$e.epf_deduction)==null?void 0:Ke.toLocaleString())||"0"]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-xs",children:"EPF Cut:"}),e.jsx("span",{className:"text-red-600",children:((Fe=(ot=dt.salary_breakdown)==null?void 0:ot.epf_employee_deduction)==null?void 0:Fe.toFixed(2))||"0.00"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-xs",children:"EPF:"}),e.jsx("span",{className:"text-yellow-600",children:dt.salary_breakdown.epf_employer_contribution.toFixed(2)||"0"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-xs",children:"ETF:"}),e.jsx("span",{className:"text-yellow-600",children:dt.salary_breakdown.etf_employer_contribution.toFixed(2)||"0"})]})]}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[(Ye=dt.allowances)==null?void 0:Ye.map(Ut=>e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-xs",children:[Ut.name," (",Ut.code,")"]}),e.jsx("span",{className:"font-medium",children:parseFloat(Ut.amount||0).toLocaleString()})]},Ut.id)),e.jsxs("div",{className:"font-semibold border-t mt-1 pt-1",children:["Total: ",Se.toLocaleString()]})]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[(lt=dt.deductions)==null?void 0:lt.map(Ut=>e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-xs",children:[Ut.name," (",Ut.code,")"]}),e.jsx("span",{className:"font-medium",children:parseFloat(Ut.amount||0).toLocaleString()})]},Ut.id)),e.jsxs("div",{className:"font-semibold border-t mt-1 pt-1",children:["Total: ",me.toLocaleString()]})]})}),e.jsx("td",{children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-xs",children:"Morning :"}),e.jsx("span",{children:(Mt=dt.salary_breakdown.ot_morning_fees)==null?void 0:Mt.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-xs",children:"Night :"}),e.jsx("span",{children:(Dt=dt.salary_breakdown.ot_night_fees)==null?void 0:Dt.toLocaleString()})]})]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:dt.salary_breakdown&&e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-xs",children:"Gross:"}),e.jsx("span",{children:(Ht=dt.salary_breakdown.gross_salary)==null?void 0:Ht.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-xs",children:"Adj. Basic:"}),e.jsx("span",{children:(rs=dt.salary_breakdown.adjusted_basic)==null?void 0:rs.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-xs",children:"Per Day:"}),e.jsx("span",{children:(fs=dt.salary_breakdown.per_day_salary)==null?void 0:fs.toLocaleString()})]}),dt.salary_breakdown.probation_over_limit_days!==void 0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-xs",children:"Probation Over Limit (days):"}),e.jsx("span",{children:Number(dt.salary_breakdown.probation_over_limit_days).toString()})]}),dt.salary_breakdown.probation_deduction!==void 0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-xs",children:"Probation Deduction:"}),e.jsx("span",{children:Number(dt.salary_breakdown.probation_deduction).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-xs",children:"Loan:"}),e.jsx("span",{children:(Ue=dt.salary_breakdown.loan_installment)==null?void 0:Ue.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-xs",children:"No Pay Days:"}),e.jsx("span",{children:dt.salary_breakdown.no_pay_deduction||"0"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-xs",children:"Stamp :"}),e.jsx("span",{children:dt.stamp||"0"})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-700",children:[e.jsx("div",{children:_e.toLocaleString()}),dt.salary_breakdown&&e.jsxs("div",{className:"text-xs font-normal text-gray-500",children:["Deductions:"," ",(vt=dt.salary_breakdown.total_deductions)==null?void 0:vt.toLocaleString()]})]})]},dt.id)})})]})})}),!L&&ct.length===0&&e.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-8 shadow text-center",children:e.jsxs("div",{className:"mx-auto max-w-md",children:[e.jsx(ta,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No employees found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search or filter criteria"}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:Yt,children:"Reset Filters"})})]})}),ct.length>0&&e.jsxs("div",{className:"flex items-center justify-between bg-white px-8 py-4 rounded-2xl border border-gray-200 shadow",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{className:"relative inline-flex items-center px-5 py-2 border border-gray-300 text-base font-semibold rounded-lg text-gray-700 bg-white hover:bg-blue-50",children:"Previous"}),e.jsx("button",{className:"ml-3 relative inline-flex items-center px-5 py-2 border border-gray-300 text-base font-semibold rounded-lg text-gray-700 bg-white hover:bg-blue-50",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-base text-gray-700",children:["Showing ",e.jsx("span",{className:"font-bold",children:"1"})," to"," ",e.jsx("span",{className:"font-bold",children:Math.min(10,Ge)})," ","of ",e.jsx("span",{className:"font-bold",children:Ge})," results"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-lg shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsxs("button",{className:"relative inline-flex items-center px-3 py-2 rounded-l-lg border border-gray-300 bg-white text-base font-semibold text-gray-500 hover:bg-blue-50",children:[e.jsx("span",{className:"sr-only",children:"Previous"}),""]}),e.jsx("button",{"aria-current":"page",className:"z-10 bg-blue-100 border-blue-500 text-blue-700 relative inline-flex items-center px-5 py-2 border text-base font-bold",children:"1"}),e.jsx("button",{className:"bg-white border-gray-300 text-gray-500 hover:bg-blue-50 relative inline-flex items-center px-5 py-2 border text-base font-semibold",children:"2"}),e.jsx("button",{className:"bg-white border-gray-300 text-gray-500 hover:bg-blue-50 relative inline-flex items-center px-5 py-2 border text-base font-semibold",children:"3"}),e.jsxs("button",{className:"relative inline-flex items-center px-3 py-2 rounded-r-lg border border-gray-300 bg-white text-base font-semibold text-gray-500 hover:bg-blue-50",children:[e.jsx("span",{className:"sr-only",children:"Next"}),""]})]})})]})]})]})},aae=()=>{const[t,s]=N.useState(""),[r,a]=N.useState("Pending"),[n,i]=N.useState(""),[o,l]=N.useState(""),[d,u]=N.useState(""),[h,f]=N.useState(""),[p,g]=N.useState(null),[v,y]=N.useState(!1),[b,_]=N.useState(""),[k,A]=N.useState(null),[R,F]=N.useState([]),[V,S]=N.useState(!1),[L,I]=N.useState(null),[B,T]=N.useState(!1);N.useEffect(()=>{w()},[]);const w=async()=>{S(!0),I(null);try{const ue=(await LD()).map(ie=>{var oe,J,re,ve,pe,ae,he,Te,Ie;return{id:ie.id,employeeNo:((J=(oe=ie.employee)==null?void 0:oe.attendance_employee_no)==null?void 0:J.toString())||((re=ie.employee_id)==null?void 0:re.toString())||"N/A",employeeName:((ve=ie.employee)==null?void 0:ve.full_name)||((pe=ie.employee)==null?void 0:pe.name_with_initials)||"Unknown Employee",department:((Te=(he=(ae=ie.employee)==null?void 0:ae.organization_assignment)==null?void 0:he.department)==null?void 0:Te.name)||"N/A",leaveType:ie.leave_type,startDate:ie.leave_date||ie.leave_from,endDate:ie.leave_date||ie.leave_to,duration:E(ie.leave_date,ie.leave_from,ie.leave_to),reason:ie.reason||"No reason provided",status:ie.status||"Pending",submittedDate:((Ie=ie.created_at)==null?void 0:Ie.split("T")[0])||new Date().toISOString().split("T")[0],approvedBy:ie.approved_by||"",approvedDate:ie.approved_date||"",rejectedBy:ie.rejected_by||"",rejectedDate:ie.rejected_date||"",rejectionReason:ie.rejection_reason||""}});F(ue)}catch(Q){console.error("Failed to fetch leave requests:",Q),I("Failed to load leave requests. Please try again later.")}finally{S(!1)}},E=(Q,ue,ie)=>{if(Q)return 1;if(ue&&ie){const oe=new Date(ue),J=new Date(ie),re=Math.abs(J-oe);return Math.ceil(re/(1e3*60*60*24))+1}return 1},D=R.filter(Q=>Q.status==="Pending").length,G=R.filter(Q=>Q.status==="Approved").length,K=R.filter(Q=>Q.status==="HR_Approved").length,X=R.filter(Q=>Q.status==="Rejected").length,se=R.filter(Q=>Q.status==="Manager Approved").length,Z=async Q=>{if((await Me.fire({title:"Approve Leave?",text:"An email notification will be sent to the employee",icon:"question",showCancelButton:!0,confirmButtonColor:"#4ade80",cancelButtonColor:"#d1d5db",confirmButtonText:"Yes, approve it!",cancelButtonText:"Cancel"})).isConfirmed)try{T(!0),await u1(Q,{status:"HR_Approved"}),F(ie=>ie.map(oe=>oe.id===Q?{...oe,status:"HR_Approved",approvedBy:"Current HR Manager",approvedDate:new Date().toISOString().split("T")[0]}:oe)),Me.fire({icon:"success",title:"Approved!",text:"Leave request has been approved. Email sent to employee.",confirmButtonColor:"#3b82f6"}),w()}catch(ie){console.error("Failed to approve leave request:",ie),Me.fire({icon:"error",title:"Failed",text:"Could not approve leave request. Please try again.",confirmButtonColor:"#3b82f6"})}finally{T(!1)}},ee=Q=>{A(Q),_(""),y(!0)},ce=async()=>{if(b.trim()&&k)try{T(!0),await u1(k,{status:"Rejected",rejection_reason:b}),F(Q=>Q.map(ue=>ue.id===k?{...ue,status:"Rejected",rejectedBy:"Current Manager",rejectedDate:new Date().toISOString().split("T")[0],rejectionReason:b}:ue)),y(!1),A(null),_(""),Me.fire({icon:"success",title:"Rejected!",text:"Leave request has been rejected. Email sent to employee.",confirmButtonColor:"#3b82f6"}),w()}catch(Q){console.error("Failed to reject leave request:",Q),Me.fire({icon:"error",title:"Failed",text:"Could not reject leave request. Please try again.",confirmButtonColor:"#3b82f6"})}finally{T(!1)}},U=R.filter(Q=>{const ue=Q.employeeNo.toLowerCase().includes(t.toLowerCase())||Q.employeeName.toLowerCase().includes(t.toLowerCase())||Q.reason.toLowerCase().includes(t.toLowerCase()),ie=r==="All"||Q.status===r,oe=!n||Q.department===n,J=!o||Q.leaveType===o;let re=!0;return d&&(re=Q.startDate>=d),h&&(re=re&&Q.endDate<=h),ue&&ie&&oe&&J&&re}),O=Q=>{if(!Q)return"N/A";const ue={weekday:"short",year:"numeric",month:"short",day:"numeric"};try{return new Date(Q).toLocaleDateString(void 0,ue)}catch{return Q||"N/A"}},z=Q=>{switch(Q){case"Approved":return"bg-green-100 text-green-800";case"HR_Approved":return"bg-blue-100 text-blue-800";case"Manager Approved":return"bg-indigo-100 text-indigo-800";case"Rejected":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},q=Q=>{switch(Q){case"Approved":return e.jsx(vs,{className:"w-4 h-4 text-green-600"});case"HR_Approved":return e.jsx(cn,{className:"w-4 h-4 text-blue-600"});case"Manager Approved":return e.jsx(cn,{className:"w-4 h-4 text-indigo-600"});case"Rejected":return e.jsx(Jl,{className:"w-4 h-4 text-red-600"});default:return e.jsx(Ns,{className:"w-4 h-4 text-yellow-600"})}},te=()=>{a("Pending"),i(""),l(""),u(""),f(""),s("")};[...new Set(R.map(Q=>Q.department).filter(Boolean))];const ge=[...new Set(R.map(Q=>Q.leaveType).filter(Boolean))];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-slate-50 to-gray-100 py-4 sm:py-8",children:[B&&e.jsx("div",{className:"fixed inset-0 bg-opacity-50 z-[100] flex items-center justify-center backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl flex flex-col items-center",children:[e.jsx("div",{className:"w-20 h-20 mb-4",children:e.jsxs("svg",{className:"animate-spin w-full h-full text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),e.jsx("p",{className:"text-lg font-medium text-gray-700",children:"Sending email notification..."}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please wait, this may take a moment"})]})}),e.jsx("div",{className:"container mx-auto px-3 sm:px-4 max-w-7xl",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl border border-gray-200/50 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-slate-800 to-gray-900 px-4 sm:px-8 py-6 sm:py-8",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white text-center",children:"Leave Approval"}),e.jsx("p",{className:"text-slate-300 text-center mt-2 text-sm sm:text-base",children:"Review and manage employee leave requests"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 p-4 sm:p-6 lg:p-8",children:[e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:D})]}),e.jsx("div",{className:"p-3 bg-yellow-100 rounded-xl",children:e.jsx(Ns,{className:"w-6 h-6 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:G})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:e.jsx(fi,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rejected"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:X})]}),e.jsx("div",{className:"p-3 bg-red-100 rounded-xl",children:e.jsx(zt,{className:"w-6 h-6 text-red-600"})})]})}),e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Manager Approved"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:se})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:e.jsx(cn,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"HR Approved"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:K})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:e.jsx(cn,{className:"w-6 h-6 text-blue-600"})})]})})]}),e.jsx("div",{className:"px-4 sm:px-6 lg:px-8 pb-6",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(un,{className:"h-5 w-5 text-gray-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Filter Requests"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:r,onChange:Q=>a(Q.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 bg-white shadow-sm",children:[e.jsx("option",{value:"All",children:"All Statuses"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"HR_Approved",children:"HR Approved"}),e.jsx("option",{value:"Manager Approved",children:"Manager Approved"}),e.jsx("option",{value:"Approved",children:"Approved"}),e.jsx("option",{value:"Rejected",children:"Rejected"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Leave Type"}),e.jsxs("select",{value:o,onChange:Q=>l(Q.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 bg-white shadow-sm",children:[e.jsx("option",{value:"",children:"All Leave Types"}),ge.map(Q=>e.jsx("option",{value:Q,children:Q},Q))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),e.jsx("input",{type:"date",value:d,onChange:Q=>u(Q.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 bg-white shadow-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),e.jsx("input",{type:"date",value:h,onChange:Q=>f(Q.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 bg-white shadow-sm"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(or,{className:"absolute left-3 top-3.5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by employee name, number or reason...",value:t,onChange:Q=>s(Q.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]}),e.jsxs("button",{onClick:te,className:"px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl transition-colors flex items-center justify-center gap-2",children:[e.jsx(zt,{className:"w-4 h-4"}),"Reset Filters"]})]})]})}),e.jsx("div",{className:"px-4 sm:px-6 lg:px-8 pb-8",children:e.jsx("div",{className:"bg-white rounded-xl shadow border border-gray-200 overflow-hidden",children:V?e.jsxs("div",{className:"flex items-center justify-center py-20",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),e.jsx("p",{className:"ml-3 text-gray-600",children:"Loading leave requests..."})]}):L?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(Hs,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-red-800 mb-2",children:"Error Loading Data"}),e.jsx("p",{className:"text-gray-600",children:L}),e.jsx("button",{onClick:w,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Leave Type"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:U.length>0?U.map(Q=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-medium",children:Q.employeeName.split(" ").map(ue=>ue[0]).join("")})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:Q.employeeName}),e.jsx("div",{className:"text-sm text-gray-500",children:Q.employeeNo})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:Q.leaveType}),e.jsxs("div",{className:"text-xs text-gray-500",children:[O(Q.startDate)," -"," ",O(Q.endDate)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[Q.duration," day",Q.duration!==1?"s":""]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${z(Q.status)}`,children:[q(Q.status),e.jsx("span",{className:"ml-1.5",children:Q.status})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm",children:e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx("button",{onClick:()=>g(p===Q.id?null:Q.id),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",title:"View Details",children:e.jsx(Or,{size:18})}),Q.status==="Pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>Z(Q.id),className:"p-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",title:"Approve",children:e.jsx(fi,{size:18})}),e.jsx("button",{onClick:()=>ee(Q.id),className:"p-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",title:"Reject",children:e.jsx(zt,{size:18})})]})]})})]},Q.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-10 text-center text-gray-500",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(ys,{className:"h-12 w-12 text-gray-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium mb-1",children:"No leave requests found"}),e.jsx("p",{className:"text-sm",children:"Adjust your filters or try a different search term"})]})})})})]})})})}),p!==null&&e.jsx("div",{className:"fixed inset-0 bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Leave Request Details"}),e.jsx("button",{onClick:()=>g(null),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:e.jsx(zt,{size:20})})]}),R.find(Q=>Q.id===p)&&e.jsx("div",{className:"p-6",children:(()=>{const Q=R.find(ue=>ue.id===p);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-16 w-16 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-medium text-xl",children:Q.employeeName.split(" ").map(ue=>ue[0]).join("")})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h4",{className:"text-xl font-bold text-gray-900",children:Q.employeeName}),e.jsxs("p",{className:"text-gray-500",children:[Q.employeeNo,"  ",Q.department]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Leave Type"}),e.jsx("p",{className:"text-lg font-medium text-gray-900",children:Q.leaveType})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Status"}),e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${z(Q.status)}`,children:[q(Q.status),e.jsx("span",{className:"ml-1.5",children:Q.status})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Duration"}),e.jsxs("p",{className:"text-lg font-medium text-gray-900",children:[Q.duration," day",Q.duration!==1?"s":""]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Date Range"}),e.jsxs("p",{className:"text-lg font-medium text-gray-900",children:[O(Q.startDate)," -"," ",O(Q.endDate)]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Reason"}),e.jsx("p",{className:"text-gray-900 bg-gray-50 p-4 rounded-lg",children:Q.reason})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Submitted On"}),e.jsx("p",{className:"text-gray-900",children:O(Q.submittedDate)})]}),Q.status==="Approved"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Approved By"}),e.jsx("p",{className:"text-gray-900",children:Q.approvedBy})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Approved Date"}),e.jsx("p",{className:"text-gray-900",children:O(Q.approvedDate)})]})]}),Q.status==="Rejected"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Rejected By"}),e.jsx("p",{className:"text-gray-900",children:Q.rejectedBy})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Rejected Date"}),e.jsx("p",{className:"text-gray-900",children:O(Q.rejectedDate)})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Rejection Reason"}),e.jsx("p",{className:"text-red-700 bg-red-50 p-4 rounded-lg",children:Q.rejectionReason})]})]})]}),Q.status==="Pending"&&e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:()=>{ee(Q.id),g(null)},className:"px-5 py-2 bg-white border border-red-300 text-red-700 rounded-lg hover:bg-red-50 transition-colors",children:"Reject Request"}),e.jsx("button",{onClick:()=>{Z(Q.id),g(null)},className:"px-5 py-2 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 transition-colors shadow",children:"Approve Request"})]})]})})()})]})}),v&&e.jsx("div",{className:"fixed inset-0 bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Reject Leave Request"}),e.jsx("button",{onClick:()=>y(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:e.jsx(zt,{size:20})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Reason for Rejection"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:b,onChange:Q=>_(Q.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none",placeholder:"Please provide a reason for rejecting this leave request..."})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:ce,disabled:!b.trim(),className:`px-4 py-2 ${b.trim()?"bg-red-600 hover:bg-red-700":"bg-red-300 cursor-not-allowed"} text-white rounded-lg transition-colors`,children:"Confirm Rejection"})]})]})]})})]})})]})},nae=()=>{const[t,s]=N.useState(""),[r,a]=N.useState(""),[n,i]=N.useState(""),[o,l]=N.useState(""),[d,u]=N.useState(""),[h,f]=N.useState(null),[p,g]=N.useState(!1),[v,y]=N.useState(""),[b,_]=N.useState(null),[k,A]=N.useState([]),[R,F]=N.useState(!1),[V,S]=N.useState(null),[L,I]=N.useState(!1);N.useEffect(()=>{B()},[]);const B=async()=>{F(!0),S(null);try{const q=(await LD()).map(te=>{var ge,Q,ue,ie,oe,J,re,ve,pe;return{id:te.id,employeeNo:((Q=(ge=te.employee)==null?void 0:ge.attendance_employee_no)==null?void 0:Q.toString())||((ue=te.employee_id)==null?void 0:ue.toString())||"N/A",employeeName:((ie=te.employee)==null?void 0:ie.full_name)||((oe=te.employee)==null?void 0:oe.name_with_initials)||"Unknown Employee",department:((ve=(re=(J=te.employee)==null?void 0:J.organization_assignment)==null?void 0:re.department)==null?void 0:ve.name)||"N/A",leaveType:te.leave_type,startDate:te.leave_date||te.leave_from,endDate:te.leave_date||te.leave_to,duration:T(te.leave_date,te.leave_from,te.leave_to),reason:te.reason||"No reason provided",status:te.status||"Pending",submittedDate:((pe=te.created_at)==null?void 0:pe.split("T")[0])||new Date().toISOString().split("T")[0],approvedBy:te.approved_by||"",approvedDate:te.approved_date||"",rejectedBy:te.rejected_by||"",rejectedDate:te.rejected_date||"",rejectionReason:te.rejection_reason||""}});A(q)}catch(z){console.error("Failed to fetch leave requests:",z),S("Failed to load leave requests. Please try again later.")}finally{F(!1)}},T=(z,q,te)=>{if(z)return 1;if(q&&te){const ge=new Date(q),Q=new Date(te),ue=Math.abs(Q-ge);return Math.ceil(ue/(1e3*60*60*24))+1}return 1},w=k.filter(z=>z.status==="Manager Approved"||z.status==="HR_Approved").length,E=k.filter(z=>z.status==="Approved").length,D=k.filter(z=>z.status==="Rejected").length,G=async z=>{if((await Me.fire({title:"Approve Leave?",text:"An email notification will be sent to the employee",icon:"question",showCancelButton:!0,confirmButtonColor:"#4ade80",cancelButtonColor:"#d1d5db",confirmButtonText:"Yes, approve it!",cancelButtonText:"Cancel"})).isConfirmed)try{I(!0),await u1(z,{status:"Approved"}),A(te=>te.map(ge=>ge.id===z?{...ge,status:"Approved",hrApprovedBy:"HR Director",hrApprovedDate:new Date().toISOString().split("T")[0]}:ge)),Me.fire({icon:"success",title:"Approved!",text:"Leave request has been approved. Email sent to employee.",confirmButtonColor:"#3b82f6"}),B()}catch(te){console.error("Failed to approve leave request:",te),Me.fire({icon:"error",title:"Failed",text:"Could not approve leave request. Please try again.",confirmButtonColor:"#3b82f6"})}finally{I(!1)}},K=z=>{_(z),y(""),g(!0)},X=async()=>{if(v.trim()&&b)try{I(!0),await u1(b,{status:"Rejected",rejection_reason:v}),A(z=>z.map(q=>q.id===b?{...q,status:"Rejected",rejectedBy:"HR Director",rejectedDate:new Date().toISOString().split("T")[0],rejectionReason:v}:q)),g(!1),_(null),y(""),Me.fire({icon:"success",title:"Rejected!",text:"Leave request has been rejected. Email sent to employee.",confirmButtonColor:"#3b82f6"}),B()}catch(z){console.error("Failed to reject leave request:",z),Me.fire({icon:"error",title:"Failed",text:"Could not reject leave request. Please try again.",confirmButtonColor:"#3b82f6"})}finally{I(!1)}},se=k.filter(z=>{const q=z.status==="Manager Approved"||z.status==="HR_Approved"||z.status==="Approved"||z.status==="Rejected",te=z.employeeNo.toLowerCase().includes(t.toLowerCase())||z.employeeName.toLowerCase().includes(t.toLowerCase())||z.reason.toLowerCase().includes(t.toLowerCase()),ge=!r||z.department===r,Q=!n||z.leaveType===n;let ue=!0;return o&&(ue=z.startDate>=o),d&&(ue=ue&&z.endDate<=d),q&&te&&ge&&Q&&ue}),Z=z=>{if(!z)return"N/A";const q={weekday:"short",year:"numeric",month:"short",day:"numeric"};try{return new Date(z).toLocaleDateString(void 0,q)}catch{return z||"N/A"}},ee=z=>{switch(z){case"Approved":return"bg-green-100 text-green-800";case"HR_Approved":return"bg-blue-100 text-blue-800";case"Manager Approved":return"bg-blue-100 text-blue-800";case"Rejected":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},ce=z=>{switch(z){case"Approved":return e.jsx(vs,{className:"w-4 h-4 text-green-600"});case"HR_Approved":return e.jsx(cn,{className:"w-4 h-4 text-blue-600"});case"Manager Approved":return e.jsx(cn,{className:"w-4 h-4 text-blue-600"});case"Rejected":return e.jsx(Jl,{className:"w-4 h-4 text-red-600"});default:return e.jsx(Ns,{className:"w-4 h-4 text-yellow-600"})}},U=()=>{a(""),i(""),l(""),u(""),s("")};[...new Set(k.map(z=>z.department).filter(Boolean))];const O=[...new Set(k.map(z=>z.leaveType).filter(Boolean))];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-slate-50 to-gray-100 py-4 sm:py-8",children:[L&&e.jsx("div",{className:"fixed inset-0 bg-opacity-50 z-[100] flex items-center justify-center backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl flex flex-col items-center",children:[e.jsx("div",{className:"w-20 h-20 mb-4",children:e.jsxs("svg",{className:"animate-spin w-full h-full text-purple-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),e.jsx("p",{className:"text-lg font-medium text-gray-700",children:"Sending email notification..."}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please wait, this may take a moment"})]})}),e.jsx("div",{className:"container mx-auto px-3 sm:px-4 max-w-7xl",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl border border-gray-200/50 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-800 to-indigo-900 px-4 sm:px-8 py-6 sm:py-8",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(P0,{className:"h-10 w-10 text-white opacity-80 mr-3"}),e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white text-center",children:"HR Leave Approval"})]}),e.jsx("p",{className:"text-purple-200 text-center mt-2 text-sm sm:text-base",children:"Final approval stage for employee leave requests"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 p-4 sm:p-6 lg:p-8",children:[e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending HR Approval"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:w})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:e.jsx(cn,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:E})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:e.jsx(fi,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rejected"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:D})]}),e.jsx("div",{className:"p-3 bg-red-100 rounded-xl",children:e.jsx(zt,{className:"w-6 h-6 text-red-600"})})]})})]}),e.jsx("div",{className:"px-4 sm:px-6 lg:px-8 pb-6",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(un,{className:"h-5 w-5 text-gray-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Filter Requests"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Leave Type"}),e.jsxs("select",{value:n,onChange:z=>i(z.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all duration-200 bg-white shadow-sm",children:[e.jsx("option",{value:"",children:"All Leave Types"}),O.map(z=>e.jsx("option",{value:z,children:z},z))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),e.jsx("input",{type:"date",value:o,onChange:z=>l(z.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all duration-200 bg-white shadow-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),e.jsx("input",{type:"date",value:d,onChange:z=>u(z.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all duration-200 bg-white shadow-sm"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(or,{className:"absolute left-3 top-3.5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by employee name, number or reason...",value:t,onChange:z=>s(z.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200"})]}),e.jsxs("button",{onClick:U,className:"px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl transition-colors flex items-center justify-center gap-2",children:[e.jsx(zt,{className:"w-4 h-4"}),"Reset Filters"]})]})]})}),e.jsx("div",{className:"px-4 sm:px-6 lg:px-8 pb-8",children:e.jsx("div",{className:"bg-white rounded-xl shadow border border-gray-200 overflow-hidden",children:R?e.jsxs("div",{className:"flex items-center justify-center py-20",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),e.jsx("p",{className:"ml-3 text-gray-600",children:"Loading leave requests..."})]}):V?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(Hs,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-red-800 mb-2",children:"Error Loading Data"}),e.jsx("p",{className:"text-gray-600",children:V}),e.jsx("button",{onClick:B,className:"mt-4 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Try Again"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Leave Type"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:se.length>0?se.map(z=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-medium",children:z.employeeName.split(" ").map(q=>q[0]).join("")})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:z.employeeName}),e.jsx("div",{className:"text-sm text-gray-500",children:z.employeeNo})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:z.leaveType}),e.jsxs("div",{className:"text-xs text-gray-500",children:[Z(z.startDate)," -"," ",Z(z.endDate)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ee(z.status)}`,children:[ce(z.status),e.jsx("span",{className:"ml-1.5",children:z.status})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm",children:e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx("button",{onClick:()=>f(h===z.id?null:z.id),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",title:"View Details",children:e.jsx(Or,{size:18})}),(z.status==="Manager Approved"||z.status==="HR_Approved")&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>G(z.id),className:"p-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",title:"Approve",children:e.jsx(fi,{size:18})}),e.jsx("button",{onClick:()=>K(z.id),className:"p-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",title:"Reject",children:e.jsx(zt,{size:18})})]})]})})]},z.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-10 text-center text-gray-500",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(ys,{className:"h-12 w-12 text-gray-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium mb-1",children:"No leave requests found"}),e.jsx("p",{className:"text-sm",children:"Adjust your filters or try a different search term"})]})})})})]})})})}),h!==null&&e.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Leave Request Details"}),e.jsx("button",{onClick:()=>f(null),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:e.jsx(zt,{size:20})})]}),k.find(z=>z.id===h)&&e.jsx("div",{className:"p-6",children:(()=>{const z=k.find(q=>q.id===h);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-16 w-16 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-medium text-xl",children:z.employeeName.split(" ").map(q=>q[0]).join("")})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h4",{className:"text-xl font-bold text-gray-900",children:z.employeeName}),e.jsxs("p",{className:"text-gray-500",children:[z.employeeNo,"  ",z.department]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Leave Type"}),e.jsx("p",{className:"text-lg font-medium text-gray-900",children:z.leaveType})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Status"}),e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${ee(z.status)}`,children:[ce(z.status),e.jsx("span",{className:"ml-1.5",children:z.status})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Duration"}),e.jsxs("p",{className:"text-lg font-medium text-gray-900",children:[z.duration," day",z.duration!==1?"s":""]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Date Range"}),e.jsxs("p",{className:"text-lg font-medium text-gray-900",children:[Z(z.startDate)," -"," ",Z(z.endDate)]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Reason"}),e.jsx("p",{className:"text-gray-900 bg-gray-50 p-4 rounded-lg",children:z.reason})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Manager Approval"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(cn,{className:"w-4 h-4 text-blue-600"}),e.jsx("p",{className:"text-gray-900 font-medium",children:z.approvedBy||"Not yet approved"})]}),z.approvedDate&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Z(z.approvedDate)})]}),z.status==="Approved"&&e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"HR Approval"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vs,{className:"w-4 h-4 text-green-600"}),e.jsx("p",{className:"text-gray-900 font-medium",children:z.hrApprovedBy||"HR Director"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Z(z.hrApprovedDate)||Z(new Date)})]}),z.status==="Rejected"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Rejected By"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Jl,{className:"w-4 h-4 text-red-600"}),e.jsx("p",{className:"text-gray-900 font-medium",children:z.rejectedBy})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Z(z.rejectedDate)})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Rejection Reason"}),e.jsx("p",{className:"text-red-700 bg-red-50 p-4 rounded-lg",children:z.rejectionReason})]})]})]}),(z.status==="Manager Approved"||z.status==="HR_Approved")&&e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:()=>{K(z.id),f(null)},className:"px-5 py-2 bg-white border border-red-300 text-red-700 rounded-lg hover:bg-red-50 transition-colors",children:"Reject Request"}),e.jsx("button",{onClick:()=>{G(z.id),f(null)},className:"px-5 py-2 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 transition-colors shadow",children:"Approve Request"})]})]})})()})]})}),p&&e.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Reject Leave Request"}),e.jsx("button",{onClick:()=>g(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:e.jsx(zt,{size:20})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Reason for Rejection"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:v,onChange:z=>y(z.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all resize-none",placeholder:"Please provide a reason for rejecting this leave request..."})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:X,disabled:!v.trim(),className:`px-4 py-2 ${v.trim()?"bg-red-600 hover:bg-red-700":"bg-red-300 cursor-not-allowed"} text-white rounded-lg transition-colors`,children:"Confirm Rejection"})]})]})]})})]})})]})},ex={getAllResignations:async(t={})=>{try{return(await Ze.get("/resignations",{params:t})).data}catch(s){throw s.response.data}},createResignation:async t=>{try{if(t.documents&&t.documents.length>0){const a=t.documents.filter(n=>n.size>5242880);if(a.length>0)throw{response:{data:{errors:{documents:[`The following files exceed 5MB limit: ${a.map(i=>i.name).join(", ")}`]}}}}}const s=new FormData;return s.append("employee_id",t.employee_id),s.append("resigning_date",t.resigning_date),s.append("last_working_day",t.last_working_day),s.append("resignation_reason",t.resignation_reason),t.documents&&t.documents.length>0&&t.documents.forEach((a,n)=>{s.append(`documents[${n}]`,a)}),(await Ze.post("/resignations",s,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(s){throw s.response&&s.response.data&&s.response.data.message==="This employee already has a pending resignation request"?{response:{data:{errors:{employee_id:["This employee already has a pending resignation request"]}}}}:s.response&&s.response.data&&s.response.data.errors&&s.response.data.errors.documents?{response:{data:{errors:{documents:s.response.data.errors.documents}}}}:s.response?s.response.data:s}},getResignationById:async t=>{try{return(await Ze.get(`/resignations/${t}`)).data}catch(s){throw s.response.data}},updateResignationStatus:async(t,s)=>{try{return(await Ze.put(`/resignations/${t}/status`,s)).data}catch(r){throw r.response.data}},uploadDocuments:async(t,s)=>{try{const r=s.filter(i=>i.size>5242880);if(r.length>0)throw{response:{data:{errors:{documents:[`The following files exceed 5MB limit: ${r.map(o=>o.name).join(", ")}`]}}}};const a=new FormData;return s.forEach((i,o)=>{a.append(`documents[${o}]`,i)}),(await Ze.post(`/resignations/${t}/documents`,a,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(r){throw r.response&&r.response.data&&r.response.data.errors&&r.response.data.errors.documents?{response:{data:{errors:{documents:r.response.data.errors.documents}}}}:r.response?r.response.data:r}},deleteDocument:async(t,s)=>{try{return await Ze.delete(`/resignations/${t}/documents/${s}`),!0}catch(r){throw r.response.data}}},iae=()=>{const[t,s]=N.useState({employee_id:"",employee_name:"",employee_number:"",resigning_date:"",last_working_day:"",resignation_reason:"",documents:[]}),[r,a]=N.useState([]),[n,i]=N.useState([]),[o,l]=N.useState(!1),[d,u]=N.useState(""),[h,f]=N.useState([]),[p,g]=N.useState(!1),[v,y]=N.useState({}),[b,_]=N.useState("");N.useEffect(()=>{(async()=>{try{g(!0);const T=await ul.fetchEmployees();a(T),i(T);const w=await ex.getAllResignations();f(w.data)}catch(T){console.error("Error fetching data:",T)}finally{g(!1)}})()},[]),N.useEffect(()=>{if(d.trim()==="")i(r);else{const B=r.filter(T=>String(T.attendance_employee_no).toLowerCase().includes(d.toLowerCase())||T.full_name.toLowerCase().includes(d.toLowerCase())||T.id.toString().includes(d));i(B)}},[d,r]);const k=B=>{const{name:T,value:w}=B.target;s({...t,[T]:w}),v[T]&&y({...v,[T]:null})},A=B=>{s({...t,employee_id:B.id,employee_name:B.full_name,employee_number:B.attendance_employee_no}),l(!1),u("")},R=B=>{const T=Array.from(B.target.files),w=5*1024*1024,E=T.filter(D=>D.size>w);if(E.length>0){const D=["The following files exceed 5MB limit:",...E.map(G=>` ${G.name} (${(G.size/1048576).toFixed(2)}MB)`)].join(`
`);y({...v,documents:[D]});return}s({...t,documents:[...t.documents,...T]}),v.documents&&y({...v,documents:null})},F=B=>{const T=[...t.documents];T.splice(B,1),s({...t,documents:T})},V=()=>{var w;const B={};if(t.employee_id||(B.employee_id="Please select an employee"),t.resigning_date||(B.resigning_date="Resignation date is required"),t.last_working_day?new Date(t.last_working_day)<new Date(t.resigning_date)&&(B.last_working_day="Last working day must be on or after resignation date"):B.last_working_day="Last working day is required",t.resignation_reason?t.resignation_reason.length<10&&(B.resignation_reason="Reason must be at least 10 characters long"):B.resignation_reason="Resignation reason is required",((w=t.documents)==null?void 0:w.length)>0){const E=t.documents.filter(D=>D.size>5242880);E.length>0&&(B.documents=["The following files exceed 5MB limit:",...E.map(D=>` ${D.name} (${(D.size/(1024*1024)).toFixed(2)}MB)`)])}return B},S=async B=>{var w,E,D,G;B.preventDefault();const T=V();if(Object.keys(T).length>0){y(T);const K=[];Object.values(T).forEach(X=>{Array.isArray(X)?K.push(...X):K.push(X)}),Me.fire({icon:"error",title:"Form Errors",html:K.map(X=>`<div>${X}</div>`).join("")});return}try{g(!0);const K={employee_id:t.employee_id,resigning_date:t.resigning_date,last_working_day:t.last_working_day,resignation_reason:t.resignation_reason,documents:t.documents};await ex.createResignation(K),s({employee_id:"",employee_name:"",employee_number:"",resigning_date:"",last_working_day:"",resignation_reason:"",documents:[]}),y({}),_("Resignation submitted successfully!");const X=await ex.getAllResignations();f(X.data),Me.fire({icon:"success",title:"Success!",text:"Resignation submitted successfully!",timer:2e3})}catch(K){console.error("Error submitting resignation:",K);let X="An error occurred while submitting the resignation";((E=(w=K.response)==null?void 0:w.data)==null?void 0:E.message)==="This employee already has a pending resignation request"?X="This employee already has a pending resignation request":(G=(D=K.response)==null?void 0:D.data)!=null&&G.errors&&(X=Object.values(K.response.data.errors).flat().join(`
`)),Me.fire({icon:"error",title:"Error",text:X})}finally{g(!1)}},L=B=>{if(!B)return"N/A";const T={year:"numeric",month:"short",day:"numeric"};return new Date(B).toLocaleDateString(void 0,T)},I=B=>{switch(B){case"pending":return"bg-orange-100 text-orange-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsx("div",{className:"space-y-8",children:p&&r.length===0&&h.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-24",children:[e.jsxs("svg",{className:"animate-spin h-10 w-10 text-blue-500 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),e.jsx("div",{className:"text-lg text-blue-600 font-semibold",children:"Loading data..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[e.jsx(xs,{className:"text-blue-500",size:20}),"Manage Resignation Details"]})}),e.jsxs("form",{onSubmit:S,className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("label",{className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:[e.jsx(er,{className:"text-blue-500",size:18}),"Search Employee"]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:d,onChange:B=>{u(B.target.value),l(!0)},onFocus:()=>l(!0),placeholder:"Search by ID, name or employee number...",className:`w-full pl-10 pr-8 py-2 border ${v.employee_id?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white`,disabled:p}),e.jsx(or,{className:"absolute left-3 top-2.5 text-gray-400",size:18})]}),o&&e.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white shadow-lg rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 focus:outline-none max-h-60 overflow-auto",children:n.length===0?e.jsx("div",{className:"px-4 py-2 text-gray-500",children:"No employees found"}):n.map(B=>e.jsx("div",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer flex justify-between items-center",onClick:()=>A(B),children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:B.full_name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",B.id," |"," ",B.attendance_employee_no," |"," ",B.department]})]})},B.id))}),v.employee_id&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:v.employee_id})]}),t.employee_id&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800",children:t.employee_name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Employee No: ",t.employee_number]})]}),e.jsx("button",{type:"button",onClick:()=>{s(B=>({...B,employee_id:"",employee_name:"",employee_number:""})),u("")},className:"text-red-500 hover:text-red-700",children:e.jsx(zt,{size:18})})]})})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("h3",{className:"font-medium text-gray-700 mb-2 flex items-center gap-2",children:[e.jsx(ys,{className:"text-blue-500",size:18}),"Resignation Submission Date"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"date",name:"resigning_date",value:t.resigning_date,onChange:k,className:`w-full md:w-1/2 pl-10 pr-3 py-2 border ${v.resigning_date?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white`,disabled:p}),e.jsx(ys,{className:"absolute left-3 top-2.5 text-gray-400",size:18}),v.resigning_date&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:v.resigning_date})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("h3",{className:"font-medium text-gray-700 mb-2 flex items-center gap-2",children:[e.jsx(ys,{className:"text-blue-500",size:18}),"Last Working Day"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"date",name:"last_working_day",value:t.last_working_day,onChange:k,className:`w-full md:w-1/2 pl-10 pr-3 py-2 border ${v.last_working_day?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white`,disabled:p}),e.jsx(ys,{className:"absolute left-3 top-2.5 text-gray-400",size:18}),v.last_working_day&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:v.last_working_day})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("label",{className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:[e.jsx(xs,{className:"text-blue-500",size:18}),"Resignation Reason"]}),e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{name:"resignation_reason",value:t.resignation_reason,onChange:k,rows:"4",placeholder:"Please provide the reason for resignation",className:`w-full pl-10 pr-3 py-2 border ${v.resignation_reason?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white resize-none`,disabled:p}),e.jsx(xs,{className:"absolute left-3 top-2.5 text-gray-400",size:18}),v.resignation_reason&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:v.resignation_reason})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("label",{className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:[e.jsx(hl,{className:"text-blue-500",size:18}),"Upload Documents (Max 5MB each)"]}),e.jsxs("label",{className:"flex flex-col items-center justify-center w-full p-6 border-2 border-dashed rounded-lg cursor-pointer bg-white hover:bg-gray-50 transition-colors mb-4",style:{borderColor:v.documents?"#ef4444":"#d1d5db"},children:[e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(hl,{className:"w-10 h-10 mb-3 text-gray-400"}),e.jsxs("p",{className:"mb-1 text-sm text-gray-500",children:[e.jsx("span",{className:"font-semibold text-blue-500",children:"Click to upload"})," ","or drag and drop"]}),e.jsx("p",{className:"text-xs text-gray-400",children:"PDF, DOC, DOCX, JPG, PNG (MAX. 5MB each)"})]}),e.jsx("input",{type:"file",name:"documents",onChange:R,className:"hidden",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",multiple:!0,disabled:p})]}),t.documents.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h4",{className:"font-medium text-gray-700",children:["Uploaded Documents (",t.documents.length,")"]}),t.documents.map((B,T)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-green-100 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-50 rounded-full",children:e.jsx(xs,{className:"text-green-500",size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800 text-sm",children:B.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(B.size/(1024*1024)).toFixed(2)," MB"]})]})]}),e.jsx("button",{type:"button",onClick:()=>F(T),className:"p-1 text-red-500 hover:bg-red-50 rounded-full transition-colors",title:"Remove",disabled:p,children:e.jsx(zt,{size:16})})]},T))]}),v.documents&&e.jsx("div",{className:"mt-2 p-2 bg-red-50 text-red-600 rounded text-sm",children:v.documents.map((B,T)=>e.jsx("p",{children:B},T))})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors shadow-md flex items-center gap-2 disabled:opacity-50",disabled:p,children:p?"Submitting...":e.jsxs(e.Fragment,{children:[b?e.jsx(fi,{size:18}):null,b?"Submitted":"Submit Resignation"]})})})]}),b&&e.jsxs("div",{className:"mt-6 p-4 bg-green-50 text-green-700 rounded-lg flex items-center gap-2",children:[e.jsx(vs,{className:"text-green-500",size:20}),b]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-6 flex items-center gap-2",children:[e.jsx(xs,{className:"text-blue-500",size:20}),"Resignation Records"]}),p&&h.length===0?e.jsx("div",{className:"text-center py-8",children:"Loading resignations..."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee No"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Resignation Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Working Day"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(B=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(()=>{const T=r.find(w=>w.id===B.employee_id);return T?T.full_name:"N/A"})()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(()=>{const T=r.find(w=>w.id===B.employee_id);return T?T.attendance_employee_no:"N/A"})()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:L(B.resigning_date)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:L(B.last_working_day)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 max-w-xs truncate",children:B.resignation_reason}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${I(B.status)}`,children:B.status})})]},B.id))})]})})]})]})})},oae=()=>{const[t,s]=N.useState(""),[r,a]=N.useState("All"),[n,i]=N.useState(""),[o,l]=N.useState(""),[d,u]=N.useState(null),[h,f]=N.useState(!0),[p,g]=N.useState(null),[v,y]=N.useState(!1),[b,_]=N.useState(""),[k,A]=N.useState(null),[R,F]=N.useState(!1),[V,S]=N.useState(null),[L,I]=N.useState(""),[B,T]=N.useState(""),[w,E]=N.useState([]);N.useEffect(()=>{D()},[]);const D=async()=>{try{f(!0),g(null);const oe=(await ex.getAllResignations()).data.map(J=>{var re,ve,pe,ae,he,Te,Ie,Be,Le,Ee,Ve,mt,gt,Pe,Ae;return{id:J.id,employeeNo:((ve=(re=J.employee)==null?void 0:re.attendance_employee_no)==null?void 0:ve.toString())||"N/A",employeeName:((pe=J.employee)==null?void 0:pe.full_name)||((ae=J.employee)==null?void 0:ae.name_with_initials)||"Unknown Employee",department:((Ie=(Te=(he=J.employee)==null?void 0:he.organization_assignment)==null?void 0:Te.department)==null?void 0:Ie.name)||"N/A",position:((Ee=(Le=(Be=J.employee)==null?void 0:Be.organization_assignment)==null?void 0:Le.designation)==null?void 0:Ee.name)||"N/A",submittedDate:((Ve=J.created_at)==null?void 0:Ve.split("T")[0])||new Date().toISOString().split("T")[0],requestedDate:J.resigning_date,reason:J.resignation_reason||"No reason provided",status:J.status,approvedBy:J.processed_by_name||"",approvedDate:((mt=J.processed_at)==null?void 0:mt.split("T")[0])||"",rejectedBy:J.processed_by_name||"",rejectedDate:((gt=J.processed_at)==null?void 0:gt.split("T")[0])||"",rejectionReason:J.notes||"",yearsOfService:G((Ae=(Pe=J.employee)==null?void 0:Pe.organization_assignment)==null?void 0:Ae.date_of_joining),terminationDate:J.last_working_day||""}});E(oe),f(!1)}catch(ie){console.error("Failed to fetch resignation requests:",ie),g("Failed to load resignation requests. Please try again later."),f(!1)}},G=ie=>{if(!ie)return 0;const oe=new Date(ie),re=(new Date-oe)/(365*24*60*60*1e3);return parseFloat(re.toFixed(1))},K=w.filter(ie=>{const oe=ie.employeeNo.toLowerCase().includes(t.toLowerCase())||ie.employeeName.toLowerCase().includes(t.toLowerCase())||ie.reason.toLowerCase().includes(t.toLowerCase())||ie.department.toLowerCase().includes(t.toLowerCase()),J=r==="All"||ie.status===r;let re=!0;return n&&(re=ie.requestedDate>=n),o&&(re=re&&ie.requestedDate<=o),oe&&J&&re}),X=w.filter(ie=>ie.status==="pending").length,se=w.filter(ie=>ie.status==="approved").length,Z=w.filter(ie=>ie.status==="rejected").length,ee=w.length,ce=ie=>{u(ie)},U=ie=>{S(ie);const oe=w.find(J=>J.id===ie);I(oe.terminationDate||oe.requestedDate),T(""),F(!0)},O=async()=>{if(L)try{await ex.updateResignationStatus(V,{status:"approved",notes:B}),E(ie=>ie.map(oe=>oe.id===V?{...oe,status:"approved",approvedBy:"HR Director",approvedDate:new Date().toISOString().split("T")[0],terminationDate:L,exitNotes:B}:oe)),Me.fire({icon:"success",title:"Resignation Approved",text:"The resignation request has been approved and the employee will be terminated on the specified date.",confirmButtonColor:"#3085d6"}),F(!1),S(null),I(""),T(""),D()}catch(ie){console.error("Error approving resignation:",ie),Me.fire({icon:"error",title:"Error",text:ie.message,confirmButtonColor:"#3085d6"})}},z=ie=>{A(ie),_(""),y(!0)},q=async()=>{if(b.trim())try{await ex.updateResignationStatus(k,{status:"rejected",notes:b}),E(ie=>ie.map(oe=>oe.id===k?{...oe,status:"rejected",rejectedBy:"HR Director",rejectedDate:new Date().toISOString().split("T")[0],rejectionReason:b}:oe)),Me.fire({icon:"success",title:"Resignation Rejected",text:"The resignation request has been rejected with provided reason.",confirmButtonColor:"#3085d6"}),y(!1),A(null),_(""),D()}catch(ie){console.error("Error rejecting resignation:",ie),Me.fire({icon:"error",title:"Error",text:"There was an error rejecting the resignation. Please try again.",confirmButtonColor:"#3085d6"})}},te=ie=>{if(!ie)return"N/A";const oe={year:"numeric",month:"short",day:"numeric"};try{return new Date(ie).toLocaleDateString(void 0,oe)}catch{return ie||"N/A"}},ge=ie=>{switch(ie){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},Q=ie=>{switch(ie){case"approved":return e.jsx(vs,{className:"w-4 h-4 text-green-600"});case"rejected":return e.jsx(Jl,{className:"w-4 h-4 text-red-600"});default:return e.jsx(Ns,{className:"w-4 h-4 text-yellow-600"})}},ue=()=>{a("All"),i(""),l(""),s("")};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-slate-50 to-gray-100 py-4 sm:py-8",children:e.jsx("div",{className:"container mx-auto px-3 sm:px-4 max-w-7xl",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl border border-gray-200/50 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-800 to-gray-900 px-4 sm:px-8 py-6 sm:py-8",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white text-center",children:"Employee Termination"}),e.jsx("p",{className:"text-gray-300 text-center mt-2 text-sm sm:text-base",children:"Review and process employee resignation requests"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 p-4 sm:p-6 lg:p-8",children:[e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Resignations"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:ee})]}),e.jsx("div",{className:"p-3 bg-gray-100 rounded-xl",children:e.jsx(xs,{className:"w-6 h-6 text-gray-600"})})]})}),e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:X})]}),e.jsx("div",{className:"p-3 bg-yellow-100 rounded-xl",children:e.jsx(Ns,{className:"w-6 h-6 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:se})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:e.jsx(fi,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rejected"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:Z})]}),e.jsx("div",{className:"p-3 bg-red-100 rounded-xl",children:e.jsx(zt,{className:"w-6 h-6 text-red-600"})})]})})]}),e.jsx("div",{className:"px-4 sm:px-6 lg:px-8 pb-6",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(un,{className:"h-5 w-5 text-gray-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Filter Requests"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:r,onChange:ie=>a(ie.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:border-red-500 focus:ring-2 focus:ring-red-200 transition-all duration-200 bg-white shadow-sm",children:[e.jsx("option",{value:"All",children:"All Statuses"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),e.jsx("input",{type:"date",value:n,onChange:ie=>i(ie.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:border-red-500 focus:ring-2 focus:ring-red-200 transition-all duration-200 bg-white shadow-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),e.jsx("input",{type:"date",value:o,onChange:ie=>l(ie.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:border-red-500 focus:ring-2 focus:ring-red-200 transition-all duration-200 bg-white shadow-sm"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(or,{className:"absolute left-3 top-3.5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by employee name, number, department or reason...",value:t,onChange:ie=>s(ie.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200"})]}),e.jsxs("button",{onClick:ue,className:"px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl transition-colors flex items-center justify-center gap-2",children:[e.jsx(zt,{className:"w-4 h-4"}),"Reset Filters"]})]})]})}),e.jsx("div",{className:"px-4 sm:px-6 lg:px-8 pb-8",children:e.jsx("div",{className:"bg-white rounded-xl shadow border border-gray-200 overflow-hidden",children:h?e.jsxs("div",{className:"flex items-center justify-center py-20",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"}),e.jsx("p",{className:"ml-3 text-gray-600",children:"Loading resignation requests..."})]}):p?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(j0,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-red-800 mb-2",children:"Error Loading Data"}),e.jsx("p",{className:"text-gray-600",children:p}),e.jsx("button",{onClick:D,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Resignation Date"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Years of Service"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:K.length>0?K.map(ie=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-red-600 font-medium",children:ie.employeeName.split(" ").map(oe=>oe[0]).join("")})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:ie.employeeName}),e.jsx("div",{className:"text-sm text-gray-500",children:ie.employeeNo})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:ie.department}),e.jsx("div",{className:"text-xs text-gray-500",children:ie.position})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:te(ie.requestedDate)}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Submitted: ",te(ie.submittedDate)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[ie.yearsOfService," years"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ge(ie.status)}`,children:[Q(ie.status),e.jsx("span",{className:"ml-1.5",children:ie.status})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm",children:e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx("button",{onClick:()=>ce(ie.id),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",title:"View Details",children:e.jsx(Or,{size:18})}),ie.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>U(ie.id),className:"p-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",title:"Approve & Terminate",children:e.jsx(fi,{size:18})}),e.jsx("button",{onClick:()=>z(ie.id),className:"p-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",title:"Reject",children:e.jsx(zt,{size:18})})]})]})})]},ie.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-10 text-center text-gray-500",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(TF,{className:"h-12 w-12 text-gray-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium mb-1",children:"No resignation requests found"}),e.jsx("p",{className:"text-sm",children:"Adjust your filters or try a different search term"})]})})})})]})})})}),d!==null&&e.jsx("div",{className:"fixed inset-0  bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl mx-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Resignation Request Details"}),e.jsx("button",{onClick:()=>u(null),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:e.jsx(zt,{size:20})})]}),w.find(ie=>ie.id===d)&&e.jsx("div",{className:"p-6",children:(()=>{const ie=w.find(oe=>oe.id===d);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-16 w-16 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-red-600 font-medium text-xl",children:ie.employeeName.split(" ").map(oe=>oe[0]).join("")})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h4",{className:"text-xl font-bold text-gray-900",children:ie.employeeName}),e.jsxs("p",{className:"text-gray-500",children:[ie.employeeNo,"  ",ie.department]})]})]}),e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${ge(ie.status)}`,children:[Q(ie.status),e.jsx("span",{className:"ml-1.5",children:ie.status})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Position"}),e.jsx("p",{className:"text-lg font-medium text-gray-900",children:ie.position})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Years of Service"}),e.jsxs("p",{className:"text-lg font-medium text-gray-900",children:[ie.yearsOfService," years"]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Resignation Date"}),e.jsx("p",{className:"text-lg font-medium text-gray-900",children:te(ie.requestedDate)})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Submitted Date"}),e.jsx("p",{className:"text-lg font-medium text-gray-900",children:te(ie.submittedDate)})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Resignation Reason"}),e.jsx("p",{className:"text-gray-900 bg-gray-50 p-4 rounded-lg",children:ie.reason})]}),ie.status==="approved"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Approved By"}),e.jsx("p",{className:"text-gray-900",children:ie.approvedBy}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:te(ie.approvedDate)})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Termination Date"}),e.jsx("p",{className:"text-gray-900",children:te(ie.terminationDate)})]}),ie.exitNotes&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Exit Notes"}),e.jsx("p",{className:"text-gray-900 bg-gray-50 p-4 rounded-lg",children:ie.exitNotes})]})]}),ie.status==="rejected"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Rejected By"}),e.jsx("p",{className:"text-gray-900",children:ie.rejectedBy}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:te(ie.rejectedDate)})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Rejection Reason"}),e.jsx("p",{className:"text-red-700 bg-red-50 p-4 rounded-lg",children:ie.rejectionReason})]})]})]}),ie.status==="pending"&&e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsxs("button",{onClick:()=>{z(ie.id),u(null)},className:"px-5 py-2 bg-white border border-red-300 text-red-700 rounded-lg hover:bg-red-50 transition-colors flex items-center gap-2",children:[e.jsx(zt,{size:16}),"Reject Request"]}),e.jsxs("button",{onClick:()=>{U(ie.id),u(null)},className:"px-5 py-2 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 transition-colors shadow flex items-center gap-2",children:[e.jsx(fi,{size:16}),"Approve & Terminate"]})]})]})})()})]})}),R&&e.jsx("div",{className:"fixed inset-0 bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(j0,{className:"w-6 h-6 text-amber-500 mr-3"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Approve Resignation & Terminate"})]}),e.jsx("button",{onClick:()=>F(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:e.jsx(zt,{size:20})})]}),e.jsxs("div",{className:"p-6",children:[w.find(ie=>ie.id===V)&&e.jsxs("div",{className:"mb-4 flex items-center bg-amber-50 p-4 rounded-lg border border-amber-200",children:[e.jsx(R9,{className:"flex-shrink-0 h-5 w-5 text-amber-500 mr-2"}),e.jsxs("p",{className:"text-amber-800 text-sm",children:["You are about to approve the resignation of"," ",e.jsx("span",{className:"font-semibold",children:w.find(ie=>ie.id===V).employeeName}),". This will initiate the termination process."]})]}),e.jsxs("div",{className:"space-y-4 mt-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Termination Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:L,onChange:ie=>I(ie.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Exit Notes"}),e.jsx("textarea",{value:B,onChange:ie=>T(ie.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all resize-none",placeholder:"Add exit interview details, return of company property, final payment instructions, etc."})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-100 bg-gray-50 rounded-b-2xl",children:[e.jsx("button",{onClick:()=>F(!1),className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:O,disabled:!L,className:`px-4 py-2 ${L?"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800":"bg-green-300 cursor-not-allowed"} text-white rounded-lg transition-colors flex items-center gap-2`,children:[e.jsx(fi,{className:"w-4 h-4"}),"Confirm Termination"]})]})]})}),v&&e.jsx("div",{className:"fixed inset-0 bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Reject Resignation Request"}),e.jsx("button",{onClick:()=>y(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:e.jsx(zt,{size:20})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Reason for Rejection"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:b,onChange:ie=>_(ie.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all resize-none",placeholder:"Please provide a reason for rejecting this resignation request..."})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:q,disabled:!b.trim(),className:`px-4 py-2 ${b.trim()?"bg-red-600 hover:bg-red-700":"bg-red-300 cursor-not-allowed"} text-white rounded-lg transition-colors`,children:"Confirm Rejection"})]})]})]})})]})})})},lae=()=>{const[t,s]=N.useState([]),[r,a]=N.useState(!0),[n,i]=N.useState(null),[o,l]=N.useState(""),[d,u]=N.useState("all"),[h,f]=N.useState([]),[p,g]=N.useState(null),v=S=>new Intl.NumberFormat("en-LK",{style:"currency",currency:"LKR",minimumFractionDigits:2,maximumFractionDigits:2}).format(S),y=S=>S?new Date(S).toLocaleDateString("en-LK",{year:"numeric",month:"short",day:"numeric"}):"N/A";N.useEffect(()=>{(async()=>{a(!0);try{const L=await QH();s(L),f(L)}catch(L){i("Failed to load loan data. Please try again later."),console.error("Error loading loans:",L)}finally{a(!1)}})()},[]),N.useEffect(()=>{if(o.trim()===""){f(t);return}const S=t.filter(L=>{const I=o.toLowerCase();return d==="all"?L.loan_id.toLowerCase().includes(I)||L.employee_id.toString().toLowerCase().includes(I):d==="loan_id"?L.loan_id.toLowerCase().includes(I):d==="employee_id"?L.employee_id.toString().toLowerCase().includes(I):!0});f(S)},[o,d,t]);const b=S=>{g(S)},_=()=>{if(h.length===0)return;const S=["Loan ID","Employee ID","Amount","Interest Rate","Installment","Start Date","With Interest"],L=h.map(E=>[E.loan_id,E.employee_id,E.loan_amount,E.interest_rate_per_annum+"%",E.installment_amount,E.start_from,E.with_interest?"Yes":"No"]),I=[S,...L].map(E=>E.join(",")).join(`
`),B=new Blob([I],{type:"text/csv;charset=utf-8;"}),T=URL.createObjectURL(B),w=document.createElement("a");w.href=T,w.setAttribute("download",`loans_export_${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(w),w.click(),document.body.removeChild(w)},k=()=>{l(""),u("all")},A=h.length,R=h.reduce((S,L)=>S+parseFloat(L.loan_amount||0),0),F=h.filter(S=>S.with_interest).length,V=h.filter(S=>!S.with_interest).length;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-slate-50 to-gray-100 py-4 sm:py-8",children:[e.jsx("div",{className:"container mx-auto px-3 sm:px-4 max-w-7xl",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl border border-gray-200/50 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-800 to-indigo-900 px-4 sm:px-8 py-6 sm:py-8",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white text-center",children:"Employee Loans Management"}),e.jsx("p",{className:"text-blue-200 text-center mt-2 text-sm sm:text-base",children:"View and manage employee loan information"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 p-4 sm:p-6 lg:p-8",children:[e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Loans"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:A})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:e.jsx(xs,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Amount"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:v(R)})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:e.jsx(Qs,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"With Interest"}),e.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:F})]}),e.jsx("div",{className:"p-3 bg-indigo-100 rounded-xl",children:e.jsx(n9,{className:"w-6 h-6 text-indigo-600"})})]})}),e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"No Interest"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:V})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:e.jsx(j1,{className:"w-6 h-6 text-green-600"})})]})})]}),e.jsx("div",{className:"px-4 sm:px-6 lg:px-8 pb-6",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(un,{className:"h-5 w-5 text-gray-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Filter Loans"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"relative flex-1 md:col-span-2",children:[e.jsx(or,{className:"absolute left-3 top-3.5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by loan ID, employee ID...",value:o,onChange:S=>l(S.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[e.jsxs("select",{value:d,onChange:S=>u(S.target.value),className:"w-full md:w-auto p-3 border border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 bg-white shadow-sm",children:[e.jsx("option",{value:"all",children:"All Fields"}),e.jsx("option",{value:"loan_id",children:"Loan ID"}),e.jsx("option",{value:"employee_id",children:"Employee ID"})]}),e.jsx("button",{onClick:k,className:"w-full md:w-auto px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl transition-colors flex items-center justify-center gap-2",children:"Reset Filters"}),e.jsxs("button",{onClick:_,className:"w-full md:w-auto flex items-center justify-center gap-2 px-5 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-colors shadow",disabled:h.length===0,children:[e.jsx(Mn,{size:16,strokeWidth:2}),"Export CSV"]})]})]})]})}),e.jsx("div",{className:"px-4 sm:px-6 lg:px-8 pb-8",children:e.jsxs("div",{className:"bg-white rounded-xl shadow border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-800 to-indigo-900 px-6 py-4",children:e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center",children:[e.jsx(xs,{className:"w-5 h-5 mr-2"}),"Loan Records"]})}),e.jsx("div",{className:"overflow-x-auto",children:r?e.jsxs("div",{className:"flex justify-center items-center py-20",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"}),e.jsx("p",{className:"ml-3 text-lg text-gray-600",children:"Loading loans..."})]}):n?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100",children:e.jsx("svg",{className:"h-8 w-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:n})]}):h.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-blue-100",children:e.jsx("svg",{className:"h-8 w-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2h-2a2 2 0 01-2-2v-6a2 2 0 012-2h2v6z"})})}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No loans found"}),e.jsx("p",{className:"mt-2 text-gray-500",children:o?"Try adjusting your search filters":"There are no loans in the system yet"})]}):e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Loan ID"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee ID"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Loan Amount"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Interest Rate"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Installment"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Start Date"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(S=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-medium",children:S.loan_id.slice(-2)})}),e.jsx("div",{className:"ml-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.loan_id})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:S.employee_id})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right font-mono",children:e.jsx("div",{className:"text-sm text-gray-900",children:v(S.loan_amount)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${parseFloat(S.interest_rate_per_annum)>0?"bg-indigo-100 text-indigo-800":"bg-gray-100 text-gray-800"}`,children:[S.interest_rate_per_annum,"%"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("div",{className:"text-sm font-mono font-bold text-green-600",children:v(S.installment_amount)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ys,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsx("div",{className:"text-sm text-gray-900",children:y(S.start_from)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("button",{onClick:()=>b(S),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",title:"View Details",children:e.jsx(Or,{size:18})})})]},S.id))})]})})]})})]})}),p&&e.jsx("div",{className:"fixed inset-0 bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Loan Details"}),e.jsx("button",{onClick:()=>g(null),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-16 w-16 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Qs,{className:"h-8 w-8 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h4",{className:"text-xl font-bold text-gray-900",children:p.loan_id}),e.jsxs("p",{className:"text-gray-500",children:["Employee ID: ",p.employee_id]})]})]}),e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${p.with_interest?"bg-indigo-100 text-indigo-800":"bg-green-100 text-green-800"}`,children:p.with_interest?"With Interest":"No Interest"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Loan Amount"}),e.jsx("p",{className:"text-lg font-medium text-gray-900 font-mono",children:v(p.loan_amount)})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Interest Rate"}),e.jsxs("p",{className:"text-lg font-medium text-gray-900",children:[p.interest_rate_per_annum,"%"]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Installment Amount"}),e.jsx("p",{className:"text-lg font-medium text-green-600 font-mono",children:v(p.installment_amount)})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Start Date"}),e.jsx("p",{className:"text-lg font-medium text-gray-900",children:y(p.start_from)})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Created At"}),e.jsx("p",{className:"text-lg font-medium text-gray-900",children:y(p.created_at)})]})]})]}),e.jsx("div",{className:"flex justify-end p-6 border-t border-gray-100 bg-gray-50 rounded-b-2xl",children:e.jsx("button",{onClick:()=>g(null),className:"px-5 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow",children:"Close"})})]})})]})},zC=({isOpen:t,onClose:s,children:r})=>{if(!t)return null;const a=i=>{i.target===i.currentTarget&&s()},n=i=>{i.key==="Escape"&&s()};return N.useEffect(()=>(t&&(document.addEventListener("keydown",n),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",n),document.body.style.overflow="unset"}),[t]),e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:a,children:[e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-all duration-300 ease-out","aria-hidden":"true"}),e.jsx("div",{className:"relative w-full max-w-2xl transform transition-all duration-300 ease-out scale-100 opacity-100",style:{animation:t?"modalEnter 0.3s ease-out":"modalExit 0.2s ease-in"},children:e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl ring-1 ring-black/5 overflow-hidden",children:[e.jsx("button",{onClick:s,className:"absolute top-4 right-4 z-10 p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition-colors duration-200 group","aria-label":"Close modal",children:e.jsx("svg",{className:"w-5 h-5 text-gray-500 group-hover:text-gray-700 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("div",{className:"relative",children:r})]})}),e.jsx("style",{jsx:!0,children:`
        @keyframes modalEnter {
          from {
            opacity: 0;
            transform: scale(0.95) translateY(-10px);
          }
          to {
            opacity: 1;
            transform: scale(1) translateY(0);
          }
        }

        @keyframes modalExit {
          from {
            opacity: 1;
            transform: scale(1) translateY(0);
          }
          to {
            opacity: 0;
            transform: scale(0.95) translateY(-10px);
          }
        }
      `})]})},cae=()=>{var Ve,mt,gt,Pe;const[t,s]=N.useState([]),[r,a]=N.useState([]),[n,i]=N.useState([]),[o,l]=N.useState(""),[d,u]=N.useState(!1),[h,f]=N.useState(!1),[p,g]=N.useState(!1),[v,y]=N.useState(null),[b,_]=N.useState({basic_salary:"",increment_active:!1,increment_value:"",increment_effected_date:"",ot_morning_enabled:!1,ot_morning:0,ot_evening_enabled:!1,ot_evening:0,enable_epf_etf:!1,br1:!1,br2:!1,total_loan_amount:"",installment_count:"",installment_amount:"",approved_no_pay_days:0,status:"pending",month:"",year:"",stamp:!1,net_salary:0}),[k,A]=N.useState([]),[R,F]=N.useState([]),[V,S]=N.useState([]),[L,I]=N.useState([]),[B,T]=N.useState(""),[w,E]=N.useState({key:null,direction:"asc"}),[D,G]=N.useState(null),[K,X]=N.useState(1),se=9,Z=async()=>{u(!0);try{const Ae=await Qre();s(Ae),a(Ae)}catch(Ae){console.error("Error fetching salary data:",Ae)}finally{u(!1)}},ee=async Ae=>{try{await Zre(Ae),Z(),g(!1)}catch(We){console.error("Error deleting salary record:",We),alert("Failed to delete record")}},ce=Ae=>(Ae==null?void 0:Ae.status)==="issued",U=Ae=>{const{name:We,value:Xe,type:st,checked:ke}=Ae.target;_({...b,[We]:st==="checkbox"?ke:Xe})},O=Ae=>{var nt;if(ce(Ae)){alert("This salary record cannot be edited because it is already issued.");return}const We=Bt=>!!(Bt||Bt===1||Bt==="1"),Xe=Ae.salary_breakdown||{},st=We(Ae.stamp)||Xe.stamp>0;y(Ae),_({basic_salary:Ae.basic_salary??"",increment_active:We(Ae.increment_active),increment_value:Ae.increment_value??"",increment_effected_date:((nt=Ae.increment_effected_date)==null?void 0:nt.split("T")[0])??"",ot_morning_enabled:Number(Ae.ot_morning)>0||We(Xe.ot_morning_fees),ot_morning:Xe.ot_morning_fees??Ae.ot_morning??0,ot_evening_enabled:Number(Ae.ot_evening)>0||We(Xe.ot_night_fees),ot_evening:Xe.ot_night_fees??Ae.ot_evening??0,enable_epf_etf:We(Ae.enable_epf_etf),br1:We(Ae.br1),br2:We(Ae.br2),stamp:st,total_loan_amount:Ae.total_loan_amount??"",installment_count:Ae.installment_count??"",installment_amount:Ae.installment_amount??"",approved_no_pay_days:Ae.approved_no_pay_days??0,status:Ae.status??"pending",month:Ae.month??"",year:Ae.year??"",net_salary:Xe.net_salary??0});let ke=[],ct=[];try{ke=Array.isArray(Ae.allowances)?Ae.allowances:Ae.allowances?JSON.parse(Ae.allowances):[]}catch(Bt){console.error("Error parsing allowances:",Bt)}try{ct=Array.isArray(Ae.deductions)?Ae.deductions:Ae.deductions?JSON.parse(Ae.deductions):[]}catch(Bt){console.error("Error parsing deductions:",Bt)}A(ke),F(ct),f(!0)},z=async Ae=>{var We,Xe,st,ke,ct,nt;if(Ae.preventDefault(),!Ee()){alert("Please fill description and amount for all allowances and deductions.");return}try{u(!0);const Bt=Be(),Ge=Le(),St=parseFloat(b.basic_salary||0),bt=(()=>{const sr=parseInt(b.year||(v==null?void 0:v.year)||new Date().getFullYear()),Ms=parseInt(b.month||(v==null?void 0:v.month)||new Date().getMonth()+1);if(!isNaN(sr)&&!isNaN(Ms)){const dt=new Date(sr,Ms,0).getDate();return Math.max(1,dt-8)}return 22})(),qe=St/bt,Oe=(parseInt(b.approved_no_pay_days||0)||0)*qe,jt=St-Oe,Et=jt+Bt,qt=b.enable_epf_etf?Et*.08:0,Gt=b.enable_epf_etf?Et*.12:0,Yt=b.enable_epf_etf?Et*.03:0,Xt=b.ot_morning_enabled?parseFloat(b.ot_morning||0):0,is=b.ot_evening_enabled?parseFloat(b.ot_evening||0):0,ws=Et+Xt+is,Us=Ge+(parseFloat(b.installment_amount||0)||0)+qt,Zt=b.stamp?25:0,Wt=ws-Us-Zt,Es={basic_salary:St,br_allowance:ie(),ot_morning_fees:Xt,ot_night_fees:is,adjusted_basic:jt,per_day_salary:qe,no_pay_deduction:Oe,total_allowances:Bt,epf_etf_base:Et,epf_employee_deduction:qt,epf_employer_contribution:Gt,etf_employer_contribution:Yt,total_fixed_deductions:Ge,loan_installment:parseFloat(b.installment_amount||0)||0,gross_salary:ws,total_deductions:Us,stamp:Zt,net_salary:Math.round((Wt+Number.EPSILON)*100)/100},Bs={basic_salary:parseFloat(b.basic_salary),increment_active:b.increment_active?1:0,increment_value:b.increment_value?parseFloat(b.increment_value):null,increment_effected_date:b.increment_effected_date||null,ot_morning:b.ot_morning_enabled?parseFloat(b.ot_morning||0):0,ot_evening:b.ot_evening_enabled?parseFloat(b.ot_evening||0):0,enable_epf_etf:b.enable_epf_etf?1:0,br1:b.br1?1:0,br2:b.br2?1:0,stamp:b.stamp?1:0,total_loan_amount:b.total_loan_amount?parseFloat(b.total_loan_amount):0,installment_count:b.installment_count?parseInt(b.installment_count):null,installment_amount:b.installment_amount?parseFloat(b.installment_amount):null,approved_no_pay_days:parseInt(b.approved_no_pay_days||0),status:b.status,month:String(b.month),year:String(b.year),salary_breakdown:Es,allowances:k,deductions:R};await Jre(v.id,Bs),await Z(),alert("Salary record updated successfully"),f(!1)}catch(Bt){if(console.error("Error updating salary record:",Bt),(Xe=(We=Bt.response)==null?void 0:We.data)!=null&&Xe.errors){const Ge=Object.values(((ke=(st=Bt.response)==null?void 0:st.data)==null?void 0:ke.errors)||{}).flat().join(`
`);alert(`Validation errors:
${Ge}`)}else alert("Failed to update record: "+(((nt=(ct=Bt.response)==null?void 0:ct.data)==null?void 0:nt.message)||Bt.message))}finally{u(!1)}};N.useEffect(()=>{if(o==="")a(t);else{const Ae=t.filter(We=>We.company_name===o);a(Ae)}},[o,t]),N.useEffect(()=>{if(!t||!Array.isArray(t)){a([]);return}let Ae=[...t];if(o&&(Ae=Ae.filter(We=>We.company_name===o)),B&&B.trim()!==""){const We=B.toLowerCase().trim();Ae=Ae.filter(Xe=>Xe.employee_no&&String(Xe.employee_no).toLowerCase().includes(We)||Xe.full_name&&Xe.full_name.toLowerCase().includes(We))}a(Ae)},[o,B,t]),N.useEffect(()=>{X(1)},[o,B,t]),N.useEffect(()=>{Z()},[]),N.useEffect(()=>{(async()=>{try{const We=await Qd(),Xe=Array.isArray(We)?We.map(st=>typeof st=="string"?st:st.name??"").filter(Boolean):[];i(Xe.sort())}catch(We){console.error("Failed to load companies:",We)}})()},[]);const q=async()=>{l(""),T(""),await Z()},te=Math.max(1,Math.ceil(((r==null?void 0:r.length)||0)/se)),ge=(K-1)*se,Q=Math.min(ge+se,r.length),ue=Array.isArray(r)?r.slice(ge,Q):[],ie=()=>{let Ae=0;return b.br1&&b.br2?Ae=3500:b.br1?Ae=1e3:b.br2&&(Ae=2500),Ae},oe=()=>parseFloat(b.basic_salary||0)/22*parseInt(b.approved_no_pay_days||0),J=()=>b.enable_epf_etf?parseFloat(b.basic_salary||0)*.08:0,re=()=>{const Ae=parseFloat(b.basic_salary||0),We=ie(),Xe=oe(),st=J(),ke=parseFloat(b.installment_amount||0),ct=b.stamp?25:0,nt=b.ot_morning_enabled?parseFloat(b.ot_morning||0):0,Bt=b.ot_evening_enabled?parseFloat(b.ot_evening||0):0;return Ae+We+nt+Bt-Xe-st-ke-ct},ve=()=>{A(Ae=>[...Ae,{name:"",amount:""}]),S(Ae=>[...Ae,{name:"",amount:""}])},pe=(Ae,We,Xe)=>{A(st=>st.map((ke,ct)=>ct===Ae?{...ke,[We]:Xe}:ke)),S(st=>st.map((ke,ct)=>ct===Ae?{...ke,[We]:""}:ke))},ae=Ae=>{A(We=>We.filter((Xe,st)=>st!==Ae)),S(We=>We.filter((Xe,st)=>st!==Ae))},he=()=>{F(Ae=>[...Ae,{name:"",amount:""}]),I(Ae=>[...Ae,{name:"",amount:""}])},Te=(Ae,We,Xe)=>{F(st=>st.map((ke,ct)=>ct===Ae?{...ke,[We]:Xe}:ke)),I(st=>st.map((ke,ct)=>ct===Ae?{...ke,[We]:""}:ke))},Ie=Ae=>{F(We=>We.filter((Xe,st)=>st!==Ae)),I(We=>We.filter((Xe,st)=>st!==Ae))},Be=()=>(k||[]).reduce((Ae,We)=>Ae+(parseFloat(We.amount||0)||0),0),Le=()=>(R||[]).reduce((Ae,We)=>Ae+(parseFloat(We.amount||0)||0),0),Ee=()=>{const Ae=k.map(ke=>{const ct={name:"",amount:""};return(!ke.name||!String(ke.name).trim())&&(ct.name="Description is required"),(ke.amount===""||ke.amount===null||isNaN(parseFloat(ke.amount)))&&(ct.amount="Amount is required"),ct}),We=R.map(ke=>{const ct={name:"",amount:""};return(!ke.name||!String(ke.name).trim())&&(ct.name="Description is required"),(ke.amount===""||ke.amount===null||isNaN(parseFloat(ke.amount)))&&(ct.amount="Amount is required"),ct});S(Ae),I(We);const Xe=Ae.some(ke=>ke.name||ke.amount),st=We.some(ke=>ke.name||ke.amount);return!(Xe||st)};return e.jsxs("div",{className:"container mx-auto px-4 py-8 min-h-screen bg-gray-50",children:[e.jsx("div",{className:"flex justify-between items-center mb-8",children:e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Salary Records"})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 md:mr-3 md:mb-0",children:"Filter Records"}),e.jsxs("div",{className:"flex-1 flex flex-col md:flex-row items-stretch gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),e.jsxs("select",{value:o,onChange:Ae=>l(Ae.target.value),className:"w-full pl-10 pr-8 h-10 border border-gray-300 rounded-lg text-base appearance-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",children:[e.jsx("option",{value:"",children:"All Companies"}),n.map(Ae=>e.jsx("option",{value:Ae,children:Ae},Ae))]}),e.jsx(dn,{className:"pointer-events-none absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"})]}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx(er,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",value:B,onChange:Ae=>T(Ae.target.value),placeholder:"Search by employee ID...",className:"w-full pl-10 pr-3 h-10 border border-gray-300 rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("button",{onClick:q,className:"px-4 py-2.5 h-10 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[e.jsx(Bi,{size:18,className:"mr-2"}),"Refresh"]})})]})]})}),d&&e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx(Ps,{className:"animate-spin h-12 w-12 text-blue-500"})}),!d&&e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company/Dept"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Basic Salary"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Salary"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ue.map(Ae=>{var We,Xe;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ae.full_name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",Ae.employee_no]})]})})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:Ae.company_name}),e.jsx("div",{className:"text-sm text-gray-500",children:Ae.department_name})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:parseFloat(Ae.basic_salary).toLocaleString("en-US",{style:"currency",currency:"LKR",minimumFractionDigits:2})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${Ae.status==="processed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:Ae.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(Xe=(We=Ae.salary_breakdown)==null?void 0:We.net_salary)==null?void 0:Xe.toLocaleString("en-US",{style:"currency",currency:"LKR",minimumFractionDigits:2})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{onClick:()=>!ce(Ae)&&O(Ae),className:`${ce(Ae)?"opacity-50 cursor-not-allowed mr-4":"text-blue-600 hover:text-blue-900 mr-4"}`,title:ce(Ae)?"Cannot edit issued record":"Edit","aria-disabled":ce(Ae),type:"button",children:e.jsx(tr,{size:18})}),e.jsx("button",{onClick:()=>{if(ce(Ae)){alert("This salary record cannot be deleted because it is already issued.");return}y(Ae),g(!0)},className:`${ce(Ae)?"opacity-50 cursor-not-allowed":"text-red-600 hover:text-red-900"}`,title:ce(Ae)?"Cannot delete issued record":"Delete","aria-disabled":ce(Ae),type:"button",children:e.jsx(ns,{size:18})})]})]},Ae.id)})})]})}),r.length>se&&e.jsxs("div",{className:"px-6 py-4 bg-white border-t border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:ge+1})," to"," ",e.jsx("span",{className:"font-medium",children:Q})," of"," ",e.jsx("span",{className:"font-medium",children:r.length})," records"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>X(Ae=>Math.max(1,Ae-1)),disabled:K===1,className:`px-3 py-1 rounded-md border ${K===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white hover:bg-gray-50 text-gray-700"}`,children:"Prev"}),Array.from({length:te},(Ae,We)=>We+1).map(Ae=>e.jsx("button",{onClick:()=>X(Ae),"aria-current":Ae===K?"page":void 0,className:`px-3 py-1 rounded-md border ${Ae===K?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:Ae},Ae)),e.jsx("button",{onClick:()=>X(Ae=>Math.min(te,Ae+1)),disabled:K===te,className:`px-3 py-1 rounded-md border ${K===te?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white hover:bg-gray-50 text-gray-700"}`,children:"Next"})]})]})]}),!d&&r.length===0&&e.jsx("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:e.jsxs("div",{className:"mx-auto max-w-md",children:[e.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",children:e.jsx(Kn,{size:48,className:"mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No salary records found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your filter criteria"})]})}),e.jsx(zC,{isOpen:h,onClose:()=>f(!1),children:v&&e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold",children:"Edit Salary Record"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[v.full_name,"  ",v.department_name]})]}),e.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-500",children:e.jsx(zt,{size:18})})]}),e.jsxs("form",{onSubmit:z,children:[e.jsx("div",{className:"border-b border-gray-200 mb-4",children:e.jsx("div",{className:"flex space-x-2 text-sm",children:e.jsx("button",{type:"button",className:"px-3 py-2 border-b-2 border-blue-500 text-blue-600 font-medium",children:"Basic Info"})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Basic Salary"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-2 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500 sm:text-sm",children:"Rs."})}),e.jsx("input",{type:"number",name:"basic_salary",value:b.basic_salary,onChange:U,className:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-12 pr-2 py-1.5 sm:text-sm border-gray-300 rounded-md",placeholder:"0.00",step:"0.01"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{name:"status",value:b.status,onChange:U,className:"block w-full pl-2 pr-8 py-1.5 text-sm border-gray-300 focus:ring-blue-500 focus:border-blue-500 rounded-md",children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"hold",children:"Hold"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"No Pay Days"}),e.jsx("input",{type:"number",name:"approved_no_pay_days",value:b.approved_no_pay_days,onChange:U,className:"focus:ring-blue-500 focus:border-blue-500 block w-full px-2 py-1.5 sm:text-sm border-gray-300 rounded-md",min:"0",step:"1"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Month"}),e.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",name:"month",value:b.month,onChange:U,className:"focus:ring-blue-500 focus:border-blue-500 block w-full px-2 py-1.5 sm:text-sm border-gray-300 rounded-md",placeholder:"MM",maxLength:"2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Year"}),e.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",name:"year",value:b.year,onChange:U,className:"focus:ring-blue-500 focus:border-blue-500 block w-full px-2 py-1.5 sm:text-sm border-gray-300 rounded-md",placeholder:"YYYY",maxLength:"4"})]})]}),e.jsx("div",{className:"bg-gray-50 p-2 rounded-md border border-gray-200",children:e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"enable_epf_etf",name:"enable_epf_etf",type:"checkbox",checked:b.enable_epf_etf,onChange:U,className:"h-3.5 w-3.5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"enable_epf_etf",className:"ml-1.5 block text-xs text-gray-700",children:"Enable EPF/ETF"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"stamp",name:"stamp",type:"checkbox",checked:b.stamp,onChange:U,className:"h-3.5 w-3.5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"stamp",className:"ml-1.5 block text-xs text-gray-700",children:"Apply Stamp Duty (Rs. 25)"})]})]})}),e.jsxs("div",{className:"bg-gray-50 p-2 rounded-md border border-gray-200",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"BR Status"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"br1",name:"br1",type:"checkbox",checked:b.br1,onChange:U,className:"h-3.5 w-3.5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"br1",className:"ml-1.5 block text-xs text-gray-700",children:"BR1"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"br2",name:"br2",type:"checkbox",checked:b.br2,onChange:U,className:"h-3.5 w-3.5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"br2",className:"ml-1.5 block text-xs text-gray-700",children:"BR2"})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-gray-50 p-2 rounded-md border border-gray-200",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Overtime"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx("input",{id:"ot_morning",name:"ot_morning_enabled",type:"checkbox",checked:b.ot_morning_enabled,onChange:Ae=>{_({...b,ot_morning_enabled:Ae.target.checked,ot_morning:Ae.target.checked?b.ot_morning:0})},className:"h-3.5 w-3.5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"ot_morning",className:"ml-1.5 block text-xs text-gray-700",children:"Morning"})]}),e.jsx("input",{type:"number",name:"ot_morning",value:b.ot_morning,onChange:U,disabled:!b.ot_morning_enabled,className:`w-full px-2 py-1 text-xs border rounded ${b.ot_morning_enabled?"":"bg-gray-100"}`,placeholder:"0.00",step:"0.01"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx("input",{id:"ot_evening",name:"ot_evening_enabled",type:"checkbox",checked:b.ot_evening_enabled,onChange:Ae=>{_({...b,ot_evening_enabled:Ae.target.checked,ot_evening:Ae.target.checked?b.ot_evening:0})},className:"h-3.5 w-3.5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"ot_evening",className:"ml-1.5 block text-xs text-gray-700",children:"Evening"})]}),e.jsx("input",{type:"number",name:"ot_evening",value:b.ot_evening,onChange:U,disabled:!b.ot_evening_enabled,className:`w-full px-2 py-1 text-xs border rounded ${b.ot_evening_enabled?"":"bg-gray-100"}`,placeholder:"0.00",step:"0.01"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-2 rounded-md border border-gray-200",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Loan Details"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{children:e.jsx("input",{type:"number",name:"total_loan_amount",value:b.total_loan_amount,onChange:U,className:"focus:ring-blue-500 focus:border-blue-500 block w-full px-2 py-1 text-xs border-gray-300 rounded",placeholder:"Loan Amount",step:"0.01"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("input",{type:"number",name:"installment_count",value:b.installment_count,onChange:U,className:"focus:ring-blue-500 focus:border-blue-500 block w-full px-2 py-1 text-xs border-gray-300 rounded",placeholder:"Installments",min:"0"}),e.jsx("input",{type:"number",name:"installment_amount",value:b.installment_amount,onChange:U,className:"focus:ring-blue-500 focus:border-blue-500 block w-full px-2 py-1 text-xs border-gray-300 rounded",placeholder:"Per Month",step:"0.01"})]})]})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"increment_active",name:"increment_active",type:"checkbox",checked:b.increment_active,onChange:U,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"increment_active",className:"ml-2 block text-sm text-gray-700",children:"Active Increment"})]}),b.increment_active&&e.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2 pl-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Increment Value"}),e.jsx("input",{type:"text",name:"increment_value",value:b.increment_value,onChange:U,className:"block w-full px-2 py-1.5 text-sm border-gray-300 rounded",placeholder:"Amount or %"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Effective Date"}),e.jsx("input",{type:"date",name:"increment_effected_date",value:b.increment_effected_date,onChange:U,className:"block w-full px-2 py-1.5 text-sm border-gray-300 rounded"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200 mb-4",children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center",children:[e.jsx(Bi,{size:14,className:"mr-1"})," Calculation Preview"]}),((Ve=v==null?void 0:v.salary_breakdown)==null?void 0:Ve.net_salary)!=null&&e.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:["Current Net Salary:"," ",e.jsx("span",{className:"font-medium text-gray-800",children:parseFloat(v.salary_breakdown.net_salary).toLocaleString("en-LK",{style:"currency",currency:"LKR"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Basic Salary:"}),e.jsx("span",{className:"font-medium",children:parseFloat(b.basic_salary||0).toLocaleString("en-LK",{style:"currency",currency:"LKR"})})]}),e.jsx("div",{className:"col-span-2 mt-1",children:e.jsxs("div",{className:"flex justify-between font-semibold",children:[e.jsx("span",{className:"text-gray-700",children:"Estimated Net Salary (preview):"}),e.jsx("span",{className:"text-blue-700",children:re().toLocaleString("en-LK",{style:"currency",currency:"LKR"})})]})}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"BR Allowance:"}),e.jsx("span",{className:"font-medium",children:ie().toLocaleString("en-LK",{style:"currency",currency:"LKR"})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"No-Pay Deduction:"}),e.jsx("span",{className:"font-medium",children:oe().toLocaleString("en-LK",{style:"currency",currency:"LKR"})})]}),b.enable_epf_etf&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"EPF (8%):"}),e.jsx("span",{className:"font-medium",children:J().toLocaleString("en-LK",{style:"currency",currency:"LKR"})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Loan Installment:"}),e.jsx("span",{className:"font-medium",children:parseFloat(b.installment_amount||0).toLocaleString("en-LK",{style:"currency",currency:"LKR"})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Probation Over-limit Days:"}),e.jsx("span",{className:"font-medium",children:(parseFloat(((mt=v==null?void 0:v.salary_breakdown)==null?void 0:mt.probation_over_limit_days)??((gt=v==null?void 0:v.salary_breakdown)==null?void 0:gt.probation_over_limit)??0)||0).toLocaleString("en-LK",{maximumFractionDigits:2})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Probation Deduction:"}),e.jsx("span",{className:"font-medium",children:(parseFloat(((Pe=v==null?void 0:v.salary_breakdown)==null?void 0:Pe.probation_deduction)??0)||0).toLocaleString("en-LK",{style:"currency",currency:"LKR",minimumFractionDigits:2})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Stamp Duty:"}),e.jsx("span",{className:"font-medium",children:b.stamp?"LKR 25.00":"LKR 0.00"})]}),e.jsx("div",{className:"col-span-2 border-t border-gray-200 mt-1 pt-2",children:e.jsxs("div",{className:"flex justify-between font-semibold",children:[e.jsx("span",{className:"text-gray-700",children:"Estimated Net Salary:"}),e.jsx("span",{className:"text-blue-700",children:re().toLocaleString("en-LK",{style:"currency",currency:"LKR"})})]})}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Total Allowances:"}),e.jsx("span",{className:"font-medium",children:Be().toLocaleString("en-LK",{style:"currency",currency:"LKR"})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Total Deductions:"}),e.jsx("span",{className:"font-medium",children:Le().toLocaleString("en-LK",{style:"currency",currency:"LKR"})})]})]})]}),e.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Allowances"}),e.jsx("button",{type:"button",onClick:ve,className:"bg-blue-500 text-white p-1 rounded hover:bg-blue-600",children:e.jsx(bs,{size:16})})]}),k.length===0?e.jsx("p",{className:"text-xs text-gray-400 italic",children:"No allowances"}):e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:k.map((Ae,We)=>{var Xe,st;return e.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2 rounded border border-gray-100",children:[e.jsx("input",{type:"text",value:Ae.name,onChange:ke=>pe(We,"name",ke.target.value),className:"flex-1 px-2 py-1 text-xs border rounded",placeholder:"Description"}),((Xe=V[We])==null?void 0:Xe.name)&&e.jsx("div",{className:"text-red-500 text-xs mt-1 col-span-full",children:V[We].name}),e.jsxs("div",{className:"w-24 flex items-center",children:[e.jsx("span",{className:"text-gray-500 text-xs mr-1",children:"Rs."}),e.jsx("input",{type:"number",value:Ae.amount,onChange:ke=>pe(We,"amount",ke.target.value),className:"w-full px-2 py-1 text-xs border rounded text-right",placeholder:"0.00",step:"0.01"})]}),((st=V[We])==null?void 0:st.amount)&&e.jsx("div",{className:"text-red-500 text-xs mt-1 col-span-full",children:V[We].amount}),e.jsx("button",{type:"button",onClick:()=>ae(We),className:"text-red-500 hover:text-red-700",children:e.jsx(o6,{size:14})})]},We)})}),e.jsxs("div",{className:"flex justify-between items-center mt-2 pt-2 border-t border-gray-200 text-sm",children:[e.jsx("span",{className:"font-medium",children:"Total:"}),e.jsx("span",{className:"font-bold text-blue-700",children:Be().toLocaleString("en-LK",{style:"currency",currency:"LKR"})})]})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Deductions"}),e.jsx("button",{type:"button",onClick:he,className:"bg-blue-500 text-white p-1 rounded hover:bg-blue-600",children:e.jsx(bs,{size:16})})]}),R.length===0?e.jsx("p",{className:"text-xs text-gray-400 italic",children:"No deductions"}):e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:R.map((Ae,We)=>{var Xe,st;return e.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2 rounded border border-gray-100",children:[e.jsx("input",{type:"text",value:Ae.name,onChange:ke=>Te(We,"name",ke.target.value),className:"flex-1 px-2 py-1 text-xs border rounded",placeholder:"Description"}),((Xe=L[We])==null?void 0:Xe.name)&&e.jsx("div",{className:"text-red-500 text-xs mt-1 col-span-full",children:L[We].name}),e.jsxs("div",{className:"w-24 flex items-center",children:[e.jsx("span",{className:"text-gray-500 text-xs mr-1",children:"Rs."}),e.jsx("input",{type:"number",value:Ae.amount,onChange:ke=>Te(We,"amount",ke.target.value),className:"w-full px-2 py-1 text-xs border rounded text-right",placeholder:"0.00",step:"0.01"})]}),((st=L[We])==null?void 0:st.amount)&&e.jsx("div",{className:"text-red-500 text-xs mt-1 col-span-full",children:L[We].amount}),e.jsx("button",{type:"button",onClick:()=>Ie(We),className:"text-red-500 hover:text-red-700",children:e.jsx(o6,{size:14})})]},We)})}),e.jsxs("div",{className:"flex justify-between items-center mt-2 pt-2 border-t border-gray-200 text-sm",children:[e.jsx("span",{className:"font-medium",children:"Total:"}),e.jsx("span",{className:"font-bold text-red-700",children:Le().toLocaleString("en-LK",{style:"currency",currency:"LKR"})})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:(v==null?void 0:v.status)==="issued",title:(v==null?void 0:v.status)==="issued"?"Cannot save issued record":"Save Changes",className:`px-3 py-1.5 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center ${(v==null?void 0:v.status)==="issued"?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx(D0,{size:16,className:"mr-1"}),"Save Changes"]})]})]})]})}),e.jsx(zC,{isOpen:p,onClose:()=>g(!1),children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Confirm Deletion"}),e.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-500",children:e.jsx(zt,{size:20})})]}),e.jsxs("p",{className:"mb-6",children:["Are you sure you want to delete the salary record for"," ",e.jsx("span",{className:"font-semibold",children:v==null?void 0:v.full_name}),"?"]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsxs("button",{onClick:()=>{if((v==null?void 0:v.status)==="issued"){alert("This salary record cannot be deleted because it is already issued.");return}ee(v.id)},disabled:(v==null?void 0:v.status)==="issued",title:(v==null?void 0:v.status)==="issued"?"Cannot delete issued record":"Delete",className:`px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 flex items-center ${(v==null?void 0:v.status)==="issued"?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx(ns,{size:18,className:"mr-2"}),"Delete"]})]})]})})]})},Rh={getAllUsers:async()=>(await Ze.get("/users")).data,getUserById:async t=>(await Ze.get(`/users/${t}`)).data,createUser:async t=>(await Ze.post("/users",t)).data,updateUser:async(t,s)=>(await Ze.put(`/users/${t}`,s)).data,deleteUser:async t=>(await Ze.delete(`/users/${t}`)).data},$C=({isOpen:t,onClose:s,title:r,isEdit:a=!1,formData:n,handleChange:i,handleSubmit:o,errors:l,showPassword:d,setShowPassword:u,roles:h})=>t?e.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:r}),e.jsx("button",{onClick:s,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:e.jsx(zt,{size:20})})]}),e.jsxs("form",{onSubmit:o,className:"p-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(er,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",name:"name",value:n.name,onChange:i,className:`w-full pl-10 pr-3 py-2 border ${l.name?"border-red-500":"border-gray-300"} rounded-lg focus:ring-blue-500 focus:border-blue-500`,placeholder:"John Doe"})]}),l.name&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.name})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(hx,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"email",name:"email",value:n.email,onChange:i,className:`w-full pl-10 pr-3 py-2 border ${l.email?"border-red-500":"border-gray-300"} rounded-lg focus:ring-blue-500 focus:border-blue-500`,placeholder:"john@example.com"})]}),l.email&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.email})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",!a&&e.jsx("span",{className:"text-red-500",children:"*"}),a&&e.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"(Leave blank to keep current)"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(n6,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:d?"text":"password",name:"password",value:n.password,onChange:i,className:`w-full pl-10 pr-10 py-2 border ${l.password?"border-red-500":"border-gray-300"} rounded-lg focus:ring-blue-500 focus:border-blue-500`,placeholder:""}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx("button",{type:"button",onClick:()=>u(!d),className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:d?e.jsx(Ew,{className:"h-5 w-5"}):e.jsx(Or,{className:"h-5 w-5"})})})]}),l.password&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.password})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Confirm Password"," ",!a&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(n6,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:d?"text":"password",name:"password_confirmation",value:n.password_confirmation,onChange:i,className:`w-full pl-10 pr-3 py-2 border ${l.password_confirmation?"border-red-500":"border-gray-300"} rounded-lg focus:ring-blue-500 focus:border-blue-500`,placeholder:""})]}),l.password_confirmation&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.password_confirmation})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["User Role ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(P0,{className:"h-5 w-5 text-gray-400"})}),e.jsx("select",{name:"role",value:n.role,onChange:i,className:`w-full pl-10 pr-3 py-2 border ${l.role?"border-red-500":"border-gray-300"} rounded-lg focus:ring-blue-500 focus:border-blue-500 bg-white`,children:h.map(f=>e.jsx("option",{value:f.id,children:f.name},f.id))})]}),l.role&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.role})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:a?"Update User":"Create User"})]})]})]})}):null,dae=()=>{const[t,s]=N.useState([]),[r,a]=N.useState(!0),[n,i]=N.useState(""),[o,l]=N.useState(!1),[d,u]=N.useState(!1),[h,f]=N.useState(null),[p,g]=N.useState({name:"",email:"",password:"",password_confirmation:"",role:"user"}),[v,y]=N.useState(!1),[b,_]=N.useState({}),[k,A]=N.useState([{id:"admin",name:"Administrator"},{id:"supervisor",name:"Supervisor"},{id:"hr",name:"HR"},{id:"user",name:"User"}]);N.useEffect(()=>{R()},[]);const R=async()=>{try{a(!0);const G=await Rh.getAllUsers();s(G)}catch(G){console.error("Error fetching users:",G),Me.fire({icon:"error",title:"Error",text:"Failed to load users. Please try again."})}finally{a(!1)}},F=t.filter(G=>G.name.toLowerCase().includes(n.toLowerCase())||G.email.toLowerCase().includes(n.toLowerCase())||G.role&&G.role.toLowerCase().includes(n.toLowerCase())),V=G=>{const{name:K,value:X}=G.target;g(se=>({...se,[K]:X})),b[K]&&_(se=>({...se,[K]:null}))},S=async G=>{var X,se,Z,ee;G.preventDefault();const K={};if(p.name.trim()||(K.name="Name is required"),p.email.trim()||(K.email="Email is required"),p.email.includes("@")||(K.email="Invalid email format"),h||(p.password||(K.password="Password is required"),p.password&&p.password.length<8&&(K.password="Password must be at least 8 characters"),p.password!==p.password_confirmation&&(K.password_confirmation="Passwords do not match")),p.role||(K.role="Role is required"),Object.keys(K).length>0){_(K);return}console.log("Submitting form data:",h,p);try{h?(await Rh.updateUser(h.id,p),Me.fire({icon:"success",title:"Success",text:"User updated successfully!"})):(await Rh.createUser(p),Me.fire({icon:"success",title:"Success",text:"User created successfully!"})),l(!1),u(!1),T(),R()}catch(ce){console.error("Error saving user:",ce),(se=(X=ce.response)==null?void 0:X.data)!=null&&se.errors?_(ce.response.data.errors):Me.fire({icon:"error",title:"Error",text:((ee=(Z=ce.response)==null?void 0:Z.data)==null?void 0:ee.message)||"Failed to save user. Please try again."})}},L=G=>{f(G),g({name:G.name,email:G.email,role:G.role||"user",password:"",password_confirmation:""}),u(!0),_({})},I=()=>{f(null),T(),l(!0),_({})},B=G=>{Me.fire({title:"Are you sure?",text:"You won't be able to revert this action!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(async K=>{if(K.isConfirmed)try{await Rh.deleteUser(G),R(),Me.fire("Deleted!","User has been deleted.","success")}catch(X){console.error("Error deleting user:",X),Me.fire({icon:"error",title:"Error",text:"Failed to delete user. Please try again."})}})},T=()=>{g({name:"",email:"",password:"",password_confirmation:"",role:"user"}),f(null),_({}),y(!1)},w=()=>{l(!1),u(!1),T()},E=G=>{switch(G){case"admin":return"bg-red-100 text-red-800";case"employee":return"bg-blue-100 text-blue-800";default:return"bg-green-100 text-green-800"}},D=G=>G.deleted_at===null;return e.jsxs("div",{className:"bg-gray-100 min-h-screen",children:[e.jsxs("div",{className:"bg-gradient-to-r from-indigo-800 to-blue-900 px-4 sm:px-8 py-6 sm:py-8",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(ta,{className:"h-10 w-10 text-white opacity-80 mr-3"}),e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white text-center",children:"User Management"})]}),e.jsx("p",{className:"text-blue-200 text-center mt-2 text-sm sm:text-base",children:"Manage system users and access control"})]}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 mb-6 p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"relative w-full sm:w-auto",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(or,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",placeholder:"Search users by name, email, or role...",value:n,onChange:G=>i(G.target.value),className:"pl-10 pr-4 py-2 w-full sm:w-80 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"flex items-center space-x-2 w-full sm:w-auto",children:[e.jsxs("button",{onClick:I,className:"w-full sm:w-auto px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 flex items-center justify-center gap-2",children:[e.jsx(L9,{className:"h-5 w-5"}),e.jsx("span",{children:"Add New User"})]}),e.jsx("button",{onClick:R,className:"p-2 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",title:"Refresh user list",children:e.jsx(Bi,{className:"h-5 w-5"})})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 overflow-hidden",children:r?e.jsxs("div",{className:"flex items-center justify-center py-20",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),e.jsx("p",{className:"ml-3 text-gray-600",children:"Loading users..."})]}):F.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:F.map(G=>{var K;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:G.profile_photo_url?e.jsx("img",{className:"h-10 w-10 rounded-full",src:G.profile_photo_url,alt:G.name}):e.jsx("div",{className:"h-full w-full rounded-full bg-gradient-to-r from-blue-500 to-indigo-600 flex items-center justify-center text-white text-sm font-medium",children:G.name.substring(0,2).toUpperCase()})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",G.id]})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:G.email}),e.jsx("div",{className:"text-xs text-gray-500",children:G.created_at?`Joined: ${new Date(G.created_at).toLocaleDateString()}`:""})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E(G.role)}`,children:((K=k.find(X=>X.id===G.role))==null?void 0:K.name)||G.role||"User"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${D(G)?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:D(G)?e.jsxs(e.Fragment,{children:[e.jsx(fi,{className:"mr-1 h-3 w-3"}),"Active"]}):e.jsxs(e.Fragment,{children:[e.jsx(zt,{className:"mr-1 h-3 w-3"}),"Inactive"]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm",children:e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx("button",{onClick:()=>L(G),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",title:"Edit User",children:e.jsx(tr,{size:16})}),e.jsx("button",{onClick:()=>B(G.id),className:"p-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",title:"Delete User",children:e.jsx(ns,{size:16})})]})})]},G.id)})})]})}):e.jsxs("div",{className:"py-20 text-center",children:[e.jsx(ta,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No users found"}),e.jsx("p",{className:"mt-1 text-gray-500",children:n?"No users match your search criteria.":"Start by adding a new user."}),n&&e.jsx("button",{onClick:()=>i(""),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Clear Search"})]})})]}),e.jsx($C,{isOpen:o,onClose:w,title:"Add New User",isEdit:!1,formData:p,handleChange:V,handleSubmit:S,errors:b,showPassword:v,setShowPassword:y,roles:k}),e.jsx($C,{isOpen:d,onClose:w,title:"Edit User",isEdit:!0,formData:p,handleChange:V,handleSubmit:S,errors:b,showPassword:v,setShowPassword:y,roles:k})]})};class uae{async getPerformanceReviews(s={}){try{return(await Ze.get("/pms/reviews",{params:s})).data}catch(r){throw console.error("Error fetching performance reviews:",r),r}}async getReviewById(s){try{return(await Ze.get(`/pms/reviews/${s}`)).data}catch(r){throw console.error("Error fetching review details:",r),r}}async createReview(s){try{return(await Ze.post("/pms/reviews",s)).data}catch(r){throw console.error("Error creating review:",r),r}}async updateReview(s,r){try{return(await Ze.put(`/pms/reviews/${s}`,r)).data}catch(a){throw console.error("Error updating review:",a),a}}async deleteReview(s){try{return(await Ze.delete(`/pms/reviews/${s}`)).data}catch(r){throw console.error("Error deleting review:",r),r}}async getPMSDashboardStats(){try{return(await Ze.get("/pms/dashboard/stats")).data}catch(s){throw console.error("Error fetching PMS dashboard stats:",s),s}}async getRecentPerformanceReviews(s=5){try{return(await Ze.get("/pms/performance-reviews",{params:{per_page:s,recent:!0}})).data}catch(r){throw console.error("Error fetching recent reviews:",r),r}}async getUpcomingDeadlines(){try{return(await Ze.get("/pms/dashboard/upcoming-deadlines")).data}catch(s){throw console.error("Error fetching upcoming deadlines:",s),s}}async getKpiPerformance(s={}){var r,a;try{const n=await Ze.get("/pms/dashboard/KPIs",{params:s});return((r=n.data)==null?void 0:r.data)??n.data}catch(n){throw console.error("PMSService.getKpiPerformance error",((a=n==null?void 0:n.response)==null?void 0:a.data)??n),n}}async getGoals(s={}){try{return(await Ze.get("/pms/goals",{params:s})).data}catch(r){throw console.error("Error fetching goals:",r),r}}async getKpis(s={}){try{return(await Ze.get("/pms/kpis",{params:s})).data}catch(r){throw console.error("Error fetching KPIs:",r),r}}async get360Feedback(s={}){try{return(await Ze.get("/pms/feedback",{params:s})).data}catch(r){throw console.error("Error fetching 360 feedback:",r),r}}async getCompetencies(){try{return(await Ze.get("/pms/competencies")).data}catch(s){throw console.error("Error fetching competencies:",s),s}}async getKpiTasks(){try{return(await Ze.get("/kpi-tasks")).data}catch(s){throw console.error("Error fetching KPI task names:",s),s}}async createKpiTask(s){try{return(await Ze.post("/kpi-tasks",s)).data}catch(r){throw console.error("Error creating KPI task:",r),r}}async updateKpiTask(s,r){try{return(await Ze.put(`/kpi-tasks/${s}`,r)).data}catch(a){throw console.error("Error updating KPI task:",a),a}}async deleteKpiTask(s){try{return(await Ze.delete(`/kpi-tasks/${s}`)).data}catch(r){throw console.error("Error deleting KPI task:",r),r}}async getCreatorRoles(){try{return(await Ze.get("/creator-roles")).data}catch(s){throw console.error("Error fetching creator roles:",s),s}}async createCreatorRole(s){try{return(await Ze.post("/creator-roles",s)).data}catch(r){throw console.error("Error creating creator role:",r),r}}async updateCreatorRole(s,r){try{return(await Ze.put(`/creator-roles/${s}`,r)).data}catch(a){throw console.error("Error updating creator role:",a),a}}async deleteCreatorRole(s){try{return(await Ze.delete(`/creator-roles/${s}`)).data}catch(r){throw console.error("Error deleting creator role:",r),r}}async getCompanies(){try{return(await Ze.get("/pms/companies")).data}catch(s){throw console.error("Error fetching companies:",s),s}}async getDepartmentsByCompany(s){try{return(await Ze.get(`/pms/departments/${s}`)).data}catch(r){throw console.error("Error fetching departments for company:",r),r}}async getEmployeesByCompany(s=null,r=null,a=""){try{const n={};return s&&(n.company_id=s),r&&(n.department_id=r),a&&(n.search=a),(await Ze.get("/pms/employees-by-company",{params:n})).data}catch(n){throw console.error("Error fetching employees by company:",n),n}}async getAllEmployees(s=""){try{const r={};return s&&(r.search=s),(await Ze.get("/employees",{params:r})).data}catch(r){throw console.error("Error fetching all employees:",r),r}}async createKpiTaskAssignment(s){try{return(await Ze.post("/pms/kpi-task-assignments",s)).data}catch(r){throw console.error("Error creating KPI task assignment:",r),r}}async getKpiTaskAssignments(){try{return(await Ze.get("/pms/kpi-task-assignments")).data}catch(s){throw console.error("Error fetching KPI task assignments:",s),s}}async updateKpiTaskAssignment(s,r){try{return(await Ze.put(`/pms/kpi-task-assignments/${s}`,r)).data}catch(a){throw console.error("Error updating KPI task assignment:",a),a}}async deleteKpiTaskAssignment(s){try{return(await Ze.delete(`/pms/kpi-task-assignments/${s}`)).data}catch(r){throw console.error("Error deleting KPI task assignment:",r),r}}async getEmployeeKpiTaskAssignments(s){try{return(await Ze.get(`/pms/employee-kpi-task-assignments/${s}`)).data}catch(r){throw console.error("Error fetching employee KPI task assignments:",r),r}}async submitTaskProgress(s){try{return console.log("PMSService: Submitting task progress..."),(await Ze.post("/pms/task-progress-submissions",s,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(r){throw console.error("Error submitting task progress:",r),r.response?(console.error("Response status:",r.response.status),console.error("Response data:",r.response.data),console.error("Response headers:",r.response.headers)):r.request?console.error("No response received:",r.request):console.error("Error setting up request:",r.message),r}}async getTaskProgressSubmissions(s){try{return(await Ze.get(`/pms/task-progress-submissions/assignment/${s}`)).data}catch(r){throw console.error("Error fetching task progress submissions:",r),r}}async getEmployeeTaskProgressSubmissions(s){try{return(await Ze.get(`/pms/task-progress-submissions/employee/${s}`)).data}catch(r){throw console.error("Error fetching employee task progress submissions:",r),r}}async getPerformanceReviewsFromDB(s={}){var r,a;try{console.log("Making performance reviews request with filters:",s);const n=await Ze.get("/pms/performance-reviews",{params:s});return console.log("Performance reviews response:",n.data),n.data}catch(n){throw console.error("Error fetching performance reviews from database:",n),console.error("Error response:",(r=n.response)==null?void 0:r.data),console.error("Error status:",(a=n.response)==null?void 0:a.status),n}}async getPerformanceReviewDetails(s){try{return(await Ze.get(`/pms/performance-reviews/${s}/details`)).data}catch(r){throw console.error("Error fetching performance review details:",r),r}}async getAssignmentDocuments(s){try{return(await Ze.get(`/pms/performance-reviews/${s}/documents`)).data}catch(r){throw console.error("Error fetching assignment documents:",r),r}}async getEmployeeById(s){var r;try{return(await Ze.get(`/employees/${s}`)).data}catch(a){throw console.error(`Error fetching employee ${s}:`,((r=a==null?void 0:a.response)==null?void 0:r.data)??a),a}}async submitPracticalFeedback(s,r){var a;try{return(await Ze.post(`/pms/performance-reviews/${s}/practical-feedback`,r)).data}catch(n){throw console.error(`Error submitting practical feedback for assignment ${s}:`,((a=n==null?void 0:n.response)==null?void 0:a.data)??n),n}}async getPracticalFeedbackHistory(s={}){try{return(await Ze.get("/pms/practical-feedback/history",{params:s})).data}catch(r){throw console.error("Error fetching feedback history:",r),r}}async getFeedbackStats(){try{return(await Ze.get("/pms/practical-feedback/stats")).data}catch(s){throw console.error("Error fetching feedback stats:",s),s}}async updatePerformanceReview(s,r){try{return(await Ze.put(`/pms/performance-reviews/${s}`,r)).data}catch(a){throw console.error("Error updating performance review:",a),a}}async calculateEmployeePerformance(s){try{return(await Ze.post("/pms/employee-performance/calculate",s)).data}catch(r){throw console.error("Error calculating employee performance:",r),r}}async saveEmployeePerformance(s){try{return(await Ze.post("/pms/employee-performance/save",s)).data}catch(r){throw console.error("Error saving employee performance:",r),r}}async getEmployeePerformanceEvaluations(s=null){try{const r=s?{employee_id:s}:{};return(await Ze.get("/pms/employee-performance",{params:r})).data}catch(r){throw console.error("Error fetching employee performance evaluations:",r),r}}async getKpiTasksForApproval(){var s,r;try{const a=await Ze.get("/pms/kpi-task-assignments-for-approval");return(Array.isArray(a.data)?a.data:((s=a.data)==null?void 0:s.data)??[]).map(o=>{const l=(o.approval_status??o.status??"").toString().toLowerCase(),d=o.approval_status?o.approval_status:l==="active"?"pending":l||"pending";return{...o,approval_status:d}})}catch(a){throw console.error("PMSService.getKpiTasksForApproval error",((r=a==null?void 0:a.response)==null?void 0:r.data)??a),a}}async approveKpiTask(s){var r;try{return(await Ze.post(`/pms/kpi-tasks/${s}/approve`)).data}catch(a){throw console.error(`Error approving KPI task ${s}:`,((r=a==null?void 0:a.response)==null?void 0:r.data)??a),a}}async rejectKpiTask(s,r=null){var a;try{const n=r?{reason:r}:{};return(await Ze.post(`/pms/kpi-tasks/${s}/reject`,n)).data}catch(n){throw console.error(`Error rejecting KPI task ${s}:`,((a=n==null?void 0:n.response)==null?void 0:a.data)??n),n}}async getKpiWeights(){try{return(await Ze.get("/pms/kpi-weights")).data}catch(s){throw console.error("Error fetching KPI weights:",s),s}}async createKpiWeight(s){try{return(await Ze.post("/pms/kpi-weights",s)).data}catch(r){throw console.error("Error creating KPI weight:",r),r}}async updateKpiWeight(s,r){try{return(await Ze.put(`/pms/kpi-weights/${s}`,r)).data}catch(a){throw console.error("Error updating KPI weight:",a),a}}async deleteKpiWeight(s,r=!1){try{const a=`/pms/kpi-weights/${s}`,n=r?{force:!0}:{};return(await Ze.delete(a,{params:n})).data}catch(a){throw console.error("Error deleting KPI weight:",a),a}}async calculatePerformanceAppraisal(s){try{return(await Ze.post("/pms/performance-appraisal/calculate",s)).data}catch(r){throw console.error("Error calculating performance appraisal:",r),r}}async savePerformanceAppraisal(s){try{return(await Ze.post("/pms/performance-appraisal/save",s)).data}catch(r){throw console.error("Error saving performance appraisal:",r),r}}async getPerformanceAppraisals(s=null){try{const r=s?{employee_id:s}:{};return(await Ze.get("/pms/performance-appraisals",{params:r})).data}catch(r){throw console.error("Error fetching performance appraisals:",r),r}}}const us=new uae,mae=()=>{var L,I;const[t,s]=N.useState({activeReviews:0,goalProgress:0,upcomingDeadlines:0,totalKpiTasks:0,completedTasks:0,progressIncrease:0}),[r,a]=N.useState([]),[n,i]=N.useState([]),[o,l]=N.useState({onTarget:0,needAttention:0,totalInWindow:0}),[d,u]=N.useState(!0),[h,f]=N.useState(null),[p,g]=N.useState([]),[v,y]=N.useState(0),[b,_]=N.useState(!1),[k,A]=N.useState(null);N.useEffect(()=>{(async()=>{var T;try{if(u(!0),f(null),!(localStorage.getItem("token")||sessionStorage.getItem("token"))){f("Please log in to view dashboard data"),u(!1);return}try{const E=await us.getPMSDashboardStats();s(E)}catch(E){console.warn("Failed to fetch dashboard stats:",E),s({activeReviews:0,goalProgress:0,upcomingDeadlines:0,totalKpiTasks:0,completedTasks:0,progressIncrease:0})}try{const E=await us.getRecentPerformanceReviews(5);a((E==null?void 0:E.data)||[])}catch(E){console.warn("Failed to fetch recent reviews:",E),a([])}try{const E=await us.getUpcomingDeadlines();i(E||[])}catch(E){console.warn("Failed to fetch upcoming deadlines:",E),i([])}try{const E=await us.getKpiPerformance();l(E)}catch(E){console.warn("Failed to fetch KPI performance:",E),l({onTarget:0,needAttention:0,totalInWindow:0})}}catch(w){console.error("Dashboard data fetch error:",w),((T=w==null?void 0:w.response)==null?void 0:T.status)===401?f("Authentication required. Please log in again."):f("Failed to load dashboard data")}finally{u(!1)}})()},[]),N.useEffect(()=>{let B;const T=async()=>{try{_(!0),A(null);const[w,E]=await Promise.all([tm.getNotifications(10),tm.getUnreadCount()]);g(w),y(E)}catch(w){console.warn("Failed to load notifications",w),A("Could not load notifications")}finally{_(!1)}};return T(),B=setInterval(T,6e4),()=>clearInterval(B)},[]);const R=async()=>{try{await tm.markAllNotificationsRead(),g(B=>B.map(T=>({...T,is_read:!0,read_at:T.read_at||new Date().toISOString()}))),y(0)}catch(B){console.error("Failed to mark all read",B)}},F=async B=>{if(!B.is_read)try{g(T=>T.map(w=>w.id===B.id?{...w,is_read:!0,read_at:new Date().toISOString()}:w)),y(T=>Math.max(0,T-1)),await tm.markNotificationRead(B.id)}catch(T){console.error("Failed to mark notification read",T)}},V=[{category:"On Target",percentage:o.totalInWindow>0?Math.round(o.onTarget/o.totalInWindow*100):0,color:"bg-blue-500",icon:xF,iconColor:"text-blue-600",bgColor:"bg-blue-50"},{category:"Need Attention",percentage:o.totalInWindow>0?Math.round(o.needAttention/o.totalInWindow*100):0,color:"bg-orange-500",icon:j0,iconColor:"text-orange-600",bgColor:"bg-orange-50"},{category:"In Progress",percentage:o.totalInWindow>0?Math.round((o.totalInWindow-o.onTarget-o.needAttention)/o.totalInWindow*100):0,color:"bg-gray-500",icon:Ns,iconColor:"text-gray-600",bgColor:"bg-gray-50"}].filter(B=>B.percentage>0),S=[{id:"performanceReviews",name:"Performance Reviews",icon:Gl,color:"bg-slate-100 border-slate-200",iconBg:"bg-slate-100",iconColor:"text-slate-600",description:"Manage review cycles and assessments",count:t.activeReviews},{id:"goals",name:"Goals & OKRs",icon:wn,color:"bg-slate-100 border-slate-200",iconBg:"bg-slate-100",iconColor:"text-slate-600",description:"Track objectives and key results",count:t.completedTasks},{id:"kpis",name:"KPIs",icon:ed,color:"bg-slate-100 border-slate-200",iconBg:"bg-slate-100",iconColor:"text-slate-600",description:"Monitor key performance indicators",count:t.totalKpiTasks},{id:"360feedback",name:"360 Feedback",icon:ta,color:"bg-slate-100 border-slate-200",iconBg:"bg-slate-100",iconColor:"text-slate-600",description:"Multi-source feedback collection",count:0},{id:"appraisals",name:"Appraisals",icon:ln,color:"bg-slate-100 border-slate-200",iconBg:"bg-slate-100",iconColor:"text-slate-600",description:"Final ratings and appraisal documents",count:t.completedTasks},{id:"competency",name:"Competencies",icon:xs,color:"bg-slate-100 border-slate-200",iconBg:"bg-slate-100",iconColor:"text-slate-600",description:"Skills and competency frameworks",count:0}];return d?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-gray-200 border-t-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Loading dashboard..."}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Fetching your performance data"})]})}):h?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:e.jsx("div",{className:"text-center max-w-md",children:e.jsxs("div",{className:"bg-red-50 rounded-lg p-6 border border-red-200",children:[e.jsx(j0,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),e.jsx("div",{className:"text-red-600 text-xl font-semibold mb-2",children:"Error Loading Dashboard"}),e.jsx("div",{className:"text-gray-600 mb-6",children:h}),h.includes("Authentication")&&e.jsx("button",{onClick:()=>window.location.href="/",className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Go to Login"})]})})}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-6 py-8 max-w-7xl",children:[e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"bg-white rounded-xl p-8 border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Performance Management System"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Dashboard overview of your organization's performance metrics"})]}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"bg-gray-100 rounded-full p-4",children:e.jsx(Hc,{className:"h-8 w-8 text-gray-600"})})})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"bg-blue-50 rounded-t-xl p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Active Reviews"}),e.jsx("div",{className:"bg-blue-100 rounded-full p-2",children:e.jsx(Gl,{className:"h-5 w-5 text-blue-600"})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-end gap-3 mb-2",children:[e.jsx("span",{className:"text-3xl font-bold text-gray-900",children:t.activeReviews}),e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx(wi,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{className:"text-sm font-medium",children:["+",t.progressIncrease,"%"]})]})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"From last month"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"bg-green-50 rounded-t-xl p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Goals Progress"}),e.jsx("div",{className:"bg-green-100 rounded-full p-2",children:e.jsx(wn,{className:"h-5 w-5 text-green-600"})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-end gap-3 mb-2",children:[e.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:[t.goalProgress,"%"]}),e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx(wi,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{className:"text-sm font-medium",children:["+",t.progressIncrease,"%"]})]})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Average completion rate"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"bg-orange-50 rounded-t-xl p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Upcoming Deadlines"}),e.jsx("div",{className:"bg-orange-100 rounded-full p-2",children:e.jsx(ys,{className:"h-5 w-5 text-orange-600"})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-end gap-3 mb-2",children:[e.jsx("span",{className:"text-3xl font-bold text-gray-900",children:t.upcomingDeadlines}),e.jsx("span",{className:"text-sm text-orange-600 font-medium",children:"This month"})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Next:"," ",n.length>0?`${(L=n[0])==null?void 0:L.name} (${(I=n[0])==null?void 0:I.daysLeft} days)`:"No upcoming deadlines"]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Performance Management Modules"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(B=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:`rounded-t-xl p-6 border-b border-gray-200 ${B.color}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:B.name}),e.jsx("div",{className:`rounded-full p-2 ${B.iconBg}`,children:e.jsx(B.icon,{className:`h-5 w-5 ${B.iconColor}`})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:B.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-500",children:[B.count," items"]}),e.jsx("div",{className:"bg-gray-100 rounded-full p-2",children:e.jsx(Wj,{className:"h-4 w-4 text-gray-600"})})]})]})]},B.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 lg:col-span-1",children:[e.jsxs("div",{className:"bg-gray-50 rounded-t-xl p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"font-bold text-xl text-gray-900",children:"KPI Performance"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Current month overview"})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-6",children:V.length>0?V.map(B=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${B.bgColor}`,children:e.jsx(B.icon,{className:`h-4 w-4 ${B.iconColor}`})}),e.jsx("span",{className:"font-medium text-gray-800",children:B.category})]}),e.jsxs("span",{className:"font-bold text-gray-900",children:[B.percentage,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full ${B.color} transition-all duration-1000 ease-out`,style:{width:`${B.percentage}%`}})})]},B.category)):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ed,{className:"h-10 w-10 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"No KPI data available"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Data will appear as tasks are completed"})]})})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 lg:col-span-1",children:[e.jsxs("div",{className:"bg-gray-50 rounded-t-xl p-6 border-b border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"font-bold text-xl text-gray-900 flex items-center gap-2",children:["Notifications"," ",v>0&&e.jsx("span",{className:"ml-2 inline-flex items-center justify-center text-xs font-semibold px-2 py-0.5 rounded-full bg-blue-600 text-white",children:v})]}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Latest updates & KPI assignments"})]}),v>0&&e.jsx("button",{onClick:R,className:"text-xs font-medium text-blue-600 hover:text-blue-700",children:"Mark all read"})]}),e.jsxs("div",{className:"p-4",children:[b&&p.length===0&&e.jsx("div",{className:"py-8 text-center text-gray-500 text-sm",children:"Loading notifications..."}),k&&e.jsx("div",{className:"py-4 text-center text-red-600 text-sm",children:k}),e.jsx("ul",{className:"divide-y divide-gray-200 max-h-96 overflow-auto",children:p.length>0?p.slice(0,8).map(B=>e.jsx("li",{className:`p-4 cursor-pointer hover:bg-gray-50 transition flex gap-3 ${B.is_read?"":"bg-blue-50/40"}`,onClick:()=>F(B),children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("p",{className:`text-sm font-medium ${B.is_read?"text-gray-700":"text-gray-900"}`,children:B.title||B.type}),!B.is_read&&e.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-blue-600 mt-1"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:B.message}),e.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:new Date(B.created_at).toLocaleString()})]})},B.id)):!b&&e.jsx("li",{className:"p-8 text-center text-gray-500 text-sm",children:"No notifications"})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 lg:col-span-1 lg:col-span-1 md:col-span-2 lg:col-span-1 lg:col-span-1 lg:col-span-2",children:[e.jsx("div",{className:"bg-gray-50 rounded-t-xl p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"font-bold text-xl text-gray-900",children:"Recent Performance Reviews"}),e.jsx("div",{className:"bg-gray-200 rounded-full p-2",children:e.jsx(xs,{className:"h-4 w-4 text-gray-600"})})]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Employee"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Task"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Due Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Progress"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length>0?r.map(B=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:B.employeeName}),e.jsx("div",{className:"text-xs text-gray-500",children:B.department})]})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-600",children:B.taskName}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(B.dueDate).toLocaleDateString()}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${B.status==="Completed"?"bg-green-100 text-green-800 border border-green-200":B.status==="In Progress"?"bg-blue-100 text-blue-800 border border-blue-200":"bg-yellow-100 text-yellow-800 border border-yellow-200"}`,children:B.status})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2 mr-3",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-500",style:{width:`${B.progress||0}%`}})}),e.jsxs("span",{className:"font-medium text-gray-800",children:[B.progress||0,"%"]})]})})]},B.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-4 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(xs,{className:"h-10 w-10 text-gray-300 mb-3"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"No recent performance reviews found"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Reviews will appear here as they are completed"})]})})})})]})})})]})]})]})})};function hae(t){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",s.firstChild?s.insertBefore(r,s.firstChild):s.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}hae(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var o5=t=>typeof t=="number"&&!isNaN(t),zp=t=>typeof t=="string",u7=t=>typeof t=="function",xae=t=>zp(t)||o5(t),fae=t=>N.isValidElement(t)||zp(t)||u7(t)||o5(t),pae=1,m7=()=>`${pae++}`,Xc=new Map,jj=[],UC=new Set,h7=()=>Xc.size>0,gae=(t,{containerId:s})=>{var r;return(r=Xc.get(s||1))==null?void 0:r.toasts.get(t)};function yae(t,s){var r;if(s)return!!((r=Xc.get(s))!=null&&r.isToastActive(t));let a=!1;return Xc.forEach(n=>{n.isToastActive(t)&&(a=!0)}),a}function bae(t){if(!h7()){jj=jj.filter(s=>t!=null&&s.options.toastId!==t);return}if(t==null||xae(t))Xc.forEach(s=>{s.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let s=Xc.get(t.containerId);s?s.removeToast(t.id):Xc.forEach(r=>{r.removeToast(t.id)})}}var vae=(t={})=>{Xc.forEach(s=>{s.props.limit&&(!t.containerId||s.id===t.containerId)&&s.clearQueue()})};function wae(t,s){fae(t)&&(h7()||jj.push({content:t,options:s}),Xc.forEach(r=>{r.buildToast(t,s)}))}function x7(t,s){Xc.forEach(r=>{(s==null||!(s!=null&&s.containerId)||(s==null?void 0:s.containerId)===r.id)&&r.toggle(t,s==null?void 0:s.id)})}function jae(t){return UC.add(t),()=>{UC.delete(t)}}function Nae(t){return t&&(zp(t.toastId)||o5(t.toastId))?t.toastId:m7()}function mg(t,s){return wae(t,s),s.toastId}function X1(t,s){return{...s,type:s&&s.type||t,toastId:Nae(s)}}function Q1(t){return(s,r)=>mg(s,X1(t,r))}function Fr(t,s){return mg(t,X1("default",s))}Fr.loading=(t,s)=>mg(t,X1("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...s}));function Sae(t,{pending:s,error:r,success:a},n){let i;s&&(i=zp(s)?Fr.loading(s,n):Fr.loading(s.render,{...n,...s}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,h,f)=>{if(h==null){Fr.dismiss(i);return}let p={type:u,...o,...n,data:f},g=zp(h)?{render:h}:h;return i?Fr.update(i,{...p,...g}):Fr(g.render,{...p,...g}),f},d=u7(t)?t():t;return d.then(u=>l("success",a,u)).catch(u=>l("error",r,u)),d}Fr.promise=Sae;Fr.success=Q1("success");Fr.info=Q1("info");Fr.error=Q1("error");Fr.warning=Q1("warning");Fr.warn=Fr.warning;Fr.dark=(t,s)=>mg(t,X1("default",{theme:"dark",...s}));function _ae(t){bae(t)}Fr.dismiss=_ae;Fr.clearWaitingQueue=vae;Fr.isActive=yae;Fr.update=(t,s={})=>{let r=gae(t,s);if(r){let{props:a,content:n}=r,i={delay:100,...a,...s,toastId:s.toastId||t,updateId:m7()};i.toastId!==t&&(i.staleId=t);let o=i.render||n;delete i.render,mg(o,i)}};Fr.done=t=>{Fr.update(t,{progress:1})};Fr.onChange=jae;Fr.play=t=>x7(!0,t);Fr.pause=t=>x7(!1,t);const Cae=({isOpen:t,onClose:s,onSubmit:r})=>{const[a,n]=N.useState(!1),[i,o]=N.useState(""),[l,d]=N.useState(""),[u,h]=N.useState(""),[f,p]=N.useState(!1),[g,v]=N.useState(!1),[y,b]=N.useState([]),[_,k]=N.useState([]),[A,R]=N.useState([]),[F,V]=N.useState([]),[S,L]=N.useState({reviewTitle:"",reviewType:"performance",reviewCycle:"",employeeId:"",employeeName:"",employeeNo:"",employeeDepartment:"",employeePosition:"",taskId:"",taskName:"",taskCategory:"",startDate:"",dueDate:"",evaluationMetrics:[{name:"Quality",weight:25},{name:"Timeliness",weight:25},{name:"Initiative",weight:25},{name:"Collaboration",weight:25}],reviewFrequency:"weekly",supervisorId:"1",supervisorName:"Michael Wong",reviewNotes:"",expectedOutcomes:"",status:"Draft"}),I=[{id:1,name:"Engineering"},{id:2,name:"Marketing"},{id:3,name:"Sales"},{id:4,name:"HR"},{id:5,name:"Customer Service"},{id:6,name:"Operations"}],B=[{id:"performance",name:"Performance Review"},{id:"progress",name:"Progress Check-in"},{id:"quarterly",name:"Quarterly Review"},{id:"annual",name:"Annual Review"},{id:"probation",name:"Probation Review"}],T=[{id:"2025_Q1",name:"2025 Q1"},{id:"2025_Q2",name:"2025 Q2"},{id:"2025_Q3",name:"2025 Q3"},{id:"2025_Q4",name:"2025 Q4"},{id:"2025_Annual",name:"2025 Annual"}],w=[{id:"weekly",name:"Weekly"},{id:"biweekly",name:"Bi-weekly"},{id:"monthly",name:"Monthly"},{id:"quarterly",name:"Quarterly"}];N.useEffect(()=>{const ee=[{id:"EMP001",name:"John Smith",department:"Engineering",position:"Software Developer",attendanceNo:"A1001"},{id:"EMP002",name:"Sarah Johnson",department:"Customer Service",position:"Customer Service Lead",attendanceNo:"A1002"},{id:"EMP025",name:"Mike Chen",department:"Sales",position:"Sales Representative",attendanceNo:"A1025"},{id:"EMP032",name:"Emma Davis",department:"Design",position:"UX Designer",attendanceNo:"A1032"},{id:"EMP014",name:"David Rodriguez",department:"Engineering",position:"Backend Developer",attendanceNo:"A1014"},{id:"EMP017",name:"James Wilson",department:"Product",position:"Product Manager",attendanceNo:"A1017"},{id:"EMP028",name:"Linda Martinez",department:"Support",position:"Customer Support Specialist",attendanceNo:"A1028"}],ce=[{id:1,name:"Customer Satisfaction Score Report",category:"Customer",department:"Customer Service"},{id:2,name:"Revenue Growth Rate Analysis",category:"Financial",department:"Sales"},{id:3,name:"Employee Turnover Rate Reduction",category:"HR",department:"HR"},{id:4,name:"Project Completion Rate Tracking",category:"Operations",department:"Operations"},{id:5,name:"Code Quality Improvement",category:"Technical",department:"Engineering"},{id:6,name:"User Experience Enhancement",category:"Design",department:"Design"}];b(ee),R(ce)},[]),N.useEffect(()=>{let ee=y;u&&(ee=ee.filter(ce=>ce.department===u)),i&&(ee=ee.filter(ce=>ce.name.toLowerCase().includes(i.toLowerCase())||ce.attendanceNo.toLowerCase().includes(i.toLowerCase())||ce.id.toLowerCase().includes(i.toLowerCase()))),k(ee)},[y,i,u]),N.useEffect(()=>{let ee=A;S.employeeDepartment&&(ee=ee.filter(ce=>ce.department===S.employeeDepartment||ce.department==="All")),l&&(ee=ee.filter(ce=>ce.name.toLowerCase().includes(l.toLowerCase())||ce.category.toLowerCase().includes(l.toLowerCase()))),V(ee)},[A,l,S.employeeDepartment]);const E=ee=>{const{name:ce,value:U}=ee.target;L(O=>({...O,[ce]:U}))},D=ee=>{L(ce=>({...ce,employeeId:ee.id,employeeName:ee.name,employeeNo:ee.attendanceNo,employeeDepartment:ee.department,employeePosition:ee.position})),p(!1)},G=ee=>{L(ce=>({...ce,taskId:ee.id,taskName:ee.name,taskCategory:ee.category,reviewTitle:`${ee.name} Review for ${S.employeeName}`})),v(!1)},K=(ee,ce,U)=>{const O=[...S.evaluationMetrics];O[ee][ce]=U,L(z=>({...z,evaluationMetrics:O}))},X=()=>{L(ee=>({...ee,evaluationMetrics:[...ee.evaluationMetrics,{name:"",weight:0}]}))},se=ee=>{const ce=[...S.evaluationMetrics];ce.splice(ee,1),L(U=>({...U,evaluationMetrics:ce}))},Z=async ee=>{ee.preventDefault(),n(!0);try{console.log("Submitting review:",S),await new Promise(ce=>setTimeout(ce,1e3)),r(S),s()}catch(ce){console.error("Error creating review:",ce),alert("Failed to create review. Please try again.")}finally{n(!1)}};return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-5xl mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Create New Performance Review"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Set up a new review to monitor task progress and performance"})]}),e.jsx("button",{onClick:s,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:e.jsx(zt,{size:20})})]}),e.jsxs("form",{onSubmit:Z,className:"p-6 space-y-8",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-md font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(xs,{className:"h-5 w-5 text-indigo-500"}),"Review Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Review Title*"}),e.jsx("input",{type:"text",name:"reviewTitle",value:S.reviewTitle,onChange:E,required:!0,placeholder:"Enter review title",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Review Type*"}),e.jsx("select",{name:"reviewType",value:S.reviewType,onChange:E,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:B.map(ee=>e.jsx("option",{value:ee.id,children:ee.name},ee.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Review Cycle*"}),e.jsxs("select",{name:"reviewCycle",value:S.reviewCycle,onChange:E,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"Select Review Cycle"}),T.map(ee=>e.jsx("option",{value:ee.id,children:ee.name},ee.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-in Frequency"}),e.jsx("select",{name:"reviewFrequency",value:S.reviewFrequency,onChange:E,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:w.map(ee=>e.jsx("option",{value:ee.id,children:ee.name},ee.id))})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-md font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(er,{className:"h-5 w-5 text-indigo-500"}),"Employee Selection"]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsxs("div",{className:"flex gap-4 mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Department (Filter)"}),e.jsxs("select",{value:u,onChange:ee=>h(ee.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"All Departments"}),I.map(ee=>e.jsx("option",{value:ee.name,children:ee.name},ee.id))]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee*"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:S.employeeName,placeholder:"Search employee by name or ID...",onClick:()=>p(!0),readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 cursor-pointer"}),e.jsx(dn,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16})]})]})]}),f&&e.jsxs("div",{className:"absolute z-10 mt-1 w-full bg-white border border-gray-300 rounded-lg shadow-lg",children:[e.jsx("div",{className:"p-2 border-b",children:e.jsxs("div",{className:"relative",children:[e.jsx(or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",value:i,onChange:ee=>o(ee.target.value),placeholder:"Search by name, ID or attendance no...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg"})]})}),e.jsx("div",{className:"max-h-60 overflow-y-auto",children:_.length>0?_.map(ee=>e.jsx("div",{className:"p-2 hover:bg-gray-100 cursor-pointer",onClick:()=>D(ee),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center mr-3",children:e.jsx(er,{className:"h-4 w-4 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800",children:ee.name}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[e.jsxs("span",{children:["ID: ",ee.id]}),e.jsxs("span",{children:["Attendance: ",ee.attendanceNo]}),e.jsx("span",{children:ee.department})]})]})]})},ee.id)):e.jsx("div",{className:"p-4 text-center text-gray-500",children:"No employees found matching your search"})})]})]}),S.employeeId&&e.jsx("div",{className:"bg-indigo-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(er,{className:"h-5 w-5 text-indigo-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:S.employeeName}),e.jsxs("span",{className:"text-sm bg-indigo-100 text-indigo-800 px-2 py-0.5 rounded-full",children:["ID: ",S.employeeId]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[e.jsx("span",{children:S.employeePosition}),e.jsx("span",{children:""}),e.jsx("span",{children:S.employeeDepartment}),e.jsx("span",{children:""}),e.jsxs("span",{children:["Attendance: ",S.employeeNo]})]})]})]})})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-md font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(wn,{className:"h-5 w-5 text-indigo-500"}),"Task Selection"]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Task to Review*"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:S.taskName,placeholder:"Search and select a task...",onClick:()=>v(!0),readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 cursor-pointer"}),e.jsx(dn,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16})]}),g&&e.jsxs("div",{className:"absolute z-10 mt-1 w-full bg-white border border-gray-300 rounded-lg shadow-lg",children:[e.jsx("div",{className:"p-2 border-b",children:e.jsxs("div",{className:"relative",children:[e.jsx(or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",value:l,onChange:ee=>d(ee.target.value),placeholder:"Search by task name or category...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg"})]})}),e.jsx("div",{className:"max-h-60 overflow-y-auto",children:F.length>0?F.map(ee=>e.jsx("div",{className:"p-2 hover:bg-gray-100 cursor-pointer",onClick:()=>G(ee),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center mr-3",children:e.jsx(wn,{className:"h-4 w-4 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800",children:ee.name}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[e.jsx("span",{className:"bg-purple-50 text-purple-700 px-2 py-0.5 rounded-full",children:ee.category}),e.jsx("span",{children:ee.department})]})]})]})},ee.id)):e.jsx("div",{className:"p-4 text-center text-gray-500",children:"No tasks found matching your search"})})]})]}),S.taskId&&e.jsx("div",{className:"bg-purple-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(wn,{className:"h-5 w-5 text-purple-600"})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:S.taskName}),e.jsx("span",{className:"text-sm bg-purple-100 text-purple-800 px-2 py-0.5 rounded-full",children:S.taskCategory})]})})]})})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-md font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(ys,{className:"h-5 w-5 text-indigo-500"}),"Review Timeline"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date*"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ys,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"date",name:"startDate",value:S.startDate,onChange:E,required:!0,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date*"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ys,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"date",name:"dueDate",value:S.dueDate,onChange:E,required:!0,min:S.startDate,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-md font-semibold text-gray-800 flex items-center gap-2",children:[e.jsx(Gl,{className:"h-5 w-5 text-indigo-500"}),"Evaluation Metrics"]}),e.jsx("button",{type:"button",onClick:X,className:"text-sm text-indigo-600 hover:text-indigo-800 flex items-center gap-1",children:"+ Add Metric"})]}),e.jsx("div",{className:"space-y-3 mb-2",children:S.evaluationMetrics.map((ee,ce)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",value:ee.name,onChange:U=>K(ce,"name",U.target.value),placeholder:"Metric name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})}),e.jsx("div",{className:"w-24",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"number",value:ee.weight,onChange:U=>K(ce,"weight",parseInt(U.target.value)),min:"0",max:"100",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"%"})]})}),S.evaluationMetrics.length>1&&e.jsx("button",{type:"button",onClick:()=>se(ce),className:"p-2 text-red-500 hover:bg-red-50 rounded-full",children:e.jsx(zt,{size:16})})]},ce))}),e.jsx("div",{className:"text-sm text-gray-500 mt-2",children:"Note: The sum of all metric weights should equal 100%"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-md font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(xs,{className:"h-5 w-5 text-indigo-500"}),"Additional Information"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expected Outcomes"}),e.jsx("textarea",{name:"expectedOutcomes",value:S.expectedOutcomes,onChange:E,placeholder:"What are the expected outcomes or deliverables for this review?",rows:"3",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Review Notes"}),e.jsx("textarea",{name:"reviewNotes",value:S.reviewNotes,onChange:E,placeholder:"Any additional notes or instructions for the review...",rows:"3",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:a,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center space-x-2",children:a?e.jsxs(e.Fragment,{children:[e.jsx(Ps,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Creating..."})]}):e.jsx("span",{children:"Create Review"})})]})]})]})}):null},kae=({isOpen:t,onClose:s,review:r,useDatabase:a=!1})=>{const[n,i]=N.useState(!1),[o,l]=N.useState("all"),[d,u]=N.useState(""),[h,f]=N.useState(null),[p,g]=N.useState([]),[v,y]=N.useState(!1);N.useEffect(()=>{t&&r&&r.id?b():g([])},[t,r]);const b=async()=>{y(!0);try{const F=await us.getAssignmentDocuments(r.id);g(F||[])}catch(F){console.error("Error fetching documents:",F),g([])}finally{y(!1)}},_=p.filter(F=>{var S,L;const V=d===""||((S=F.documentName)==null?void 0:S.toLowerCase().includes(d.toLowerCase()))||((L=F.author)==null?void 0:L.toLowerCase().includes(d.toLowerCase()))||F.note&&F.note.toLowerCase().includes(d.toLowerCase());if(o==="all")return V;if(o==="recent"){const I=new Date;return I.setDate(I.getDate()-7),V&&new Date(F.date)>=I}return V}),k=F=>F!=null&&F.includes("image")?"":F!=null&&F.includes("pdf")?"":F!=null&&F.includes("spreadsheet")||F!=null&&F.includes("excel")?"":F!=null&&F.includes("word")||F!=null&&F.includes("document")?"":"",A=F=>{const V=F.documentType||"";return V.includes("image")?`<svg xmlns="http://www.w3.org/2000/svg" width="800" height="600" viewBox="0 0 800 600">
        <rect width="800" height="600" fill="#f0f0f0"/>
        <text x="400" y="300" font-family="Arial" font-size="24" text-anchor="middle">
          ${F.documentName} - Placeholder Image
        </text>
        <text x="400" y="340" font-family="Arial" font-size="18" text-anchor="middle">
          Document submitted by ${F.author} on ${new Date(F.date).toLocaleDateString()}
        </text>
      </svg>`:V.includes("pdf")?`%PDF-1.4
1 0 obj
<< /Type /Catalog /Pages 2 0 R >>
endobj
2 0 obj
<< /Type /Pages /Kids [3 0 R] /Count 1 >>
endobj
3 0 obj
<< /Type /Page /Parent 2 0 R /Resources 4 0 R /MediaBox [0 0 612 792] /Contents 5 0 R >>
endobj
4 0 obj
<< /Font << /F1 6 0 R >> >>
endobj
5 0 obj
<< /Length 90 >>
stream
BT
/F1 24 Tf
100 700 Td
(${F.documentName} - Sample PDF) Tj
/F1 12 Tf
0 -50 Td
(Document submitted by ${F.author}) Tj
0 -20 Td
(Date: ${new Date(F.date).toLocaleDateString()}) Tj
ET
endstream
endobj
6 0 obj
<< /Type /Font /Subtype /Type1 /BaseFont /Helvetica >>
endobj
xref
0 7
0000000000 65535 f
0000000009 00000 n
0000000058 00000 n
0000000115 00000 n
0000000210 00000 n
0000000251 00000 n
0000000391 00000 n
trailer
<< /Size 7 /Root 1 0 R >>
startxref
458
%%EOF`:V.includes("spreadsheet")||V.includes("excel")?`ID,Name,Date,Progress
1,${F.documentName},${new Date(F.date).toLocaleDateString()},${F.progressPercentage||"N/A"}
2,Task Progress,${new Date().toLocaleDateString()},Sample Data
3,KPI Update,${new Date().toLocaleDateString()},Sample Data`:`${F.documentName}
    
Submitted by: ${F.author}
Date: ${new Date(F.date).toLocaleDateString()}
Progress: ${F.progressPercentage||"N/A"}%

${F.note||"No additional notes provided."}

This is a sample document generated for demonstration purposes.
In a real application, this would be the actual file content uploaded by the employee.`},R=F=>{i(!0),f(F.documentName),setTimeout(()=>{var V,S,L,I,B,T;try{const w=A(F);let E="text/plain",D=".txt";(V=F.documentType)!=null&&V.includes("pdf")?(E="application/pdf",D=".pdf"):(S=F.documentType)!=null&&S.includes("image")?(E="image/svg+xml",D=".svg"):(L=F.documentType)!=null&&L.includes("spreadsheet")||(I=F.documentType)!=null&&I.includes("excel")?(E="text/csv",D=".csv"):((B=F.documentType)!=null&&B.includes("word")||(T=F.documentType)!=null&&T.includes("document"))&&(E="application/msword",D=".doc");const G=new Blob([w],{type:E}),K=URL.createObjectURL(G),X=F.createElement("a");X.href=K;const se=F.documentName.replace(/[^a-z0-9]/gi,"_").toLowerCase();X.download=`${se}${D}`,F.body.appendChild(X),X.click(),F.body.removeChild(X),URL.revokeObjectURL(K)}catch(w){console.error("Error downloading document:",w),alert("Failed to download the document. Please try again.")}finally{i(!1),f(null)}},800)};return!t||!r?null:e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Submitted Documents"}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[e.jsx("span",{className:"font-medium",children:r.employeeName}),"  ",r.position||"Employee"]}),e.jsxs("div",{className:"text-xs text-green-600 mt-1",children:[" Database Data  Assignment ID: ",r.id]})]}),e.jsx("button",{onClick:s,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:e.jsx(zt,{size:20})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"bg-indigo-50 border border-indigo-100 rounded-xl p-4 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Wc,{className:"h-5 w-5 text-indigo-600"})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900",children:["Task: ",r.taskName]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Documents from database task progress submissions"}),r.selfReportedLastUpdated&&e.jsxs("p",{className:"text-xs text-indigo-600 mt-2",children:["Last update: ",new Date(r.selfReportedLastUpdated).toLocaleString()]})]})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",placeholder:"Search documents...",value:d,onChange:F=>u(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"}),e.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",children:e.jsx("svg",{className:"h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:`px-3 py-2 rounded-lg text-sm font-medium ${o==="all"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>l("all"),children:"All Documents"}),e.jsx("button",{className:`px-3 py-2 rounded-lg text-sm font-medium ${o==="recent"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>l("recent"),children:"Recent (7 days)"})]})]}),v?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ps,{className:"h-8 w-8 animate-spin text-indigo-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Loading documents..."})]}):_.length>0?e.jsx("div",{className:"space-y-4",children:_.map((F,V)=>e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0 border border-gray-200",children:e.jsx("span",{className:"text-2xl",children:k(F.documentType)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 truncate",children:F.documentName}),e.jsx("p",{className:"text-sm text-gray-500",children:F.documentSize})]}),e.jsx("button",{onClick:()=>R(F),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-full transition-all",disabled:n&&h===F.documentName,children:n&&h===F.documentName?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-indigo-600 border-t-transparent rounded-full"}):e.jsx(Mn,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.jsx(er,{className:"h-3.5 w-3.5 text-gray-400"}),e.jsxs("span",{children:["Submitted by ",F.author]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ys,{className:"h-3.5 w-3.5 text-gray-400"}),e.jsx("span",{children:new Date(F.date).toLocaleString()})]})]})]})]}),F.note&&e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:e.jsx("p",{className:"text-sm text-gray-700",children:F.note})}),F.progressPercentage!==void 0&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[e.jsxs("span",{className:"text-gray-600 flex items-center gap-1",children:[e.jsx(Gj,{className:"h-3 w-3 text-gray-400"}),"Progress at submission:"]}),e.jsxs("span",{className:"font-medium text-indigo-600",children:[F.progressPercentage,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:e.jsx("div",{className:`h-1.5 rounded-full ${F.progressPercentage<30?"bg-red-500":F.progressPercentage<70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${F.progressPercentage}%`}})})]})]},V))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(Wc,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No documents found"}),e.jsx("p",{className:"text-gray-500 mt-2",children:d?"No documents match your search criteria.":"No documents have been submitted for this assignment yet."})]})]}),e.jsx("div",{className:"flex justify-end p-6 border-t border-gray-100",children:e.jsx("button",{onClick:s,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"})})]})})},Aae=["In Progress","Pending","Completed"],Eae=["A+","A","B","C","C-"],Tae=t=>{if(!t||!t.name)return null;const s=String(t.name).toLowerCase(),r=[{match:"job knowledge",key:"jobKnowledge"},{match:"quality",key:"qualityOfWork"},{match:"productivity",key:"productivity"},{match:"communication",key:"communicationSkills"},{match:"teamwork",key:"teamwork"},{match:"behavior",key:"behaviorAtWork"},{match:"problem",key:"problemSolving"},{match:"attendance",key:"attendance"},{match:"adapt",key:"adaptability"},{match:"self",key:"selfDevelopment"},{match:"discipline",key:"discipline"},{match:"guideline",key:"adherenceToGuidelines"}];for(const a of r)if(s.includes(a.match))return a.key;return null},Dae=({isOpen:t,onClose:s,review:r,onSave:a})=>{const[n,i]=N.useState(0),[o,l]=N.useState((r==null?void 0:r.grade)||""),[d,u]=N.useState((r==null?void 0:r.supervisorComments)||""),[h,f]=N.useState((r==null?void 0:r.status)||"In Progress"),[p,g]=N.useState(!1),[v,y]=N.useState(!1),[b,_]=N.useState(null),[k,A]=N.useState(!1),[R,F]=N.useState({jobKnowledge:0,qualityOfWork:0,productivity:0,communicationSkills:0,teamwork:0,behaviorAtWork:0,problemSolving:0,attendance:0,adaptability:0,selfDevelopment:0,discipline:0,adherenceToGuidelines:0});N.useEffect(()=>{(async()=>{if(!(!t||!(r!=null&&r.id))){A(!0);try{const E=await us.getPerformanceReviewDetails(r.id);console.log("Fetched task details:",E),_(E)}catch(E){console.error("Error fetching task details:",E),Fr.error("Failed to load task details")}finally{A(!1)}}})()},[t,r==null?void 0:r.id]),N.useEffect(()=>{if(r&&(i(r.progress||0),l(r.grade||""),u(r.supervisorComments||""),f(r.status||"In Progress"),r.performanceMetrics&&Object.values(r.performanceMetrics).some(w=>w>0)?F(r.performanceMetrics):I()),b!=null&&b.supervisor_review){const w=b.supervisor_review;i(w.progress||0),l(w.grade||""),u(w.comments||""),f(w.status||"In Progress"),w.performance_metrics&&Object.values(w.performance_metrics).some(E=>E>0)&&F(w.performance_metrics)}},[r,b]);const S=(()=>{var D,G,K,X,se,Z;if(!b)return r!=null&&r.taskId||r!=null&&r.taskName?{id:(r==null?void 0:r.taskId)??null,name:(r==null?void 0:r.taskName)??(r==null?void 0:r.taskName)??null,description:null,startDate:null,endDate:null,weights:[]}:null;const w=b.taskName??((D=b.assignment)==null?void 0:D.task_name)??null;return{id:b.id??((G=b.assignment)==null?void 0:G.id)??null,name:w,description:b.description??((K=b.assignment)==null?void 0:K.description)??null,startDate:b.startDate??((X=b.assignment)==null?void 0:X.start_date)??null,endDate:b.endDate??((se=b.assignment)==null?void 0:se.end_date)??null,weights:b.weights??((Z=b.assignment)==null?void 0:Z.weights)??[]}})(),L=S?Tae(S):null;N.useEffect(()=>{L&&F(w=>w.hasOwnProperty(L)?w:{...w,[L]:(r==null?void 0:r.progress)??0})},[L,r==null?void 0:r.progress]),N.useEffect(()=>{},[R,L]);const I=()=>{F({jobKnowledge:0,qualityOfWork:0,productivity:0,communicationSkills:0,teamwork:0,behaviorAtWork:0,problemSolving:0,attendance:0,adaptability:0,selfDevelopment:0,discipline:0,adherenceToGuidelines:0})},B=()=>{if(b!=null&&b.submissions&&b.submissions.length>0){const w=b.submissions[0];if(w.performance_metrics){F(w.performance_metrics),y(!0);return}}r!=null&&r.selfReportedMetrics?(F(r.selfReportedMetrics),y(!0)):alert("No self-reported performance metrics available for this review.")};if(N.useEffect(()=>{t&&y(!1)},[t]),!t||!r)return null;const T=async w=>{var X,se;if(w.preventDefault(),isNaN(n)||n<=0||n>100){await Me.fire({icon:"warning",title:"Set Progress",text:"Please set the progress bar to a value between 1 and 100 before saving.",confirmButtonColor:"#F59E0B"});return}if(!h||h.trim()===""){await Me.fire({icon:"warning",title:"Status Required",text:"Please select a review status before saving.",confirmButtonColor:"#F59E0B"});return}const E=["Draft","In Progress","Pending Manager","Pending Employee","Completed"],G={Pending:"Pending Manager"}[h]??h;if(!E.includes(G)){await Me.fire({icon:"error",title:"Invalid Status",text:`Selected status "${h}" is not allowed. Choose one of: ${E.join(", ")}`,confirmButtonColor:"#EF4444"});return}if(!o||!o.trim()){await Me.fire({icon:"warning",title:"Grade Required",text:"Please select a performance grade before saving.",confirmButtonColor:"#F59E0B"});return}if(!d||!d.trim()){await Me.fire({icon:"warning",title:"Comments Required",text:"Please provide supervisor comments.",confirmButtonColor:"#F59E0B"});return}for(const[Z,ee]of Object.entries(R)){const ce=Number(ee);if(isNaN(ce)||ce<0||ce>100){await Me.fire({icon:"warning",title:"Invalid Metric Value",text:`Metric "${Z}" must be between 0 and 100.`,confirmButtonColor:"#F59E0B"});return}}if((await Me.fire({title:"Confirm Update",text:"Are you sure you want to save this review update?",icon:"question",showCancelButton:!0,confirmButtonColor:"#4F46E5",cancelButtonColor:"#D1D5DB",confirmButtonText:"Yes, save",cancelButtonText:"Cancel"})).isConfirmed){g(!0);try{const Z={...r,progress:parseInt(n,10),grade:o,supervisorComments:d,status:G,performanceMetrics:R,lastUpdated:new Date().toISOString()};await a(Z),await Me.fire({icon:"success",title:"Saved",text:"Performance review updated successfully.",timer:1600,showConfirmButton:!1}),s()}catch(Z){console.error("Error updating review:",Z),await Me.fire({icon:"error",title:"Update Failed",text:((se=(X=Z==null?void 0:Z.response)==null?void 0:X.data)==null?void 0:se.message)||"Failed to update the review. Please try again.",confirmButtonColor:"#EF4444"})}finally{g(!1)}}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Review Progress"}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[e.jsx("span",{className:"font-medium",children:r==null?void 0:r.employeeName}),"  ",(r==null?void 0:r.position)||"Employee"]}),k?e.jsxs("div",{className:"mt-1 flex items-center",children:[e.jsx(Ps,{className:"h-3 w-3 animate-spin mr-1"}),e.jsx("span",{className:"text-sm text-gray-500",children:"Loading task..."})]}):S?e.jsxs("div",{className:"text-sm text-indigo-600 mt-1 font-medium",children:["Task: ",S.name]}):e.jsx("div",{className:"text-sm text-amber-600 mt-1",children:"Task details not available"})]}),e.jsx("button",{onClick:s,"aria-label":"Close review modal",className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:e.jsx(zt,{size:20})})]}),b&&e.jsxs("div",{className:"p-6 border-b border-gray-100 bg-blue-50",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:"Task Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700",children:"Submissions:"})," ",b.submissions.length]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700",children:"Latest Progress:"})," ",r.selfReportedProgress,"%"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700",children:"Priority:"})," ",r.priority||"Medium"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700",children:"Documents:"})," ",r.documentCount||0]})]})]}),e.jsxs("form",{onSubmit:T,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 border border-indigo-200 rounded-xl p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:e.jsx(Gj,{className:"h-5 w-5 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Performance Review"}),e.jsx("p",{className:"text-sm text-gray-600",children:S?`Task: ${S.name}`:"General Performance Review"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-indigo-600",children:[n,"%"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Supervisor Rating"})]}),(r==null?void 0:r.selfReportedProgress)>0&&e.jsxs("div",{className:"text-center border-l border-gray-200 pl-4",children:[e.jsxs("div",{className:"text-lg font-medium text-blue-600",children:[r.selfReportedProgress,"%"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Employee Self-Report"})]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:S?`${S.name} Performance`:"Overall Performance"}),e.jsxs("span",{className:"text-sm font-bold text-indigo-600",children:[n,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full transition-all duration-300 ${n<30?"bg-red-500":n<70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${n}%`}})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"Poor (0%)"}),e.jsx("span",{children:"Good (50%)"}),e.jsx("span",{children:"Excellent (100%)"})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-indigo-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{type:"button",onClick:B,className:"inline-flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-indigo-700 bg-indigo-100 rounded-md hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-colors",title:"Load employee's self-reported metrics (if available)",children:[e.jsx(er,{className:"h-4 w-4"}),"Use Self-Reported"]}),e.jsxs("button",{type:"button",onClick:I,className:"inline-flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors",title:"Reset progress to 0",children:[e.jsx(Bi,{className:"h-4 w-4"}),"Reset"]})]}),e.jsxs("button",{type:"button",onClick:()=>y(w=>!w),className:"flex items-center gap-2 px-4 py-2 bg-white border-2 border-indigo-300 rounded-lg hover:bg-indigo-50 hover:border-indigo-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 shadow-sm hover:shadow-md",title:v?"Hide task details":"Show task details",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:v?"Hide Task Details":"Show Task Details"}),e.jsx("div",{className:`transform transition-transform duration-200 ${v?"rotate-180":""}`,children:e.jsx(dn,{className:"h-4 w-4 text-indigo-600"})})]})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6 mb-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Rate Performance for: ",e.jsx("span",{className:"font-semibold text-indigo-600",children:S?S.name:"Overall Performance"})]}),e.jsxs("div",{className:"px-2",children:[e.jsx("input",{type:"range",min:"0",max:"100",step:"1",value:n,onChange:w=>i(parseInt(w.target.value,10)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-indigo-600 hover:accent-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[e.jsx("span",{children:"0%"}),e.jsx("span",{children:"25%"}),e.jsx("span",{children:"50%"}),e.jsx("span",{children:"75%"}),e.jsx("span",{children:"100%"})]})]})]}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${n<30?"bg-red-100 text-red-800":n<70?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:n<30?"Needs Improvement":n<70?"Good Performance":"Excellent Performance"})})]})}),e.jsx("div",{className:`bg-gray-50 rounded-xl border border-gray-200 overflow-hidden transition-all duration-300 ${v?"max-h-[2000px] opacity-100":"max-h-0 opacity-0"}`,children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-2",children:"Task Information"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"View detailed information about the task being reviewed."})]}),S?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-800",children:S.name}),e.jsxs("span",{className:"text-lg font-bold text-indigo-600",children:[n,"%"]})]}),e.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Start Date:"}),e.jsx("p",{className:"font-medium text-gray-900",children:S.startDate?new Date(S.startDate).toLocaleDateString():"Not set"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"End Date:"}),e.jsx("p",{className:"font-medium text-gray-900",children:S.endDate?new Date(S.endDate).toLocaleDateString():"Not set"})]})]}),S.description&&e.jsxs("div",{className:"mt-3",children:[e.jsx("span",{className:"text-gray-600 text-sm",children:"Description:"}),e.jsx("p",{className:"text-gray-900 text-sm mt-1",children:S.description})]}),S.weights&&S.weights.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("span",{className:"text-gray-600 text-sm",children:"Performance Criteria:"}),e.jsx("div",{className:"mt-2 space-y-1",children:S.weights.map((w,E)=>e.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-2 rounded",children:[e.jsx("span",{className:"text-sm text-gray-700",children:w.title||`Criteria ${E+1}`}),e.jsxs("span",{className:"text-sm font-medium text-indigo-600",children:[w.percentage,"%"]})]},E))})]})]}),e.jsx("div",{className:"flex items-center justify-center pt-3 border-t border-gray-200",children:e.jsx("span",{className:`inline-flex items-center px-4 py-2 rounded-full text-sm font-medium ${n<30?"bg-red-100 text-red-800":n<70?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:n<30?"Needs Improvement":n<70?"Good Performance":"Excellent Performance"})})]})}),e.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Note:"}),` Use the slider above to rate the employee's performance for the task "`,S.name,'". This rating will be used as the overall progress for this performance review.']})})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(xs,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Specific Task"}),e.jsx("p",{className:"text-gray-500",children:"This review is not linked to a specific task. Use the slider above to rate overall performance."})]})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Review Status (Supervisor)"}),e.jsxs("select",{value:h,onChange:w=>f(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"Select status"}),Aae.map(w=>e.jsx("option",{value:w,children:w},w))]}),!h&&e.jsx("div",{className:"text-sm text-red-600 mt-1",children:"Please select a review status."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Performance Grade"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Eae.map(w=>e.jsx("button",{type:"button",onClick:()=>l(w),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${o===w?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:w},w))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supervisor Comments"}),e.jsx("textarea",{value:d,onChange:w=>u(w.target.value),rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Provide feedback on performance, areas of strength, and opportunities for improvement..."})]}),e.jsxs("div",{className:"flex justify-end pt-4 border-t border-gray-100",children:[e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 mr-3",disabled:p,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:p||Number(n)<=0||!h,className:`px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center space-x-2 ${p||Number(n)<=0||!h?"opacity-60 cursor-not-allowed":""}`,children:p?e.jsxs(e.Fragment,{children:[e.jsx(Ps,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Saving..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(fi,{className:"h-4 w-4"}),e.jsx("span",{children:"Save Review"})]})})]})]})]})})},Pae=({isOpen:t,onClose:s,review:r})=>{const[a,n]=N.useState(null),[i,o]=N.useState(!1);N.useEffect(()=>{t&&r&&r.id?l():t&&r&&n(r)},[t,r]);const l=async()=>{var u,h,f,p,g,v,y,b,_,k,A,R,F,V;o(!0);try{const S=await us.getPerformanceReviewDetails(r.id),L={id:r.id,taskName:(S==null?void 0:S.taskName)??((u=S==null?void 0:S.assignment)==null?void 0:u.task_name)??r.taskName??null,employeeName:((f=(h=S==null?void 0:S.employee)==null?void 0:h._attributes)==null?void 0:f.full_name)??((p=S==null?void 0:S.employee)==null?void 0:p.full_name)??((g=S==null?void 0:S.assignment)==null?void 0:g.employee_name)??r.employeeName??"Employee",employeeId:((v=S==null?void 0:S.employee)==null?void 0:v.id)??((y=S==null?void 0:S.assignment)==null?void 0:y.employee_id)??r.employeeId??null,position:r.position||"Employee",department:((b=S==null?void 0:S.department)==null?void 0:b.name)??((_=S==null?void 0:S.assignment)==null?void 0:_.department)??r.department??null,company:(S==null?void 0:S.company)??((k=S==null?void 0:S.assignment)==null?void 0:k.company)??null,type:"Performance Review",status:r.status,startDate:(S==null?void 0:S.startDate)??((A=S==null?void 0:S.assignment)==null?void 0:A.start_date)??r.startDate??null,dueDate:(S==null?void 0:S.endDate)??((R=S==null?void 0:S.assignment)==null?void 0:R.end_date)??r.dueDate??null,completedDate:r.completedDate,cycle:r.cycle,description:(S==null?void 0:S.description)??((F=S==null?void 0:S.assignment)==null?void 0:F.description)??r.description??null,priority:r.priority,weights:(S==null?void 0:S.weights)??((V=S==null?void 0:S.assignment)==null?void 0:V.weights)??r.weights??[],manager:"Supervisor",overallRating:r.overallRating,grade:r.grade,progress:r.progress,supervisorComments:r.supervisorComments,lastUpdated:r.lastUpdated,selfReportedProgress:r.selfReportedProgress,selfReportedLastUpdated:r.selfReportedLastUpdated,selfReportedAuthor:r.selfReportedAuthor,submissionCount:Array.isArray(S==null?void 0:S.submissions)?S.submissions.length:0,latestSubmissionNote:Array.isArray(S==null?void 0:S.submissions)&&S.submissions.length>0?S.submissions[0].note:null,documentCount:Array.isArray(S==null?void 0:S.submissions)?S.submissions.filter(I=>I.documentName).length:r.documentCount||0,performanceMetrics:r.performanceMetrics,submissions:(S==null?void 0:S.submissions)??[]};n(L)}catch(S){console.error("Error fetching review details:",S),n(r)}finally{o(!1)}};if(!t||!r)return null;const d=u=>u?u.startsWith("A")?"bg-green-100 text-green-800":u.startsWith("B")?"bg-blue-100 text-blue-800":u.startsWith("C")?"bg-yellow-100 text-yellow-700":u.startsWith("D")?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800":"bg-gray-100 text-gray-600";return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-3xl mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Performance Review Details"}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[e.jsx("span",{className:"font-medium",children:r.employeeName}),"  ",r.position||"Employee"]})]}),e.jsx("button",{onClick:s,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:e.jsx(zt,{size:20})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[i?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ps,{className:"h-8 w-8 animate-spin text-indigo-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Loading review details..."})]}):a?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-gray-50 p-4 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:`p-2 rounded-lg ${a.status==="Completed"?"bg-green-100 text-green-700":a.status==="In Progress"?"bg-blue-100 text-blue-700":a.status.includes("Pending")?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:a.status==="Completed"?e.jsx(EA,{className:"h-5 w-5"}):a.status==="In Progress"?e.jsx(Ns,{className:"h-5 w-5"}):a.status.includes("Pending")?e.jsx(ta,{className:"h-5 w-5"}):e.jsx(xs,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Status"}),e.jsx("p",{className:"font-medium text-gray-900",children:a.status})]})]})}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 rounded-lg bg-indigo-100 text-indigo-700",children:e.jsx(ed,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Supervisor Progress"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[a.progress||0,"% Complete"]})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mt-2",children:e.jsx("div",{className:`h-2.5 rounded-full ${(a.progress||0)<30?"bg-red-500":(a.progress||0)<70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${a.progress||0}%`}})}),typeof a.selfReportedProgress=="number"&&e.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-50 text-blue-700",children:e.jsx(er,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Employee Self-Reported"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[a.selfReportedProgress,"%"]})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:e.jsx("div",{className:"h-1.5 rounded-full bg-blue-500",style:{width:`${a.selfReportedProgress}%`}})}),a.selfReportedLastUpdated&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Last updated by ",a.selfReportedAuthor," on ",new Date(a.selfReportedLastUpdated).toLocaleDateString()]})]})]}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 rounded-lg bg-purple-100 text-purple-700",children:e.jsx(ln,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Grade"}),e.jsx("p",{className:"font-medium text-gray-900",children:a.grade?e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${d(a.grade)}`,children:a.grade}):e.jsx("span",{className:"text-gray-400",children:"Not graded"})})]})]})})]}),a.submissions&&e.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-3",children:"Task Submission Details"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700",children:"Task:"}),e.jsx("p",{className:"font-medium text-blue-900",children:a.taskName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700",children:"Submissions:"}),e.jsx("p",{className:"font-medium text-blue-900",children:a.submissionCount||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700",children:"Documents:"}),e.jsx("p",{className:"font-medium text-blue-900",children:a.documentCount||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700",children:"Priority:"}),e.jsx("p",{className:"font-medium text-blue-900",children:a.priority||"Medium"})]})]}),a.latestSubmissionNote&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-blue-200",children:[e.jsx("span",{className:"text-blue-700 text-sm",children:"Latest Note:"}),e.jsx("p",{className:"text-blue-900 text-sm mt-1",children:a.latestSubmissionNote})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Review Information"}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Review Type"}),e.jsx("p",{className:"font-medium text-gray-900",children:a.type})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Department"}),e.jsx("p",{className:"font-medium text-gray-900",children:a.department})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Position"}),e.jsx("p",{className:"font-medium text-gray-900",children:a.manager})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Timeline"}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Start Date"}),e.jsx("p",{className:"font-medium text-gray-900",children:new Date(a.startDate).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Due Date"}),e.jsx("p",{className:"font-medium text-gray-900",children:new Date(a.dueDate).toLocaleDateString()})]}),a.completedDate&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Completion Date"}),e.jsx("p",{className:"font-medium text-gray-900",children:new Date(a.completedDate).toLocaleDateString()})]}),a.lastUpdated&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Last Updated"}),e.jsx("p",{className:"font-medium text-gray-900",children:new Date(a.lastUpdated).toLocaleDateString()})]})]})]})]}),a.supervisorComments&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Supervisor Comments"}),e.jsx("div",{className:"bg-gray-50 rounded-xl p-4",children:e.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:a.supervisorComments})})]}),a.overallRating&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Performance Rating"}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((u,h)=>e.jsx(TA,{className:`w-5 h-5 ${h<Math.floor(a.overallRating)?"text-yellow-500 fill-current":"text-gray-300"}`,fill:h<Math.floor(a.overallRating)?"currentColor":"none"},h))}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:a.overallRating}),e.jsx("span",{className:"text-sm text-gray-500",children:"out of 5"})]})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(xs,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Details Available"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Unable to load review details at this time."})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-100",children:e.jsx("button",{onClick:s,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"})})]})]})})},Mae=()=>{var z;const[t,s]=N.useState("all"),[r,a]=N.useState(""),[n,i]=N.useState(!1),[o,l]=N.useState(!1),[d,u]=N.useState(!1),[h,f]=N.useState(!1),[p,g]=N.useState(null),[v,y]=N.useState(!1),[b,_]=N.useState(!1),[k,A]=N.useState([]),[R,F]=N.useState({current_page:1,last_page:1,per_page:8,total:0}),V=N.useCallback(async(q=1)=>{y(!0);try{const te=await us.getPerformanceReviewsFromDB({page:q,per_page:R.per_page});A(te.data||[]),te.meta&&F(te.meta)}catch(te){console.error("Error fetching reviews from database:",te),A([])}finally{y(!1)}},[R.per_page]),[S,L]=N.useState(!1);N.useEffect(()=>{S&&(async()=>(await V(R.current_page),L(!1)))()},[S,V,R.current_page]),N.useEffect(()=>{V(R.current_page)},[V,R.current_page]);const I=q=>{q<1||q>R.last_page||q===R.current_page||F(te=>({...te,current_page:q}))},B=q=>{if(!q)return q;const te=String(q).trim();return te==="Pending Manager"||te==="Pending Employee"||te==="Draft"||te.toLowerCase().includes("pending")?"Pending":te},T=k.filter(q=>{const te=t==="all"||t==="inProgress"&&q.status==="In Progress"||t==="pending"&&(q.status==="Pending Manager"||q.status==="Pending Employee")||t==="completed"&&q.status==="Completed"||t==="draft"&&q.status==="Draft",ge=q.employeeName.toLowerCase().includes(r.toLowerCase())||q.position.toLowerCase().includes(r.toLowerCase())||q.department.toLowerCase().includes(r.toLowerCase())||q.employeeId.toLowerCase().includes(r.toLowerCase());return te&&ge}),w=q=>{switch(B(q)){case"Completed":return"bg-green-100 text-green-800";case"In Progress":return"bg-blue-100 text-blue-800";case"Pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},E=q=>q?q.startsWith("A")?"bg-green-100 text-green-800":q.startsWith("B")?"bg-blue-100 text-blue-800":q.startsWith("C")?"bg-yellow-100 text-yellow-700":q.startsWith("D")?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800":"bg-gray-100 text-gray-600",{user:D}=rd(),G=(D==null?void 0:D.role)||"user",K=((z=xb[G])==null?void 0:z.performanceReviews)||{},X=q=>{if(!D||!q)return!1;const te=(D.role||"").toLowerCase();if(te==="admin")return!0;if(D.employee_id&&q.employeeId&&Number(D.employee_id)===Number(q.employeeId))return!1;if(q.creatorId&&Number(q.creatorId)===Number(D.id))return!0;if(te==="supervisor")return q.creatorId&&Number(q.creatorId)===Number(D.id);if(te==="hr"){if(q.creatorRole){const ge=String(q.creatorRole).toLowerCase();return ge==="supervisor"||ge==="manager"||ge==="operations"||ge.includes("supervisor")}return!0}return!1},se=q=>{g(q),i(!0)},Z=q=>{g(q),l(!0)},ee=async q=>{g(q),f(!0)},ce=async q=>{var ve,pe,ae,he,Te,Ie,Be,Le,Ee,Ve,mt;g(q);let te=null,ge=(D==null?void 0:D.email)||"",Q=(D==null?void 0:D.name)||"System User";try{_(!0),te=await us.getPerformanceReviewDetails(q.id)}catch(gt){console.warn("Could not load review details, continuing with available data",gt)}finally{_(!1)}const ue=(te==null?void 0:te.taskName)??((pe=(ve=te==null?void 0:te.kpiAssignment)==null?void 0:ve.kpiTask)==null?void 0:pe.task_name)??q.taskName??"N/A",ie=((ae=te==null?void 0:te.employee)==null?void 0:ae.full_name)??q.employeeName??"Employee",oe=((he=te==null?void 0:te.employeeUser)==null?void 0:he.email)??((Ie=(Te=te==null?void 0:te.employee)==null?void 0:Te.contactDetail)==null?void 0:Ie.email)??((Be=te==null?void 0:te.employee)==null?void 0:Be.email)??q.employeeEmail??"",J=`Performance Feedback - ${ue}`,re=await Me.fire({title:"Send Practical Feedback",html:`
        <div class="pms-feedback-modal">
          <!-- Header Card -->
          <div class="feedback-header-card">
            <div class="employee-info">
              <div class="employee-avatar">
                <svg class="avatar-icon" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/>
                </svg>
              </div>
              <div class="employee-details">
                <h3 class="employee-name">${ie}</h3>
                <p class="employee-role">${q.position||"Employee"}  ${q.department||"Department"}</p>
              </div>
            </div>
            
            <div class="task-info">
              <div class="task-label">Task</div>
              <div class="task-name">${ue}</div>
            </div>
          </div>

          <!-- Communication Details -->
          <div class="communication-card">
            <div class="comm-row">
              <div class="comm-item">
                <div class="comm-label">From</div>
                <div class="comm-value">${Q}</div>
                <div class="comm-email">${ge}</div>
              </div>
              <div class="comm-divider"></div>
              <div class="comm-item">
                <div class="comm-label">To</div>
                <div class="comm-value">${ie}</div>
                <input type="email" id="swal-email" class="comm-email-input" value="${oe}" placeholder="Enter employee email" ${oe?"readonly":""} />
              </div>
            </div>
          </div>

          <!-- Subject Input -->
          <div class="subject-input-section">
            <label for="swal-subject" class="subject-label">
              <svg class="subject-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"/>
              </svg>
              Subject
            </label>
            <input 
              type="text" 
              id="swal-subject" 
              class="subject-input" 
              value="${J}"
              placeholder="Enter email subject..."
              maxlength="255"
            />
          </div>

          <!-- Feedback Input -->
          <div class="feedback-input-section">
            <label for="swal-feedback" class="feedback-label">
              <svg class="feedback-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
              </svg>
              Practical Feedback
            </label>
            <textarea 
              id="swal-feedback" 
              class="feedback-textarea" 
              placeholder="Provide specific, actionable feedback to help improve performance..."
              rows="4"
            ></textarea>
            <div class="feedback-helper">
              <svg class="helper-icon" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>
              </svg>
              <span>Focus on specific actions and behaviors that can be improved</span>
            </div>
          </div>
        </div>

        <style>
          .pms-feedback-modal {
            text-align: left;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
          }

          .feedback-header-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            color: white;
          }

          .employee-info {
            display: flex;
            align-items: center;
            margin-bottom: 16px;
          }

          .employee-avatar {
            width: 48px;
            height: 48px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 16px;
          }

          .avatar-icon {
            width: 24px;
            height: 24px;
            color: white;
          }

          .employee-details h3 {
            font-size: 18px;
            font-weight: 600;
            margin: 0 0 4px 0;
            color: white;
          }

          .employee-details p {
            font-size: 14px;
            margin: 0;
            color: rgba(255, 255, 255, 0.8);
          }

          .task-info {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 12px 16px;
            border: 1px solid rgba(255, 255, 255, 0.2);
          }

          .task-label {
            font-size: 12px;
            font-weight: 500;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 4px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
          }

          .task-name {
            font-size: 14px;
            font-weight: 500;
            color: white;
          }

          .communication-card {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
          }

          .comm-row {
            display: flex;
            align-items: center;
            gap: 16px;
          }

          .comm-item {
            flex: 1;
          }

          .comm-label {
            font-size: 12px;
            font-weight: 600;
            color: #64748b;
            margin-bottom: 6px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
          }

          .comm-value {
            font-size: 14px;
            font-weight: 500;
            color: #1e293b;
            margin-bottom: 4px;
          }

          .comm-email {
            font-size: 13px;
            color: #64748b;
          }

          .comm-email-input {
            font-size: 13px;
            color: #64748b;
            background: transparent;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            padding: 6px 10px;
            width: 100%;
            outline: none;
            transition: border-color 0.2s;
          }

          .comm-email-input:focus {
            border-color: #6366f1;
          }

          .comm-email-input:not([readonly]) {
            background: white;
          }

          .comm-divider {
            width: 1px;
            height: 40px;
            background: #e2e8f0;
            flex-shrink: 0;
          }

          .subject-input-section {
            margin-bottom: 16px;
          }

          .subject-label {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 8px;
          }

          .subject-icon {
            width: 18px;
            height: 18px;
            color: #8b5cf6;
          }

          .subject-input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            font-size: 14px;
            color: #374151;
            background: white;
            transition: all 0.2s ease;
            font-family: inherit;
          }

          .subject-input:focus {
            outline: none;
            border-color: #8b5cf6;
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
          }

          .feedback-input-section {
            margin-bottom: 8px;
          }

          .feedback-label {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 12px;
          }

          .feedback-icon {
            width: 18px;
            height: 18px;
            color: #6366f1;
          }

          .feedback-textarea {
            width: 100%;
            min-height: 100px;
            padding: 14px 16px;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            font-size: 14px;
            line-height: 1.5;
            color: #374151;
            background: white;
            resize: vertical;
            transition: all 0.2s ease;
            font-family: inherit;
          }

          .feedback-textarea:focus {
            outline: none;
            border-color: #6366f1;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
          }

          .feedback-textarea::placeholder {
            color: #9ca3af;
          }

          .feedback-helper {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 8px;
            padding: 12px 16px;
            background: #fef3c7;
            border: 1px solid #fbbf24;
            border-radius: 8px;
            font-size: 13px;
            color: #92400e;
          }

          .helper-icon {
            width: 16px;
            height: 16px;
            color: #f59e0b;
            flex-shrink: 0;
          }

          /* SweetAlert2 customizations */
          .swal2-popup {
            border-radius: 16px !important;
            padding: 0 !important;
            width: 520px !important;
            max-width: 90vw !important;
          }

          .swal2-header {
            padding: 24px 24px 0 24px !important;
            border-bottom: none !important;
          }

          .swal2-title {
            font-size: 20px !important;
            font-weight: 700 !important;
            color: #1f2937 !important;
            margin: 0 !important;
          }

          .swal2-html-container {
            padding: 0 24px !important;
            margin: 16px 0 0 0 !important;
          }

          .swal2-actions {
            padding: 16px 24px 24px 24px !important;
            margin: 0 !important;
            gap: 12px !important;
          }

          .swal2-confirm {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%) !important;
            border: none !important;
            border-radius: 10px !important;
            padding: 12px 24px !important;
            font-weight: 600 !important;
            font-size: 14px !important;
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3) !important;
            transition: all 0.2s ease !important;
          }

          .swal2-confirm:hover {
            transform: translateY(-1px) !important;
            box-shadow: 0 6px 16px rgba(99, 102, 241, 0.4) !important;
          }

          .swal2-cancel {
            background: #f1f5f9 !important;
            color: #64748b !important;
            border: 1px solid #e2e8f0 !important;
            border-radius: 10px !important;
            padding: 12px 24px !important;
            font-weight: 500 !important;
            font-size: 14px !important;
            transition: all 0.2s ease !important;
          }

          .swal2-cancel:hover {
            background: #e2e8f0 !important;
            color: #475569 !important;
          }
        </style>
      `,focusConfirm:!1,showCancelButton:!0,confirmButtonText:" Send Feedback",cancelButtonText:"Cancel",customClass:{popup:"pms-feedback-popup",confirmButton:"pms-confirm-btn",cancelButton:"pms-cancel-btn"},willOpen:()=>{setTimeout(()=>{const gt=document.getElementById("swal-feedback");gt&&gt.focus()},150)},preConfirm:()=>{var We,Xe,st;const gt=(((We=document.getElementById("swal-feedback"))==null?void 0:We.value)||"").trim(),Pe=(((Xe=document.getElementById("swal-email"))==null?void 0:Xe.value)||"").trim(),Ae=(((st=document.getElementById("swal-subject"))==null?void 0:st.value)||"").trim();return gt?gt.length<10?(Me.showValidationMessage("Feedback must be at least 10 characters"),!1):gt.length>1e3?(Me.showValidationMessage("Feedback must be less than 1000 characters"),!1):Pe?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Pe)?Ae?Ae.length<5?(Me.showValidationMessage("Subject must be at least 5 characters"),!1):{feedback:gt,email:Pe,subject:Ae}:(Me.showValidationMessage("Subject is required"),!1):(Me.showValidationMessage("Please enter a valid email address"),!1):(Me.showValidationMessage("Employee email is required"),!1):(Me.showValidationMessage("Please provide feedback"),!1)}});if(re.isConfirmed&&re.value){const{feedback:gt,email:Pe,subject:Ae}=re.value;Me.fire({title:"Sending Feedback...",html:`
          <div style="text-align: center; padding: 20px;">
            <div class="sending-animation" style="margin-bottom:   16px;">
              <svg style="width: 48px; height: 48px; color: #6366f1;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/>
              </svg>
            </div>
            <p style="color: #64748b; margin: 0;">Please wait while we send your feedback...</p>
          </div>
          <style>
            .sending-animation svg {
              animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
            }
            @keyframes pulse {
              0%, 100% { opacity: 1; }
              50% { opacity: 0.5; }
            }
          </style>
        `,allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1,customClass:{popup:"pms-loading-popup"}});try{const We=await us.submitPracticalFeedback(q.id,{feedback:gt,email:Pe,subject:Ae,taskName:ue});await Me.fire({icon:"success",title:"Feedback Sent Successfully!",html:`
            <div class="success-content">
              <div class="success-details">
                <div class="success-row">
                  <span class="success-label">To:</span>
                  <span class="success-value">${ie}</span>
                </div>
                <div class="success-row">
                  <span class="success-label">Email:</span>
                  <span class="success-value">${((Le=We.data)==null?void 0:Le.sent_to)||Pe}</span>
                </div>
                <div class="success-row">
                  <span class="success-label">Subject:</span>
                  <span class="success-value">${((Ee=We.data)==null?void 0:Ee.subject)||Ae}</span>
                </div>
                <div class="success-row">
                  <span class="success-label">Task:</span>
                  <span class="success-value">${ue}</span>
                </div>
              </div>
              <div class="feedback-preview">
                <div class="preview-label">Feedback Preview:</div>
                <div class="preview-text">${gt.substring(0,120)}${gt.length>120?"...":""}</div>
              </div>
            </div>
            <style>
              .success-content {
                text-align: left;
                padding: 8px 0;
              }
              .success-details {
                background: #f0fdf4;
                border: 1px solid #bbf7d0;
                border-radius: 8px;
                padding: 16px;
                margin-bottom: 16px;
              }
              .success-row {
                display: flex;
                justify-content: space-between;
                margin-bottom: 8px;
              }
              .success-row:last-child {
                margin-bottom: 0;
              }
              .success-label {
                font-weight: 500;
                color: #166534;
              }
              .success-value {
                color: #15803d;
                font-weight: 600;
              }
              .feedback-preview {
                background: #fafafa;
                border-radius: 8px;
                padding: 12px;
              }
              .preview-label {
                font-size: 12px;
                font-weight: 600;
                color: #64748b;
                margin-bottom: 6px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
              }
              .preview-text {
                font-size: 14px;
                color: #374151;
                line-height: 1.4;
              }
            </style>
          `,confirmButtonText:"Done",customClass:{popup:"pms-success-popup",confirmButton:"pms-success-btn"}}),Fr.success("Practical feedback sent successfully!")}catch(We){console.error("Failed to send practical feedback",We),await Me.fire({icon:"error",title:"Failed to Send Feedback",html:`
            <div class="error-content">
              <p class="error-message">${((mt=(Ve=We==null?void 0:We.response)==null?void 0:Ve.data)==null?void 0:mt.message)||"An unexpected error occurred while sending the feedback."}</p>
              <div class="error-actions">
                <p class="error-suggestion">Please try again or contact support if the problem persists.</p>
              </div>
            </div>
            <style>
              .error-content {
                text-align: left;
                padding: 8px 0;
              }
              .error-message {
                background: #fef2f2;
                border: 1px solid #fecaca;
                border-radius: 8px;
                padding: 12px;
                color: #dc2626;
                margin-bottom: 16px;
                font-size: 14px;
              }
              .error-suggestion {
                color: #64748b;
                font-size: 13px;
                margin: 0;
              }
            </style>
          `,confirmButtonText:"Try Again",showCancelButton:!0,cancelButtonText:"Close",customClass:{popup:"pms-error-popup"}}).then(Xe=>{Xe.isConfirmed&&setTimeout(()=>ce(q),100)}),Fr.error("Failed to send practical feedback")}}},U=async q=>{var te,ge;try{_(!0);const Q={progress:q.progress,grade:q.grade,supervisor_comments:q.supervisorComments,status:q.status,performance_metrics:q.performanceMetrics};await us.updatePerformanceReview(q.id,Q),Fr.success("Review updated"),L(!0),i(!1)}catch(Q){console.error("Update failed",Q),Fr.error(((ge=(te=Q==null?void 0:Q.response)==null?void 0:te.data)==null?void 0:ge.message)||"Failed to update review")}finally{_(!1)}},O=async q=>{var te,ge;try{_(!0),await us.createReview(q),Fr.success("Review created"),u(!1),F(Q=>({...Q,current_page:1})),L(!0)}catch(Q){console.error("Create failed",Q),Fr.error(((ge=(te=Q==null?void 0:Q.response)==null?void 0:te.data)==null?void 0:ge.message)||"Failed to create review")}finally{_(!1)}};return N.useEffect(()=>{if(!n&&!o&&!d&&!h){const q=setTimeout(()=>V(R.current_page),200);return()=>clearTimeout(q)}},[n,o,d,h]),e.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[e.jsx(Dae,{isOpen:n,onClose:()=>i(!1),review:p,onSave:U}),e.jsx(Pae,{isOpen:o,onClose:()=>l(!1),review:p}),e.jsx(Cae,{isOpen:d,onClose:()=>u(!1),onSubmit:O}),e.jsx(kae,{isOpen:h,onClose:()=>f(!1),review:p}),e.jsx("div",{className:"mb-6 flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Performance Reviews"}),e.jsx("p",{className:"text-gray-600",children:"Manage and track employee performance evaluations"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-3 gap-4 mb-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-lg bg-blue-100 text-blue-600 mr-4",children:e.jsx(Ns,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"In Progress"}),e.jsx("div",{className:"text-xl font-semibold text-gray-900",children:k.filter(q=>B(q.status)==="In Progress").length})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-lg bg-yellow-100 text-yellow-600 mr-4",children:e.jsx(Ns,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Pending Approval"}),e.jsx("div",{className:"text-xl font-semibold text-gray-900",children:k.filter(q=>B(q.status)==="Pending").length})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-lg bg-green-100 text-green-600 mr-4",children:e.jsx(EA,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Completed"}),e.jsx("div",{className:"text-xl font-semibold text-gray-900",children:k.filter(q=>B(q.status)==="Completed").length})]})]})})]}),e.jsxs("div",{className:"mb-6 bg-white rounded-xl p-3 border border-gray-100 flex gap-3 items-center",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Grades:"}),["A+","A","B","C","C-"].map(q=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 text-xs font-medium rounded-full ${E(q)}`,children:q}),e.jsx("span",{className:"text-xs text-gray-500",children:q.startsWith("A")?"Excellent":q.startsWith("B")?"Good":q==="C"?"Satisfactory":q==="C-"?"Needs Improvement":"Satisfactory"})]},q))]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 mb-6",children:[e.jsx("div",{className:"p-4 border-b border-gray-100 flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[e.jsx("button",{onClick:()=>s("all"),className:`px-4 py-2 text-sm font-medium rounded-md ${t==="all"?"bg-white text-indigo-700 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"All Reviews"}),e.jsx("button",{onClick:()=>s("inProgress"),className:`px-4 py-2 text-sm font-medium rounded-md ${t==="inProgress"?"bg-white text-indigo-700 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"In Progress"}),e.jsx("button",{onClick:()=>s("pending"),className:`px-4 py-2 text-sm font-medium rounded-md ${t==="pending"?"bg-white text-indigo-700 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Pending"}),e.jsx("button",{onClick:()=>s("completed"),className:`px-4 py-2 text-sm font-medium rounded-md ${t==="completed"?"bg-white text-indigo-700 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Completed"})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Employee",e.jsx(Hu,{className:"h-3 w-3"})]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Department",e.jsx(Hu,{className:"h-3 w-3"})]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Self-Reported Progress",e.jsx(Hu,{className:"h-3 w-3"})]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsxs("div",{className:"flex itemscenter gap-1",children:["Progress",e.jsx(Hu,{className:"h-3 w-3"})]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Status",e.jsx(Hu,{className:"h-3 w-3"})]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Grade",e.jsx(Hu,{className:"h-3 w-3"})]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Weights Total",e.jsx(Hu,{className:"h-3 w-3"})]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Due Date",e.jsx(Hu,{className:"h-3 w-3"})]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.length>0?T.map(q=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.employeeName}),e.jsx("div",{className:"text-xs text-gray-500",children:q.position}),e.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",q.employeeId]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:q.department}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:typeof q.selfReportedProgress=="number"?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-38 md:w-50 flex-shrink-0 mr-3",children:e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 overflow-hidden",children:e.jsx("div",{className:`h-1.5 rounded-full ${q.selfReportedProgress<30?"bg-red-500":q.selfReportedProgress<70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${q.selfReportedProgress}%`}})})}),e.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[q.selfReportedProgress,"%"]})]}):e.jsx("span",{className:"text-xs text-gray-400",children:""})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-38 md:w-50 flex-shrink-0 mr-4",children:e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 overflow-hidden",children:e.jsx("div",{className:`h-1.5 rounded-full ${q.progress<30?"bg-red-500":q.progress<70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${q.progress}%`}})})}),e.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[q.progress,"%"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${w(q.status)}`,children:B(q.status)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:q.grade?e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${E(q.grade)}`,children:q.grade}):e.jsx("span",{className:"text-xs text-gray-400",children:"Not graded"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-center",children:e.jsxs("span",{className:"text-sm font-bold text-indigo-600",children:[q!=null&&q.weights&&q.weights.length>0?q.weights.reduce((te,ge)=>te+(parseFloat(ge.percentage)||0),0):(q!=null&&q.taskId,0),"%"]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:new Date(q.dueDate).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end space-x-2",children:[K.view&&e.jsx("button",{className:"text-blue-600 hover:text-blue-900 p-1",onClick:()=>Z(q),title:"View Details",children:e.jsx(xs,{className:"h-4 w-4"})}),K.edit&&X(q)&&e.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 p-1",onClick:()=>se(q),title:"Update Progress",children:e.jsx(WF,{className:"h-4 w-4"})}),G!=="user"&&K.edit&&e.jsx("button",{className:"text-amber-600 hover:text-amber-900 p-1",onClick:()=>ee(q),title:"View Documents",children:e.jsx(Wc,{className:"h-4 w-4"})}),G!=="user"&&K.edit&&e.jsx("button",{className:"text-teal-600 hover:text-teal-900 p-1",onClick:()=>ce(q),title:"Practical Feedback",children:e.jsx(ln,{className:"h-4 w-4"})})]})})]},q.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"px-6 py-10 text-center text-gray-500",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(or,{className:"h-10 w-10 text-gray-300 mb-2"}),e.jsx("p",{className:"text-lg font-medium text-gray-600",children:"No reviews found"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Try adjusting your search or filter criteria"})]})})})})]})}),e.jsxs("div",{className:"px-6 py-4 flex flex-col gap-3 md:flex-row md:items-center md:justify-between border-t border-gray-200",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",R.from||0," to ",R.to||0," of ",R.total," reviews"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>I(R.current_page-1),disabled:R.current_page===1,className:"px-3 py-2 text-sm border rounded-lg disabled:opacity-40 hover:bg-gray-50",children:"Prev"}),Array.from({length:R.last_page},(q,te)=>te+1).filter(q=>{const te=R.current_page;return q===1||q===R.last_page||q>=te-2&&q<=te+2}).reduce((q,te,ge,Q)=>{if(q.length){const ue=q[q.length-1];te-ue.p>1&&q.push({gap:!0,key:`gap-${te}-${ue.p}`})}return q.push({p:te,key:te}),q},[]).map(q=>q.gap?e.jsx("span",{className:"px-2 text-gray-400",children:""},q.key):e.jsx("button",{onClick:()=>I(q.p),className:`px-3 py-2 text-sm border rounded-lg ${q.p===R.current_page?"bg-indigo-600 text-white border-indigo-600":"hover:bg-gray-50"}`,children:q.p},q.key)),e.jsx("button",{onClick:()=>I(R.current_page+1),disabled:R.current_page===R.last_page,className:"px-3 py-2 text-sm border rounded-lg disabled:opacity-40 hover:bg-gray-50",children:"Next"})]})]})]})]})},Lae=()=>`tmp-${Date.now()}-${Math.random().toString(36).slice(2,7)}`,bb=t=>{if(t==null)return null;const s={...t};return!s.id&&!s._tempId&&(s._tempId=Lae()),s},Qy=(t=[])=>{const s=new Map;for(const r of t){const a=(r==null?void 0:r.id)??(r==null?void 0:r._tempId)??r.task_name??r.name??JSON.stringify(r);s.has(a)||s.set(a,bb(r))}return Array.from(s.values())},Fae=({isOpen:t,onClose:s,onCreated:r})=>{const[a,n]=N.useState(""),[i,o]=N.useState(!1),[l,d]=N.useState([]),[u,h]=N.useState(!1),[f,p]=N.useState(null),[g,v]=N.useState(""),[y,b]=N.useState(null);N.useEffect(()=>{t&&(n(""),o(!1),_())},[t]);const _=async()=>{h(!0);try{const S=await us.getKpiTasks(),I=(Array.isArray(S)?S:(S==null?void 0:S.data)||[]).map(bb);d(Qy(I))}catch(S){console.error("Failed to fetch KPI tasks:",S),d([])}finally{h(!1)}},k=async S=>{var L,I;if(S&&S.preventDefault&&S.preventDefault(),!a.trim()){await Me.fire({icon:"warning",title:"Task name required",text:"Please enter a task name."});return}o(!0);try{const B=await us.createKpiTask({task_name:a.trim()}),T=bb(B||{task_name:a.trim()});d(w=>Qy([T,...w||[]])),r&&r(T),await Me.fire({icon:"success",title:"Created",text:"KPI task created successfully.",timer:1200,showConfirmButton:!1}),n(""),s&&s()}catch(B){console.error("Failed to create KPI task:",B);const T=((I=(L=B==null?void 0:B.response)==null?void 0:L.data)==null?void 0:I.message)||"Failed to create KPI task.";await Me.fire({icon:"error",title:"Error",text:T})}finally{o(!1)}},A=S=>{p(S.id??S._tempId),v(S.task_name??S.name??"")},R=()=>{p(null),v("")},F=async S=>{var L,I,B,T,w,E,D;if(!g.trim()){await Me.fire({icon:"warning",title:"Task name required"});return}b(S);try{const G=l.find(K=>(K.id??K._tempId)===S);if(!G)throw new Error("Task not found");if(G.id){const K=await us.updateKpiTask(G.id,{task_name:g.trim()}),X=bb(K);d(se=>Qy(se.map(Z=>(Z.id??Z._tempId)===S?X:Z))),r&&r(X)}else d(K=>Qy(K.map(X=>(X.id??X._tempId)===S?{...X,task_name:g.trim()}:X)));await Me.fire({icon:"success",title:"Saved",timer:900,showConfirmButton:!1}),R()}catch(G){console.error("Failed to update KPI task:",G);const K=((I=(L=G==null?void 0:G.response)==null?void 0:L.data)==null?void 0:I.message)||((T=(B=G==null?void 0:G.response)==null?void 0:B.data)==null?void 0:T.error);if(K)await Me.fire({icon:"error",title:"Error",text:K});else if(((w=G==null?void 0:G.response)==null?void 0:w.status)===422&&((E=G.response.data)!=null&&E.errors)){const X=((D=Object.values(G.response.data.errors)[0])==null?void 0:D[0])||"Validation failed";await Me.fire({icon:"error",title:"Validation Error",text:X})}else await Me.fire({icon:"error",title:"Error",text:"Failed to update KPI task. See console for details."})}finally{b(null)}},V=async(S,L)=>{if((await Me.fire({title:`Delete "${L}"?`,text:"This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed){b(S);try{const B=l.find(T=>(T.id??T._tempId)===S);if(!B)throw new Error("Task not found");B.id?(await us.deleteKpiTask(B.id),d(T=>T.filter(w=>(w.id??w._tempId)!==S))):d(T=>T.filter(w=>(w.id??w._tempId)!==S)),await Me.fire({icon:"success",title:"Deleted",timer:900,showConfirmButton:!1})}catch(B){console.error("Failed to delete KPI task:",B),await Me.fire({icon:"error",title:"Error",text:"Failed to delete KPI task."})}finally{b(null)}}};return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl mx-4 max-h-[85vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Add KPI Task"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Create or manage KPI task names"})]}),e.jsx("button",{onClick:s,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:e.jsx(zt,{size:20})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Task Name"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"text",value:a,onChange:S=>n(S.target.value),placeholder:"e.g. Quality of Work",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500","aria-label":"New KPI task name"}),e.jsx("button",{type:"button",onClick:k,disabled:i,className:`px-4 py-2 rounded-lg text-white ${i?"bg-gray-300":"bg-indigo-600 hover:bg-indigo-700"}`,children:i?e.jsxs(e.Fragment,{children:[e.jsx(Ps,{className:"inline-block h-4 w-4 animate-spin mr-2"}),"Creating..."]}):"Create"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Existing KPI Tasks"}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-100 max-h-64 overflow-y-auto p-3 space-y-2",children:u?e.jsx("div",{className:"flex items-center justify-center py-6",children:e.jsx(Ps,{className:"w-6 h-6 animate-spin text-gray-500"})}):l.length===0?e.jsx("div",{className:"text-sm text-gray-500 text-center py-6",children:"No KPI tasks found"}):l.map((S,L)=>{const I=S.id?`id-${S.id}`:`tmp-${S._tempId||L}`;return e.jsxs("div",{className:"flex items-center justify-between gap-3 bg-white p-2 rounded-md border",children:[e.jsx("div",{className:"flex-1 min-w-0",children:f===(S.id??S._tempId)?e.jsx("input",{value:g,onChange:B=>v(B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded"}):e.jsx("div",{className:"text-sm font-medium truncate",children:S.task_name||S.name})}),e.jsx("div",{className:"flex items-center gap-2",children:f===(S.id??S._tempId)?e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:()=>F(S.id??S._tempId),disabled:y===(S.id??S._tempId),className:"px-2 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 flex items-center",title:"Save",children:y===(S.id??S._tempId)?e.jsx(Ps,{className:"w-4 h-4 animate-spin"}):e.jsx(D0,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:R,className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",title:"Cancel",children:"Cancel"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:()=>A(S),className:"p-2 bg-gray-100 rounded-md hover:bg-gray-200",title:"Edit",children:e.jsx(Gc,{className:"w-4 h-4 text-gray-600"})}),e.jsx("button",{type:"button",onClick:()=>V(S.id??S._tempId,S.task_name||S.name),disabled:y===(S.id??S._tempId),className:"p-2 bg-gray-100 rounded-md hover:bg-gray-200",title:"Delete",children:y===(S.id??S._tempId)?e.jsx(Ps,{className:"w-4 h-4 animate-spin text-red-500"}):e.jsx(ns,{className:"w-4 h-4 text-red-600"})})]})})]},I)})})]}),e.jsx("div",{className:"flex justify-end gap-3 pt-2 border-t border-gray-100",children:e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Close"})})]})]})}):null},Rae=()=>`tmp-${Date.now()}-${Math.random().toString(36).slice(2,7)}`,vb=t=>{if(!t)return null;const s={...t};return!s.id&&!s._tempId&&(s._tempId=Rae()),s},Jy=(t=[])=>{const s=new Map;for(const r of t){const a=(r==null?void 0:r.id)??(r==null?void 0:r._tempId)??(r==null?void 0:r.role_name)??JSON.stringify(r);s.has(a)||s.set(a,vb(r))}return Array.from(s.values())},Oae=({isOpen:t,onClose:s,onCreated:r})=>{const[a,n]=N.useState(""),[i,o]=N.useState(!1),[l,d]=N.useState([]),[u,h]=N.useState(!1),[f,p]=N.useState(null),[g,v]=N.useState(""),[y,b]=N.useState(null);N.useEffect(()=>{t&&(n(""),o(!1),_())},[t]);const _=async()=>{h(!0);try{const S=await us.getCreatorRoles(),L=Array.isArray(S)?S:(S==null?void 0:S.data)||[];d(Jy(L.map(vb)))}catch(S){console.error("Failed to fetch creator roles:",S),d([])}finally{h(!1)}},k=async()=>{var S,L,I,B;if(!a.trim()){await Me.fire({icon:"warning",title:"Role name required",text:"Please enter a role name."});return}o(!0);try{const T=await us.createCreatorRole({role_name:a.trim()}),w=vb(T||{role_name:a.trim()});d(E=>Jy([w,...E||[]])),r&&r(w),await Me.fire({icon:"success",title:"Created",text:"Creator role added.",timer:1200,showConfirmButton:!1}),n(""),s&&s()}catch(T){console.error("Failed to create creator role:",T);const w=((L=(S=T==null?void 0:T.response)==null?void 0:S.data)==null?void 0:L.message)||((B=(I=T==null?void 0:T.response)==null?void 0:I.data)==null?void 0:B.error)||"Failed to create role";await Me.fire({icon:"error",title:"Error",text:w})}finally{o(!1)}},A=S=>{p(S.id??S._tempId),v(S.role_name||S.name||"")},R=()=>{p(null),v("")},F=async S=>{var L,I,B,T,w,E,D;if(!g.trim()){await Me.fire({icon:"warning",title:"Role name required"});return}b(S);try{const G=l.find(K=>(K.id??K._tempId)===S);if(!G)throw new Error("Role not found");if(G.id){const K=await us.updateCreatorRole(G.id,{role_name:g.trim()}),X=vb(K);d(se=>Jy(se.map(Z=>(Z.id??Z._tempId)===S?X:Z))),r&&r(X)}else d(K=>Jy(K.map(X=>(X.id??X._tempId)===S?{...X,role_name:g.trim()}:X)));await Me.fire({icon:"success",title:"Saved",timer:900,showConfirmButton:!1}),R()}catch(G){console.error("Failed to update creator role:",G);const K=((I=(L=G==null?void 0:G.response)==null?void 0:L.data)==null?void 0:I.message)||((T=(B=G==null?void 0:G.response)==null?void 0:B.data)==null?void 0:T.error);if(K)await Me.fire({icon:"error",title:"Error",text:K});else if(((w=G==null?void 0:G.response)==null?void 0:w.status)===422&&((E=G.response.data)!=null&&E.errors)){const X=((D=Object.values(G.response.data.errors)[0])==null?void 0:D[0])||"Validation failed";await Me.fire({icon:"error",title:"Validation Error",text:X})}else await Me.fire({icon:"error",title:"Error",text:"Failed to update creator role."})}finally{b(null)}},V=async(S,L)=>{if((await Me.fire({title:`Delete "${L}"?`,text:"This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed){b(S);try{const B=l.find(T=>(T.id??T._tempId)===S);if(!B)throw new Error("Role not found");B.id?(await us.deleteCreatorRole(B.id),d(T=>T.filter(w=>(w.id??w._tempId)!==S))):d(T=>T.filter(w=>(w.id??w._tempId)!==S)),await Me.fire({icon:"success",title:"Deleted",timer:900,showConfirmButton:!1})}catch(B){console.error("Failed to delete creator role:",B),await Me.fire({icon:"error",title:"Error",text:"Failed to delete creator role."})}finally{b(null)}}};return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl mx-4 max-h-[85vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Creator Roles"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Create, edit or remove creator roles"})]}),e.jsx("button",{onClick:s,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:e.jsx(zt,{size:20})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role Name"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"text",value:a,onChange:S=>n(S.target.value),placeholder:"e.g. Team Lead",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500","aria-label":"New creator role name"}),e.jsx("button",{type:"button",onClick:k,disabled:i,className:`px-4 py-2 rounded-lg text-white ${i?"bg-gray-300":"bg-indigo-600 hover:bg-indigo-700"}`,children:i?e.jsxs(e.Fragment,{children:[e.jsx(Ps,{className:"inline-block h-4 w-4 animate-spin mr-2"}),"Creating..."]}):"Create"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Existing Roles"}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-100 max-h-64 overflow-y-auto p-3 space-y-2",children:u?e.jsx("div",{className:"flex items-center justify-center py-6",children:e.jsx(Ps,{className:"w-6 h-6 animate-spin text-gray-500"})}):l.length===0?e.jsx("div",{className:"text-sm text-gray-500 text-center py-6",children:"No roles found"}):l.map((S,L)=>{const I=S.id?`id-${S.id}`:`tmp-${S._tempId||L}`;return e.jsxs("div",{className:"flex items-center justify-between gap-3 bg-white p-2 rounded-md border",children:[e.jsx("div",{className:"flex-1 min-w-0",children:f===(S.id??S._tempId)?e.jsx("input",{value:g,onChange:B=>v(B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded"}):e.jsx("div",{className:"text-sm font-medium truncate",children:S.role_name||S.name})}),e.jsx("div",{className:"flex items-center gap-2",children:f===(S.id??S._tempId)?e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:()=>F(S.id??S._tempId),disabled:y===(S.id??S._tempId),className:"px-2 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 flex items-center",title:"Save",children:y===(S.id??S._tempId)?e.jsx(Ps,{className:"w-4 h-4 animate-spin"}):e.jsx(D0,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:R,className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",title:"Cancel",children:"Cancel"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:()=>A(S),className:"p-2 bg-gray-100 rounded-md hover:bg-gray-200",title:"Edit",children:e.jsx(Gc,{className:"w-4 h-4 text-gray-600"})}),e.jsx("button",{type:"button",onClick:()=>V(S.id??S._tempId,S.role_name||S.name),disabled:y===(S.id??S._tempId),className:"p-2 bg-gray-100 rounded-md hover:bg-gray-200",title:"Delete",children:y===(S.id??S._tempId)?e.jsx(Ps,{className:"w-4 h-4 animate-spin text-red-500"}):e.jsx(ns,{className:"w-4 h-4 text-red-600"})})]})})]},I)})})]}),e.jsx("div",{className:"flex justify-end gap-3 pt-2 border-t border-gray-100",children:e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Close"})})]})]})}):null},Iae=()=>`tmp-${Date.now()}-${Math.random().toString(36).slice(2,7)}`,wb=t=>{if(!t)return null;const s={...t};return!s.id&&!s._tempId&&(s._tempId=Iae()),s},Zy=(t=[])=>{const s=new Map;for(const r of t){const a=(r==null?void 0:r.id)??(r==null?void 0:r._tempId)??(r==null?void 0:r.name)??JSON.stringify(r);s.has(a)||s.set(a,wb(r))}return Array.from(s.values())},Bae=({isOpen:t,onClose:s,onCreated:r})=>{const[a,n]=N.useState(""),[i,o]=N.useState(""),[l,d]=N.useState(!1),[u,h]=N.useState([]),[f,p]=N.useState(!1),[g,v]=N.useState(null),[y,b]=N.useState(""),[_,k]=N.useState(""),[A,R]=N.useState(null);N.useEffect(()=>{t&&(n(""),o(""),d(!1),F())},[t]);const F=async()=>{p(!0);try{const T=await us.getKpiWeights(),w=Array.isArray(T)?T:(T==null?void 0:T.data)||[];h(Zy(w.map(wb)))}catch(T){console.error("Failed to fetch KPI weights:",T),h([])}finally{p(!1)}},V=async()=>{var T,w,E,D;if(!a.trim()){await Me.fire({icon:"warning",title:"Weight name required",text:"Please enter a weight name."});return}d(!0);try{const G=await us.createKpiWeight({name:a.trim(),description:i.trim()}),K=wb(G||{name:a.trim(),description:i.trim()});h(X=>Zy([K,...X||[]])),r&&r(K),await Me.fire({icon:"success",title:"Created",text:"Weight criteria added.",timer:1200,showConfirmButton:!1}),n(""),o("")}catch(G){console.error("Failed to create weight:",G);const K=((w=(T=G==null?void 0:G.response)==null?void 0:T.data)==null?void 0:w.message)||((D=(E=G==null?void 0:G.response)==null?void 0:E.data)==null?void 0:D.error)||"Failed to create weight";await Me.fire({icon:"error",title:"Error",text:K})}finally{d(!1)}},S=T=>{v(T.id??T._tempId),b(T.name||""),k(T.description||"")},L=()=>{v(null),b(""),k("")},I=async T=>{var w,E,D,G,K,X,se;if(!y.trim()){await Me.fire({icon:"warning",title:"Weight name required"});return}R(T);try{const Z=u.find(ee=>(ee.id??ee._tempId)===T);if(!Z)throw new Error("Weight not found");if(Z.id){const ee=await us.updateKpiWeight(Z.id,{name:y.trim(),description:_.trim()}),ce=wb(ee);h(U=>Zy(U.map(O=>(O.id??O._tempId)===T?ce:O))),r&&r(ce)}else h(ee=>Zy(ee.map(ce=>(ce.id??ce._tempId)===T?{...ce,name:y.trim(),description:_.trim()}:ce)));await Me.fire({icon:"success",title:"Saved",timer:900,showConfirmButton:!1}),L()}catch(Z){console.error("Failed to update weight:",Z);const ee=((E=(w=Z==null?void 0:Z.response)==null?void 0:w.data)==null?void 0:E.message)||((G=(D=Z==null?void 0:Z.response)==null?void 0:D.data)==null?void 0:G.error);if(ee)await Me.fire({icon:"error",title:"Error",text:ee});else if(((K=Z==null?void 0:Z.response)==null?void 0:K.status)===422&&((X=Z.response.data)!=null&&X.errors)){const ce=((se=Object.values(Z.response.data.errors)[0])==null?void 0:se[0])||"Validation failed";await Me.fire({icon:"error",title:"Validation Error",text:ce})}else await Me.fire({icon:"error",title:"Error",text:"Failed to update weight."})}finally{R(null)}},B=async(T,w)=>{if((await Me.fire({title:`Delete "${w}"?`,text:"This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed){R(T);try{const D=u.find(G=>(G.id??G._tempId)===T);if(!D)throw new Error("Weight not found");D.id?(await us.deleteKpiWeight(D.id),h(G=>G.filter(K=>(K.id??K._tempId)!==T))):h(G=>G.filter(K=>(K.id??K._tempId)!==T)),await Me.fire({icon:"success",title:"Deleted",timer:900,showConfirmButton:!1})}catch(D){console.error("Failed to delete weight:",D),await Me.fire({icon:"error",title:"Error",text:"Failed to delete weight."})}finally{R(null)}}};return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl mx-4 max-h-[85vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Performance Criteria Weights"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Create, edit or remove KPI weight criteria"})]}),e.jsx("button",{onClick:s,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:e.jsx(zt,{size:20})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight Name"}),e.jsx("div",{className:"flex gap-3 mb-2",children:e.jsx("input",{type:"text",value:a,onChange:T=>n(T.target.value),placeholder:"e.g. Teamwork and Communication",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500","aria-label":"New weight name"})}),e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"}),e.jsx("div",{className:"flex gap-3",children:e.jsx("textarea",{value:i,onChange:T=>o(T.target.value),placeholder:"e.g. Measures ability to work effectively with team members",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",rows:2})}),e.jsx("div",{className:"mt-3",children:e.jsx("button",{type:"button",onClick:V,disabled:l,className:`px-4 py-2 rounded-lg text-white ${l?"bg-gray-300":"bg-indigo-600 hover:bg-indigo-700"}`,children:l?e.jsxs(e.Fragment,{children:[e.jsx(Ps,{className:"inline-block h-4 w-4 animate-spin mr-2"}),"Creating..."]}):"Add Weight"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Existing Weights"}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-100 max-h-64 overflow-y-auto p-3 space-y-2",children:f?e.jsx("div",{className:"flex items-center justify-center py-6",children:e.jsx(Ps,{className:"w-6 h-6 animate-spin text-gray-500"})}):u.length===0?e.jsx("div",{className:"text-sm text-gray-500 text-center py-6",children:"No weights found"}):u.map((T,w)=>{const E=T.id?`id-${T.id}`:`tmp-${T._tempId||w}`;return e.jsxs("div",{className:"flex items-start gap-3 bg-white p-3 rounded-md border",children:[e.jsx("div",{className:"flex-1 min-w-0",children:g===(T.id??T._tempId)?e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",value:y,onChange:D=>b(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm"}),e.jsx("textarea",{value:_,onChange:D=>k(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm",rows:2,placeholder:"Description (optional)"})]}):e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",children:T.name}),T.description&&e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:T.description})]})}),e.jsx("div",{className:"flex items-center gap-2 self-start",children:g===(T.id??T._tempId)?e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:()=>I(T.id??T._tempId),disabled:A===(T.id??T._tempId),className:"px-2 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 flex items-center",title:"Save",children:A===(T.id??T._tempId)?e.jsx(Ps,{className:"w-4 h-4 animate-spin"}):e.jsx(D0,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:L,className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",title:"Cancel",children:"Cancel"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:()=>S(T),className:"p-2 bg-gray-100 rounded-md hover:bg-gray-200",title:"Edit",children:e.jsx(Gc,{className:"w-4 h-4 text-gray-600"})}),e.jsx("button",{type:"button",onClick:()=>B(T.id??T._tempId,T.name),disabled:A===(T.id??T._tempId),className:"p-2 bg-gray-100 rounded-md hover:bg-gray-200",title:"Delete",children:A===(T.id??T._tempId)?e.jsx(Ps,{className:"w-4 h-4 animate-spin text-red-500"}):e.jsx(ns,{className:"w-4 h-4 text-red-600"})})]})})]},E)})})]}),e.jsx("div",{className:"flex justify-end gap-3 pt-2 border-t border-gray-100",children:e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Close"})})]})]})}):null},f7=(t,s)=>{const r=new Map;t.forEach(i=>{const o=i.id||i.name;o&&r.set(o,{...i,percentage:0})});const a=new Map;Array.isArray(s)&&s.forEach(i=>{const o=i.id||i.title;o&&a.set(o,i)});const n=[];return r.forEach((i,o)=>{if(a.has(o)){const l=a.get(o);n.push({id:i.id,title:i.name||l.title,description:i.description||l.description||"",percentage:l.percentage||0}),a.delete(o)}else n.push({id:i.id,title:i.name,description:i.description||"",percentage:0})}),a.forEach(i=>{n.push({id:i.id,title:i.title||i.name||"",description:i.description||"",percentage:i.percentage||0})}),n},VC=({isOpen:t,onClose:s,onSubmit:r,initialData:a={},isEdit:n=!1,isLoading:i=!1,employees:o=[]})=>{const[l,d]=N.useState(!1),[u,h]=N.useState([]),[f,p]=N.useState(!1),[g,v]=N.useState({name:"",description:"",startDate:"",endDate:"",assignees:[],company:"",department:"",category:"",priority:"medium",creatorRole:"",weights:[],...a});N.useEffect(()=>{t&&(async()=>{p(!0);try{const ct=await us.getKpiWeights(),nt=Array.isArray(ct)?ct.map(Bt=>({id:Bt.id??null,name:Bt.name??"",description:Bt.description??"",percentage:0})):[];if(h(nt),n&&(a!=null&&a.weights)){const Bt=f7(nt,a.weights);v(Ge=>({...Ge,weights:Bt}))}else n||Array.isArray(g.weights)&&g.weights.length>0||v(Ge=>({...Ge,weights:nt.map(St=>({id:St.id,title:St.name,name:St.name,description:St.description,percentage:0}))}))}catch(ct){console.error("Error fetching KPI weights:",ct);const nt=[{title:"Consistent follow-up with customers for payments",description:"",percentage:0},{title:"Tax Compliance",description:"Preparation of monthly schedules and returns for VAT, SSCL, APIT, AIT, and Stamp Duty.",percentage:0},{title:"Accounting Entries and Provisions",description:"Recording salary entries and other provisions, reviewing General Ledger (GL) entries.",percentage:0},{title:"Management Reporting",description:"Completing monthly and ad hoc management reports efficiently and accurately.",percentage:0},{title:"Commitment to Quality",description:"Maintaining a high standard of accuracy and precision in all tasks.",percentage:0},{title:"Teamwork and Discipline",description:"Upholding strong teamwork and maintaining discipline in all professional activities.",percentage:0}];h(nt),v(Bt=>{const Ge=Array.isArray(Bt.weights)&&Bt.weights.length>0;return!n&&!Ge?{...Bt,weights:nt}:Bt})}finally{p(!1)}})()},[t,n,a==null?void 0:a.weights]);const[y,b]=N.useState(!1),[_,k]=N.useState(""),[A,R]=N.useState(!1),[F,V]=N.useState([]),[S,L]=N.useState(!1),[I,B]=N.useState(!1),[T,w]=N.useState([]),[E,D]=N.useState(!1),[G,K]=N.useState([]),[X,se]=N.useState([]),[Z,ee]=N.useState([]),[ce,U]=N.useState(!1),[O,z]=N.useState(!1),[q,te]=N.useState(!1),[ge,Q]=N.useState([]),[ue,ie]=N.useState([]),[oe,J]=N.useState(!1),[re,ve]=N.useState(!1),pe=async()=>{D(!0);try{const ke=await us.getKpiTasks();w(Array.isArray(ke)?ke:[])}catch(ke){console.error("Error fetching KPI task names:",ke),w([])}finally{D(!1)}};N.useEffect(()=>{pe()},[]),N.useEffect(()=>{(async()=>{z(!0);try{const ct=await us.getCompanies();K(Array.isArray(ct)?ct:[])}catch(ct){console.error("Error fetching companies:",ct),K([])}finally{z(!1)}})()},[]),N.useEffect(()=>{(async()=>{if(!g.company){se([]);return}te(!0);try{const ct=await us.getDepartmentsByCompany(g.company);se(Array.isArray(ct)?ct:[])}catch(ct){console.error("Error fetching departments:",ct),se([])}finally{te(!1)}})()},[g.company]),N.useEffect(()=>{if(!g.company){ee([]);return}let ke=!0;const ct=setTimeout(async()=>{U(!0);try{const nt=await us.getEmployeesByCompany(g.company,g.department||null,_||"");if(!ke)return;const Bt=Array.isArray(nt)?nt:(nt==null?void 0:nt.data)||[];ee(Bt.map(Ge=>({id:Ge.attendance_employee_no,name:Ge.full_name||Ge.name||"",department:Ge.department||Ge.department_name||""})))}catch(nt){console.error("Error fetching employees:",nt),ke&&ee([])}finally{ke&&U(!1)}},350);return()=>{ke=!1,clearTimeout(ct)}},[g.company,g.department,_]),N.useEffect(()=>{let ke=!0;return(async()=>{L(!0);try{const nt=await us.getCreatorRoles();if(!ke)return;V(Array.isArray(nt)?nt:[])}catch(nt){console.error("Error fetching creator roles:",nt),ke&&V([])}finally{ke&&L(!1)}})(),()=>{ke=!1}},[]);const ae=N.useRef(!1),he=N.useRef(!1);N.useEffect(()=>{var ke;t&&!ae.current?(n&&a&&Object.keys(a).length>0?v({name:a.name||"",description:a.description||"",startDate:a.startDate||"",endDate:a.endDate||"",assignees:a.assignees?[...a.assignees]:[],company:a.company||"",department:a.departmentId||a.department||"",category:a.category||"",priority:a.priority||"medium",creatorRole:a.creatorRole||"",weights:a.weights||u}):n||g.name||g.description||((ke=g.assignees)==null?void 0:ke.length)>0||v({name:"",description:"",startDate:"",endDate:"",assignees:[],company:"",department:"",category:"",priority:"medium",creatorRole:"",weights:u}),he.current=!0):!t&&ae.current&&(he.current=!1),ae.current=t},[t,n,u]),N.useEffect(()=>{var ke;t&&n&&a&&Object.keys(a).length>0&&(!(g.name||g.description||((ke=g.assignees)==null?void 0:ke.length)>0)||a.id&&a.id!==g.id)&&v({id:a.id,name:a.name||"",description:a.description||"",startDate:a.startDate||"",endDate:a.endDate||"",assignees:a.assignees?[...a.assignees]:[],company:a.company||"",department:a.departmentId||a.department||"",category:a.category||"",priority:a.priority||"medium",creatorRole:a.creatorRole||"",weights:a.weights||u})},[a==null?void 0:a.id,t,n,u]);const Te=ke=>{const{name:ct,value:nt}=ke.target,Bt=ct==="company"||ct==="department";v(Ge=>{const St={[ct]:Bt?nt?Number(nt):"":nt};return ct==="company"&&(St.department="",St.assignees=[]),{...Ge,...St}})},Ie=Z.filter(ke=>{var Bt;const ct=((Bt=_==null?void 0:_.toLowerCase)==null?void 0:Bt.call(_))||"";return ct?[ke.name||"",ke.department||"",String(ke.id)||"",String(ke.employee_id)||"",String(ke.attendance_employee_no)||""].some(Ge=>Ge.toLowerCase().includes(ct)):!0}),Be=ke=>{v(ct=>{const nt=ct.assignees.includes(ke.id.toString())?ct.assignees:[...ct.assignees,ke.id.toString()];return{...ct,assignees:nt}}),k("")},Le=ke=>{v(ct=>({...ct,assignees:ct.assignees.filter(nt=>nt!==ke.toString())}))},Ee=()=>new Date().toISOString().split("T")[0],mt=(ke=>{if(!n)return Ee();const ct=(ke==null?void 0:ke.created_at)||(ke==null?void 0:ke.createdAt)||(ke==null?void 0:ke.created)||(ke==null?void 0:ke.startDate)||null;if(ct)try{return new Date(ct).toISOString().split("T")[0]}catch{}return(ke==null?void 0:ke.startDate)||Ee()})(a),gt=ke=>{if(ke.preventDefault(),!n&&g.startDate&&g.startDate<Ee()){Me.fire({icon:"warning",title:"Invalid Start Date",text:"Start date cannot be in the past. Please choose today or a future date.",confirmButtonColor:"#F59E0B"});return}if(g.endDate&&g.startDate&&g.endDate<g.startDate){Me.fire({icon:"warning",title:"Invalid Date Range",text:"End date must be after start date.",confirmButtonColor:"#F59E0B"});return}const ct=Array.isArray(g.weights)?g.weights.reduce((Bt,Ge)=>Bt+(Number(Ge.percentage)||0),0):0;if(ct>100){Me.fire({icon:"warning",title:"Weights sum exceeds 100%",html:`The total of all performance criteria weights is <strong>${ct}%</strong>. Please adjust so the total does not exceed <strong>100%</strong>.`,confirmButtonColor:"#F59E0B"});return}const nt={...g,companyName:Pe(g.company),departmentName:Ae(g.department)};r(nt)};if(!t)return null;const Pe=ke=>{var ct;return((ct=G.find(nt=>nt.id===ke))==null?void 0:ct.name)||"Unknown Company"},Ae=ke=>{var ct;return((ct=X.find(nt=>nt.id===ke))==null?void 0:ct.name)||"Unknown Department"},We=ke=>{const ct=typeof ke=="string"?ke:String(ke);return Z.find(nt=>String(nt.id)===ct)||o.find(nt=>String(nt.id)===ct)||{id:ct,name:"Unknown",department:""}},Xe=(ke,ct)=>{const nt=Number(ct)||0;v(Bt=>{const Ge=Array.isArray(Bt.weights)?[...Bt.weights]:[];for(;Ge.length<=ke;)Ge.push({title:"",description:"",percentage:0});const bt=Ge.map((qe,Oe)=>Oe===ke?{...qe,percentage:nt}:qe).reduce((qe,Oe)=>qe+(Number(Oe.percentage)||0),0);return bt>100?(Me.fire({icon:"warning",title:"Weights exceed 100%",html:`The total of all criteria would be <strong>${bt}%</strong>. Please adjust to make the total <= 100%.`,confirmButtonColor:"#F59E0B"}),Bt):(Ge[ke]={...Ge[ke]||{},percentage:nt},{...Bt,weights:Ge})})},st=async()=>{if(!g.company){await Me.fire({icon:"warning",title:"Select Company",text:"Please select a company (and optional department) before selecting all employees.",timer:1500,showConfirmButton:!1});return}try{U(!0);const ke=g.department?g.department:null,ct=await us.getEmployeesByCompany(g.company,ke,""),nt=Array.isArray(ct)?ct:(ct==null?void 0:ct.data)||[];if(!Array.isArray(nt)||nt.length===0){await Me.fire({icon:"info",title:"No employees",text:"No employees found for the selected company/department.",timer:1500,showConfirmButton:!1});return}const Bt=nt.map(St=>({id:St.attendance_employee_no??String(St.id??""),name:St.full_name||St.name||"",department:St.department||St.department_name||""})),Ge=Bt.map(St=>String(St.id));v(St=>({...St,assignees:Ge})),ee(Bt),await Me.fire({icon:"success",title:"Selected",text:`Assigned KPI to ${Ge.length} employee${Ge.length>1?"s":""}.`,timer:1400,showConfirmButton:!1})}catch(ke){console.error("Failed to select all assignees",ke),await Me.fire({icon:"error",title:"Error",text:"Failed to select employees. See console for details."})}finally{U(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w/full max-w-lg mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:n?"Edit KPI Task":"Add New KPI Task"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:n?"Update task details and assignments":"Create a new task and assign it"})]}),e.jsx("button",{onClick:s,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:e.jsx(zt,{size:20})})]}),e.jsxs("form",{onSubmit:gt,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Task Name*"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsxs("select",{name:"name",value:g.name,onChange:Te,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 appearance-none pr-10",disabled:E,children:[e.jsx("option",{value:"",children:"Select task name"}),T.map(ke=>e.jsx("option",{value:ke.task_name,children:ke.task_name},ke.id??ke.task_name))]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-2 flex items-center",children:e.jsx(dn,{className:"w-4 h-4 text-gray-400"})})]}),e.jsx("button",{type:"button",onClick:()=>R(!0),className:"inline-flex items-center justify-center w-9 h-9 rounded-md bg-indigo-600 text-white hover:bg-indigo-700",title:"Add new KPI task",children:e.jsx(bs,{className:"w-4 h-4"})})]}),E&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx(Ps,{className:"w-4 h-4 text-gray-400 animate-spin"})})]}),e.jsx(Fae,{isOpen:A,onClose:()=>R(!1),onCreated:async ke=>{await pe(),ke&&ke.task_name&&v(ct=>({...ct,name:ke.task_name})),R(!1)}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{name:"description",value:g.description,onChange:Te,placeholder:"Enter task description (optional)",rows:"3",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Creator Role*"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsxs("select",{name:"creatorRole",value:g.creatorRole,onChange:Te,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 appearance-none pr-10",disabled:S,children:[e.jsx("option",{value:"",children:"Select Creator Role"}),F.map(ke=>e.jsx("option",{value:ke.role_name,children:ke.role_name||ke.name||`Role ${ke.id}`},ke.id??ke.role_name))]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-2 flex items-center",children:e.jsx(dn,{className:"w-4 h-4 text-gray-400"})})]}),e.jsx("button",{type:"button",onClick:()=>B(!0),className:"inline-flex items-center justify-center w-9 h-9 rounded-md bg-indigo-600 text-white hover:bg-indigo-700",title:"Add new Creator Role",children:e.jsx(bs,{className:"w-4 h-4"})})]}),S&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx(Ps,{className:"w-4 h-4 text-gray-400 animate-spin"})}),e.jsx(Oae,{isOpen:I,onClose:()=>B(!1),onCreated:async ke=>{try{const ct=await us.getCreatorRoles();V(Array.isArray(ct)?ct:[]),ke&&(ke.role_name||ke.name)&&v(nt=>({...nt,creatorRole:ke.role_name||ke.name}))}catch(ct){console.error("Failed to refresh creator roles after create:",ct)}finally{B(!1)}}})]}),e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:()=>b(!y),className:"flex items-center justify-between w-full px-4 py-2 bg-gray-50 border border-gray-300 rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Performance Criteria Weights (%)"}),e.jsx(dn,{className:`w-4 h-4 transition-transform ${y?"rotate-180":""}`})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Configure custom weight criteria"}),e.jsxs("button",{type:"button",onClick:()=>d(!0),className:"inline-flex items-center px-2 py-1 text-xs bg-indigo-50 text-indigo-600 rounded-md hover:bg-indigo-100",children:[e.jsx(bs,{className:"h-3 w-3 mr-1"}),"Manage Weights"]})]}),y&&e.jsxs("div",{className:"mt-3 space-y-3 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[g.weights.map((ke,ct)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("strong",{children:ke.title||ke.name}),ke.description&&e.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:[" - ",ke.description]})]})}),e.jsx("div",{className:"w-20",children:e.jsx("input",{type:"number",min:"0",max:"100",value:ke.percentage||"",onChange:nt=>Xe(ct,nt.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-center focus:ring-2 focus:ring-purple-500",placeholder:"0"})}),e.jsx("span",{className:"text-sm text-gray-500",children:"%"})]},ct)),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-300",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total:"}),e.jsxs("span",{className:"text-sm font-bold text-indigo-600",children:[g.weights.reduce((ke,ct)=>ke+(ct.percentage||0),0),"%"]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company*"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{name:"company",value:g.company,onChange:Te,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 appearance-none",disabled:O,children:[e.jsx("option",{value:"",children:"Select Company"}),G.map(ke=>e.jsx("option",{value:ke.id,children:ke.name},ke.id))]}),O&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx(Ps,{className:"w-4 h-4 text-gray-400 animate-spin"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{name:"department",value:g.department,onChange:Te,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 appearance-none",disabled:!g.company||q,children:[e.jsx("option",{value:"",children:"Select Department (Optional)"}),X.map(ke=>e.jsx("option",{value:ke.id,children:ke.name},ke.id))]}),q&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx(Ps,{className:"w-4 h-4 text-gray-400 animate-spin"})})]}),!g.company&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please select a company first"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date*"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Db,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"date",name:"startDate",value:g.startDate,onChange:Te,required:!0,min:mt,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date*"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Db,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"date",name:"endDate",value:g.endDate,onChange:Te,required:!0,min:g.startDate,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee Assignee*"}),g.company&&e.jsx("div",{className:"mb-2 p-2 bg-indigo-50 rounded-lg text-sm",children:e.jsxs("p",{className:"text-indigo-700",children:["Filtering employees from: ",e.jsx("span",{className:"font-medium",children:Pe(g.company)}),g.department&&e.jsxs("span",{children:[" / ",e.jsx("span",{className:"font-medium",children:Ae(g.department)})]})]})}),e.jsx("div",{className:"flex gap-2",children:e.jsx("input",{type:"text",value:_,onChange:ke=>k(ke.target.value),placeholder:"Search by name, department, attendance number, or employee ID...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",disabled:!g.company})}),ce&&e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Loading employees"}),!g.company&&e.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"Please select a company to search employees"}),_&&Ie.length>0&&g.company&&e.jsx("div",{className:"mt-2 max-h-40 overflow-auto border border-gray-100 rounded-lg bg-white shadow-sm",children:Ie.map(ke=>e.jsxs("div",{className:"flex items-center justify-between px-3 py-2 hover:bg-gray-50",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",children:ke.name}),e.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2",children:[e.jsxs("span",{children:["ID: ",ke.id]}),ke.employee_id&&ke.employee_id!==ke.id&&e.jsxs("span",{children:[" EMP ID: ",ke.employee_id]}),e.jsxs("span",{children:[" ",ke.department]})]})]}),e.jsx("button",{type:"button",onClick:()=>Be(ke),className:"px-3 py-1 bg-purple-600 text-white rounded-md text-sm hover:bg-purple-700 transition-colors",children:"Add"})]},ke.id))}),_&&Ie.length===0&&g.company&&e.jsx("div",{className:"mt-2 p-3 text-center text-sm text-gray-500 border border-gray-100 rounded-lg",children:"No employees found matching your search criteria"}),e.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:g.assignees&&g.assignees.map(ke=>{const ct=We(ke);return ct?e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-gray-100 rounded-full",children:[e.jsx("div",{className:"text-sm font-medium",children:ct.name}),e.jsx("button",{type:"button",onClick:()=>Le(ke),className:"text-red-600 p-1",children:e.jsx(zt,{className:"w-4 h-4"})})]},ke):null})}),e.jsx("div",{className:"mt-3",children:e.jsx("button",{type:"button",onClick:st,disabled:ce||!g.company&&!g.department,className:`px-3 py-2 rounded-md text-sm font-medium ${ce?"bg-gray-200 text-gray-600 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700"}`,children:ce?"Selecting...":"Select all employees for selected Company / Department"})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2",children:i?e.jsxs(e.Fragment,{children:[e.jsx(Ps,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:n?"Updating...":"Creating..."})]}):e.jsx("span",{children:n?"Update Task":"Create Task"})})]})]}),e.jsx(Bae,{isOpen:l,onClose:()=>d(!1),onCreated:async ke=>{try{const ct=await us.getKpiWeights(),nt=Array.isArray(ct)?ct.map(Bt=>({id:Bt.id??null,title:Bt.name,description:Bt.description||"",percentage:0})):[];h(nt),v(Bt=>{const Ge=Array.isArray(Bt.weights)?Bt.weights:[];if(Ge.some(bt=>bt.id&&bt.id===ke.id||bt.title===ke.name||bt.name===ke.name)){const bt=Ge.map(qe=>qe.id&&qe.id===ke.id||qe.title===ke.name?{...qe,title:ke.name,name:ke.name,description:ke.description||qe.description}:qe);return{...Bt,weights:bt}}else{const bt=[...Ge,{id:ke.id,title:ke.name,name:ke.name,description:ke.description||"",percentage:0}];return{...Bt,weights:bt}}}),await Me.fire({icon:"success",title:"Weight Added",text:`"${ke.name}" has been added to the criteria list.`,timer:1500,showConfirmButton:!1})}catch(ct){console.error("Error fetching KPI weights after creation:",ct),await Me.fire({icon:"error",title:"Error",text:"Failed to refresh weight list. Please close and reopen the modal."})}finally{d(!1)}}})]})})},zae=({isOpen:t,onClose:s,onConfirm:r,kpiName:a,isLoading:n})=>t?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-xl w/full max-w-md mx-4",children:e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(Hs,{className:"h-8 w-8 text-red-600"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Delete KPI Task"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to delete "',a,'"? This action cannot be undone.']}),e.jsxs("div",{className:"flex justify-center space-x-3",children:[e.jsx("button",{onClick:s,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:r,disabled:n,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center space-x-2",children:n?e.jsxs(e.Fragment,{children:[e.jsx(Ps,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Deleting..."})]}):e.jsx("span",{children:"Delete"})})]})]})})}):null,$ae=({isOpen:t,onClose:s,kpi:r=null,employees:a=[]})=>{if(!t||!r)return null;const n=l=>{const d=String(l);return a.find(h=>String(h.id)===d)||{id:d,name:`Employee ${d}`,department:"Unknown Department"}},i=l=>(r.assigneeUpdates||[]).find(d=>d.employeeId===l),o=l=>{const d={active:"bg-green-100 text-green-800",attention:"bg-yellow-100 text-yellow-800",inactive:"bg-gray-100 text-gray-800"};return d[l]||d.inactive};return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r.name}),e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o(r.status)}`,children:[r.status==="active"&&e.jsx(vs,{className:"w-3 h-3 mr-1"}),r.status==="attention"&&e.jsx(Hs,{className:"w-3 h-3 mr-1"}),r.status.charAt(0).toUpperCase()+r.status.slice(1)]})]}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:r.description})]}),e.jsx("button",{onClick:s,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:e.jsx(zt,{size:20})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Details"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Department:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:r.departmentName||r.department})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Frequency:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:r.frequency||"Not specified"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Target:"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[r.target,r.unit]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Current:"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[r.current,r.unit]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Timeline"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Db,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-700",children:[new Date(r.startDate).toLocaleDateString(),"  ",new Date(r.endDate).toLocaleDateString()]})]})}),e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(()=>{const l=new Date(r.startDate),d=new Date(r.endDate),u=new Date,h=Math.ceil((d-l)/(1e3*60*60*24)),f=Math.ceil((u-l)/(1e3*60*60*24)),p=Math.min(Math.max(Math.round(f/h*100),0),100);return e.jsx("div",{className:"h-2 rounded-full bg-purple-500",style:{width:`${p}%`}})})()}),e.jsx("p",{className:"text-xs text-right text-gray-500 mt-1",children:(()=>{const l=new Date(r.startDate),d=new Date(r.endDate),u=new Date,h=Math.ceil((d-l)/(1e3*60*60*24)),f=Math.ceil((u-l)/(1e3*60*60*24));return`${Math.min(Math.max(Math.round(f/h*100),0),100)}% elapsed`})()})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:["Last updated: ",new Date(r.lastUpdated).toLocaleString()]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Assigned Team"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("div",{className:"space-y-3",children:[(r.assignees||[]).length===0&&e.jsx("div",{className:"text-sm text-gray-500",children:"No assignees"}),(r.assignees||[]).map(l=>{const d=n(l);return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center",children:e.jsx(er,{className:"h-4 w-4 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:d.name}),e.jsx("p",{className:"text-xs text-gray-500",children:d.department})]})]},l)})]})})]}),r.weights&&r.weights.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Performance Criteria Weights"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("div",{className:"space-y-2",children:[r.weights.map((l,d)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:l.title}),l.description&&e.jsx("p",{className:"text-xs text-gray-500",children:l.description})]}),e.jsxs("span",{className:"text-sm font-bold text-indigo-600",children:[l.percentage,"%"]})]},d)),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total:"}),e.jsxs("span",{className:"text-sm font-bold text-indigo-600",children:[r.weights.reduce((l,d)=>l+(d.percentage||0),0),"%"]})]})]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Updates Timeline"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("div",{className:"space-y-5",children:[(r.assignees||[]).map(l=>{const d=parseInt(l),u=n(l),h=i(d);return!h||!h.updates||h.updates.length===0?null:e.jsxs("div",{className:"border-b border-gray-200 pb-4 last:border-0 last:pb-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-6 h-6 bg-indigo-100 rounded-full flex items-center justify-center",children:e.jsx(er,{className:"h-3 w-3 text-indigo-600"})}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:u.name})]}),e.jsx("div",{className:"space-y-4 ml-8",children:h.updates.map((f,p)=>e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-[-16px] top-2 w-2 h-2 bg-indigo-400 rounded-full"}),e.jsxs("div",{className:"pl-4 border-l border-gray-200",children:[f.documentName&&e.jsxs("div",{className:"flex items-center gap-2 mb-1 text-indigo-600",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("span",{className:"text-xs font-medium",children:f.documentName}),f.documentSize&&e.jsxs("span",{className:"text-xs text-gray-500",children:["(",f.documentSize,")"]})]}),e.jsx("p",{className:"text-sm text-gray-800",children:f.note}),e.jsxs("div",{className:"flex justify-between items-center mt-1",children:[e.jsx("p",{className:"text-xs text-gray-500",children:new Date(f.date).toLocaleString()}),e.jsxs("p",{className:"text-xs text-gray-400",children:["By: ",f.author||"System"]})]})]})]},p))})]},l)}),!r.assignees||!r.assignees.some(l=>{const d=parseInt(l),u=i(d);return u&&u.updates&&u.updates.length>0})&&e.jsx("div",{className:"text-sm text-gray-500 text-center py-4",children:"No updates recorded yet"})]})})]})]}),e.jsx("div",{className:"flex justify-end p-6 border-t border-gray-100",children:e.jsx("button",{onClick:s,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"})})]})})},Uae=()=>{var qe;const[t,s]=N.useState([]),[r,a]=N.useState([]),[n,i]=N.useState(!0),[o,l]=N.useState(null),[d,u]=N.useState("all"),[h,f]=N.useState("all"),[p,g]=N.useState("all"),[v,y]=N.useState(1),[b]=N.useState(7),[_,k]=N.useState([]),[A,R]=N.useState([]),[F,V]=N.useState(!1),[S,L]=N.useState(!1),[I,B]=N.useState(!1),[T,w]=N.useState(!1),[E,D]=N.useState(!1),[G,K]=N.useState(null),[X,se]=N.useState(!1),[Z,ee]=N.useState(!1),[ce,U]=N.useState([]),[O,z]=N.useState(!1),[q,te]=N.useState([]),[ge,Q]=N.useState("2"),[ue,ie]=N.useState([]),[oe,J]=N.useState(!1),[re,ve]=N.useState({onTarget:0,needAttention:0,totalInWindow:0,startDate:null,endDate:null}),[pe,ae]=N.useState(null),[he,Te]=N.useState(null);N.useEffect(()=>{Ie()},[]);const Ie=async()=>{i(!0),l(null);try{const Oe=await us.getKpiTaskAssignments();s(Array.isArray(Oe)?Oe:[]),await Be(pe,he)}catch(Oe){l("Failed to fetch KPI task assignments"),console.error(Oe),s([])}finally{i(!1)}};N.useEffect(()=>{(async()=>{try{const jt=await us.getCompanies();let Et=[];for(const qt of jt)try{const Gt=await us.getEmployeesByCompany(qt.id,null,""),Xt=(Array.isArray(Gt)?Gt:(Gt==null?void 0:Gt.data)||[]).map(is=>({id:is.attendance_employee_no??String(is.id??""),name:is.full_name||is.name||"",department:is.department||is.department_name||""}));Et=[...Et,...Xt]}catch(Gt){console.error(`Error fetching employees for company ${qt.id}:`,Gt)}ie(Et)}catch(jt){console.error("Error fetching employees for modals:",jt)}})()},[]);const Be=async(Oe=null,jt=null)=>{J(!0);try{const Et={};Oe&&(Et.start_date=Oe),jt&&(Et.end_date=jt);const qt=await us.getKpiPerformance(Et);ve({onTarget:qt.onTarget??0,needAttention:qt.needAttention??0,totalInWindow:qt.totalInWindow??0,startDate:qt.startDate??Oe,endDate:qt.endDate??jt})}catch(Et){console.error("Failed to load KPI performance stats",Et),ve(qt=>({...qt,onTarget:0,needAttention:0}))}finally{J(!1)}};N.useEffect(()=>{Le()},[t,d,p,h]);const Le=()=>{let Oe=t;d!=="all"&&(Oe=Oe.filter(jt=>jt.status===d)),p!=="all"&&(Oe=Oe.filter(jt=>{var Gt;const Et=jt.department_id??jt.departmentId??(jt.department&&(jt.department.id??null));if(Et!=null&&Et!=="")return String(Et)===String(p);const qt=(((Gt=A.find(Yt=>String(Yt.id)===String(p)))==null?void 0:Gt.name)||"").toLowerCase();return String(jt.department||jt.departmentName||"").toLowerCase()===qt})),h!=="all"&&(Oe=Oe.filter(jt=>{var Gt;const Et=jt.company_id??jt.companyId??(jt.company&&(jt.company.id??null));if(Et!=null&&Et!=="")return String(Et)===String(h);const qt=(((Gt=_.find(Yt=>String(Yt.id)===String(h)))==null?void 0:Gt.name)||"").toLowerCase();return String(jt.companyName||jt.company||"").toLowerCase()===qt})),a(Oe),y(1)},Ee=async Oe=>{var jt,Et,qt,Gt,Yt,Xt,is;se(!0);try{if(!Oe.assignees||Oe.assignees.length===0)return se(!1),Me.fire({icon:"warning",title:"Add Assignee",text:"Please add at least one assignee before creating the KPI task."});const ws={task_name:Oe.name,description:Oe.description,company_id:Oe.company,department_id:Oe.department,creator_role_name:Oe.creatorRole,assignees:Oe.assignees,start_date:Oe.startDate,end_date:Oe.endDate,weights:Oe.weights,priority:Oe.priority},Us=await us.createKpiTaskAssignment(ws);await Me.fire({icon:"success",title:"Success",text:`KPI task assignment created successfully. ${Us.total_created||Us.length||1} assignment(s) created.`,timer:2e3,showConfirmButton:!1}),w(!1),await Ie()}catch(ws){if(console.error(ws),((jt=ws.response)==null?void 0:jt.status)===422&&((qt=(Et=ws.response)==null?void 0:Et.data)!=null&&qt.duplicates)){let Zt=ws.response.data.duplicates.map(Wt=>` ${Wt.employee} (${Wt.attendance_no})
  Existing: ${Wt.existing_start} to ${Wt.existing_end}
  New: ${Wt.new_start} to ${Wt.new_end}`).join(`

`);await Me.fire({icon:"warning",title:"Duplicate Assignments Detected",text:`The following employees already have this KPI task assigned with overlapping dates:

${Zt}

Please choose different date ranges that don't overlap with existing assignments.`,confirmButtonColor:"#F59E0B",customClass:{popup:"text-left"}})}else{const Us=((Yt=(Gt=ws.response)==null?void 0:Gt.data)==null?void 0:Yt.message)||((is=(Xt=ws.response)==null?void 0:Xt.data)==null?void 0:is.error)||"Failed to create KPI task assignment. Please try again.";Me.fire({icon:"error",title:"Error",text:Us})}}finally{se(!1)}},Ve=async Oe=>{se(!0);try{const jt={task_name:Oe.name,description:Oe.description,company_id:Oe.company,department_id:Oe.department,creator_role_name:Oe.creatorRole,assignees:Oe.assignees,start_date:Oe.startDate,end_date:Oe.endDate,weights:Oe.weights,priority:Oe.priority},Et=await us.updateKpiTaskAssignment(G.id,jt);await Me.fire({icon:"success",title:"Updated",text:"KPI task updated successfully.",timer:1400,showConfirmButton:!1}),B(!1),await Ie()}catch(jt){console.error(jt),Me.fire({icon:"error",title:"Error",text:"Failed to update KPI task. Please try again."})}finally{se(!1)}},mt=async()=>{se(!0);try{const Oe=await us.deleteKpiTaskAssignment(G.id);await Me.fire({icon:"success",title:"Deleted",text:"KPI task deleted successfully.",timer:1400,showConfirmButton:!1}),D(!1),await Ie()}catch(Oe){console.error(Oe),Me.fire({icon:"error",title:"Error",text:"Failed to delete KPI task. Please try again."})}finally{se(!1)}},gt=async Oe=>{var jt,Et;try{const qt=await us.getKpiWeights(),Gt=Array.isArray(qt)?qt.map(Zt=>({id:Zt.id??null,title:Zt.name??"",description:Zt.description??"",percentage:0})):[],Yt=new Set(Gt.map(Zt=>Zt.id).filter(Zt=>Zt!==null)),is=(Array.isArray(Oe.weights)?Oe.weights:[]).filter(Zt=>{const Es=Zt.id!==null&&Zt.id!==void 0&&Yt.has(Zt.id),Bs=Zt.percentage&&Zt.percentage>0;return Es||Bs}),ws=f7(Gt,is),Us=Zt=>{if(!Zt)return"";try{const Wt=new Date(Zt);if(isNaN(Wt.getTime()))return"";const Es=Wt.getFullYear(),Bs=String(Wt.getMonth()+1).padStart(2,"0"),sr=String(Wt.getDate()).padStart(2,"0");return`${Es}-${Bs}-${sr}`}catch(Wt){return console.error("Error formatting date:",Zt,Wt),""}};K({...Oe,startDate:Us(Oe.startDate),endDate:Us(Oe.endDate),name:Oe.name||"",description:Oe.description||"",company:Oe.company||Oe.company_id||"",department:Oe.department||Oe.departmentId||Oe.department_id||"",departmentId:Oe.departmentId||Oe.department_id||"",companyName:Oe.companyName||"",departmentName:Oe.departmentName||"",assignees:Array.isArray(Oe.assignees)?[...Oe.assignees]:[],creatorRole:Oe.creatorRole||((jt=Oe.creator)==null?void 0:jt.role)||"",priority:Oe.priority||"medium",status:Oe.status||"active",weights:ws,id:Oe.id,created_at:Oe.created_at||Oe.createdAt,updated_at:Oe.updated_at||Oe.updatedAt,last_updated:Oe.last_updated||Oe.lastUpdated}),B(!0)}catch(qt){console.error("Error fetching template weights for edit:",qt);const Gt=Yt=>{if(!Yt)return"";try{const Xt=new Date(Yt);if(isNaN(Xt.getTime()))return"";const is=Xt.getFullYear(),ws=String(Xt.getMonth()+1).padStart(2,"0"),Us=String(Xt.getDate()).padStart(2,"0");return`${is}-${ws}-${Us}`}catch(Xt){return console.error("Error formatting date:",Yt,Xt),""}};K({...Oe,startDate:Gt(Oe.startDate),endDate:Gt(Oe.endDate),departmentId:Oe.departmentId||Oe.department_id||"",creatorRole:Oe.creatorRole||((Et=Oe.creator)==null?void 0:Et.role)||"",assignees:Array.isArray(Oe.assignees)?[...Oe.assignees]:[]}),B(!0)}},Pe=Oe=>{K(Oe),D(!0)},Ae=Oe=>{const jt={active:"bg-green-100 text-green-800",attention:"bg-yellow-100 text-yellow-800",inactive:"bg-gray-100 text-gray-800"};return jt[Oe]||jt.inactive},We=Oe=>Oe==="up"?e.jsx(wi,{className:"h-4 w-4 text-green-600"}):e.jsx(rx,{className:"h-4 w-4 text-red-600"}),Xe=Oe=>[...new Set(t.map(jt=>jt[Oe]))],st=v*b,ke=st-b,ct=r.slice(ke,st),nt=Math.ceil(r.length/b),[Bt,Ge]=N.useState(!1),[St,bt]=N.useState(null);return N.useEffect(()=>{let Oe=!0;return(async()=>{V(!0);try{const Et=await us.getCompanies();if(!Oe)return;k(Array.isArray(Et)?Et:[])}catch(Et){console.error("Error loading companies for filter:",Et),Oe&&k([])}finally{Oe&&V(!1)}})(),()=>{Oe=!1}},[]),N.useEffect(()=>{let Oe=!0;return(async()=>{if(!h||h==="all"){R([]),g("all");return}L(!0);try{const Et=await us.getDepartmentsByCompany(h);if(!Oe)return;R(Array.isArray(Et)?Et:[]),p!=="all"&&!(Array.isArray(Et)?Et:[]).some(qt=>String(qt.id)===String(p))&&g("all")}catch(Et){console.error("Error loading departments for company filter:",Et),Oe&&R([])}finally{Oe&&L(!1)}})(),()=>{Oe=!1}},[h]),N.useEffect(()=>{Be(pe,he)},[pe,he]),n?e.jsxs("div",{className:"flex items-center justify-center py-20",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),e.jsx("p",{className:"ml-3 text-gray-600",children:"Loading KPIs..."})]}):o?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(Hs,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading KPIs"}),e.jsx("p",{className:"text-gray-600 mb-4",children:o}),e.jsx("button",{onClick:Ie,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Try Again"})]}):e.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[e.jsx(VC,{isOpen:T,onClose:()=>w(!1),onSubmit:Ee,initialData:{},isEdit:!1,isLoading:X,employees:q}),e.jsx(VC,{isOpen:I,onClose:()=>B(!1),onSubmit:Ve,initialData:G?{name:G.name,description:G.description,startDate:G.startDate,endDate:G.endDate,assignees:G.assignees?[...G.assignees]:[],company:G.company||"",departmentId:G.departmentId||"",companyName:G.companyName||"",category:G.category||"",priority:G.priority||"medium",creatorRole:((qe=G.creator)==null?void 0:qe.role)||"",weights:G.weights}:{},isEdit:!0,isLoading:X,employees:q}),e.jsx($ae,{isOpen:Bt,onClose:()=>{Ge(!1),bt(null)},kpi:St,employees:ue}),e.jsx(zae,{isOpen:E,onClose:()=>D(!1),onConfirm:mt,kpiName:G==null?void 0:G.name,isLoading:X}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:e.jsx(ed,{className:"w-6 h-6 text-white"})}),"Key Performance Indicators"]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Monitor and track your organization's key performance metrics"})]}),e.jsx("div",{className:"flex gap-3",children:e.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[e.jsx(bs,{className:"w-4 h-4"}),"Add KPI Task"]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[e.jsx("span",{role:"img","aria-label":"total",children:""}),"Total KPIs"]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length})]}),e.jsx("div",{className:"p-3 bg-indigo-50 rounded-xl",children:e.jsx("div",{className:"p-2 bg-indigo-100 rounded-full",children:e.jsx(Hc,{className:"w-6 h-6 text-indigo-600"})})})]})}),e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[e.jsx("span",{role:"img","aria-label":"ontarget",children:""}),"On Target"]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:oe?"":re.onTarget}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:re.startDate&&re.endDate?`${re.startDate}  ${re.endDate}`:"This month"})]}),e.jsx("div",{className:"p-3 bg-green-50 rounded-xl",children:e.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:e.jsx(vs,{className:"w-6 h-6 text-green-600"})})})]})}),e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[e.jsx("span",{role:"img","aria-label":"attention",children:""}),"Need Attention"]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:oe?"":re.needAttention}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"No submissions in period"})]}),e.jsx("div",{className:"p-3 bg-yellow-50 rounded-xl",children:e.jsx("div",{className:"p-2 bg-yellow-100 rounded-full",children:e.jsx(Hs,{className:"w-6 h-6 text-yellow-600"})})})]})})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:h,onChange:Oe=>f(Oe.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"all",children:"All Companies"}),_.map(Oe=>e.jsx("option",{value:Oe.id,children:Oe.name},Oe.id))]}),F&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx(Ps,{className:"w-4 h-4 text-gray-400 animate-spin"})})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:p,onChange:Oe=>g(Oe.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",disabled:h==="all"&&Xe("department").length===0,children:[e.jsx("option",{value:"all",children:"All Departments"}),h!=="all"?A.map(Oe=>e.jsx("option",{value:Oe.id,children:Oe.name},Oe.id)):Xe("department").map(Oe=>e.jsx("option",{value:Oe,children:Oe},Oe))]}),S&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx(Ps,{className:"w-4 h-4 text-gray-400 animate-spin"})})]}),e.jsxs("select",{value:d,onChange:Oe=>u(Oe.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"attention",children:"Need Attention"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"KPI Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assignees"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Weights"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Owner"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timeline"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ct.map(Oe=>{var jt,Et;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:Oe.name}),e.jsx("div",{className:"ml-2",children:We(Oe.trend)}),Oe.priority&&e.jsx("span",{className:`ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${Oe.priority==="high"?"bg-red-100 text-red-800":Oe.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:Oe.priority.charAt(0).toUpperCase()})]}),e.jsx("div",{className:"text-sm text-gray-500",children:Oe.description}),e.jsx("div",{className:"text-xs text-gray-400",children:Oe.departmentName||Oe.department})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[Oe.assignees&&Oe.assignees.length>0?Oe.assignees.slice(0,3).map(qt=>{const Gt=ue.find(Yt=>String(Yt.id)===String(qt))||{name:`Employee ${qt}`,department:"Unknown"};return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-indigo-100 rounded-full flex items-center justify-center",children:e.jsx(er,{className:"h-3 w-3 text-indigo-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs font-medium text-gray-900 truncate",children:Gt.name}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:Gt.department})]})]},qt)}):e.jsx("span",{className:"text-xs text-gray-500",children:"No assignees"}),Oe.assignees&&Oe.assignees.length>3&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["+",Oe.assignees.length-3," more"]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm",children:Oe.weights?e.jsx("div",{className:"text-center",children:e.jsxs("span",{className:"text-sm font-bold text-indigo-600",children:[Oe.weights.reduce((qt,Gt)=>qt+(Gt.percentage||0),0),"%"]})}):e.jsx("span",{className:"text-xs text-gray-500",children:"No weights set"})})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Ae(Oe.status)}`,children:[Oe.status==="active"&&e.jsx(vs,{className:"w-3 h-3 mr-1"}),Oe.status==="attention"&&e.jsx(Hs,{className:"w-3 h-3 mr-1"}),Oe.status.charAt(0).toUpperCase()+Oe.status.slice(1)]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-gray-600",children:(jt=Oe.creator)!=null&&jt.role?Oe.creator.role.split(" ").map(qt=>qt[0]).join("").toUpperCase():Oe.owner?Oe.owner.split(" ").map(qt=>qt[0]).join("").toUpperCase():"--"})}),e.jsx("div",{className:"ml-3",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:((Et=Oe.creator)==null?void 0:Et.role)||""})})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"flex items-center text-gray-900",children:[e.jsx(Ns,{className:"w-4 h-4 text-gray-400 mr-1"}),e.jsxs("span",{children:[new Date(Oe.startDate).toLocaleDateString()," - ",new Date(Oe.endDate).toLocaleDateString()]})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:(()=>{const qt=new Date(Oe.startDate),Gt=new Date(Oe.endDate),Yt=new Date,Xt=Math.ceil((Gt-qt)/(1e3*60*60*24)),is=Math.ceil((Yt-qt)/(1e3*60*60*24));return`${Math.min(Math.max(Math.round(is/Xt*100),0),100)}% of timeline elapsed`})()})]})}),e.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",onClick:()=>{bt(Oe),Ge(!0)},children:e.jsx(Or,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",onClick:()=>gt(Oe),children:e.jsx(Gc,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",onClick:()=>Pe(Oe),children:e.jsx(ns,{className:"w-4 h-4"})})]})})]},Oe.id)})})]})}),nt>1&&e.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",ke+1," to ",Math.min(st,r.length)," of ",r.length," KPIs"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>y(v-1),disabled:v===1,className:`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${v===1?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(gl,{className:"h-4 w-4 mr-1"}),"Previous"]}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",v," of ",nt]}),e.jsxs("button",{onClick:()=>y(v+1),disabled:v===nt,className:`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${v===nt?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-100"}`,children:["Next",e.jsx(Pn,{className:"h-4 w-4 ml-1"})]})]})]})]}),r.length===0&&!n&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:[e.jsx(ed,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No KPIs found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:d!=="all"||p!=="all"||h!=="all"?"Try adjusting your filter criteria":"Get started by creating your first KPI"})]})]})},Vae=()=>{const t=Me.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timerProgressBar:!0,timer:3e3,customClass:{popup:"rounded-lg shadow-lg border-l-4",title:"text-sm font-semibold",content:"text-sm"},didOpen:he=>{he.addEventListener("mouseenter",Me.stopTimer),he.addEventListener("mouseleave",Me.resumeTimer)}}),[s,r]=N.useState({startDate:"",endDate:""}),[a,n]=N.useState(""),[i,o]=N.useState(""),[l,d]=N.useState([]),[u,h]=N.useState({}),[f,p]=N.useState([]),[g,v]=N.useState(!1),[y,b]=N.useState(!1),[_,k]=N.useState(""),[A,R]=N.useState({}),[F,V]=N.useState(1),[S,L]=N.useState(5),[I,B]=N.useState(1),[T,w]=N.useState(0),[E,D]=N.useState(!1),[G,K]=N.useState({startDate:!1,endDate:!1}),[X,se]=N.useState(!1),[Z,ee]=N.useState(!1);N.useRef(null),N.useEffect(()=>{(async()=>{try{const Te=await us.getAllEmployees(),Ie=Array.isArray(Te)?Te:(Te==null?void 0:Te.data)??[];d(Ie),await ce(Ie)}catch(Te){console.error("Error fetching employees:",Te),d([])}})()},[]);const ce=async he=>{try{const Te={};for(const Ie of he)try{const Be=await us.getEmployeeKpiTaskAssignments(Ie.id);Te[Ie.id]=Array.isArray(Be)?Be.length>0:!1}catch{Te[Ie.id]=!1}h(Te)}catch(Te){console.error("Error checking employee tasks:",Te),h({})}},U=he=>{const Te=he.target.value||"";k(Te),n(""),o(""),ee(!1)},O=(l||[]).filter(he=>{var Ie,Be,Le;if(!_.trim())return!0;const Te=_.toLowerCase();return((Ie=he.full_name)==null?void 0:Ie.toLowerCase().includes(Te))||((Be=he.id)==null?void 0:Be.toString().includes(Te))||((Le=he.attendance_employee_no)==null?void 0:Le.toLowerCase().includes(Te))}).sort((he,Te)=>{var Le;const Ie=u[he.id]||!1,Be=u[Te.id]||!1;return Ie===Be?((Le=he.full_name)==null?void 0:Le.localeCompare(Te.full_name))||0:Be-Ie}),z=async(he=1)=>{var Te;v(!0);try{const Ie={start_date:s.startDate,end_date:s.endDate,employee_id:a||void 0,page:he,per_page:S},Be=await us.calculatePerformanceAppraisal(Ie);if(Be!=null&&Be.data&&(Be.data.data||Be.data.meta||Be.data.current_page)){const Le=Be.data.data??Be.data;p(Array.isArray(Le)?Le:[]);const Ee=Be.data.last_page??((Te=Be.data.meta)==null?void 0:Te.last_page)??Math.max(1,Math.ceil((Be.data.total??Le.length)/S)),Ve=Be.data.total??(Array.isArray(Be.data)?Be.data.length:Le.length);B(Ee),w(Ve),V(Number(he)),D(!0)}else Array.isArray(Be.data)?(p(Be.data),D(!1),w(Be.data.length),B(Math.max(1,Math.ceil(Be.data.length/S))),V(1)):(p([]),w(0),B(1),V(1),D(!1))}catch(Ie){console.error("Error fetching appraisal page:",Ie)}finally{v(!1)}},q=async()=>{var Te,Ie,Be,Le,Ee;se(!0);const he={startDate:!s.startDate,endDate:!s.endDate};if(K(he),!s.startDate||!s.endDate){await Me.fire({icon:"warning",title:"Missing Information",text:"Please select both start and end dates to calculate performance appraisal.",confirmButtonColor:"#F59E0B",confirmButtonText:"Got it",customClass:{popup:"rounded-xl shadow-2xl",title:"text-lg font-bold text-orange-600",confirmButton:"px-4 py-2 rounded-lg font-semibold"}}),v(!1);return}v(!0);try{await z(1),(f&&f.length>0||T>0)&&await Me.fire({icon:"success",title:"Appraisal Calculated!",html:`
            <div class="text-left space-y-2">
              <div class="flex items-center gap-2">
                <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                <span><strong>${f.length}</strong> employee(s) appraised</span>
              </div>
              <div class="flex items-center gap-2">
                <div class="w-2 h-2 bg-blue-500 rounded-full"></div>
                <span><strong>${f.reduce?f.reduce((Ve,mt)=>Ve+(mt.task_count||0),0):T}</strong> tasks analyzed</span>
              </div>
              <div class="mt-3 p-2 bg-gray-50 rounded-lg text-xs text-gray-600">
                Date Range: ${s.startDate}  ${s.endDate}
              </div>
            </div>
          `,confirmButtonColor:"#10B981",confirmButtonText:"View Results",customClass:{popup:"rounded-xl shadow-2xl",title:"text-lg font-bold text-green-600"}})}catch(Ve){console.error("Error calculating performance appraisal:",Ve),p([]);let mt="Calculation Failed",gt="An unexpected error occurred while calculating performance appraisal. Please try again.",Pe="";((Te=Ve.response)==null?void 0:Te.status)===422?(mt="Validation Error",gt="The provided data did not pass validation.",(Ie=Ve.response.data)!=null&&Ie.errors&&(Pe=Object.values(Ve.response.data.errors).flat().join("<br>"))):((Be=Ve.response)==null?void 0:Be.status)===500?(mt="Server Error",gt="A server error occurred. Please contact support if the problem persists."):(Ee=(Le=Ve.response)==null?void 0:Le.data)!=null&&Ee.message&&(gt=Ve.response.data.message),await Me.fire({icon:"error",title:mt,html:`
          <div class="text-left">
            <p class="text-gray-700 mb-3">${gt}</p>
            ${Pe?`<div class="bg-red-50 p-3 rounded-lg text-sm text-red-700">${Pe}</div>`:""}
          </div>
        `,confirmButtonColor:"#EF4444",customClass:{popup:"rounded-xl shadow-2xl",title:"text-lg font-bold text-red-600"}})}finally{}},te=async he=>{var Ie,Be;if((await Me.fire({icon:"question",title:"Save Performance Appraisal",html:`
        <div class="text-left space-y-3">
          <div class="flex items-center gap-3 p-3 bg-blue-50 rounded-lg">
            <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center">
              <User class="w-5 h-5 text-blue-600" />
            </div>
            <div>
              <div class="font-semibold text-gray-800">${he.employee_name}</div>
              <div class="text-sm text-gray-600">Attendance No: ${he.attendance_no}</div>
            </div>
          </div>
          <div class="grid grid-cols-2 gap-4">
            <div class="text-center p-2 bg-green-50 rounded-lg">
              <div class="text-lg font-bold text-green-600">${he.grade}</div>
              <div class="text-xs text-gray-600">${he.performance_label}</div>
            </div>
            <div class="text-center p-2 bg-indigo-50 rounded-lg">
              <div class="text-lg font-bold text-indigo-600">${he.percentage}%</div>
              <div class="text-xs text-gray-600">Final Score</div>
            </div>
          </div>
          <p class="text-sm text-gray-600 text-center">Do you want to save this performance appraisal?</p>
        </div>
      `,showCancelButton:!0,confirmButtonText:"Save Appraisal",cancelButtonText:"Cancel",confirmButtonColor:"#10B981",cancelButtonColor:"#6B7280",customClass:{popup:"rounded-xl shadow-2xl border-0",title:"text-lg font-bold text-gray-800",htmlContainer:"text-sm",confirmButton:"px-6 py-2 rounded-lg font-semibold text-white bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 transition-all duration-200 shadow-lg",cancelButton:"px-6 py-2 rounded-lg font-semibold text-gray-700 bg-gray-200 hover:bg-gray-300 transition-all duration-200"}})).isConfirmed){b(!0);try{if(!he.employee_id||!he.tasks||!Array.isArray(he.tasks)){await Me.fire({icon:"error",title:"Invalid Data",text:"Invalid appraisal data detected. Please recalculate the performance appraisal and try again.",confirmButtonColor:"#EF4444",customClass:{popup:"rounded-xl shadow-2xl",title:"text-lg font-bold text-red-600"}});return}const Le={employee_id:parseInt(he.employee_id),start_date:s.startDate,end_date:s.endDate,employee_self_rating:parseInt(he.employee_self_rating),supervisor_rating:parseInt(he.supervisor_rating),average_rating:parseFloat(he.average_rating),percentage:parseInt(he.percentage),grade:he.grade,performance_label:he.performance_label,calculation_details:he.tasks,task_count:parseInt(he.task_count)};await us.savePerformanceAppraisal(Le),await Me.fire({icon:"success",title:"Appraisal Saved!",html:`
          <div class="text-center">
            <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3">
              <CheckCircle class="w-8 h-8 text-green-600" />
            </div>
            <p class="text-gray-700">Performance appraisal for <strong>${he.employee_name}</strong> has been saved successfully.</p>
            <p class="text-sm text-gray-500 mt-2">The appraisal is now stored in the system.</p>
          </div>
        `,confirmButtonColor:"#10B981",confirmButtonText:"Great!",timer:4e3,timerProgressBar:!0,customClass:{popup:"rounded-xl shadow-2xl border-0",title:"text-lg font-bold text-green-600"}})}catch(Le){console.error("Error saving appraisal:",Le);let Ee="Failed to save the performance appraisal. Please try again.";(Be=(Ie=Le.response)==null?void 0:Ie.data)!=null&&Be.message&&(Ee=Le.response.data.message),await Me.fire({icon:"error",title:"Save Failed",text:Ee,confirmButtonColor:"#EF4444",customClass:{popup:"rounded-xl shadow-2xl",title:"text-lg font-bold text-red-600"}})}finally{b(!1)}}},ge=he=>({"A+":"bg-green-100 text-green-800 border-green-200",A:"bg-blue-100 text-blue-800 border-blue-200",B:"bg-yellow-100 text-yellow-800 border-yellow-200","B-":"bg-orange-100 text-orange-800 border-orange-200",C:"bg-red-100 text-red-800 border-red-200"})[he]||"bg-gray-100 text-gray-800 border-gray-200",Q=he=>{R(Te=>({...Te,[he]:!Te[he]}))},ue=(F-1)*S,ie=ue+S,oe=f.slice(ue,ie),J=E?f:oe,re=async he=>{he<1||(E?await z(he):V(he))},ve=he=>{const Te=he.target.value;r({...s,startDate:Te}),Te&&G.startDate&&K(Ie=>({...Ie,startDate:!1}))},pe=he=>{const Te=he.target.value;r({...s,endDate:Te}),Te&&G.endDate&&K(Ie=>({...Ie,endDate:!1}))},ae=()=>{r({startDate:"",endDate:""}),n(""),o(""),k(""),p([]),K({startDate:!1,endDate:!1}),se(!1),V(1),t.fire({icon:"success",title:"Filters cleared!"})};return e.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:e.jsx(cn,{className:"w-6 h-6 text-white"})}),"Performance Appraisal"]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Calculate and grade employee performance appraisal using self-rating and supervisor rating"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Start Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ys,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"date",value:s.startDate,onChange:ve,className:`block w-full pl-10 pr-3 py-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors ${G.startDate&&X?"border-red-500 bg-red-50":"border-gray-300"}`,placeholder:"Start Date"}),G.startDate&&X&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:"Start date is required"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["End Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ys,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"date",value:s.endDate,onChange:pe,min:s.startDate,className:`block w-full pl-10 pr-3 py-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors ${G.endDate&&X?"border-red-500 bg-red-50":"border-gray-300"}`,placeholder:"End Date"}),G.endDate&&X&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:"End date is required"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Employee (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(er,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"text",placeholder:"Search by name, ID or attendance no",value:_,onChange:U,className:"block w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),a&&e.jsx("button",{onClick:()=>{n(""),o(""),k("")},className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx(zt,{className:"h-4 w-4 text-gray-400 hover:text-gray-600"})})]}),_&&!a&&e.jsx("div",{className:"mt-2 max-h-60 overflow-auto border border-gray-100 rounded-lg bg-white shadow-sm absolute z-10 w-full md:max-w-[300px]",children:Z?e.jsxs("div",{className:"p-3 text-center text-sm text-gray-500",children:[e.jsx(Ps,{className:"w-4 h-4 animate-spin inline mr-2"}),"Searching..."]}):O.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-3 py-2 bg-gray-50 border-b border-gray-100 text-xs text-gray-500",children:u&&Object.keys(u).length>0?"Employees with tasks are highlighted":"Showing all employees matching search"}),O.map(he=>{const Te=(u[he.id]||u[he.attendance_employee_no]||0)>0,Ie=u[he.id]||u[he.attendance_employee_no]||0;return e.jsx("div",{className:`flex items-center justify-between px-3 py-2 hover:bg-gray-50 cursor-pointer ${Te?"bg-green-50":""}`,onClick:()=>{n(he.id),o(he.full_name||he.name),k(he.full_name||he.name)},children:e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium flex items-center",children:[he.full_name||he.name,Te&&e.jsxs("span",{className:"ml-2 px-1.5 py-0.5 bg-green-100 text-green-800 text-xs rounded-full flex items-center",children:[e.jsx(Gl,{className:"w-3 h-3 mr-1"}),Ie]})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",he.id,"  ",he.attendance_employee_no||he.attendanceNo||""]})]})},he.id)})]}):e.jsx("div",{className:"p-3 text-center text-sm text-gray-500",children:"No employees found matching your search"})}),a&&e.jsxs("div",{className:"mt-2 p-3 bg-indigo-50 border border-indigo-200 rounded-lg",children:[e.jsxs("div",{className:"text-sm font-medium text-indigo-900",children:["Selected: ",i]}),e.jsxs("div",{className:"text-xs text-indigo-600",children:["ID: ",a]})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[e.jsx("button",{onClick:q,disabled:g,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g?e.jsxs(e.Fragment,{children:[e.jsx(Ps,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Calculating..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(kw,{className:"h-4 w-4"}),e.jsx("span",{children:"Calculate Appraisal"})]})}),e.jsxs("button",{onClick:ae,className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors",children:[e.jsx(zt,{className:"h-4 w-4"}),e.jsx("span",{children:"Clear Filters"})]})]})]}),f.length>0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(wn,{className:"h-5 w-5 text-purple-500"}),"Appraisal Results (",f.length," employee",f.length!==1?"s":"",")"]}),I>1&&e.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",ue+1,"-",Math.min(ie,f.length)," of ",f.length]})]}),e.jsx("div",{className:"space-y-6",children:J.map((he,Te)=>e.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(er,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:he.employee_name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",he.attendance_no]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>Q(he.employee_id),className:"text-purple-600 hover:text-purple-800 text-sm font-medium transition-colors",children:A[he.employee_id]?"Hide Details":"View Details"}),e.jsx("button",{onClick:()=>te(he),disabled:y,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm",children:y?e.jsxs(e.Fragment,{children:[e.jsx(Ps,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Saving..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Gl,{className:"h-4 w-4"}),e.jsx("span",{children:"Save Appraisal"})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h4",{className:"text-xs font-medium text-gray-600",children:"Self Rating"}),e.jsx(wi,{className:"h-4 w-4 text-blue-500"})]}),e.jsxs("div",{className:"text-xl font-bold text-blue-600 mb-1",children:[he.employee_self_rating,"%"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Employee's self-assessment"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h4",{className:"text-xs font-medium text-gray-600",children:"Supervisor Rating"}),e.jsx(cn,{className:"h-4 w-4 text-green-500"})]}),e.jsxs("div",{className:"text-xl font-bold text-green-600 mb-1",children:[he.supervisor_rating,"%"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Manager's assessment"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h4",{className:"text-xs font-medium text-gray-600",children:"Final Grade"}),e.jsx("div",{className:`px-1.5 py-0.5 rounded text-xs font-medium ${ge(he.grade)}`,children:he.grade})]}),e.jsx("div",{className:"text-lg font-bold text-gray-900 mb-1",children:he.performance_label}),e.jsx("div",{className:"text-xs text-gray-500",children:"Based on combined ratings"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-100",children:[e.jsx("h4",{className:"text-xs font-medium text-gray-600 mb-2",children:"Final Score"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"text-xl font-bold text-purple-600",children:[he.percentage,"%"]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:e.jsx("div",{className:`h-1.5 rounded-full ${he.percentage<30?"bg-red-500":he.percentage<60?"bg-yellow-500":"bg-green-500"}`,style:{width:`${he.percentage}%`}})})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Formula: (Combined Average  60)  100"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-100 md:col-span-4",children:[e.jsx("h4",{className:"text-xs font-medium text-gray-600 mb-2",children:"Task Summary"}),e.jsxs("div",{className:"flex items-center gap-6 text-sm flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xs,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{className:"text-gray-700",children:[e.jsx("strong",{children:he.task_count})," tasks completed"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(wi,{className:"h-4 w-4 text-blue-400"}),e.jsxs("span",{className:"text-gray-700",children:["Avg Self Rating: ",e.jsxs("strong",{children:[he.employee_self_rating,"%"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(cn,{className:"h-4 w-4 text-green-400"}),e.jsxs("span",{className:"text-gray-700",children:["Avg Supervisor Rating: ",e.jsxs("strong",{children:[he.supervisor_rating,"%"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(kw,{className:"h-4 w-4 text-purple-400"}),e.jsxs("span",{className:"text-gray-700",children:["Combined Average: ",e.jsxs("strong",{children:[he.average_rating,"%"]})]})]}),e.jsxs("div",{className:"text-gray-500 text-xs",children:["Period: ",s.startDate," to ",s.endDate]})]})]})]}),A[he.employee_id]&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-3 text-sm",children:["Calculation Details for ",he.employee_name]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Task"}),e.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee Self Rating"}),e.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Supervisor Rating"}),e.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Task Average"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[he.tasks.map((Ie,Be)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs font-medium text-gray-900",children:Ie.task_name}),e.jsxs("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-blue-600",children:[Ie.employee_self_rating,"%"]}),e.jsxs("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-green-600",children:[Ie.supervisor_rating,"%"]}),e.jsxs("td",{className:"px-3 py-2 whitespace-nowrap text-xs font-medium text-purple-600",children:[((Ie.employee_self_rating+Ie.supervisor_rating)/2).toFixed(1),"%"]})]},Be)),e.jsxs("tr",{className:"bg-blue-50",children:[e.jsx("td",{colSpan:"3",className:"px-3 py-2 whitespace-nowrap text-xs font-medium text-gray-900 text-right",children:"Average Self Rating:"}),e.jsxs("td",{className:"px-3 py-2 whitespace-nowrap text-xs font-medium text-blue-600",children:[he.employee_self_rating,"%"]})]}),e.jsxs("tr",{className:"bg-green-50",children:[e.jsx("td",{colSpan:"3",className:"px-3 py-2 whitespace-nowrap text-xs font-medium text-gray-900 text-right",children:"Average Supervisor Rating:"}),e.jsxs("td",{className:"px-3 py-2 whitespace-nowrap text-xs font-medium text-green-600",children:[he.supervisor_rating,"%"]})]}),e.jsxs("tr",{className:"bg-purple-50",children:[e.jsx("td",{colSpan:"3",className:"px-3 py-2 whitespace-nowrap text-xs font-medium text-gray-900 text-right",children:"Combined Average = (Self + Supervisor)  2:"}),e.jsxs("td",{className:"px-3 py-2 whitespace-nowrap text-xs font-medium text-purple-600",children:[he.average_rating,"%"]})]}),e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("td",{colSpan:"3",className:"px-3 py-2 whitespace-nowrap text-xs font-medium text-gray-900 text-right",children:"Final Percentage = (Average  60)  100 (capped at 100%):"}),e.jsxs("td",{className:"px-3 py-2 whitespace-nowrap text-xs font-medium text-indigo-600",children:[he.percentage,"%"]})]})]})]})}),e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[e.jsx("h5",{className:"text-xs font-semibold text-blue-800 mb-2",children:"Calculation Formula:"}),e.jsxs("div",{className:"space-y-1 text-xs text-blue-700",children:[e.jsx("div",{children:"1. Calculate average for each task: (Self Rating + Supervisor Rating)  2"}),e.jsx("div",{children:"2. Calculate overall average: Sum of all task averages  Number of tasks"}),e.jsx("div",{children:"3. Final Percentage: (Overall Average  60)  100 (capped at 100%)"})]})]})]})]},`${he.employee_id}-${Te}`))}),(E?I>1:Math.ceil((f.length||0)/S)>1)&&e.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>re(F-1),disabled:F===1,className:"flex items-center gap-1 px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(gl,{className:"h-4 w-4"}),"Previous"]}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:E?I:Math.max(1,Math.ceil((f.length||0)/S))},(he,Te)=>Te+1).map(he=>e.jsx("button",{onClick:()=>re(he),className:`px-3 py-2 text-sm font-medium rounded-md ${F===he?"bg-purple-600 text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-50"}`,children:he},he))}),e.jsxs("button",{onClick:()=>re(F+1),disabled:F===(E?I:Math.max(1,Math.ceil((f.length||0)/S))),className:"flex items-center gap-1 px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",e.jsx(Pn,{className:"h-4 w-4"})]})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",F," of ",E?I:Math.max(1,Math.ceil((f.length||0)/S))]})]})]}),f.length>0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mt-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(ln,{className:"h-5 w-5 text-purple-500"}),"Performance Grading Scale"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Grade"}),e.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),e.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Percentage Range"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs font-medium text-gray-900",children:"A+"}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-700",children:"Excellent - Consistently superior performance"}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-500",children:"81% - 100%"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs font-medium text-gray-900",children:"A"}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-700",children:"Above Average - Performance is regularly above expectations"}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-500",children:"61% - 80%"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs font-medium text-gray-900",children:"B"}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-700",children:"Average - Performance is acceptable on all counts"}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-500",children:"41% - 60%"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs font-medium text-gray-900",children:"B-"}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-700",children:"Below Average - Some competency issues noted"}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-500",children:"21% - 40%"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs font-medium text-gray-900",children:"C"}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-700",children:"Poor Performance - Well below requirements"}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-500",children:"0% - 20%"})]})]})]})})]})]})},qae=()=>{const t=Me.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timerProgressBar:!0,timer:3e3,customClass:{popup:"rounded-lg shadow-lg border-l-4",title:"text-sm font-semibold",content:"text-sm"},didOpen:oe=>{oe.addEventListener("mouseenter",Me.stopTimer),oe.addEventListener("mouseleave",Me.resumeTimer)}}),[s,r]=N.useState({startDate:"",endDate:""}),[a,n]=N.useState(""),[i,o]=N.useState(""),[l,d]=N.useState([]),[u,h]=N.useState({}),[f,p]=N.useState([]),[g,v]=N.useState(!1),[y,b]=N.useState(!1),[_,k]=N.useState(""),[A,R]=N.useState({}),[F,V]=N.useState({startDate:!1,endDate:!1}),[S,L]=N.useState(!1),[I,B]=N.useState(!1),T=N.useRef(null),[w,E]=N.useState(1),D=5;N.useEffect(()=>((async()=>{try{const J=await us.getAllEmployees(),re=Array.isArray(J)?J:(J==null?void 0:J.data)||[],ve=await us.getKpiTaskAssignments(),pe=[];Array.isArray(ve)&&ve.forEach(Te=>{Te.employee_id&&Te.employee_name&&(re.find(Be=>Be.id===Te.employee_id||Be.attendance_employee_no===Te.employee_id)||pe.push({id:Te.employee_id,full_name:Te.employee_name,attendance_employee_no:Te.employee_id,department:Te.department||"",company:Te.company||""}))});const he=[...re,...pe].filter((Te,Ie,Be)=>Ie===Be.findIndex(Le=>Le.id===Te.id||Le.attendance_employee_no===Te.attendance_employee_no));d(he),he.length>0&&G(he)}catch(J){console.error("Error fetching employees:",J),d([]),t.fire({icon:"error",title:"Failed to load employees",text:"Please refresh or try again later."})}})(),()=>{T.current&&clearTimeout(T.current)}),[]);const G=async oe=>{try{const J=await us.getKpiTaskAssignments(),re={};Array.isArray(J)&&J.forEach(ve=>{if(ve.employee_id){const pe=ve.employee_id;re[pe]=(re[pe]||0)+1;const ae=oe.find(he=>he.attendance_employee_no===ve.employee_id||he.id===ve.employee_id);ae&&ae.id!==pe&&(re[ae.id]=(re[ae.id]||0)+1)}}),h(re)}catch(J){console.error("Error fetching task assignments:",J)}},K=oe=>{const J=oe.target.value||"";k(J),n(""),o(""),B(!1)},X=(l||[]).filter(oe=>{const J=(_||"").toString().toLowerCase().trim();if(!J)return!0;const re=(oe.full_name||oe.name||"").toString().toLowerCase(),ve=(oe.id||"").toString().toLowerCase(),pe=(oe.attendance_employee_no||"").toString().toLowerCase();return re.includes(J)||ve.includes(J)||pe.includes(J)}).sort((oe,J)=>{const re=u[oe.id]||u[oe.attendance_employee_no]||0;return(u[J.id]||u[J.attendance_employee_no]||0)-re}),se=async()=>{var J,re,ve,pe,ae;L(!0);const oe={startDate:!s.startDate,endDate:!s.endDate};if(V(oe),!s.startDate||!s.endDate){await Me.fire({icon:"warning",title:"Missing Information",text:"Please select both start and end dates to calculate performance.",confirmButtonColor:"#F59E0B",confirmButtonText:"Got it",customClass:{popup:"rounded-xl shadow-2xl",title:"text-lg font-bold text-orange-600",confirmButton:"px-4 py-2 rounded-lg font-semibold"}}),v(!1);return}v(!0);try{const he={start_date:s.startDate,end_date:s.endDate,employee_id:a||void 0},Te=await us.calculateEmployeePerformance(he);if(!Te.data)await Me.fire({icon:"info",title:"No Data Found",text:"No completed tasks found in the selected date range. Try adjusting the date range or ensure tasks are marked as completed.",confirmButtonColor:"#3B82F6",confirmButtonText:"OK",customClass:{popup:"rounded-xl shadow-2xl",title:"text-lg font-bold text-blue-600"}}),p([]);else{const Ie=Array.isArray(Te.data)?Te.data:[Te.data];Ie.sort((Be,Le)=>new Date(Le.end_date||Le.start_date)-new Date(Be.end_date||Be.start_date)),p(Ie),E(1),Ie.length>0&&await Me.fire({icon:"success",title:"Performance Calculated Successfully!",html:`
              <div class="text-left space-y-2">
                <div class="flex items-center gap-2">
                  <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                  <span><strong>${Ie.length}</strong> employee(s) evaluated</span>
                </div>
                <div class="flex items-center gap-2">
                  <div class="w-2 h-2 bg-blue-500 rounded-full"></div>
                  <span><strong>${Ie.reduce((Be,Le)=>Be+(Le.task_count||0),0)}</strong> tasks analyzed</span>
                </div>
                <div class="mt-3 p-2 bg-gray-50 rounded-lg text-xs text-gray-600">
                  Date Range: ${s.startDate}  ${s.endDate}
                </div>
              </div>
            `,confirmButtonColor:"#10B981",confirmButtonText:"View Results",customClass:{popup:"rounded-xl shadow-2xl",title:"text-lg font-bold text-green-600"}})}}catch(he){console.error("Error calculating performance:",he),p([]);let Te="Calculation Failed",Ie="An unexpected error occurred while calculating performance. Please try again.",Be="";((J=he.response)==null?void 0:J.status)===422?(Te="Validation Error",Ie="The provided data did not pass validation.",(re=he.response.data)!=null&&re.errors&&(Be=Object.values(he.response.data.errors).flat().join("<br>"))):((ve=he.response)==null?void 0:ve.status)===500?(Te="Server Error",Ie="A server error occurred. Please contact support if the problem persists."):(ae=(pe=he.response)==null?void 0:pe.data)!=null&&ae.message&&(Ie=he.response.data.message),await Me.fire({icon:"error",title:Te,html:`
          <div class="text-left">
            <p class="mb-3">${Ie}</p>
            ${Be?`<div class="text-xs text-red-600 bg-red-50 p-2 rounded border border-red-200">${Be}</div>`:""}
          </div>
        `,confirmButtonColor:"#EF4444",confirmButtonText:"Try Again",customClass:{popup:"rounded-xl shadow-2xl",title:"text-lg font-bold text-red-600"}})}finally{v(!1)}},Z=async oe=>{var re,ve,pe,ae,he,Te,Ie;if(!(!oe||!(await Me.fire({title:"Confirm Save Evaluation",html:`
        <div class="text-left space-y-3">
          <div class="flex items-center gap-3 p-3 bg-blue-50 rounded-lg">
            <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center">
              <User class="w-5 h-5 text-blue-600" />
            </div>
            <div>
              <div class="font-semibold text-gray-800">${oe.employee_name}</div>
              <div class="text-sm text-gray-600">Attendance No: ${oe.attendance_no}</div>
            </div>
          </div>
          <div class="grid grid-cols-2 gap-4">
            <div class="text-center p-2 bg-green-50 rounded-lg">
              <div class="text-lg font-bold text-green-600">${oe.grade}</div>
              <div class="text-xs text-gray-600">${oe.performance_label}</div>
            </div>
            <div class="text-center p-2 bg-indigo-50 rounded-lg">
              <div class="text-lg font-bold text-indigo-600">${oe.percentage}%</div>
              <div class="text-xs text-gray-600">Performance Score</div>
            </div>
          </div>
          <div class="text-xs text-gray-500 bg-gray-50 p-2 rounded">
            This will save the evaluation to the database and cannot be easily undone.
          </div>
        </div>
      `,icon:"question",showCancelButton:!0,confirmButtonColor:"#10B981",cancelButtonColor:"#6B7280",confirmButtonText:"Yes, Save Evaluation",cancelButtonText:"Cancel",customClass:{popup:"rounded-xl shadow-2xl",title:"text-lg font-bold text-gray-800",confirmButton:"px-6 py-2 rounded-lg font-semibold text-white bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 transition-all duration-200",cancelButton:"px-6 py-2 rounded-lg font-semibold text-gray-700 bg-gray-200 hover:bg-gray-300 transition-all duration-200"}})).isConfirmed)){b(!0);try{if(!oe.employee_id||!oe.tasks||!Array.isArray(oe.tasks)){await Me.fire({icon:"error",title:"Invalid Data",text:"Invalid evaluation data detected. Please recalculate the performance and try again.",confirmButtonColor:"#EF4444",customClass:{popup:"rounded-xl shadow-2xl",title:"text-lg font-bold text-red-600"}});return}const Be={employee_id:parseInt(oe.employee_id),start_date:s.startDate,end_date:s.endDate,percentage:parseInt(oe.percentage),grade:oe.grade,performance_label:oe.performance_label,calculation_details:oe.tasks,task_count:parseInt(oe.task_count)};await us.saveEmployeePerformance(Be),await Me.fire({icon:"success",title:"Evaluation Saved!",html:`
          <div class="text-center">
            <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3">
              <CheckCircle class="w-8 h-8 text-green-600" />
            </div>
            <p class="text-gray-700">Performance evaluation for <strong>${oe.employee_name}</strong> has been saved successfully.</p>
            <p class="text-sm text-gray-500 mt-2">The evaluation is now stored in the system.</p>
          </div>
        `,confirmButtonColor:"#10B981",confirmButtonText:"Great!",timer:4e3,timerProgressBar:!0,customClass:{popup:"rounded-xl shadow-2xl",title:"text-lg font-bold text-green-600"}})}catch(Be){console.error("Error saving evaluation:",Be);let Le="Save Failed",Ee="Failed to save the performance evaluation.",Ve="";((re=Be.response)==null?void 0:re.status)===422?(Le="Validation Error",Ee="The evaluation data did not pass validation.",(ve=Be.response.data)!=null&&ve.errors&&(Ve=Object.values(Be.response.data.errors).flat().join("<br>"))):((pe=Be.response)==null?void 0:pe.status)===500?(Le="Server Error",Ee="A server error occurred while saving the evaluation.",Ve="Please try again later or contact the system administrator."):(he=(ae=Be.response)==null?void 0:ae.data)!=null&&he.error?Ee=Be.response.data.error:(Ie=(Te=Be.response)==null?void 0:Te.data)!=null&&Ie.message&&(Ee=Be.response.data.message),await Me.fire({icon:"error",title:Le,html:`
          <div class="text-left">
            <p class="mb-3">${Ee}</p>
            ${Ve?`<div class="text-xs text-red-600 bg-red-50 p-3 rounded border border-red-200">${Ve}</div>`:""}
          </div>
        `,confirmButtonColor:"#EF4444",confirmButtonText:"Try Again",customClass:{popup:"rounded-xl shadow-2xl",title:"text-lg font-bold text-red-600"}})}finally{b(!1)}}},ee=()=>{Me.fire({icon:"info",title:"Export Feature Coming Soon",text:"The export functionality will be available in a future update. Stay tuned!",confirmButtonColor:"#3B82F6",confirmButtonText:"OK",customClass:{popup:"rounded-xl shadow-2xl",title:"text-lg font-bold text-blue-600"}})},ce=oe=>{switch(oe){case"A+":return"bg-green-100 text-green-800";case"A":return"bg-blue-100 text-blue-800";case"B":return"bg-yellow-100 text-yellow-700";case"B-":return"bg-orange-100 text-orange-800";case"C":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-600"}},U=oe=>{R(J=>({...J,[oe]:!J[oe]}))},O=Math.ceil(f.length/D),z=(w-1)*D,q=z+D,te=f.slice(z,q),ge=oe=>{E(oe)},Q=oe=>{const J=oe.target.value;r({...s,startDate:J}),J&&F.startDate&&V(re=>({...re,startDate:!1}))},ue=oe=>{const J=oe.target.value;r({...s,endDate:J}),J&&F.endDate&&V(re=>({...re,endDate:!1}))},ie=()=>{r({startDate:"",endDate:""}),n(""),o(""),k(""),p([]),E(1),R({}),L(!1),V({startDate:!1,endDate:!1})};return e.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-500 rounded-lg",children:e.jsx(ln,{className:"w-6 h-6 text-white"})}),"Employee Performance Evaluation"]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Calculate and grade employee performance based on completed tasks"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Start Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ys,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"date",value:s.startDate,onChange:Q,className:`w-full pl-10 pr-4 py-2 border ${S&&F.startDate?"border-red-300 bg-red-50":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500`,required:!0})]}),S&&F.startDate&&e.jsxs("p",{className:"mt-1 text-xs text-red-600 flex items-center",children:[e.jsx("span",{className:"inline-block w-1 h-1 bg-red-500 rounded-full mr-1"}),"Start date is required"]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["End Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ys,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"date",value:s.endDate,onChange:ue,className:`w-full pl-10 pr-4 py-2 border ${S&&F.endDate?"border-red-300 bg-red-50":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500`,min:s.startDate,required:!0})]}),S&&F.endDate&&e.jsxs("p",{className:"mt-1 text-xs text-red-600 flex items-center",children:[e.jsx("span",{className:"inline-block w-1 h-1 bg-red-500 rounded-full mr-1"}),"End date is required"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Employee (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(er,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",placeholder:"Search by name, ID or attendance no",value:_,onChange:K,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"}),a&&e.jsx("button",{onClick:()=>{n(""),o(""),k("")},className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx(zt,{className:"h-4 w-4 text-gray-400 hover:text-gray-600"})})]}),_&&!a&&e.jsx("div",{className:"mt-2 max-h-60 overflow-auto border border-gray-100 rounded-lg bg-white shadow-sm absolute z-10 w-full md:max-w-[300px]",children:I?e.jsxs("div",{className:"p-3 text-center text-sm text-gray-500",children:[e.jsx(Ps,{className:"w-4 h-4 animate-spin inline mr-2"}),"Searching..."]}):X.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-3 py-2 bg-gray-50 border-b border-gray-100 text-xs text-gray-500",children:u&&Object.keys(u).length>0?"Employees with tasks are highlighted":"Showing all employees matching search"}),X.map(oe=>{const J=(u[oe.id]||u[oe.attendance_employee_no]||0)>0,re=u[oe.id]||u[oe.attendance_employee_no]||0;return e.jsx("div",{className:`flex items-center justify-between px-3 py-2 hover:bg-gray-50 cursor-pointer ${J?"bg-green-50":""}`,onClick:()=>{n(oe.id),o(oe.full_name||oe.name),k(oe.full_name||oe.name)},children:e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium flex items-center",children:[oe.full_name||oe.name,J&&e.jsxs("span",{className:"ml-2 px-1.5 py-0.5 bg-green-100 text-green-800 text-xs rounded-full flex items-center",children:[e.jsx(Gl,{className:"w-3 h-3 mr-1"}),re]})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",oe.id,"  ",oe.attendance_employee_no||oe.attendanceNo||""]})]})},oe.id)})]}):e.jsx("div",{className:"p-3 text-center text-sm text-gray-500",children:"No employees found matching your search"})}),a&&e.jsxs("div",{className:"mt-2 p-3 bg-indigo-50 border border-indigo-200 rounded-lg",children:[e.jsxs("div",{className:"text-sm font-medium text-indigo-900",children:["Selected: ",i]}),e.jsxs("div",{className:"text-xs text-indigo-600",children:["ID: ",a]})]}),l.length===0&&!I&&e.jsx("div",{className:"mt-2 p-3 text-center text-sm text-gray-500 border border-gray-100 rounded-lg bg-white",children:"No employees available. Please ensure employees are loaded."})]})]}),e.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[e.jsxs("button",{onClick:ie,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors flex items-center gap-2",children:[e.jsx(zt,{className:"h-4 w-4"}),"Clear Filters"]}),e.jsx("button",{onClick:se,disabled:g||!s.startDate||!s.endDate,className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${g||!s.startDate||!s.endDate?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700"}`,children:g?e.jsxs(e.Fragment,{children:[e.jsx(Ps,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Evaluating..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(kw,{className:"h-4 w-4"}),e.jsx("span",{children:"Calculate Performance"})]})})]})]}),f.length>0&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Performance Evaluation Results"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[s.startDate," to ",s.endDate,"  ",f.length," employee(s)  ",f.reduce((oe,J)=>oe+J.task_count,0)," tasks analyzed"]})]}),e.jsxs("button",{className:"px-3 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 flex items-center gap-2 hover:bg-gray-50",onClick:ee,children:[e.jsx(Mn,{className:"w-4 h-4"}),"Export All"]})]})}),e.jsx("div",{className:"grid gap-4",children:te.map((oe,J)=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow duration-200",children:[e.jsx("div",{className:"p-4 bg-gradient-to-r from-indigo-50 to-blue-50 border-b border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-bold text-gray-900",children:oe.employee_name}),e.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Attendance No: ",oe.attendance_no,"  ",oe.task_count," tasks completed"]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{onClick:()=>Z(oe),disabled:y,className:"px-3 py-1.5 bg-gradient-to-r from-green-500 to-green-600 text-white border border-green-700 rounded-lg text-xs font-semibold flex items-center gap-1.5 hover:from-green-600 hover:to-green-700 hover:shadow-md disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200 transform hover:scale-105",children:y?e.jsxs(e.Fragment,{children:[e.jsx(Ps,{className:"h-3 w-3 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(vs,{className:"w-3 h-3"}),"Save Evaluation"]})})})]})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h4",{className:"text-xs font-medium text-gray-600",children:"Final Grade"}),e.jsx("div",{className:`px-1.5 py-0.5 rounded text-xs font-medium ${ce(oe.grade)}`,children:oe.grade})]}),e.jsx("div",{className:"text-lg font-bold text-gray-900 mb-1",children:oe.performance_label}),e.jsx("div",{className:"text-xs text-gray-500",children:"Based on supervisor ratings and task weights"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-100",children:[e.jsx("h4",{className:"text-xs font-medium text-gray-600 mb-2",children:"Performance Score"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"text-xl font-bold text-indigo-600",children:[oe.percentage,"%"]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:e.jsx("div",{className:`h-1.5 rounded-full ${oe.percentage<30?"bg-red-500":oe.percentage<60?"bg-yellow-500":"bg-green-500"}`,style:{width:`${oe.percentage}%`}})})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Formula: Total Score (capped at 100%)"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-100",children:[e.jsx("h4",{className:"text-xs font-medium text-gray-600 mb-2",children:"Task Summary"}),e.jsx("div",{className:"text-xl font-bold text-gray-900",children:oe.task_count}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Tasks completed within period"}),e.jsxs("button",{onClick:()=>U(oe.employee_id),className:"mt-2 text-xs text-indigo-600 flex items-center gap-1 hover:text-indigo-800",children:[A[oe.employee_id]?"Hide Details":"View Calculation Details",e.jsx(dn,{className:`h-3 w-3 transition-transform ${A[oe.employee_id]?"rotate-180":""}`})]})]})]}),A[oe.employee_id]&&e.jsxs("div",{className:"mt-4 border-t border-gray-100 pt-4",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-3 text-sm",children:["Calculation Details for ",oe.employee_name]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Task"}),e.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Supervisor Progress"}),e.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Task Weight Total"}),e.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Calculation"}),e.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[oe.tasks.map((re,ve)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs font-medium text-gray-900",children:re.task_name}),e.jsxs("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-500",children:[re.supervisor_progress,"%"]}),e.jsxs("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-500",children:[re.total_weight,"%"]}),e.jsxs("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-500",children:[re.supervisor_progress,"%  ",re.total_weight,"%  100"]}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs font-medium text-indigo-600",children:re.task_score.toFixed(2)})]},ve)),e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("td",{colSpan:"4",className:"px-3 py-2 whitespace-nowrap text-xs font-medium text-gray-900 text-right",children:"Total Score = Sum of All Task Scores:"}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs font-medium text-indigo-600",children:oe.tasks.reduce((re,ve)=>re+ve.task_score,0).toFixed(2)})]}),e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("td",{colSpan:"4",className:"px-3 py-2 whitespace-nowrap text-xs font-medium text-gray-900 text-right",children:"Final Percentage = Total Score (capped at 100%):"}),e.jsxs("td",{className:"px-3 py-2 whitespace-nowrap text-xs font-medium text-indigo-600",children:[oe.percentage,"%"]})]})]})]})})]})]})]},`${oe.employee_id}-${J}`))}),O>1&&e.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[e.jsxs("button",{onClick:()=>ge(w-1),disabled:w===1,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:[e.jsx(gl,{className:"h-4 w-4"}),"Previous"]}),e.jsx("div",{className:"flex space-x-1",children:Array.from({length:O},(oe,J)=>J+1).map(oe=>e.jsx("button",{onClick:()=>ge(oe),className:`px-3 py-2 text-sm font-medium rounded-md ${w===oe?"bg-indigo-600 text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-50"}`,children:oe},oe))}),e.jsxs("button",{onClick:()=>ge(w+1),disabled:w===O,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:["Next",e.jsx(Pn,{className:"h-4 w-4"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3 text-sm",children:"Performance Grade Scale"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Grade"}),e.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Percentage Range"}),e.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Performance Level"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("span",{className:"px-1.5 py-0.5 text-xs font-medium rounded bg-green-100 text-green-800",children:"A+"})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-500",children:"81-100%"}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-900",children:"Excellent"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("span",{className:"px-1.5 py-0.5 text-xs font-medium rounded bg-blue-100 text-blue-800",children:"A"})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-500",children:"61-80%"}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-900",children:"Above Average"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("span",{className:"px-1.5 py-0.5 text-xs font-medium rounded bg-yellow-100 text-yellow-800",children:"B"})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-500",children:"41-60%"}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-900",children:"Average"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("span",{className:"px-1.5 py-0.5 text-xs font-medium rounded bg-orange-100 text-orange-800",children:"B-"})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-500",children:"21-40%"}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-900",children:"Below Average"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("span",{className:"px-1.5 py-0.5 text-xs font-medium rounded bg-red-100 text-red-800",children:"C"})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-500",children:"1-20%"}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-900",children:"Poor Performance"})]})]})]})}),e.jsx("p",{className:"mt-3 text-xs text-gray-500 italic",children:"Formula: Final Percentage = Sum of (Task Weight  Supervisor Progress  100), capped at 100%"})]})]}),f.length===0&&!g&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(xs,{className:"w-8 h-8 text-indigo-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Evaluation Results Found"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Try adjusting the date range or employee selection, then calculate the performance again."}),e.jsxs("button",{onClick:()=>E(1),className:"px-4 py-2 rounded-lg bg-indigo-600 text-white font-semibold shadow-md hover:bg-indigo-700 transition-all duration-200",children:[e.jsx(Wj,{className:"w-4 h-4 inline-block -mt-1 mr-1"}),"Retry Evaluation"]})]})]})},Hae=({isOpen:t,onClose:s,task:r,onSubmit:a,employeeId:n,employeeName:i})=>{const[o,l]=N.useState(""),[d,u]=N.useState(!1),[h,f]=N.useState(null),[p,g]=N.useState(!1),v=N.useRef(null),[y,b]=N.useState(0),_={"Job Knowledge and Skills":"jobKnowledge","Quality of Work":"qualityOfWork",Productivity:"productivity","Communication Skills":"communicationSkills","Teamwork and Collaboration":"teamwork","Behavior at work":"behaviorAtWork","Problem-Solving and Decision-Making":"problemSolving","Attendance and Punctuality":"attendance","Adaptability and Flexibility":"adaptability","Self-Development":"selfDevelopment","Discipline and conduct at work":"discipline","Adherence to the given Guidelines":"adherenceToGuidelines"},k=()=>{if(!r||!r.name)return null;if(_[r.name])return _[r.name];const E=r.name.toLowerCase();for(const[D,G]of Object.entries(_))if(D.toLowerCase().includes(E)||E.includes(D.toLowerCase()))return G;return"generalPerformance"},A=()=>r?r.name:"Task Performance";if(!t||!r)return null;const F=(()=>{var D;return!r.assigneeUpdates||!Array.isArray(r.assigneeUpdates)?[]:((D=r.assigneeUpdates.find(G=>G.employeeId===parseInt(n)||G.employeeId===n))==null?void 0:D.updates)||[]})(),V=E=>{E.target.files[0]&&f(E.target.files[0])},S=E=>{E.preventDefault(),g(!0)},L=E=>{E.preventDefault(),g(!1)},I=E=>{E.preventDefault(),g(!1),E.dataTransfer.files.length&&f(E.dataTransfer.files[0])},B=async E=>{var D,G,K,X,se,Z,ee;if(E.preventDefault(),!o.trim()){await Me.fire({icon:"warning",title:"Missing note",text:"Please add a note about your progress.",confirmButtonColor:"#3085d6"});return}if(o.trim().length<5){await Me.fire({icon:"warning",title:"Note too short",text:"Progress note must be at least 5 characters long.",confirmButtonColor:"#3085d6"});return}if(o.trim().length>1e3){await Me.fire({icon:"warning",title:"Note too long",text:"Progress note cannot exceed 1000 characters.",confirmButtonColor:"#3085d6"});return}if(y==null||isNaN(y)){await Me.fire({icon:"warning",title:"Invalid value",text:"Please set a valid progress percentage.",confirmButtonColor:"#3085d6"});return}if(Number(y)<=0){await Me.fire({icon:"warning",title:"Set your progress",text:"Please move the progress bar to indicate your progress before submitting.",confirmButtonColor:"#3085d6"});return}if(y<0||y>100){await Me.fire({icon:"warning",title:"Out of range",text:"Progress percentage must be between 0 and 100.",confirmButtonColor:"#3085d6"});return}u(!0);try{const ce=new Date().toISOString(),U=k(),O={},z=parseInt(y);Object.keys(_).forEach(te=>{const ge=_[te];O[ge]=ge===U?z:0}),O[r.name]=z;const q={note:o.trim(),progressPercentage:z,performanceMetrics:O,date:ce,author:i||"Employee",file:h,documentName:(h==null?void 0:h.name)||null,documentSize:h?(h.size/1024).toFixed(1)+" KB":null,documentType:(h==null?void 0:h.type)||null};console.log("Submitting progress data:",q),await a(q),await Me.fire({icon:"success",title:"Success",text:"Progress submitted successfully.",timer:1500,showConfirmButton:!1}),l(""),f(null),b(0),s()}catch(ce){if(console.error("Error updating progress:",ce),((D=ce.response)==null?void 0:D.status)===422){const U=(K=(G=ce.response)==null?void 0:G.data)==null?void 0:K.errors;if(U){console.error("Validation errors:",U);const O=Object.values(U)[0],z=Array.isArray(O)?O[0]:O;await Me.fire({icon:"error",title:"Validation Error",text:z||"Please check your input and try again.",confirmButtonColor:"#EF4444"})}else await Me.fire({icon:"error",title:"Validation Failed",text:((se=(X=ce.response)==null?void 0:X.data)==null?void 0:se.message)||"Please check your input and try again.",confirmButtonColor:"#EF4444"})}else await Me.fire({icon:"error",title:"Update failed",text:((ee=(Z=ce.response)==null?void 0:Z.data)==null?void 0:ee.message)||"Failed to update progress. Please try again.",confirmButtonColor:"#EF4444"})}finally{u(!1)}},w=(()=>{if(!r.startDate||!r.endDate)return 0;const E=new Date(r.startDate),D=new Date(r.endDate),G=new Date,K=D-E,X=G-E;return X<=0?0:X>=K?100:Math.round(X/K*100)})();return k(),e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-3xl mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Submit Task Progress"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:r.name})]}),e.jsx("button",{onClick:s,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:e.jsx(zt,{size:20})})]}),e.jsxs("form",{onSubmit:B,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gray-50 p-4 rounded-xl",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-full flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ys,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium",children:r.startDate&&r.endDate?`${new Date(r.startDate).toLocaleDateString()}  ${new Date(r.endDate).toLocaleDateString()}`:"Date not specified"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ns,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm font-medium",children:["Timeline: ",w,"% elapsed"]})]})]}),e.jsx("div",{className:"col-span-full",children:e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"h-2.5 rounded-full bg-indigo-500",style:{width:`${w}%`}})})})]})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Upload Document ",e.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional)"})]}),e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-all ${p?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-indigo-400"}`,onDragOver:S,onDragLeave:L,onDrop:I,children:[e.jsx("input",{type:"file",onChange:V,className:"hidden",ref:v}),h?e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-lg flex items-center justify-center",children:e.jsx(Wc,{className:"w-8 h-8 text-indigo-600"})}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[(h.size/1024).toFixed(1)," KB  ",h.type||"Unknown type"]}),e.jsx("button",{type:"button",onClick:()=>f(null),className:"px-3 py-1 text-xs font-medium text-red-600 bg-red-50 rounded-full hover:bg-red-100",children:"Remove"})]}):e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(hl,{className:"w-6 h-6 text-gray-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-700 font-medium mb-1",children:"Drop your file here, or"}),e.jsx("button",{type:"button",onClick:()=>v.current.click(),className:"text-indigo-600 font-medium hover:text-indigo-700",children:"browse"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Support for PDF, Word, Excel, and image files up to 10MB (Optional)"})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Progress Notes ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx("span",{className:"text-xs text-gray-500 font-normal ml-2",children:"(Minimum 5 characters, Maximum 1000 characters)"})]}),e.jsx("textarea",{value:o,onChange:E=>l(E.target.value),placeholder:"Describe your progress, challenges, or achievements... (minimum 5 characters)",rows:"4",className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${o.trim().length>0&&o.trim().length<5||o.trim().length>1e3?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300"}`,required:!0}),e.jsxs("div",{className:"flex justify-between items-center mt-1",children:[e.jsxs("div",{className:"text-xs text-gray-500",children:[o.trim().length<5&&o.trim().length>0&&e.jsxs("span",{className:"text-red-500",children:["Need ",5-o.trim().length," more characters"]}),o.trim().length>=5&&o.trim().length<=1e3&&e.jsx("span",{className:"text-green-600",children:" Valid length"}),o.trim().length>1e3&&e.jsxs("span",{className:"text-red-500",children:["Too long by ",o.trim().length-1e3," characters"]})]}),e.jsxs("span",{className:`text-xs ${o.trim().length>1e3?"text-red-500":"text-gray-400"}`,children:[o.trim().length,"/1000"]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[e.jsx(Gj,{className:"h-4 w-4 text-gray-500"}),A()," Progress"]}),e.jsxs("div",{className:"text-sm font-bold text-indigo-600",children:[y,"%"]})]}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Your Progress in this Task:"})}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-4",children:e.jsx("div",{className:`h-2.5 rounded-full ${y<30?"bg-red-500":y<70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${y}%`}})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Rate your ",A()," progress (0-100%):"]}),e.jsx("input",{type:"range",min:"0",max:"100",step:"1",value:y,onChange:E=>{const D=parseInt(E.target.value,10);console.log("Range value changed:",D),b(D)},className:"w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-indigo-600"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[e.jsx("span",{children:"Not started (0%)"}),e.jsx("span",{children:"In progress (50%)"}),e.jsx("span",{children:"Completed (100%)"})]})]})]})})]}),F.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Previous Submissions"}),e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:F.slice(-3).map((E,D)=>e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs font-medium text-gray-600",children:new Date(E.date).toLocaleDateString()}),E.progressPercentage!==void 0&&e.jsxs("span",{className:"text-xs font-bold text-indigo-600",children:[E.progressPercentage,"%"]})]}),e.jsx("p",{className:"text-xs text-gray-700",children:E.note})]},D))})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:d,className:`px-4 py-2 rounded-lg transition-colors flex items-center space-x-2 ${d?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700"}`,children:d?e.jsxs(e.Fragment,{children:[e.jsx(Ps,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Submitting..."})]}):e.jsx("span",{children:"Submit Progress"})})]})]})]})})},Wae=({isOpen:t,onClose:s,kpi:r=null,submissions:a=[]})=>{var _;const[n,i]=N.useState("details"),[o,l]=N.useState({});if(!t||!r)return null;const d=k=>{l(A=>({...A,[k]:!A[k]}))},u=k=>{if(!k)return"Not set";const A=new Date(k);return isNaN(A.getTime())?"Invalid date":A.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},h=()=>r.startDate||r.start_date||r.created_at,f=()=>r.endDate||r.end_date||r.dueDate||r.due_date,p=()=>{const k=h(),A=f();if(!k||!A)return console.warn("Missing dates for KPI:",r.id,{startDate:k,endDate:A}),0;const R=new Date(k),F=new Date(A),V=new Date;if(isNaN(R.getTime())||isNaN(F.getTime()))return console.warn("Invalid dates for KPI:",r.id,{startDate:k,endDate:A}),0;const S=F-R,L=V-R;return L<=0?0:L>=S?100:Math.round(L/S*100)},g=()=>{const k=f();if(!k)return"No due date";const A=new Date,R=new Date(k);if(isNaN(R.getTime()))return"Invalid date";const F=R-A,V=Math.ceil(F/(1e3*60*60*24));return V<0?`${Math.abs(V)} days overdue`:V===0?"Due today":`${V} days remaining`},v=()=>{const k=h(),A=f();if(!k||!A)return"No dates set";const R=new Date(k),F=new Date(A);if(isNaN(R.getTime())||isNaN(F.getTime()))return"Invalid dates";const V=p();return V>=100?"Timeline complete":V<=0?"Not started":`${V}% elapsed`},y=k=>{const A={active:"bg-green-100 text-green-800",attention:"bg-yellow-100 text-yellow-800",inactive:"bg-gray-100 text-gray-800"};return A[k]||A.inactive},b=k=>{const A={"not-started":"bg-gray-100 text-gray-700",pending:"bg-blue-100 text-blue-700","in-progress":"bg-purple-100 text-purple-700",completed:"bg-green-100 text-green-700"};return A[k]||A["not-started"]};return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r.name}),e.jsxs("div",{className:"flex items-center mt-2 flex-wrap gap-2",children:[e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${y(r.status)}`,children:[r.status==="active"&&e.jsx(vs,{className:"w-3 h-3 mr-1"}),r.status==="attention"&&e.jsx(Hs,{className:"w-3 h-3 mr-1"}),r.status.charAt(0).toUpperCase()+r.status.slice(1)]}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${b(r.completionStatus)}`,children:((_=r.completionStatus)==null?void 0:_.split("-").map(k=>k.charAt(0).toUpperCase()+k.slice(1)).join(" "))||"Not Started"})]})]}),e.jsx("button",{onClick:s,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:e.jsx(zt,{size:20})})]}),e.jsx("div",{className:"border-b border-gray-100",children:e.jsxs("div",{className:"flex px-6",children:[e.jsx("button",{className:`px-6 py-4 text-sm font-medium border-b-2 transition-all ${n==="details"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>i("details"),children:"Details"}),e.jsxs("button",{className:`px-6 py-4 text-sm font-medium border-b-2 transition-all ${n==="submissions"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>i("submissions"),children:["Progress Submissions (",a.length,")"]})]})}),e.jsxs("div",{className:"p-6",children:[n==="details"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gray-50 p-4 rounded-xl",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-full flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ys,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm font-medium",children:[u(h()),"  ",u(f())]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ns,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm font-medium",children:["Timeline: ",v()]})]})]}),e.jsxs("div",{className:"col-span-full",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:`h-2.5 rounded-full ${p()>=100?"bg-red-500":p()<=0?"bg-gray-400":"bg-indigo-500"}`,style:{width:`${Math.min(p(),100)}%`}})}),e.jsx("div",{className:"flex justify-end mt-2",children:e.jsx("span",{className:"text-sm text-gray-600",children:g()})})]})]})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-800",children:r.description})]}),r.weights&&r.weights.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Performance Criteria Weights"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("div",{className:"space-y-2",children:[r.weights.map((k,A)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:k.title}),k.description&&e.jsx("p",{className:"text-xs text-gray-500",children:k.description})]}),e.jsxs("span",{className:"text-sm font-bold text-indigo-600",children:[k.percentage,"%"]})]},A)),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total:"}),e.jsxs("span",{className:"text-sm font-bold text-indigo-600",children:[r.weights.reduce((k,A)=>k+(A.percentage||0),0),"%"]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Start Date"}),e.jsx("p",{className:"text-gray-800",children:u(h())})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"End Date"}),e.jsx("p",{className:"text-gray-800",children:u(f())})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Department"}),e.jsx("p",{className:"text-gray-800",children:r.department||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Submissions"}),e.jsx("p",{className:"text-gray-800",children:a.length})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Last Updated"}),e.jsx("p",{className:"text-gray-800",children:r.lastUpdated?u(r.lastUpdated):r.updated_at?u(r.updated_at):"Not available"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Current Progress"}),e.jsxs("p",{className:"text-gray-800",children:[a.length>0?a[0].progress_percentage:0,"%"]})]})]})]}),n==="submissions"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Progress History"}),e.jsx("span",{className:"text-xs text-gray-400",children:"Sorted by most recent"})]}),e.jsx("div",{className:"space-y-6 max-h-[400px] overflow-y-auto pr-2",children:a.length>0?a.map((k,A)=>e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[k.document_name?e.jsx("div",{className:"flex-shrink-0 bg-indigo-100 rounded-lg p-2",children:e.jsx(Wc,{className:"w-5 h-5 text-indigo-600"})}):e.jsx("div",{className:"flex-shrink-0 bg-gray-200 rounded-full p-2",children:e.jsx(er,{className:"w-5 h-5 text-gray-500"})}),e.jsxs("div",{className:"flex-1",children:[k.document_name&&e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-indigo-600",children:k.document_name}),e.jsx("span",{className:"text-xs text-gray-500",children:k.document_size}),k.document_path&&e.jsx("button",{className:"p-1 text-gray-400 hover:text-indigo-600",children:e.jsx(Mn,{className:"h-3 w-3"})})]}),e.jsxs("div",{className:"mt-3 mb-3",children:[e.jsx("div",{className:"flex items-center justify-between text-xs mb-1",children:e.jsxs("span",{className:"text-gray-700 font-medium flex items-center gap-1",children:[e.jsx(Hc,{className:"h-3 w-3 text-gray-500"}),"Progress: ",k.progress_percentage,"%"]})}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${k.progress_percentage<30?"bg-red-500":k.progress_percentage<70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${k.progress_percentage}%`}})})]}),k.performance_metrics&&e.jsxs("div",{className:"mt-3 mb-3 bg-gray-100 rounded-lg p-3",children:[e.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>d(`${k.id}-${k.created_at}`),children:[e.jsx("h4",{className:"text-xs font-semibold text-gray-700",children:"Performance Metrics:"}),o[`${k.id}-${k.created_at}`]?e.jsx(Yj,{className:"h-4 w-4 text-gray-500"}):e.jsx(dn,{className:"h-4 w-4 text-gray-500"})]}),o[`${k.id}-${k.created_at}`]?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-2",children:Object.entries(k.performance_metrics).map(([R,F])=>{const V=R.replace(/([A-Z])/g," $1").replace(/^./,S=>S.toUpperCase());return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsxs("span",{className:"text-xs text-gray-600",children:[V,":"]}),e.jsxs("span",{className:"text-xs font-medium",children:[F,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:e.jsx("div",{className:"h-1.5 rounded-full bg-indigo-500",style:{width:`${Math.min(F,100)}%`}})})]},R)})}):e.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:Object.entries(k.performance_metrics).sort((R,F)=>F[1]-R[1]).slice(0,4).map(([R,F])=>{const V=R.replace(/([A-Z])/g," $1").replace(/^./,S=>S.toUpperCase());return e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-xs text-gray-600",children:[V,":"]}),e.jsxs("span",{className:"text-xs font-medium",children:[F,"%"]})]},R)})})]}),e.jsx("p",{className:"text-sm text-gray-800 mb-2",children:k.note}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("p",{className:"text-xs text-gray-500",children:["Submitted on ",new Date(k.created_at).toLocaleString()]}),k.employee&&e.jsxs("p",{className:"text-xs text-gray-500",children:["by ",k.employee.full_name]})]})]})]})},k.id)):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(Hc,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No submissions yet"}),e.jsx("p",{className:"text-gray-500",children:"No progress submissions have been made for this task yet."})]})})]})]}),e.jsx("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex justify-end",children:e.jsx("button",{onClick:s,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Close"})})]})})},Gae=()=>{const[t,s]=N.useState([]),[r,a]=N.useState([]),[n,i]=N.useState(!0),[o,l]=N.useState(null),[d,u]=N.useState(""),[h,f]=N.useState("all"),[p,g]=N.useState({}),[v,y]=N.useState(!1),[b,_]=N.useState(!1),[k,A]=N.useState(null),[R,F]=N.useState(1),V=3,[S,L]=N.useState(I());function I(){try{const re=localStorage.getItem("auth_user")||localStorage.getItem("user")||null;if(re){const ve=JSON.parse(re);if(ve.employee_id)return String(ve.employee_id);if(ve.attendance_employee_no)return String(ve.attendance_employee_no);if(ve.user&&ve.user.employee_id)return String(ve.user.employee_id);if(ve.user&&ve.user.attendance_employee_no)return String(ve.user.attendance_employee_no)}}catch{}const J=localStorage.getItem("currentEmployeeId");return J?String(J):""}const B=async()=>{i(!0),l(null);try{if(console.log("Fetching tasks for employeeId:",S),!S){console.error("No employeeId available!"),l("User ID not found. Please log in again."),i(!1);return}const J=await us.getEmployeeKpiTaskAssignments(S);if(console.log("API Response:",J),!Array.isArray(J)){console.error("Invalid API response format, expected array:",J),l("Invalid data received from server"),s([]);return}const re=pe=>{const ae=[pe.created_at,pe.lastUpdated,pe.startDate,pe.endDate];for(const he of ae)if(he){const Te=Date.parse(he);if(!isNaN(Te))return Te}return 0},ve=[...J].sort((pe,ae)=>re(ae)-re(pe));s(ve),await T(ve)}catch(J){console.error("Fetch error:",J),l((J==null?void 0:J.message)||"Failed to fetch tasks"),s([])}finally{i(!1)}},T=async J=>{try{const re={};for(const ve of J)try{const pe=await us.getTaskProgressSubmissions(ve.id);re[ve.id]=pe||[]}catch(pe){console.error(`Error fetching submissions for task ${ve.id}:`,pe),re[ve.id]=[]}g(re)}catch(re){console.error("Error fetching progress submissions:",re)}},w=J=>{const re=p[J]||[];return re.length===0?null:re.sort((ve,pe)=>new Date(pe.created_at)-new Date(ve.created_at))[0]},E=J=>(p[J]||[]).sort((ve,pe)=>new Date(pe.created_at)-new Date(ve.created_at));N.useEffect(()=>{B()},[S]),N.useEffect(()=>{D(),F(1)},[t,d,h]);const D=()=>{let J=Array.isArray(t)?t:[];if(d){const re=d.toLowerCase();J=J.filter(ve=>{const pe=(ve.name||"").toString().toLowerCase(),ae=(ve.description||"").toString().toLowerCase();return pe.includes(re)||ae.includes(re)})}h!=="all"&&(J=J.filter(re=>(re.status||"").toString()===h)),a(J)},G=Math.ceil(r.length/V),K=(R-1)*V,X=K+V,se=r.slice(K,X),Z=J=>{F(J),window.scrollTo({top:0,behavior:"smooth"})},ee=J=>{A(J),y(!0)},ce=J=>{A(J),_(!0)},U=async(J,re)=>{var ve,pe,ae,he,Te,Ie,Be;console.log("handleProgressUpdate called with:",{taskId:J,progressData:re});try{const Le=t.find(gt=>gt.id===J);if(!Le){console.error("Task not found:",J),alert("Task not found");return}let Ee=null;if(typeof S=="string"&&S.startsWith("EMP")){const gt=S.replace(/\D/g,"");Ee=parseInt(gt)}else typeof S=="number"?Ee=S:Ee=parseInt(S);if(console.log("Validation data:",{employeeDbId:Ee,progressPercentage:re.progressPercentage,note:re.note}),!Ee||isNaN(Ee)){console.error("Invalid employee ID:",Ee),alert("Invalid employee ID. Please refresh the page and try again.");return}if(!re.progressPercentage&&re.progressPercentage!==0){console.error("Missing progressPercentage:",re.progressPercentage),alert("Progress percentage is missing. Please set a progress value.");return}if(isNaN(parseInt(re.progressPercentage))){console.error("Invalid progressPercentage:",re.progressPercentage),alert("Invalid progress percentage. Please ensure you've set a progress value.");return}if(!re.note||re.note.trim()===""){console.error("Missing or empty note:",re.note),alert("Progress note is required. Please add a note describing your progress.");return}const Ve=new FormData;Ve.append("kpi_assignment_id",parseInt(J)),Ve.append("employee_id",Ee),Ve.append("note",re.note.trim()),Ve.append("progress_percentage",parseInt(re.progressPercentage)),Ve.append("performance_metrics",JSON.stringify(re.performanceMetrics||{[Le.name]:parseInt(re.progressPercentage)})),re.file&&re.documentName&&(Ve.append("document_name",re.documentName),Ve.append("document_size",re.documentSize||"0 KB"),Ve.append("document_type",re.documentType||"unknown"),Ve.append("document",re.file)),console.log("FormData ready for submission");const mt=await us.submitTaskProgress(Ve);console.log("Progress submitted successfully:",mt),await B(),y(!1),alert("Progress submitted successfully!")}catch(Le){if(console.error("Error updating task progress:",Le),((ve=Le.response)==null?void 0:ve.status)===422){const Ee=(ae=(pe=Le.response)==null?void 0:pe.data)==null?void 0:ae.errors;if(Ee){console.error("Validation errors:",Ee);const Ve=Object.entries(Ee).map(([mt,gt])=>`${mt}: ${Array.isArray(gt)?gt.join(", "):gt}`).join(`
`);alert(`Validation failed:
${Ve}`)}else alert(`Validation failed: ${((Te=(he=Le.response)==null?void 0:he.data)==null?void 0:Te.message)||"Please check your input and try again."}`)}else{const Ee=((Be=(Ie=Le.response)==null?void 0:Ie.data)==null?void 0:Be.message)||Le.message||"Unknown error";alert(`Failed to submit progress: ${Ee}`)}}},O=Object.values(p).reduce((J,re)=>{if(!Array.isArray(re))return J;const ve=re.filter(pe=>!!(pe.document_name||pe.documentName||pe.document_path||pe.documentPath||pe.document||pe.file)).length;return J+ve},0),z=t.reduce((J,re)=>{const ve=w(re.id);return(re.completionStatus||re.completion_status||"").toString().toLowerCase()==="completed"?J+1:ve?((parseInt(ve.progress_percentage??ve.progress??0,10)||0)>=100,J+1):J},0),q=t.reduce((J,re)=>{const ve=(re.completionStatus||re.completion_status||"").toString().toLowerCase(),pe=Array.isArray(p[re.id])?p[re.id]:[],ae=w(re.id);return ve!=="completed"&&pe.length===0&&!ae?J+1:J},0),te=J=>{const re={active:"bg-green-100 text-green-800",attention:"bg-yellow-100 text-yellow-800",inactive:"bg-gray-100 text-gray-800"};return re[J]||re.inactive},ge=J=>{const re={"not-started":"bg-gray-100 text-gray-700",pending:"bg-blue-100 text-blue-700","in-progress":"bg-purple-100 text-purple-700",completed:"bg-green-100 text-green-700"};return re[J]||re["not-started"]},Q=J=>{const re=J.startDate||J.start_date||J.startedAt||J.created_at,ve=J.endDate||J.end_date||J.dueDate||J.due_date;if(!re||!ve)return console.warn("Missing dates for task:",J.id,{startDate:re,endDate:ve}),{percentage:0,status:"no-dates"};const pe=new Date(re),ae=new Date(ve),he=new Date;if(isNaN(pe.getTime())||isNaN(ae.getTime()))return console.warn("Invalid dates for task:",J.id,{startDate:re,endDate:ve}),{percentage:0,status:"invalid-dates"};const Te=ae-pe,Ie=he-pe;return Ie<=0?{percentage:0,status:"not-started"}:Ie>=Te?{percentage:100,status:"overdue"}:{percentage:Math.round(Ie/Te*100),status:"on-track"}},ue=J=>{const re=J.endDate||J.end_date||J.dueDate||J.due_date;if(!re)return"No due date";const ve=new Date,pe=new Date(re);if(isNaN(pe.getTime()))return"Invalid date";const ae=pe-ve;return Math.ceil(ae/(1e3*60*60*24))},ie=J=>{if(!J)return"Not set";const re=new Date(J);return isNaN(re.getTime())?"Invalid date":re.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},oe=J=>{const re=J.endDate||J.end_date||J.dueDate||J.due_date;if(!re)return!1;const ve=new Date,pe=new Date(re);return isNaN(pe.getTime())?!1:(pe.setHours(23,59,59,999),ve>pe)};return n?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(Ps,{className:"h-8 w-8 text-indigo-600 animate-spin"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Loading your tasks..."})]})}):o?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(Hs,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Tasks"}),e.jsx("p",{className:"text-gray-600 mb-4",children:o}),e.jsx("button",{onClick:B,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Try Again"})]}):e.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[e.jsx(Hae,{isOpen:v,onClose:()=>y(!1),task:k,onSubmit:J=>U(k==null?void 0:k.id,J),employeeId:S,employeeName:"Current Employee"}),e.jsx(Wae,{isOpen:b,onClose:()=>_(!1),kpi:k,submissions:k?E(k.id):[]}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-500 rounded-lg",children:e.jsx(er,{className:"w-6 h-6 text-white"})}),"My KPI Tasks"]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Track and submit deliverables for your assigned tasks (Latest added first)"})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"My Tasks"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length})]}),e.jsx("div",{className:"p-3 bg-indigo-100 rounded-xl",children:e.jsx(vs,{className:"w-6 h-6 text-indigo-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:z})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:e.jsx(vs,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Need Attention"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:q})]}),e.jsx("div",{className:"p-3 bg-yellow-100 rounded-xl",children:e.jsx(Hs,{className:"w-6 h-6 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Documents Submitted"}),e.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:O})]}),e.jsx("div",{className:"p-3 bg-indigo-100 rounded-xl",children:e.jsx(Wc,{className:"w-6 h-6 text-indigo-600"})})]})})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search your tasks...",value:d,onChange:J=>u(J.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),e.jsxs("select",{value:h,onChange:J=>f(J.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"attention",children:"Need Attention"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})}),e.jsx("div",{className:"space-y-4",children:se.length>0?se.map(J=>{var ve;const re=w(J.id);return e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:J.name}),e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${te(J.status)}`,children:[J.status==="active"&&e.jsx(vs,{className:"w-3 h-3 mr-1"}),J.status==="attention"&&e.jsx(Hs,{className:"w-3 h-3 mr-1"}),J.status.charAt(0).toUpperCase()+J.status.slice(1)]}),oe(J)&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(Hs,{className:"w-3 h-3 mr-1"}),"Past Due"]}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ge(J.completionStatus)}`,children:((ve=J.completionStatus)==null?void 0:ve.split("-").map(pe=>pe.charAt(0).toUpperCase()+pe.slice(1)).join(" "))||"Not Started"})]}),e.jsx("p",{className:"text-gray-600 mb-3",children:J.description}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"col-span-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ys,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Timeline (",(()=>{const pe=Q(J);return pe.status==="no-dates"?"No dates set":pe.status==="invalid-dates"?"Invalid dates":pe.status==="overdue"?"Overdue":`${pe.percentage}% elapsed`})(),")"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ns,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:(()=>{const pe=ue(J);return typeof pe=="number"?pe<0?`${Math.abs(pe)} days overdue`:pe===0?"Due today":`${pe} days remaining`:pe})()})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(()=>{const pe=Q(J);return e.jsx("div",{className:`h-2 rounded-full ${pe.status==="not-started"?"bg-gray-400":pe.status==="overdue"?"bg-red-500":pe.status==="no-dates"||pe.status==="invalid-dates"?"bg-gray-300":"bg-blue-500"}`,style:{width:`${pe.percentage}%`}})})()})]}),e.jsxs("div",{className:"md:col-span-3 grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Db,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[ie(J.startDate||J.start_date)," - ",ie(J.endDate||J.end_date)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wc,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[(p[J.id]||[]).length," submission",(p[J.id]||[]).length!==1?"s":""]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ns,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Last updated: ",re?ie(re.created_at):"Never"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Hc,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Progress: ",re?re.progress_percentage:0,"%"]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1 font-medium",children:"Latest Submission"}),re?e.jsxs("div",{className:"space-y-1",children:[re.document_name&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-shrink-0 bg-indigo-100 rounded p-0.5",children:e.jsx(Wc,{className:"w-2.5 h-2.5 text-indigo-600"})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("p",{className:"text-xs font-medium text-indigo-600 truncate",children:re.document_name})})]}),e.jsx("div",{className:"flex items-center justify-between mb-1",children:e.jsxs("span",{className:"text-xs text-gray-600 font-medium flex items-center gap-1",children:[e.jsx(Hc,{className:"h-2.5 w-2.5 text-gray-500"}),"Progress: ",re.progress_percentage,"%"]})}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1",children:e.jsx("div",{className:`h-1 rounded-full ${re.progress_percentage<30?"bg-red-500":re.progress_percentage<70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${re.progress_percentage}%`}})}),e.jsx("p",{className:"text-xs text-gray-800 line-clamp-1 mt-1",children:re.note}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(re.created_at).toLocaleDateString()})]}):e.jsx("p",{className:"text-xs text-gray-600",children:"No submissions yet"})]})]}),e.jsxs("div",{className:"flex flex-row lg:flex-col gap-2",children:[e.jsxs("button",{onClick:()=>ce(J),className:"px-4 py-2 bg-indigo-50 text-indigo-600 rounded-lg hover:bg-indigo-100 transition-colors flex items-center justify-center gap-2",children:[e.jsx(Or,{className:"h-4 w-4"}),e.jsx("span",{children:"View Details"})]}),e.jsxs("button",{onClick:()=>ee(J),disabled:oe(J),className:`px-4 py-2 rounded-lg transition-colors flex items-center justify-center gap-2 ${oe(J)?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700"}`,title:oe(J)?"Cannot submit work after task end date":"Submit your work progress",children:[e.jsx(hl,{className:"h-4 w-4"}),e.jsx("span",{children:oe(J)?"Past Due":"Submit Work"})]})]})]})},J.id)}):e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:[e.jsx(ed,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tasks found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:d||h!=="all"?"Try adjusting your search criteria or filters":"You don't have any assigned KPI tasks yet"})]})}),G>1&&e.jsxs("div",{className:"flex items-center justify-between mt-6 bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",K+1," to ",Math.min(X,r.length)," of ",r.length," tasks"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>Z(R-1),disabled:R===1,className:`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${R===1?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(gl,{className:"h-4 w-4 mr-1"}),"Previous"]}),e.jsx("div",{className:"flex space-x-1",children:Array.from({length:G},(J,re)=>re+1).map(J=>e.jsx("button",{onClick:()=>Z(J),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${R===J?"bg-indigo-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:J},J))}),e.jsxs("button",{onClick:()=>Z(R+1),disabled:R===G,className:`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${R===G?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-100"}`,children:["Next",e.jsx(Pn,{className:"h-4 w-4 ml-1"})]})]})]})]})},Yae=({isOpen:t,onClose:s,kpi:r=null,submissions:a=[],employees:n=[]})=>{var g,v,y,b,_,k;const[i,o]=N.useState("details");if(!t||!r)return null;const l=A=>({active:"bg-green-100 text-green-800",attention:"bg-yellow-100 text-yellow-800",inactive:"bg-red-100 text-red-800"})[A]||"bg-gray-100 text-gray-800",d=A=>({"not-started":"bg-gray-100 text-gray-800",pending:"bg-blue-100 text-blue-800","in-progress":"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800"})[A]||"bg-gray-100 text-gray-800",u=A=>({pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"})[A]||"bg-gray-100 text-gray-800",h=A=>{const R=n.find(F=>F.id===A);return R?R.name:`Employee ${A}`},f=A=>A?new Date(A).toLocaleDateString():"Not set",p=A=>A?new Date(A).toLocaleString():"Not set";return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:r.name}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${l(r.status)}`,children:((g=r.status)==null?void 0:g.charAt(0).toUpperCase())+((v=r.status)==null?void 0:v.slice(1))||"Active"}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${d(r.completion_status)}`,children:((y=r.completion_status)==null?void 0:y.split("-").map(A=>A.charAt(0).toUpperCase()+A.slice(1)).join(" "))||"Not Started"}),e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${u(r.approval_status)}`,children:[r.approval_status==="approved"&&e.jsx(vs,{className:"w-3 h-3 mr-1"}),r.approval_status==="rejected"&&e.jsx(Jl,{className:"w-3 h-3 mr-1"}),r.approval_status==="pending"&&e.jsx(Ns,{className:"w-3 h-3 mr-1"}),((b=r.approval_status)==null?void 0:b.charAt(0).toUpperCase())+((_=r.approval_status)==null?void 0:_.slice(1))||"Pending"]})]}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:r.description})]}),e.jsx("button",{onClick:s,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:e.jsx(zt,{size:20})})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx("div",{className:"col-span-full flex items-center justify-between",children:e.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center",children:[e.jsx(wn,{className:"w-4 h-4 mr-2 text-indigo-500"}),"Task Information"]})}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Department:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:r.departmentName||r.department||"Not specified"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Company:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:r.companyName||r.company||"Not specified"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Start Date:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:f(r.startDate||r.start_date)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"End Date:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:f(r.endDate||r.end_date)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Priority:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 capitalize",children:r.priority||"Medium"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Frequency:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:r.frequency||"Monthly"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Last Updated:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:p(r.last_updated||r.lastUpdated||r.updated_at||"Not recorded")})]})]}),r.approval_status==="pending"&&r.last_updated&&e.jsx("div",{className:"mt-2 p-2 bg-blue-50 rounded-md border border-blue-200",children:e.jsxs("div",{className:"flex items-center text-sm text-blue-700",children:[e.jsx(Bi,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"This task has been updated and requires re-approval"})]})})]}),r.creator&&e.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl",children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center",children:[e.jsx(er,{className:"w-4 h-4 mr-2 text-blue-500"}),"Creator Information"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Creator Role:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:r.creator.role||"Not specified"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Created Date:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:p(r.creator.date||r.lastUpdated)})]})]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-xl",children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center",children:[e.jsx(ta,{className:"w-4 h-4 mr-2 text-green-500"}),"Assignment Details"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Assigned Employees:"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[((k=r.assignees)==null?void 0:k.length)||0," employee(s)"]})]}),r.assignees&&r.assignees.length>0&&e.jsxs("div",{className:"mt-2",children:[e.jsx("span",{className:"text-sm text-gray-500 block mb-2",children:"Employee List:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.assignees.map((A,R)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-white border border-gray-200",children:[e.jsx(er,{className:"w-3 h-3 mr-1"}),h(A)]},R))})]})]})]}),r.weights&&r.weights.length>0&&e.jsxs("div",{className:"bg-indigo-50 p-4 rounded-xl",children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center",children:[e.jsx(wn,{className:"w-4 h-4 mr-2 text-indigo-500"}),"Performance Criteria"]}),e.jsx("div",{className:"space-y-3",children:r.weights.map((A,R)=>e.jsxs("div",{className:"bg-white p-3 rounded-lg border border-indigo-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:A.title}),e.jsxs("span",{className:"text-sm font-bold text-indigo-600",children:[A.percentage,"%"]})]}),A.description&&e.jsx("p",{className:"text-sm text-gray-600",children:A.description})]},R))})]})]})}),e.jsx("div",{className:"flex justify-end p-6 border-t border-gray-100",children:e.jsx("button",{onClick:s,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"})})]})})},Kae=({isOpen:t,onClose:s,onConfirm:r,isSubmitting:a,kpiName:n})=>t?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md mx-4",children:e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(vs,{className:"h-8 w-8 text-green-600"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Approve KPI Task"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to approve "',n,'"? This will make the task visible to employees.']}),e.jsxs("div",{className:"flex justify-center space-x-3",children:[e.jsx("button",{onClick:s,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:r,disabled:a,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center space-x-2",children:a?e.jsxs(e.Fragment,{children:[e.jsx(Ps,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Approving..."})]}):e.jsx("span",{children:"Approve"})})]})]})})}):null,Xae=()=>{const[t,s]=N.useState([]),[r,a]=N.useState([]),[n,i]=N.useState(!0),[o,l]=N.useState(null),[d,u]=N.useState(""),[h,f]=N.useState("all"),[p,g]=N.useState("all"),[v,y]=N.useState("all"),[b,_]=N.useState(1),[k]=N.useState(7),[A,R]=N.useState([]),[F,V]=N.useState([]),[S,L]=N.useState(!1),[I,B]=N.useState(!1),[T,w]=N.useState(!1),[E,D]=N.useState(!1),[G,K]=N.useState(null),[X,se]=N.useState(!1),[Z,ee]=N.useState({pending:0,approved:0,rejected:0}),[ce,U]=N.useState([]),[O,z]=N.useState({}),q=async Le=>{try{const Ee=await us.getTaskProgressSubmissions(Le);return Array.isArray(Ee)?Ee:[]}catch(Ee){return console.error(`Error fetching submissions for task ${Le}:`,Ee),[]}},te=()=>G?O[G.id]||[]:[],ge=async()=>{i(!0),l(null);try{const Le=await us.getKpiTasksForApproval(),Ee=Array.isArray(Le)?Le.sort((Pe,Ae)=>{const We=new Date(Pe.created_at||Pe.lastUpdated||0),Xe=new Date(Ae.created_at||Ae.lastUpdated||0);return We.getTime()!==Xe.getTime()?Xe.getTime()-We.getTime():(Ae.id||0)-(Pe.id||0)}):[];s(Ee);const Ve=Ee.filter(Pe=>Pe.approval_status==="pending").length,mt=Ee.filter(Pe=>Pe.approval_status==="approved").length,gt=Ee.filter(Pe=>Pe.approval_status==="rejected").length;ee({pending:Ve,approved:mt,rejected:gt})}catch(Le){l("Failed to fetch KPI tasks for approval"),console.error(Le),s([])}finally{i(!1)}};N.useEffect(()=>{(async()=>{try{const Ee=await us.getCompanies();let Ve=[];for(const mt of Ee)try{const gt=await us.getEmployeesByCompany(mt.id,null,""),Ae=(Array.isArray(gt)?gt:(gt==null?void 0:gt.data)||[]).map(We=>({id:We.attendance_employee_no??String(We.id??""),name:We.full_name||We.name||"",department:We.department||We.department_name||""}));Ve=[...Ve,...Ae]}catch(gt){console.error(`Error fetching employees for company ${mt.name}:`,gt)}U(Ve)}catch(Ee){console.error("Error fetching employees for modals:",Ee)}})()},[]),N.useEffect(()=>{let Le=!0;return(async()=>{L(!0);try{const Ve=await us.getCompanies();if(!Le)return;R(Array.isArray(Ve)?Ve:[])}catch(Ve){console.error("Error loading companies for filter:",Ve)}finally{Le&&L(!1)}})(),()=>{Le=!1}},[]),N.useEffect(()=>{let Le=!0;return(async()=>{if(!p||p==="all"){V([]),y("all");return}B(!0);try{const Ve=await us.getDepartmentsByCompany(p);if(!Le)return;V(Array.isArray(Ve)?Ve:[])}catch(Ve){console.error("Error loading departments for filter:",Ve)}finally{Le&&B(!1)}})(),()=>{Le=!1}},[p]),N.useEffect(()=>{ge()},[]),N.useEffect(()=>{Q()},[t,h,v,p,d]);const Q=()=>{let Le=t;if(d){const Ee=d.toLowerCase();Le=Le.filter(Ve=>{var mt;return Ve.name.toLowerCase().includes(Ee)||((mt=Ve.description)==null?void 0:mt.toLowerCase().includes(Ee))})}h!=="all"&&(Le=Le.filter(Ee=>Ee.approval_status===h)),v!=="all"&&(Le=Le.filter(Ee=>{var gt;const Ve=Ee.department_id??Ee.departmentId;if(Ve!=null)return String(Ve)===String(v);const mt=(((gt=F.find(Pe=>String(Pe.id)===String(v)))==null?void 0:gt.name)||"").toLowerCase();return String(Ee.department||Ee.departmentName||"").toLowerCase()===mt})),p!=="all"&&(Le=Le.filter(Ee=>{var gt;const Ve=Ee.company_id??Ee.companyId;if(Ve!=null)return String(Ve)===String(p);const mt=(((gt=A.find(Pe=>String(Pe.id)===String(p)))==null?void 0:gt.name)||"").toLowerCase();return String(Ee.companyName||Ee.company||"").toLowerCase()===mt})),a(Le),_(1)},ue=async()=>{if(!G)return;const Le=b;se(!0);try{await us.approveKpiTask(G.id),await Me.fire({icon:"success",title:"Approved",text:"KPI task has been approved successfully. You can still reject it if needed.",timer:2e3,showConfirmButton:!1}),D(!1),s(Ee=>Ee.map(Ve=>Ve.id===G.id?{...Ve,approval_status:"approved"}:Ve)),a(Ee=>Ee.map(Ve=>Ve.id===G.id?{...Ve,approval_status:"approved"}:Ve)),await ge(),_(Le),K(null)}catch(Ee){console.error(Ee),Me.fire({icon:"error",title:"Error",text:"Failed to approve the KPI task. Please try again."})}finally{se(!1)}},ie=async Le=>{K(Le),w(!0);try{const Ee=await q(Le.id);z(Ve=>({...Ve,[Le.id]:Ee}))}catch(Ee){console.error("Error loading task submissions:",Ee)}},oe=Le=>{K(Le),D(!0)},J=async Le=>{(await Me.fire({title:"Reject KPI Task?",text:`Are you sure you want to reject "${Le.name}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",confirmButtonText:"Yes, reject",cancelButtonText:"Cancel"})).isConfirmed&&(K(Le),await re(Le))},re=async Le=>{if(!Le)return;const Ee=b;se(!0);try{await us.rejectKpiTask(Le.id),await Me.fire({icon:"success",title:"Rejected",text:"KPI task has been rejected.",timer:1500,showConfirmButton:!1}),s(Ve=>Ve.map(mt=>mt.id===Le.id?{...mt,approval_status:"rejected"}:mt)),a(Ve=>Ve.map(mt=>mt.id===Le.id?{...mt,approval_status:"rejected"}:mt)),await ge(),_(Ee),K(null)}catch(Ve){console.error(Ve),Me.fire({icon:"error",title:"Error",text:"Failed to reject the KPI task. Please try again."})}finally{se(!1)}},ve=Le=>({pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"})[Le]||"bg-gray-100 text-gray-800",pe=Le=>{if(!Le)return"";const Ee=new Date(Le);if(isNaN(Ee.getTime()))return"";const Ve=Math.floor((Date.now()-Ee.getTime())/1e3);return Ve<60?`${Ve}s`:Ve<3600?`${Math.floor(Ve/60)}m`:Ve<86400?`${Math.floor(Ve/3600)}h`:`${Math.floor(Ve/86400)}d`},ae=Le=>{if(!(Le!=null&&Le.last_updated))return!1;const Ee=new Date(Le.last_updated).getTime(),Ve=Le!=null&&Le.created_at?new Date(Le.created_at).getTime():0;return Ee-Ve>60*1e3},he=b*k,Te=he-k,Ie=r.slice(Te,he),Be=Math.ceil(r.length/k);return n?e.jsxs("div",{className:"flex items-center justify-center py-20",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),e.jsx("p",{className:"ml-3 text-gray-600",children:"Loading KPI Tasks..."})]}):o?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(Hs,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading KPI Tasks"}),e.jsx("p",{className:"text-gray-600 mb-4",children:o}),e.jsx("button",{onClick:ge,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Try Again"})]}):e.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[e.jsx(Yae,{isOpen:T,onClose:()=>{w(!1),K(null)},kpi:G,submissions:te(),employees:ce}),e.jsx(Kae,{isOpen:E,onClose:()=>D(!1),onConfirm:ue,isSubmitting:X,kpiName:G==null?void 0:G.name}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-800 to-indigo-900 px-4 sm:px-8 py-6 sm:py-8 rounded-xl mb-6",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(P0,{className:"h-10 w-10 text-white opacity-80 mr-3"}),e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white text-center",children:"KPI Task Approval"})]}),e.jsx("p",{className:"text-purple-200 text-center mt-2 text-sm sm:text-base",children:"Review and manage KPI tasks before they're assigned to employees"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Review"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:Z.pending})]}),e.jsx("div",{className:"p-3 bg-yellow-100 rounded-xl",children:e.jsx(Ns,{className:"w-6 h-6 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:Z.approved})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:e.jsx(vs,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rejected"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:Z.rejected})]}),e.jsx("div",{className:"p-3 bg-red-100 rounded-xl",children:e.jsx(Jl,{className:"w-6 h-6 text-red-600"})})]})}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Updated"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Array.isArray(t)?t.filter(ae).length:0})]}),e.jsx("div",{className:"p-3 bg-blue-50 rounded-xl",children:e.jsx(Bi,{className:"w-6 h-6 text-blue-600"})})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Tasks modified after creation"})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:p,onChange:Le=>g(Le.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"all",children:"All Companies"}),A.map(Le=>e.jsx("option",{value:Le.id,children:Le.name},Le.id))]}),S&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx(Ps,{className:"w-4 h-4 text-gray-400 animate-spin"})})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:v,onChange:Le=>y(Le.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",disabled:p==="all",children:[e.jsx("option",{value:"all",children:"All Departments"}),F.map(Le=>e.jsx("option",{value:Le.id,children:Le.name},Le.id))]}),I&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx(Ps,{className:"w-4 h-4 text-gray-400 animate-spin"})})]}),e.jsxs("select",{value:h,onChange:Le=>f(Le.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Task Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Creator Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timeline"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Update Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Ie.length>0?Ie.map(Le=>{var Ee,Ve;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:Le.name}),e.jsx("div",{className:"text-sm text-gray-500 line-clamp-1",children:Le.description||"No description"})]})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm text-gray-900",children:Le.departmentName||Le.department||"Not specified"}),e.jsx("div",{className:"text-xs text-gray-500",children:Le.companyName||Le.company||""})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-gray-600",children:(Ee=Le.creator)!=null&&Ee.role?Le.creator.role.split(" ").map(mt=>mt[0]).join("").toUpperCase():"--"})}),e.jsx("div",{className:"ml-3",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:((Ve=Le.creator)==null?void 0:Ve.role)||""})})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm",children:e.jsxs("div",{className:"flex items-center text-gray-900",children:[e.jsx(ys,{className:"w-4 h-4 text-gray-400 mr-1"}),e.jsxs("span",{children:[new Date(Le.startDate||Le.start_date).toLocaleDateString()," -",new Date(Le.endDate||Le.end_date).toLocaleDateString()]})]})})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ve(Le.approval_status)}`,children:[Le.approval_status==="approved"&&e.jsx(vs,{className:"w-3 h-3 mr-1"}),Le.approval_status==="rejected"&&e.jsx(Jl,{className:"w-3 h-3 mr-1"}),Le.approval_status==="pending"&&e.jsx(Ns,{className:"w-3 h-3 mr-1"}),Le.approval_status.charAt(0).toUpperCase()+Le.approval_status.slice(1)]}),Le.approval_status==="pending"&&Le.last_updated&&Le.created_at&&new Date(Le.last_updated).getTime()>new Date(Le.created_at).getTime()+6e4&&e.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs bg-blue-100 text-blue-800",children:[e.jsx(Bi,{className:"w-3 h-3 mr-1"}),"Updated"]})]})}),e.jsx("td",{className:"px-6 py-4",children:ae(Le)?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-50 text-blue-800 border border-blue-100",title:`Updated: ${Le.last_updated?new Date(Le.last_updated).toLocaleString():"Unknown"}`,children:[e.jsx(Bi,{className:"w-3 h-3 mr-1"}),"Updated"]}),e.jsx("span",{className:"text-xs text-gray-400",children:Le.last_updated?`${pe(Le.last_updated)} ago`:""})]}):e.jsx("span",{className:"text-xs text-gray-500",children:"No updates"})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>ie(Le),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View details",children:e.jsx(Or,{className:"w-4 h-4"})}),Le.approval_status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>oe(Le),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Approve task",children:e.jsx(fi,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>J(Le),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Reject task",children:e.jsx(zt,{className:"w-4 h-4"})})]}),Le.approval_status==="approved"&&e.jsx("button",{onClick:()=>J(Le),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Reject approved task",children:e.jsx(zt,{className:"w-4 h-4"})}),Le.approval_status==="rejected"&&e.jsx("button",{onClick:()=>oe(Le),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Approve rejected task",children:e.jsx(fi,{className:"w-4 h-4"})})]})})]},Le.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-10 text-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(ed,{className:"h-12 w-12 text-gray-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium mb-1",children:"No KPI tasks found"}),e.jsx("p",{className:"text-sm text-gray-500",children:h!=="all"||v!=="all"||p!=="all"||d?"Try adjusting your filter criteria":"There are no KPI tasks that require approval"})]})})})})]})}),Be>1&&e.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",Te+1," to ",Math.min(he,r.length)," of ",r.length," tasks"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>_(b-1),disabled:b===1,className:`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${b===1?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(gl,{className:"h-4 w-4 mr-1"}),"Previous"]}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",b," of ",Be]}),e.jsxs("button",{onClick:()=>_(b+1),disabled:b===Be,className:`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${b===Be?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-100"}`,children:["Next",e.jsx(Pn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})},eb=t=>({id:t.id,title:t.title,description:t.description,duration:t.duration,createdBy:t.created_by,createdAt:t.created_at,updatedAt:t.updated_at,modules:(t.modules||[]).map(s=>({id:s.id,courseId:s.course_id,title:s.title,content:s.content,path:s.path?s.path.startsWith("http")?s.path:s.path.startsWith("/storage/")?`${em.apiBaseUrl}${s.path}`:`${em.apiBaseUrl}/storage/modules/${s.path}`:null,completed:s.completed})),attachments:(t.attachments||[]).map(s=>({id:s.id,courseId:s.course_id,name:s.name,type:s.type,url:s.url.startsWith("http")?s.url:s.url.startsWith("/storage/")?`${em.apiBaseUrl}${s.url}`:`${em.apiBaseUrl}/storage/attachments/${s.url}`,size:s.size}))}),qC=t=>{if(t===0)return"0 Bytes";const s=1024,r=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(t)/Math.log(s));return parseFloat((t/Math.pow(s,a)).toFixed(2))+" "+r[a]},Os={formatFileSize:qC,currentUser:{id:1,name:"Current User"},_coursesCache:[],_userProgress:{totalCourses:0,completedCourses:0,totalModules:0,completedModules:0,certificatesEarned:0},async fetchCourses({page:t=1,perPage:s=10}={}){const a=(await Ze.get("/courses",{params:{page:t,per_page:s}})).data,n=(a.data||[]).map(eb);return this._coursesCache=n.map(i=>({...i,enrolled:i.enrolled||!1,completed:i.completed||!1,certificate:i.certificate||null})),this._recalculateUserProgress(),{...a,data:this._coursesCache}},async getCourseById(t){const s=await Ze.get(`/courses/${t}`);return eb(s.data)},async createCourse(t){var s,r;try{console.log("Creating course with data:",t);const a=this._prepareCourseFormData(t);console.log("Prepared FormData for course creation");const n=await Ze.post("/courses",a,{headers:{"Content-Type":"multipart/form-data"}});return console.log("Course creation response:",n.data),eb(n.data.course??n.data)}catch(a){throw console.error("Course creation failed:",a),console.error("Error response:",a.response),console.error("Error status:",(s=a.response)==null?void 0:s.status),console.error("Error data:",(r=a.response)==null?void 0:r.data),a}},async updateCourse(t,s){var r,a;try{console.log("Updating course with ID:",t,"Data:",s);const n=this._prepareCourseFormData(s);console.log("Prepared FormData for course update");const i=await Ze.post(`/courses/${t}`,n,{headers:{"Content-Type":"multipart/form-data"},params:{_method:"PUT"}});return console.log("Course update response:",i.data),eb(i.data.course??i.data)}catch(n){throw console.error("Course update failed:",n),console.error("Error response:",n.response),console.error("Error status:",(r=n.response)==null?void 0:r.status),console.error("Error data:",(a=n.response)==null?void 0:a.data),n}},async deleteCourse(t){return await Ze.delete(`/courses/${t}`),this._coursesCache=this._coursesCache.filter(s=>s.id!==parseInt(t)),this._recalculateUserProgress(),!0},async enrollInCourse(t,s=null){var r,a;try{const n=`/courses/${t}/enroll`;console.log("Making enrollment API call to:",n),console.log("Full URL:",Ze.defaults.baseURL+n);const i=localStorage.getItem("token");console.log("Auth token exists:",!!i),console.log("Auth token value:",i?i.substring(0,20)+"...":"null");const o=s?{user_id:s}:{};console.log("Request data:",o);const l=await Ze.post(n,o);return console.log("Enrollment API response:",l),l.data}catch(n){throw console.error("Enrollment failed:",n),console.error("Error response:",n.response),console.error("Error status:",(r=n.response)==null?void 0:r.status),console.error("Error data:",(a=n.response)==null?void 0:a.data),n}},async checkEnrollment(t){try{return(await Ze.get(`/courses/${t}/enrollment`)).data}catch(s){throw console.error("Check enrollment failed:",s),s}},async getEnrollments(){try{return(await Ze.get("/enrollments")).data}catch(t){throw console.error("Get enrollments failed:",t),t}},async unenrollFromCourse(t){try{return(await Ze.delete(`/courses/${t}/enroll`)).data}catch(s){throw console.error("Unenrollment failed:",s),s}},createAttachmentFromFile(t){const s=t.name.split(".").pop().toLowerCase(),a=s==="pdf"?"pdf":["mp4","avi","mov","wmv"].includes(s)?"video":null;if(!a)throw new Error("Invalid file type. Only PDF and video files are allowed.");return{tempId:Date.now()+Math.random(),name:t.name,type:a,url:`/files/${t.name}`,size:qC(t.size)}},getCourses(){return this._coursesCache},getEnrolledCourses(){return this._coursesCache.filter(t=>t.enrolled)},getCourseCreator(t){const s=this._coursesCache.find(r=>r.id===parseInt(t));return s?{id:s.createdBy,name:`User ${s.createdBy}`}:null},async getUserProgress(){var t,s;try{console.log("Fetching user progress from API...");const a=(await Ze.get("/user/progress")).data;console.log("User progress API response:",a),this._userProgress={totalCourses:a.totalCourses||0,completedCourses:a.completedCourses||0,totalModules:a.totalModules||0,completedModules:a.completedModules||0,certificatesEarned:a.certificatesEarned||0},this._coursesCache=(a.enrolledCourses||[]).map(o=>({...o,enrolled:!0,completed:o.completed||!1,certificate:o.completed?{id:o.id,title:o.title}:null}));const n=await this._getExamCertificates(),i=[...a.certificates||[],...n];return{...this._userProgress,enrolledCourses:a.enrolledCourses||[],certificates:i,certificatesEarned:i.length}}catch(r){console.error("Failed to fetch user progress from API:",r),console.error("Error response:",r.response),console.error("Error status:",(t=r.response)==null?void 0:t.status),console.error("Error data:",(s=r.response)==null?void 0:s.data),this._recalculateUserProgress();const a=this.getEnrolledCourses(),n=await this._getExamCertificates();return{...this._userProgress,enrolledCourses:a,certificates:n,certificatesEarned:this._userProgress.certificatesEarned+n.length}}},async _getExamCertificates(){try{const s=(await this.getExams()).data||[],a=(await this.getExamResults()).data||[],n=[];for(const i of a)if(i.passed){const o=s.find(l=>l.id===i.exam_id);o&&n.push({id:`exam-${i.exam_id}`,examId:i.exam_id,examTitle:o.title,examDescription:o.description,issueDate:i.submitted_at||i.created_at,passingScore:o.passing_score||o.passingScore,type:"exam",course_title:o.title,exam_title:o.title,issued_date:i.submitted_at||i.created_at,score:i.score,passing_score:o.passing_score||o.passingScore,certificate_url:null})}return n}catch(t){return console.error("Failed to fetch exam certificates:",t),[]}},async _recalculateUserProgress(){const t=this._coursesCache.filter(i=>i.enrolled),s=t.filter(i=>i.completed),r=t.flatMap(i=>i.modules||[]);let a=0;try{a=(await this._getExamCertificates()).length}catch(i){console.warn("Could not fetch exam certificates for progress calculation:",i)}const n=r.filter(i=>i.completed);this._userProgress={totalCourses:t.length,completedCourses:s.length,totalModules:r.length,completedModules:n.length,certificatesEarned:s.length+a}},_prepareCourseFormData(t){const s=new FormData;return s.append("title",t.title),s.append("description",t.description),s.append("duration",t.duration),t.modules&&t.modules.length>0&&t.modules.forEach((r,a)=>{if(s.append(`modules[${a}][title]`,r.title),s.append(`modules[${a}][content]`,r.content||""),r.id&&!r.tempId&&s.append(`modules[${a}][id]`,r.id),r.file){s.append(`modules[${a}][file]`,r.file);try{s.append(`modules[${a}][original_file_name]`,r.file.name)}catch{}}}),t.attachments&&t.attachments.length>0&&t.attachments.forEach((r,a)=>{if(r.file){s.append(`attachments[${a}]`,r.file);try{s.append(`attachments_original_names[${a}]`,r.file.name)}catch{}}}),s},async getExams(t={}){const r=(await Ze.get("/exams",{params:t})).data,n=(Array.isArray(r)?r:Array.isArray(r==null?void 0:r.data)?r.data:[]).map(i=>({...i,totalQuestions:i.totalQuestions??i.total_questions??(Array.isArray(i.questions)?i.questions.length:i.questions_count??null)}));return Array.isArray(r)?{data:n}:{...r,data:n}},async getExam(t){return(await Ze.get(`/exams/${t}`)).data},async createExam(t){return(await Ze.post("/exams",t)).data},async updateExam(t,s){return(await Ze.put(`/exams/${t}`,s)).data},async deleteExam(t){return(await Ze.delete(`/exams/${t}`)).data},async submitExam(t,s){return(await Ze.post(`/exams/${t}/submit`,{answers:s})).data},async getExamResults(t={}){return(await Ze.get("/exam-results",{params:t})).data},async hasUserPassedExam(t){try{return!!((await Ze.get("/exam-results",{params:{exam_id:t}})).data.data||[]).find(n=>n.exam_id==t&&n.passed)}catch(s){return console.error(`Failed to check if user passed exam ${t}:`,s),!1}},async getExamCertificate(t){try{const a=((await Ze.get("/exam-results",{params:{exam_id:t}})).data.data||[]).find(d=>d.exam_id==t&&d.passed);if(!a)return null;let n=null;try{n=await this.getExam(t)}catch{n=a.exam||null}const i=(n==null?void 0:n.title)||`Exam #${t}`,o=n==null?void 0:n.description,l=(n==null?void 0:n.passing_score)||(n==null?void 0:n.passingScore)||void 0;return{examId:a.exam_id,score:a.score,issueDate:a.submitted_at||new Date().toISOString(),certificateId:`CERT-${String(t).padStart(4,"0")}-${String(a.score).padStart(2,"0")}`,examTitle:i,examDescription:o,passingScore:l}}catch(s){return console.error(`Failed to get certificate for exam ${t}:`,s),null}},async testApiConnection(){try{console.log("Testing API connection...");const t=await Ze.get("/courses");return console.log("API connection test successful:",t.status),{status:"success",message:"API is accessible"}}catch(t){throw console.error("API connection test failed:",t),t}},async updateModuleProgress(t,s,r){try{console.log(`Updating module progress: course ${t}, module ${s}, completed: ${r}`);const a=await Ze.post(`/courses/${t}/modules/${s}/progress`,{completed:r});return console.log("Module progress update response:",a.data),a.data}catch(a){throw console.error("Failed to update module progress:",a),a}},async getUserCertificates(){try{return(await this.getUserProgress()).certificates||[]}catch(t){return console.error("Failed to fetch user certificates:",t),[]}},async getLmsStats(){return(await Ze.get("/admin/lms/stats")).data},async getAllUsersCourseProgress({page:t=1,perPage:s=15,search:r,courseId:a,userId:n}={}){const i={page:t,per_page:s};return r&&(i.search=r),a&&(i.course_id=a),n&&(i.user_id=n),(await Ze.get("/admin/lms/users/course-progress",{params:i})).data},async getAllUsersExamProgress({page:t=1,perPage:s=15,search:r,examId:a,userId:n}={}){const i={page:t,per_page:s};return r&&(i.search=r),a&&(i.exam_id=a),n&&(i.user_id=n),(await Ze.get("/admin/lms/users/exam-progress",{params:i})).data},async getUserCourseProgress(t,{page:s=1,perPage:r=15}={}){const a={page:s,per_page:r};return(await Ze.get(`/admin/lms/users/${t}/course-progress`,{params:a})).data},async getUserExamProgress(t,{page:s=1,perPage:r=15}={}){const a={page:s,per_page:r};return(await Ze.get(`/admin/lms/users/${t}/exam-progress`,{params:a})).data},removeAttachment:t=>Ze.delete(`/attachments/${t}`)},$p=({selectedCertificate:t,onClose:s,displayName:r,certificateType:a="course"})=>{const n=()=>{const u=document.getElementById(a==="exam"?"exam-certificate":"progress-certificate");if(!u)return window.print();const h=window.open("","PRINT","height=800,width=1000");h&&(h.document.write(`<!DOCTYPE html><html><head><title>${a==="exam"?"Exam":"Course"} Certificate</title><link rel="stylesheet" href="/app.css" />`),h.document.write(`<style>
      body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin:0; padding:40px; background:#f8fafc; }
      .cert-container { background:white; border:10px solid #1d4ed8; padding:40px; position:relative; }
      .cert-inner { border:4px solid #93c5fd; padding:40px; text-align:center; }
      h1 { font-size:42px; margin:0 0 10px; letter-spacing:2px; }
      h2 { font-size:26px; margin:10px 0 5px; }
      .name { font-size:32px; font-weight:600; margin:15px 0; }
      .meta { margin-top:30px; display:flex; justify-content:space-between; font-size:14px; }
      .signature { margin-top:50px; display:flex; justify-content:space-between; }
      .sig-line { border-top:1px solid #0f172a; width:220px; padding-top:6px; font-size:12px; text-transform:uppercase; letter-spacing:1px; }
    </style></head><body>`),h.document.write(u.outerHTML),h.document.write("</body></html>"),h.document.close(),h.focus(),setTimeout(()=>{h.print(),h.close()},400))};if(!t)return null;const i=()=>a==="exam"?t.examTitle||t.title||"Exam":t.type==="exam"&&t.exam_title||t.course_title,o=()=>a==="exam"?t.examId||t.id:t.type==="exam"?t.id.replace("exam-",""):t.course_id||t.id,l=()=>a==="exam"?t.certificateId||`EXAM-${String(t.examId||t.id).padStart(4,"0")}`:t.type==="exam"?`EXAM-${String(t.id.replace("exam-","")).padStart(4,"0")}`:`CERT-${String(t.course_id||t.id).padStart(4,"0")}-${t.id}`,d=()=>a==="exam"?t.issueDate?new Date(t.issueDate).toLocaleDateString():new Date().toLocaleDateString():t.issued_date||new Date().toLocaleDateString();return e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-opacity-50 flex items-center justify-center z-50",onClick:s,children:e.jsx("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-4xl w-full mx-4",onClick:u=>u.stopPropagation(),children:e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:s,className:"absolute right-0 top-0 text-gray-500 hover:text-gray-700",children:e.jsx(zt,{className:"h-6 w-6"})}),e.jsx("div",{id:a==="exam"?"exam-certificate":"progress-certificate",className:"cert-container ring-1 ring-blue-200 rounded-xl p-8 bg-white",children:e.jsxs("div",{className:"cert-inner",children:[e.jsx("h1",{className:"text-4xl font-extrabold tracking-wide text-blue-700 mb-2",children:a==="exam"?"Certificate of Achievement":"Certificate"}),e.jsx("p",{className:"uppercase tracking-widest text-sm text-gray-500 mb-6",children:a==="exam"?"Of Achievement":"Of Course Completion"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"This is to certify that"}),e.jsx("div",{className:"name text-3xl font-bold text-gray-800 my-4",children:r}),e.jsx("p",{className:"text-gray-600 mb-4",children:a==="exam"?"has successfully passed the examination":"has successfully completed the course"}),e.jsx("h2",{className:"text-2xl font-semibold text-blue-700 mb-2",children:i()}),a==="exam"&&t.score&&e.jsxs("p",{className:"text-gray-600 mb-6",children:["with a score of"," ",e.jsxs("span",{className:"font-semibold text-green-600",children:[t.score,"%"]})," ","(Required:"," ",t.passingScore||t.passing_score,"%)"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm mt-8",children:[e.jsxs("div",{className:"p-3 rounded bg-blue-50",children:[e.jsx("div",{className:"text-xs uppercase text-gray-500 mb-1",children:"Date Issued"}),e.jsx("div",{className:"font-medium text-gray-800",children:d()})]}),e.jsxs("div",{className:"p-3 rounded bg-blue-50",children:[e.jsx("div",{className:"text-xs uppercase text-gray-500 mb-1",children:a==="exam"||t.type==="exam"?"Exam ID":"Course ID"}),e.jsx("div",{className:"font-medium text-gray-800",children:o()})]}),e.jsxs("div",{className:"p-3 rounded bg-blue-50",children:[e.jsx("div",{className:"text-xs uppercase text-gray-500 mb-1",children:"Certificate Code"}),e.jsx("div",{className:"font-medium text-gray-800",children:l()})]})]}),a!=="exam"&&t.type==="exam"&&t.score&&e.jsx("div",{className:"mt-6 p-4 rounded-lg bg-green-50 border border-green-200",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(wn,{className:"h-5 w-5 text-green-600 mr-2"}),e.jsxs("span",{className:"text-green-800 font-medium",children:["Score: ",t.score,"% (Passing Score:"," ",t.passing_score,"%)"]})]})}),e.jsx("div",{className:"signature mt-12 flex justify-between"})]})}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsxs("button",{onClick:n,className:"flex items-center px-6 py-2 rounded-lg bg-gradient-to-r from-blue-500 to-indigo-600 text-white hover:from-blue-600 hover:to-indigo-700 shadow",children:[e.jsx(Mn,{className:"h-4 w-4 mr-2"}),"Print / Download Certificate"]})})]})})})};/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var HC="popstate";function Qae(t={}){function s(a,n){let{pathname:i,search:o,hash:l}=a.location;return Nj("",{pathname:i,search:o,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(a,n){return typeof n=="string"?n:Up(n)}return Zae(s,r,null,t)}function fa(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function ec(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Jae(){return Math.random().toString(36).substring(2,10)}function WC(t,s){return{usr:t.state,key:t.key,idx:s}}function Nj(t,s,r=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof s=="string"?_x(s):s,state:r,key:s&&s.key||a||Jae()}}function Up({pathname:t="/",search:s="",hash:r=""}){return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function _x(t){let s={};if(t){let r=t.indexOf("#");r>=0&&(s.hash=t.substring(r),t=t.substring(0,r));let a=t.indexOf("?");a>=0&&(s.search=t.substring(a),t=t.substring(0,a)),t&&(s.pathname=t)}return s}function Zae(t,s,r,a={}){let{window:n=document.defaultView,v5Compat:i=!1}=a,o=n.history,l="POP",d=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function f(){l="POP";let b=h(),_=b==null?null:b-u;u=b,d&&d({action:l,location:y.location,delta:_})}function p(b,_){l="PUSH";let k=Nj(y.location,b,_);u=h()+1;let A=WC(k,u),R=y.createHref(k);try{o.pushState(A,"",R)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;n.location.assign(R)}i&&d&&d({action:l,location:y.location,delta:1})}function g(b,_){l="REPLACE";let k=Nj(y.location,b,_);u=h();let A=WC(k,u),R=y.createHref(k);o.replaceState(A,"",R),i&&d&&d({action:l,location:y.location,delta:0})}function v(b){return ene(b)}let y={get action(){return l},get location(){return t(n,o)},listen(b){if(d)throw new Error("A history only accepts one active listener");return n.addEventListener(HC,f),d=b,()=>{n.removeEventListener(HC,f),d=null}},createHref(b){return s(n,b)},createURL:v,encodeLocation(b){let _=v(b);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:g,go(b){return o.go(b)}};return y}function ene(t,s=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),fa(r,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:Up(t);return a=a.replace(/ $/,"%20"),!s&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function p7(t,s,r="/"){return tne(t,s,r,!1)}function tne(t,s,r,a){let n=typeof s=="string"?_x(s):s,i=eu(n.pathname||"/",r);if(i==null)return null;let o=g7(t);sne(o);let l=null;for(let d=0;l==null&&d<o.length;++d){let u=hne(i);l=une(o[d],u,a)}return l}function g7(t,s=[],r=[],a="",n=!1){let i=(o,l,d=n,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(a)&&d)return;fa(h.relativePath.startsWith(a),`Absolute route path "${h.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(a.length)}let f=Kd([a,h.relativePath]),p=r.concat(h);o.children&&o.children.length>0&&(fa(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),g7(o.children,s,p,f,d)),!(o.path==null&&!o.index)&&s.push({path:f,score:cne(f,o.index),routesMeta:p})};return t.forEach((o,l)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))i(o,l);else for(let u of y7(o.path))i(o,l,!0,u)}),s}function y7(t){let s=t.split("/");if(s.length===0)return[];let[r,...a]=s,n=r.endsWith("?"),i=r.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let o=y7(a.join("/")),l=[];return l.push(...o.map(d=>d===""?i:[i,d].join("/"))),n&&l.push(...o),l.map(d=>t.startsWith("/")&&d===""?"/":d)}function sne(t){t.sort((s,r)=>s.score!==r.score?r.score-s.score:dne(s.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var rne=/^:[\w-]+$/,ane=3,nne=2,ine=1,one=10,lne=-2,GC=t=>t==="*";function cne(t,s){let r=t.split("/"),a=r.length;return r.some(GC)&&(a+=lne),s&&(a+=nne),r.filter(n=>!GC(n)).reduce((n,i)=>n+(rne.test(i)?ane:i===""?ine:one),a)}function dne(t,s){return t.length===s.length&&t.slice(0,-1).every((a,n)=>a===s[n])?t[t.length-1]-s[s.length-1]:0}function une(t,s,r=!1){let{routesMeta:a}=t,n={},i="/",o=[];for(let l=0;l<a.length;++l){let d=a[l],u=l===a.length-1,h=i==="/"?s:s.slice(i.length)||"/",f=f1({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},h),p=d.route;if(!f&&u&&r&&!a[a.length-1].route.index&&(f=f1({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},h)),!f)return null;Object.assign(n,f.params),o.push({params:n,pathname:Kd([i,f.pathname]),pathnameBase:gne(Kd([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Kd([i,f.pathnameBase]))}return o}function f1(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,a]=mne(t.path,t.caseSensitive,t.end),n=s.match(r);if(!n)return null;let i=n[0],o=i.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:a.reduce((u,{paramName:h,isOptional:f},p)=>{if(h==="*"){let v=l[p]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[p];return f&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function mne(t,s=!1,r=!0){ec(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,d)=>(a.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,s?void 0:"i"),a]}function hne(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return ec(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),t}}function eu(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,a=t.charAt(r);return a&&a!=="/"?null:t.slice(r)||"/"}function xne(t,s="/"){let{pathname:r,search:a="",hash:n=""}=typeof t=="string"?_x(t):t;return{pathname:r?r.startsWith("/")?r:fne(r,s):s,search:yne(a),hash:bne(n)}}function fne(t,s){let r=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function dw(t,s,r,a){return`Cannot include a '${t}' character in a manually specified \`to.${s}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pne(t){return t.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function l5(t){let s=pne(t);return s.map((r,a)=>a===s.length-1?r.pathname:r.pathnameBase)}function c5(t,s,r,a=!1){let n;typeof t=="string"?n=_x(t):(n={...t},fa(!n.pathname||!n.pathname.includes("?"),dw("?","pathname","search",n)),fa(!n.pathname||!n.pathname.includes("#"),dw("#","pathname","hash",n)),fa(!n.search||!n.search.includes("#"),dw("#","search","hash",n)));let i=t===""||n.pathname==="",o=i?"/":n.pathname,l;if(o==null)l=r;else{let f=s.length-1;if(!a&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;n.pathname=p.join("/")}l=f>=0?s[f]:"/"}let d=xne(n,l),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(u||h)&&(d.pathname+="/"),d}var Kd=t=>t.join("/").replace(/\/\/+/g,"/"),gne=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yne=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bne=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function vne(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var b7=["POST","PUT","PATCH","DELETE"];new Set(b7);var wne=["GET",...b7];new Set(wne);var Cx=N.createContext(null);Cx.displayName="DataRouter";var J1=N.createContext(null);J1.displayName="DataRouterState";N.createContext(!1);var v7=N.createContext({isTransitioning:!1});v7.displayName="ViewTransition";var jne=N.createContext(new Map);jne.displayName="Fetchers";var Nne=N.createContext(null);Nne.displayName="Await";var ac=N.createContext(null);ac.displayName="Navigation";var hg=N.createContext(null);hg.displayName="Location";var od=N.createContext({outlet:null,matches:[],isDataRoute:!1});od.displayName="Route";var d5=N.createContext(null);d5.displayName="RouteError";function Sne(t,{relative:s}={}){fa(kx(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=N.useContext(ac),{hash:n,pathname:i,search:o}=xg(t,{relative:s}),l=i;return r!=="/"&&(l=i==="/"?r:Kd([r,i])),a.createHref({pathname:l,search:o,hash:n})}function kx(){return N.useContext(hg)!=null}function nc(){return fa(kx(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(hg).location}var w7="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function j7(t){N.useContext(ac).static||N.useLayoutEffect(t)}function Z1(){let{isDataRoute:t}=N.useContext(od);return t?One():_ne()}function _ne(){fa(kx(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Cx),{basename:s,navigator:r}=N.useContext(ac),{matches:a}=N.useContext(od),{pathname:n}=nc(),i=JSON.stringify(l5(a)),o=N.useRef(!1);return j7(()=>{o.current=!0}),N.useCallback((d,u={})=>{if(ec(o.current,w7),!o.current)return;if(typeof d=="number"){r.go(d);return}let h=c5(d,JSON.parse(i),n,u.relative==="path");t==null&&s!=="/"&&(h.pathname=h.pathname==="/"?s:Kd([s,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[s,r,i,n,t])}N.createContext(null);function xg(t,{relative:s}={}){let{matches:r}=N.useContext(od),{pathname:a}=nc(),n=JSON.stringify(l5(r));return N.useMemo(()=>c5(t,JSON.parse(n),a,s==="path"),[t,n,a,s])}function Cne(t,s){return N7(t,s)}function N7(t,s,r,a){var _;fa(kx(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:n}=N.useContext(ac),{matches:i}=N.useContext(od),o=i[i.length-1],l=o?o.params:{},d=o?o.pathname:"/",u=o?o.pathnameBase:"/",h=o&&o.route;{let k=h&&h.path||"";S7(d,!h||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let f=nc(),p;if(s){let k=typeof s=="string"?_x(s):s;fa(u==="/"||((_=k.pathname)==null?void 0:_.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${k.pathname}" was given in the \`location\` prop.`),p=k}else p=f;let g=p.pathname||"/",v=g;if(u!=="/"){let k=u.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(k.length).join("/")}let y=p7(t,{pathname:v});ec(h||y!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),ec(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=Dne(y&&y.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:Kd([u,n.encodeLocation?n.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?u:Kd([u,n.encodeLocation?n.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),i,r,a);return s&&b?N.createElement(hg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},b):b}function kne(){let t=Rne(),s=vne(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:i},"ErrorBoundary")," or"," ",N.createElement("code",{style:i},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},s),r?N.createElement("pre",{style:n},r):null,o)}var Ane=N.createElement(kne,null),Ene=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?N.createElement(od.Provider,{value:this.props.routeContext},N.createElement(d5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Tne({routeContext:t,match:s,children:r}){let a=N.useContext(Cx);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),N.createElement(od.Provider,{value:t},r)}function Dne(t,s=[],r=null,a=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(s.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let n=t,i=r==null?void 0:r.errors;if(i!=null){let d=n.findIndex(u=>u.route.id&&(i==null?void 0:i[u.route.id])!==void 0);fa(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),n=n.slice(0,Math.min(n.length,d+1))}let o=!1,l=-1;if(r)for(let d=0;d<n.length;d++){let u=n[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=d),u.route.id){let{loaderData:h,errors:f}=r,p=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||p){o=!0,l>=0?n=n.slice(0,l+1):n=[n[0]];break}}}return n.reduceRight((d,u,h)=>{let f,p=!1,g=null,v=null;r&&(f=i&&u.route.id?i[u.route.id]:void 0,g=u.route.errorElement||Ane,o&&(l<0&&h===0?(S7("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):l===h&&(p=!0,v=u.route.hydrateFallbackElement||null)));let y=s.concat(n.slice(0,h+1)),b=()=>{let _;return f?_=g:p?_=v:u.route.Component?_=N.createElement(u.route.Component,null):u.route.element?_=u.route.element:_=d,N.createElement(Tne,{match:u,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:_})};return r&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?N.createElement(Ene,{location:r.location,revalidation:r.revalidation,component:g,error:f,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}function u5(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pne(t){let s=N.useContext(Cx);return fa(s,u5(t)),s}function Mne(t){let s=N.useContext(J1);return fa(s,u5(t)),s}function Lne(t){let s=N.useContext(od);return fa(s,u5(t)),s}function m5(t){let s=Lne(t),r=s.matches[s.matches.length-1];return fa(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function Fne(){return m5("useRouteId")}function Rne(){var a;let t=N.useContext(d5),s=Mne("useRouteError"),r=m5("useRouteError");return t!==void 0?t:(a=s.errors)==null?void 0:a[r]}function One(){let{router:t}=Pne("useNavigate"),s=m5("useNavigate"),r=N.useRef(!1);return j7(()=>{r.current=!0}),N.useCallback(async(n,i={})=>{ec(r.current,w7),r.current&&(typeof n=="number"?t.navigate(n):await t.navigate(n,{fromRouteId:s,...i}))},[t,s])}var YC={};function S7(t,s,r){!s&&!YC[t]&&(YC[t]=!0,ec(!1,r))}N.memo(Ine);function Ine({routes:t,future:s,state:r}){return N7(t,void 0,r,s)}function Bne({to:t,replace:s,state:r,relative:a}){fa(kx(),"<Navigate> may be used only in the context of a <Router> component.");let{static:n}=N.useContext(ac);ec(!n,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=N.useContext(od),{pathname:o}=nc(),l=Z1(),d=c5(t,l5(i),o,a==="path"),u=JSON.stringify(d);return N.useEffect(()=>{l(JSON.parse(u),{replace:s,state:r,relative:a})},[l,u,a,s,r]),null}function jb(t){fa(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zne({basename:t="/",children:s=null,location:r,navigationType:a="POP",navigator:n,static:i=!1}){fa(!kx(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=N.useMemo(()=>({basename:o,navigator:n,static:i,future:{}}),[o,n,i]);typeof r=="string"&&(r=_x(r));let{pathname:d="/",search:u="",hash:h="",state:f=null,key:p="default"}=r,g=N.useMemo(()=>{let v=eu(d,o);return v==null?null:{location:{pathname:v,search:u,hash:h,state:f,key:p},navigationType:a}},[o,d,u,h,f,p,a]);return ec(g!=null,`<Router basename="${o}"> is not able to match the URL "${d}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:N.createElement(ac.Provider,{value:l},N.createElement(hg.Provider,{children:s,value:g}))}function $ne({children:t,location:s}){return Cne(Sj(t),s)}function Sj(t,s=[]){let r=[];return N.Children.forEach(t,(a,n)=>{if(!N.isValidElement(a))return;let i=[...s,n];if(a.type===N.Fragment){r.push.apply(r,Sj(a.props.children,i));return}fa(a.type===jb,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fa(!a.props.index||!a.props.children,"An index route cannot have child routes.");let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=Sj(a.props.children,i)),r.push(o)}),r}var Nb="get",Sb="application/x-www-form-urlencoded";function e2(t){return t!=null&&typeof t.tagName=="string"}function Une(t){return e2(t)&&t.tagName.toLowerCase()==="button"}function Vne(t){return e2(t)&&t.tagName.toLowerCase()==="form"}function qne(t){return e2(t)&&t.tagName.toLowerCase()==="input"}function Hne(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Wne(t,s){return t.button===0&&(!s||s==="_self")&&!Hne(t)}var tb=null;function Gne(){if(tb===null)try{new FormData(document.createElement("form"),0),tb=!1}catch{tb=!0}return tb}var Yne=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function uw(t){return t!=null&&!Yne.has(t)?(ec(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sb}"`),null):t}function Kne(t,s){let r,a,n,i,o;if(Vne(t)){let l=t.getAttribute("action");a=l?eu(l,s):null,r=t.getAttribute("method")||Nb,n=uw(t.getAttribute("enctype"))||Sb,i=new FormData(t)}else if(Une(t)||qne(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||l.getAttribute("action");if(a=d?eu(d,s):null,r=t.getAttribute("formmethod")||l.getAttribute("method")||Nb,n=uw(t.getAttribute("formenctype"))||uw(l.getAttribute("enctype"))||Sb,i=new FormData(l,t),!Gne()){let{name:u,type:h,value:f}=t;if(h==="image"){let p=u?`${u}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else u&&i.append(u,f)}}else{if(e2(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Nb,a=null,n=Sb,o=t}return i&&n==="text/plain"&&(o=i,i=void 0),{action:a,method:r.toLowerCase(),encType:n,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function h5(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function Xne(t,s,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a.pathname==="/"?a.pathname=`_root.${r}`:s&&eu(a.pathname,s)==="/"?a.pathname=`${s.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function Qne(t,s){if(t.id in s)return s[t.id];try{let r=await import(t.module);return s[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Jne(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Zne(t,s,r){let a=await Promise.all(t.map(async n=>{let i=s.routes[n.route.id];if(i){let o=await Qne(i,r);return o.links?o.links():[]}return[]}));return rie(a.flat(1).filter(Jne).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?{...n,rel:"prefetch",as:"style"}:{...n,rel:"prefetch"}))}function KC(t,s,r,a,n,i){let o=(d,u)=>r[u]?d.route.id!==r[u].route.id:!0,l=(d,u)=>{var h;return r[u].pathname!==d.pathname||((h=r[u].route.path)==null?void 0:h.endsWith("*"))&&r[u].params["*"]!==d.params["*"]};return i==="assets"?s.filter((d,u)=>o(d,u)||l(d,u)):i==="data"?s.filter((d,u)=>{var f;let h=a.routes[d.route.id];if(!h||!h.hasLoader)return!1;if(o(d,u)||l(d,u))return!0;if(d.route.shouldRevalidate){let p=d.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function eie(t,s,{includeHydrateFallback:r}={}){return tie(t.map(a=>{let n=s.routes[a.route.id];if(!n)return[];let i=[n.module];return n.clientActionModule&&(i=i.concat(n.clientActionModule)),n.clientLoaderModule&&(i=i.concat(n.clientLoaderModule)),r&&n.hydrateFallbackModule&&(i=i.concat(n.hydrateFallbackModule)),n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function tie(t){return[...new Set(t)]}function sie(t){let s={},r=Object.keys(t).sort();for(let a of r)s[a]=t[a];return s}function rie(t,s){let r=new Set;return new Set(s),t.reduce((a,n)=>{let i=JSON.stringify(sie(n));return r.has(i)||(r.add(i),a.push({key:i,link:n})),a},[])}function _7(){let t=N.useContext(Cx);return h5(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function aie(){let t=N.useContext(J1);return h5(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var x5=N.createContext(void 0);x5.displayName="FrameworkContext";function C7(){let t=N.useContext(x5);return h5(t,"You must render this element inside a <HydratedRouter> element"),t}function nie(t,s){let r=N.useContext(x5),[a,n]=N.useState(!1),[i,o]=N.useState(!1),{onFocus:l,onBlur:d,onMouseEnter:u,onMouseLeave:h,onTouchStart:f}=s,p=N.useRef(null);N.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let y=_=>{_.forEach(k=>{o(k.isIntersecting)})},b=new IntersectionObserver(y,{threshold:.5});return p.current&&b.observe(p.current),()=>{b.disconnect()}}},[t]),N.useEffect(()=>{if(a){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[a]);let g=()=>{n(!0)},v=()=>{n(!1),o(!1)};return r?t!=="intent"?[i,p,{}]:[i,p,{onFocus:Ff(l,g),onBlur:Ff(d,v),onMouseEnter:Ff(u,g),onMouseLeave:Ff(h,v),onTouchStart:Ff(f,g)}]:[!1,p,{}]}function Ff(t,s){return r=>{t&&t(r),r.defaultPrevented||s(r)}}function iie({page:t,...s}){let{router:r}=_7(),a=N.useMemo(()=>p7(r.routes,t,r.basename),[r.routes,t,r.basename]);return a?N.createElement(lie,{page:t,matches:a,...s}):null}function oie(t){let{manifest:s,routeModules:r}=C7(),[a,n]=N.useState([]);return N.useEffect(()=>{let i=!1;return Zne(t,s,r).then(o=>{i||n(o)}),()=>{i=!0}},[t,s,r]),a}function lie({page:t,matches:s,...r}){let a=nc(),{manifest:n,routeModules:i}=C7(),{basename:o}=_7(),{loaderData:l,matches:d}=aie(),u=N.useMemo(()=>KC(t,s,d,n,a,"data"),[t,s,d,n,a]),h=N.useMemo(()=>KC(t,s,d,n,a,"assets"),[t,s,d,n,a]),f=N.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let v=new Set,y=!1;if(s.forEach(_=>{var A;let k=n.routes[_.route.id];!k||!k.hasLoader||(!u.some(R=>R.route.id===_.route.id)&&_.route.id in l&&((A=i[_.route.id])!=null&&A.shouldRevalidate)||k.hasClientLoader?y=!0:v.add(_.route.id))}),v.size===0)return[];let b=Xne(t,o,"data");return y&&v.size>0&&b.searchParams.set("_routes",s.filter(_=>v.has(_.route.id)).map(_=>_.route.id).join(",")),[b.pathname+b.search]},[o,l,a,n,u,s,t,i]),p=N.useMemo(()=>eie(h,n),[h,n]),g=oie(h);return N.createElement(N.Fragment,null,f.map(v=>N.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),p.map(v=>N.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),g.map(({key:v,link:y})=>N.createElement("link",{key:v,nonce:r.nonce,...y})))}function cie(...t){return s=>{t.forEach(r=>{typeof r=="function"?r(s):r!=null&&(r.current=s)})}}var k7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{k7&&(window.__reactRouterVersion="7.8.1")}catch{}function die({basename:t,children:s,window:r}){let a=N.useRef();a.current==null&&(a.current=Qae({window:r,v5Compat:!0}));let n=a.current,[i,o]=N.useState({action:n.action,location:n.location}),l=N.useCallback(d=>{N.startTransition(()=>o(d))},[o]);return N.useLayoutEffect(()=>n.listen(l),[n,l]),N.createElement(zne,{basename:t,children:s,location:i.location,navigationType:i.action,navigator:n})}var A7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,f5=N.forwardRef(function({onClick:s,discover:r="render",prefetch:a="none",relative:n,reloadDocument:i,replace:o,state:l,target:d,to:u,preventScrollReset:h,viewTransition:f,...p},g){let{basename:v}=N.useContext(ac),y=typeof u=="string"&&A7.test(u),b,_=!1;if(typeof u=="string"&&y&&(b=u,k7))try{let I=new URL(window.location.href),B=u.startsWith("//")?new URL(I.protocol+u):new URL(u),T=eu(B.pathname,v);B.origin===I.origin&&T!=null?u=T+B.search+B.hash:_=!0}catch{ec(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=Sne(u,{relative:n}),[A,R,F]=nie(a,p),V=xie(u,{replace:o,state:l,target:d,preventScrollReset:h,relative:n,viewTransition:f});function S(I){s&&s(I),I.defaultPrevented||V(I)}let L=N.createElement("a",{...p,...F,href:b||k,onClick:_||i?s:S,ref:cie(g,R),target:d,"data-discover":!y&&r==="render"?"true":void 0});return A&&!y?N.createElement(N.Fragment,null,L,N.createElement(iie,{page:k})):L});f5.displayName="Link";var uie=N.forwardRef(function({"aria-current":s="page",caseSensitive:r=!1,className:a="",end:n=!1,style:i,to:o,viewTransition:l,children:d,...u},h){let f=xg(o,{relative:u.relative}),p=nc(),g=N.useContext(J1),{navigator:v,basename:y}=N.useContext(ac),b=g!=null&&bie(f)&&l===!0,_=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,k=p.pathname,A=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(k=k.toLowerCase(),A=A?A.toLowerCase():null,_=_.toLowerCase()),A&&y&&(A=eu(A,y)||A);const R=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let F=k===_||!n&&k.startsWith(_)&&k.charAt(R)==="/",V=A!=null&&(A===_||!n&&A.startsWith(_)&&A.charAt(_.length)==="/"),S={isActive:F,isPending:V,isTransitioning:b},L=F?s:void 0,I;typeof a=="function"?I=a(S):I=[a,F?"active":null,V?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let B=typeof i=="function"?i(S):i;return N.createElement(f5,{...u,"aria-current":L,className:I,ref:h,style:B,to:o,viewTransition:l},typeof d=="function"?d(S):d)});uie.displayName="NavLink";var mie=N.forwardRef(({discover:t="render",fetcherKey:s,navigate:r,reloadDocument:a,replace:n,state:i,method:o=Nb,action:l,onSubmit:d,relative:u,preventScrollReset:h,viewTransition:f,...p},g)=>{let v=gie(),y=yie(l,{relative:u}),b=o.toLowerCase()==="get"?"get":"post",_=typeof l=="string"&&A7.test(l),k=A=>{if(d&&d(A),A.defaultPrevented)return;A.preventDefault();let R=A.nativeEvent.submitter,F=(R==null?void 0:R.getAttribute("formmethod"))||o;v(R||A.currentTarget,{fetcherKey:s,method:F,navigate:r,replace:n,state:i,relative:u,preventScrollReset:h,viewTransition:f})};return N.createElement("form",{ref:g,method:b,action:y,onSubmit:a?d:k,...p,"data-discover":!_&&t==="render"?"true":void 0})});mie.displayName="Form";function hie(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function E7(t){let s=N.useContext(Cx);return fa(s,hie(t)),s}function xie(t,{target:s,replace:r,state:a,preventScrollReset:n,relative:i,viewTransition:o}={}){let l=Z1(),d=nc(),u=xg(t,{relative:i});return N.useCallback(h=>{if(Wne(h,s)){h.preventDefault();let f=r!==void 0?r:Up(d)===Up(u);l(t,{replace:f,state:a,preventScrollReset:n,relative:i,viewTransition:o})}},[d,l,u,r,a,s,t,n,i,o])}var fie=0,pie=()=>`__${String(++fie)}__`;function gie(){let{router:t}=E7("useSubmit"),{basename:s}=N.useContext(ac),r=Fne();return N.useCallback(async(a,n={})=>{let{action:i,method:o,encType:l,formData:d,body:u}=Kne(a,s);if(n.navigate===!1){let h=n.fetcherKey||pie();await t.fetch(h,r,n.action||i,{preventScrollReset:n.preventScrollReset,formData:d,body:u,formMethod:n.method||o,formEncType:n.encType||l,flushSync:n.flushSync})}else await t.navigate(n.action||i,{preventScrollReset:n.preventScrollReset,formData:d,body:u,formMethod:n.method||o,formEncType:n.encType||l,replace:n.replace,state:n.state,fromRouteId:r,flushSync:n.flushSync,viewTransition:n.viewTransition})},[t,s,r])}function yie(t,{relative:s}={}){let{basename:r}=N.useContext(ac),a=N.useContext(od);fa(a,"useFormAction must be used inside a RouteContext");let[n]=a.matches.slice(-1),i={...xg(t||".",{relative:s})},o=nc();if(t==null){i.search=o.search;let l=new URLSearchParams(i.search),d=l.getAll("index");if(d.some(h=>h==="")){l.delete("index"),d.filter(f=>f).forEach(f=>l.append("index",f));let h=l.toString();i.search=h?`?${h}`:""}}return(!t||t===".")&&n.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Kd([r,i.pathname])),Up(i)}function bie(t,{relative:s}={}){let r=N.useContext(v7);fa(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=E7("useViewTransitionState"),n=xg(t,{relative:s});if(!r.isTransitioning)return!1;let i=eu(r.currentLocation.pathname,a)||r.currentLocation.pathname,o=eu(r.nextLocation.pathname,a)||r.nextLocation.pathname;return f1(n.pathname,o)!=null||f1(n.pathname,i)!=null}const vie=({onViewCourse:t,onViewProgress:s,onViewManageCourses:r,onTakeExam:a,onManageExams:n})=>{const{user:i}=rd(),[o,l]=N.useState([]),[d,u]=N.useState([]),[h,f]=N.useState({}),[p,g]=N.useState([]),[v,y]=N.useState(!1),[b,_]=N.useState(!0),[k,A]=N.useState(!0),[R,F]=N.useState(null),V=async O=>{const z={};await Promise.all(O.map(async q=>{const te=await Os.hasUserPassedExam(q.id);z[q.id]=te})),w(z)},S=async()=>{try{y(!0),_(!0);const O=await Os.fetchCourses();let z=[];try{z=(await Os.getEnrollments()).data||[]}catch(Q){console.warn("Could not fetch user enrollments:",Q)}const q=O.data.map(Q=>({...Q,enrolled:z.some(ue=>ue.course_id===Q.id)}));l(q),_(!1);try{const Q=await Os.getUserProgress();f(Q),g(Q.enrolledCourses||q.filter(ue=>ue.enrolled))}catch(Q){console.warn("Could not refresh user progress:",Q),g(q.filter(ue=>ue.enrolled)),f(Os.getUserProgress())}A(!0);const ge=(await Os.getExams()).data||[];u(ge),await V(ge),A(!1)}catch(O){console.error("Failed to refresh dashboard data:",O)}finally{y(!1)}};N.useEffect(()=>{(async()=>{try{y(!0),_(!0),A(!0);const[q,te]=await Promise.all([Os.fetchCourses(),Os.getExams()]);let ge=[];try{ge=(await Os.getEnrollments()).data||[]}catch(ie){console.warn("Could not fetch user enrollments:",ie)}const Q=q.data.map(ie=>({...ie,enrolled:ge.some(oe=>oe.course_id===ie.id)}));l(Q);const ue=te.data||[];u(ue),await V(ue),_(!1),A(!1);try{const ie=await Os.getUserProgress();f(ie),g(ie.enrolledCourses||Q.filter(oe=>oe.enrolled))}catch(ie){console.warn("Could not fetch user progress:",ie),g(Q.filter(oe=>oe.enrolled)),f(Os.getUserProgress())}}catch(q){console.error("Failed to load dashboard data",q),l(Os.getCourses()),u([]),_(!1),A(!1)}finally{y(!1)}})();const z=()=>{document.hidden||(console.log("Dashboard became visible, refreshing data..."),S())};return document.addEventListener("visibilitychange",z),()=>{document.removeEventListener("visibilitychange",z)}},[]);const L=async O=>{try{const z=d.find(te=>te.id===O);if(!z)throw new Error("Exam not found");const q=await Os.getExamCertificate(O);if(!q)throw new Error("Certificate not available");K({...q,examTitle:z.title,examDescription:z.description,passingScore:z.passing_score||z.passingScore,userName:(i==null?void 0:i.name)||(i==null?void 0:i.fullName)||"User"}),D(!0)}catch(z){console.error("Error fetching certificate:",z),Swal.fire({icon:"error",title:"Certificate Error",text:"Failed to retrieve your certificate. Please try again later.",confirmButtonColor:"#EF4444"})}},I=async O=>{var z;try{F(O),console.log("Attempting to enroll in course:",O),console.log("Current user:",i),console.log("User ID:",i==null?void 0:i.id);const q=await Os.enrollInCourse(O,i==null?void 0:i.id);console.log("Enrollment API response:",q),l(te=>te.map(ge=>ge.id===O?{...ge,enrolled:!0}:ge)),g(te=>[...te,o.find(ge=>ge.id===O)]),await S(),Swal.fire({icon:"success",title:"Enrolled",text:"Successfully enrolled in the course!",confirmButtonColor:"#10B981"})}catch(q){console.error("Enrollment failed:",q),console.error("Error details:",((z=q.response)==null?void 0:z.data)||q.message),Swal.fire({icon:"error",title:"Enrollment Failed",text:"Failed to enroll in the course. Please try again.",confirmButtonColor:"#EF4444"})}finally{F(null)}},B=(h.totalModules||0)>0?Math.round((h.completedModules||0)/(h.totalModules||1)*100):0,[T,w]=N.useState({}),[E,D]=N.useState(!1),[G,K]=N.useState(null),[X,se]=N.useState(!1),[Z,ee]=N.useState(null),[ce,U]=N.useState(!1);return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Learning Management System"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Enhance your skills with our comprehensive training courses"})]}),e.jsxs("div",{className:"flex space-x-4",children:[i&&i.role!=="user"&&e.jsxs(f5,{to:"/dashboard/lmsUserStats",className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 flex items-center",children:[e.jsx(wi,{className:"h-5 w-5 mr-2"}),"User Stats"]}),i&&i.role!=="user"&&e.jsxs("button",{onClick:n,className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 flex items-center",children:[e.jsx(xs,{className:"h-5 w-5 mr-2"}),"Exams"]}),i&&i.role!=="user"&&e.jsxs("button",{onClick:r,className:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 flex items-center",children:[e.jsx(N1,{className:"h-5 w-5 mr-2"}),"Courses"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-xl",children:e.jsx(dl,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Enrolled Courses"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.totalCourses})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-green-100 p-3 rounded-xl",children:e.jsx(vs,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed Courses"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.completedCourses})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-purple-100 p-3 rounded-xl",children:e.jsx(ln,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Certificates Earned"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.certificatesEarned})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-gray-200 cursor-pointer hover:shadow-2xl transition-all duration-300",onClick:s,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-yellow-100 p-3 rounded-xl",children:e.jsx(wi,{className:"h-6 w-6 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overall Progress"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[B,"%"]})]})]})})]}),h.totalModules>0&&e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-gray-200 mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Your Learning Progress"}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-4 rounded-full transition-all duration-300",style:{width:`${B}%`}})}),e.jsxs("p",{className:"text-sm text-gray-600",children:[h.completedModules," of ",h.totalModules," ","modules completed"]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-gray-200",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Available Courses"}),b?e.jsx("div",{className:"flex justify-center items-center min-h-48",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading courses..."})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(O=>{var z;return e.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow duration-300",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(dl,{className:"h-8 w-8 text-blue-600 mr-3"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:O.title})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:O.description}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-4",children:[e.jsx(Ns,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[O.duration,O.duration?" hours":""]}),e.jsx("span",{className:"mx-2",children:""}),e.jsxs("span",{children:[O.modules.length," modules"]})]}),e.jsxs("div",{className:"text-xs text-gray-400 mb-4",children:["Created by:"," ",((z=Os.getCourseCreator(O.id))==null?void 0:z.name)||"Unknown"]}),O.enrolled?e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Enrolled"}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:(()=>{const q=p.find(te=>te.id===O.id);return q&&q.completed_modules!==void 0?q.total_modules>0?`${q.completed_modules/q.total_modules*100}%`:"0%":O.modules&&O.modules.length>0?`${O.modules.filter(te=>te.completed).length/O.modules.length*100}%`:"0%"})()}})}),e.jsx("p",{className:"text-xs text-gray-500",children:(()=>{var te,ge;const q=p.find(Q=>Q.id===O.id);if(q&&q.completed_modules!==void 0)return`${q.completed_modules} of ${q.total_modules} modules completed`;{const Q=((te=O.modules)==null?void 0:te.filter(ie=>ie.completed).length)||0,ue=((ge=O.modules)==null?void 0:ge.length)||0;return`${Q} of ${ue} modules completed`}})()}),e.jsxs("button",{onClick:()=>t(O.id),className:"w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-medium py-2 px-4 rounded-lg transition-all duration-200 flex items-center justify-center mt-2",children:[e.jsx(bp,{className:"h-4 w-4 mr-2"}),"Continue Course"]}),(()=>{const q=p.find(ge=>ge.id===O.id);return(q==null?void 0:q.completed)||O.completed?e.jsxs("div",{className:"flex items-center text-green-600 text-sm font-medium justify-center",children:[e.jsx(ln,{className:"h-4 w-4 mr-1"}),"Certificate Earned"]}):null})()]}):e.jsx("button",{onClick:()=>I(O.id),disabled:R===O.id,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 disabled:from-gray-400 disabled:to-gray-500 text-white font-medium py-2 px-4 rounded-lg transition-all duration-200 flex items-center justify-center",children:R===O.id?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Enrolling..."]}):e.jsxs(e.Fragment,{children:[e.jsx(bp,{className:"h-4 w-4 mr-2"}),"Enroll Now"]})})]},O.id)})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-gray-200",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Available Exams"}),k?e.jsx("div",{className:"flex justify-center items-center min-h-48",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading exams..."})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(O=>{var z;return e.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow duration-300",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(wn,{className:"h-8 w-8 text-green-600 mr-3"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:O.title})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:O.description}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-4",children:[e.jsx(Ns,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[O.duration,O.duration?" minutes":""]}),e.jsx("span",{className:"mx-2",children:""}),e.jsxs("span",{children:[O.totalQuestions??O.total_questions??(Array.isArray(O.questions)?O.questions.length:"0")," ","questions"]})]}),e.jsxs("div",{className:"text-xs text-gray-400 mb-4",children:["Passing Score:"," ",(O.passingScore??O.passing_score)!=null?`${O.passingScore??O.passing_score}%`:"N/A",O.courseId&&e.jsxs("span",{className:"ml-2",children:[" Related to:"," ",((z=o.find(q=>q.id===O.courseId))==null?void 0:z.title)||"Unknown Course"]})]}),Object.prototype.hasOwnProperty.call(T,O.id)?T[O.id]?e.jsxs("button",{onClick:()=>L(O.id),className:"w-full bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700 text-white font-medium py-2 px-4 rounded-lg transition-all duration-200 flex items-center justify-center",children:[e.jsx(ln,{className:"h-4 w-4 mr-2"}),"View Certificate"]}):e.jsxs("button",{onClick:()=>a(O.id),className:"w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-medium py-2 px-4 rounded-lg transition-all duration-200 flex items-center justify-center",children:[e.jsx(wn,{className:"h-4 w-4 mr-2"}),"Take Exam"]}):e.jsxs("button",{disabled:!0,className:"w-full bg-gray-300 text-white font-medium py-2 px-4 rounded-lg transition-all duration-200 flex items-center justify-center cursor-wait",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Checking status..."]})]},O.id)})}),!k&&d.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(wn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"No exams available yet"}),i&&i.role!=="user"&&e.jsx("button",{onClick:n,className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"Manage Exams"})]})]}),E&&G&&e.jsx($p,{selectedCertificate:G,onClose:()=>{D(!1),K(null)},displayName:(G==null?void 0:G.userName)||(i==null?void 0:i.name)||(i==null?void 0:i.fullName)||"User",certificateType:"exam"})]})},T7=N.createContext({});function wie(t){const s=N.useRef(null);return s.current===null&&(s.current=t()),s.current}const p5=typeof window<"u",jie=p5?N.useLayoutEffect:N.useEffect,g5=N.createContext(null);function y5(t,s){t.indexOf(s)===-1&&t.push(s)}function b5(t,s){const r=t.indexOf(s);r>-1&&t.splice(r,1)}const tu=(t,s,r)=>r>s?s:r<t?t:r;let v5=()=>{};const su={},D7=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function P7(t){return typeof t=="object"&&t!==null}const M7=t=>/^0[^.\s]+$/u.test(t);function w5(t){let s;return()=>(s===void 0&&(s=t()),s)}const ml=t=>t,Nie=(t,s)=>r=>s(t(r)),fg=(...t)=>t.reduce(Nie),Vp=(t,s,r)=>{const a=s-t;return a===0?1:(r-t)/a};class j5{constructor(){this.subscriptions=[]}add(s){return y5(this.subscriptions,s),()=>b5(this.subscriptions,s)}notify(s,r,a){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](s,r,a);else for(let i=0;i<n;i++){const o=this.subscriptions[i];o&&o(s,r,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Qc=t=>t*1e3,Jc=t=>t/1e3;function L7(t,s){return s?t*(1e3/s):0}const F7=(t,s,r)=>(((1-3*r+3*s)*t+(3*r-6*s))*t+3*s)*t,Sie=1e-7,_ie=12;function Cie(t,s,r,a,n){let i,o,l=0;do o=s+(r-s)/2,i=F7(o,a,n)-t,i>0?r=o:s=o;while(Math.abs(i)>Sie&&++l<_ie);return o}function pg(t,s,r,a){if(t===s&&r===a)return ml;const n=i=>Cie(i,0,1,t,r);return i=>i===0||i===1?i:F7(n(i),s,a)}const R7=t=>s=>s<=.5?t(2*s)/2:(2-t(2*(1-s)))/2,O7=t=>s=>1-t(1-s),I7=pg(.33,1.53,.69,.99),N5=O7(I7),B7=R7(N5),z7=t=>(t*=2)<1?.5*N5(t):.5*(2-Math.pow(2,-10*(t-1))),S5=t=>1-Math.sin(Math.acos(t)),$7=O7(S5),U7=R7(S5),kie=pg(.42,0,1,1),Aie=pg(0,0,.58,1),V7=pg(.42,0,.58,1),Eie=t=>Array.isArray(t)&&typeof t[0]!="number",q7=t=>Array.isArray(t)&&typeof t[0]=="number",Tie={linear:ml,easeIn:kie,easeInOut:V7,easeOut:Aie,circIn:S5,circInOut:U7,circOut:$7,backIn:N5,backInOut:B7,backOut:I7,anticipate:z7},Die=t=>typeof t=="string",XC=t=>{if(q7(t)){v5(t.length===4);const[s,r,a,n]=t;return pg(s,r,a,n)}else if(Die(t))return Tie[t];return t},sb=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Pie(t,s){let r=new Set,a=new Set,n=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function d(h){o.has(h)&&(u.schedule(h),t()),h(l)}const u={schedule:(h,f=!1,p=!1)=>{const v=p&&n?r:a;return f&&o.add(h),v.has(h)||v.add(h),h},cancel:h=>{a.delete(h),o.delete(h)},process:h=>{if(l=h,n){i=!0;return}n=!0,[r,a]=[a,r],r.forEach(d),r.clear(),n=!1,i&&(i=!1,u.process(h))}};return u}const Mie=40;function H7(t,s){let r=!1,a=!0;const n={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=sb.reduce((A,R)=>(A[R]=Pie(i),A),{}),{setup:l,read:d,resolveKeyframes:u,preUpdate:h,update:f,preRender:p,render:g,postRender:v}=o,y=()=>{const A=su.useManualTiming?n.timestamp:performance.now();r=!1,su.useManualTiming||(n.delta=a?1e3/60:Math.max(Math.min(A-n.timestamp,Mie),1)),n.timestamp=A,n.isProcessing=!0,l.process(n),d.process(n),u.process(n),h.process(n),f.process(n),p.process(n),g.process(n),v.process(n),n.isProcessing=!1,r&&s&&(a=!1,t(y))},b=()=>{r=!0,a=!0,n.isProcessing||t(y)};return{schedule:sb.reduce((A,R)=>{const F=o[R];return A[R]=(V,S=!1,L=!1)=>(r||b(),F.schedule(V,S,L)),A},{}),cancel:A=>{for(let R=0;R<sb.length;R++)o[sb[R]].cancel(A)},state:n,steps:o}}const{schedule:xa,cancel:pm,state:Gn,steps:mw}=H7(typeof requestAnimationFrame<"u"?requestAnimationFrame:ml,!0);let _b;function Lie(){_b=void 0}const ao={now:()=>(_b===void 0&&ao.set(Gn.isProcessing||su.useManualTiming?Gn.timestamp:performance.now()),_b),set:t=>{_b=t,queueMicrotask(Lie)}},W7=t=>s=>typeof s=="string"&&s.startsWith(t),_5=W7("--"),Fie=W7("var(--"),C5=t=>Fie(t)?Rie.test(t.split("/*")[0].trim()):!1,Rie=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ax={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},qp={...Ax,transform:t=>tu(0,1,t)},rb={...Ax,default:1},xp=t=>Math.round(t*1e5)/1e5,k5=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Oie(t){return t==null}const Iie=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,A5=(t,s)=>r=>!!(typeof r=="string"&&Iie.test(r)&&r.startsWith(t)||s&&!Oie(r)&&Object.prototype.hasOwnProperty.call(r,s)),G7=(t,s,r)=>a=>{if(typeof a!="string")return a;const[n,i,o,l]=a.match(k5);return{[t]:parseFloat(n),[s]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Bie=t=>tu(0,255,t),hw={...Ax,transform:t=>Math.round(Bie(t))},u0={test:A5("rgb","red"),parse:G7("red","green","blue"),transform:({red:t,green:s,blue:r,alpha:a=1})=>"rgba("+hw.transform(t)+", "+hw.transform(s)+", "+hw.transform(r)+", "+xp(qp.transform(a))+")"};function zie(t){let s="",r="",a="",n="";return t.length>5?(s=t.substring(1,3),r=t.substring(3,5),a=t.substring(5,7),n=t.substring(7,9)):(s=t.substring(1,2),r=t.substring(2,3),a=t.substring(3,4),n=t.substring(4,5),s+=s,r+=r,a+=a,n+=n),{red:parseInt(s,16),green:parseInt(r,16),blue:parseInt(a,16),alpha:n?parseInt(n,16)/255:1}}const _j={test:A5("#"),parse:zie,transform:u0.transform},gg=t=>({test:s=>typeof s=="string"&&s.endsWith(t)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${t}`}),Qu=gg("deg"),Zc=gg("%"),Rs=gg("px"),$ie=gg("vh"),Uie=gg("vw"),QC={...Zc,parse:t=>Zc.parse(t)/100,transform:t=>Zc.transform(t*100)},Oh={test:A5("hsl","hue"),parse:G7("hue","saturation","lightness"),transform:({hue:t,saturation:s,lightness:r,alpha:a=1})=>"hsla("+Math.round(t)+", "+Zc.transform(xp(s))+", "+Zc.transform(xp(r))+", "+xp(qp.transform(a))+")"},nn={test:t=>u0.test(t)||_j.test(t)||Oh.test(t),parse:t=>u0.test(t)?u0.parse(t):Oh.test(t)?Oh.parse(t):_j.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?u0.transform(t):Oh.transform(t),getAnimatableNone:t=>{const s=nn.parse(t);return s.alpha=0,nn.transform(s)}},Vie=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function qie(t){var s,r;return isNaN(t)&&typeof t=="string"&&(((s=t.match(k5))==null?void 0:s.length)||0)+(((r=t.match(Vie))==null?void 0:r.length)||0)>0}const Y7="number",K7="color",Hie="var",Wie="var(",JC="${}",Gie=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hp(t){const s=t.toString(),r=[],a={color:[],number:[],var:[]},n=[];let i=0;const l=s.replace(Gie,d=>(nn.test(d)?(a.color.push(i),n.push(K7),r.push(nn.parse(d))):d.startsWith(Wie)?(a.var.push(i),n.push(Hie),r.push(d)):(a.number.push(i),n.push(Y7),r.push(parseFloat(d))),++i,JC)).split(JC);return{values:r,split:l,indexes:a,types:n}}function X7(t){return Hp(t).values}function Q7(t){const{split:s,types:r}=Hp(t),a=s.length;return n=>{let i="";for(let o=0;o<a;o++)if(i+=s[o],n[o]!==void 0){const l=r[o];l===Y7?i+=xp(n[o]):l===K7?i+=nn.transform(n[o]):i+=n[o]}return i}}const Yie=t=>typeof t=="number"?0:nn.test(t)?nn.getAnimatableNone(t):t;function Kie(t){const s=X7(t);return Q7(t)(s.map(Yie))}const gm={test:qie,parse:X7,createTransformer:Q7,getAnimatableNone:Kie};function xw(t,s,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(s-t)*6*r:r<1/2?s:r<2/3?t+(s-t)*(2/3-r)*6:t}function Xie({hue:t,saturation:s,lightness:r,alpha:a}){t/=360,s/=100,r/=100;let n=0,i=0,o=0;if(!s)n=i=o=r;else{const l=r<.5?r*(1+s):r+s-r*s,d=2*r-l;n=xw(d,l,t+1/3),i=xw(d,l,t),o=xw(d,l,t-1/3)}return{red:Math.round(n*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:a}}function p1(t,s){return r=>r>0?s:t}const Na=(t,s,r)=>t+(s-t)*r,fw=(t,s,r)=>{const a=t*t,n=r*(s*s-a)+a;return n<0?0:Math.sqrt(n)},Qie=[_j,u0,Oh],Jie=t=>Qie.find(s=>s.test(t));function ZC(t){const s=Jie(t);if(!s)return!1;let r=s.parse(t);return s===Oh&&(r=Xie(r)),r}const ek=(t,s)=>{const r=ZC(t),a=ZC(s);if(!r||!a)return p1(t,s);const n={...r};return i=>(n.red=fw(r.red,a.red,i),n.green=fw(r.green,a.green,i),n.blue=fw(r.blue,a.blue,i),n.alpha=Na(r.alpha,a.alpha,i),u0.transform(n))},Cj=new Set(["none","hidden"]);function Zie(t,s){return Cj.has(t)?r=>r<=0?t:s:r=>r>=1?s:t}function eoe(t,s){return r=>Na(t,s,r)}function E5(t){return typeof t=="number"?eoe:typeof t=="string"?C5(t)?p1:nn.test(t)?ek:roe:Array.isArray(t)?J7:typeof t=="object"?nn.test(t)?ek:toe:p1}function J7(t,s){const r=[...t],a=r.length,n=t.map((i,o)=>E5(i)(i,s[o]));return i=>{for(let o=0;o<a;o++)r[o]=n[o](i);return r}}function toe(t,s){const r={...t,...s},a={};for(const n in r)t[n]!==void 0&&s[n]!==void 0&&(a[n]=E5(t[n])(t[n],s[n]));return n=>{for(const i in a)r[i]=a[i](n);return r}}function soe(t,s){const r=[],a={color:0,var:0,number:0};for(let n=0;n<s.values.length;n++){const i=s.types[n],o=t.indexes[i][a[i]],l=t.values[o]??0;r[n]=l,a[i]++}return r}const roe=(t,s)=>{const r=gm.createTransformer(s),a=Hp(t),n=Hp(s);return a.indexes.var.length===n.indexes.var.length&&a.indexes.color.length===n.indexes.color.length&&a.indexes.number.length>=n.indexes.number.length?Cj.has(t)&&!n.values.length||Cj.has(s)&&!a.values.length?Zie(t,s):fg(J7(soe(a,n),n.values),r):p1(t,s)};function Z7(t,s,r){return typeof t=="number"&&typeof s=="number"&&typeof r=="number"?Na(t,s,r):E5(t)(t,s)}const aoe=t=>{const s=({timestamp:r})=>t(r);return{start:(r=!0)=>xa.update(s,r),stop:()=>pm(s),now:()=>Gn.isProcessing?Gn.timestamp:ao.now()}},eP=(t,s,r=10)=>{let a="";const n=Math.max(Math.round(s/r),2);for(let i=0;i<n;i++)a+=Math.round(t(i/(n-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},g1=2e4;function T5(t){let s=0;const r=50;let a=t.next(s);for(;!a.done&&s<g1;)s+=r,a=t.next(s);return s>=g1?1/0:s}function noe(t,s=100,r){const a=r({...t,keyframes:[0,s]}),n=Math.min(T5(a),g1);return{type:"keyframes",ease:i=>a.next(n*i).value/s,duration:Jc(n)}}const ioe=5;function tP(t,s,r){const a=Math.max(s-ioe,0);return L7(r-t(a),s-a)}const Ta={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pw=.001;function ooe({duration:t=Ta.duration,bounce:s=Ta.bounce,velocity:r=Ta.velocity,mass:a=Ta.mass}){let n,i,o=1-s;o=tu(Ta.minDamping,Ta.maxDamping,o),t=tu(Ta.minDuration,Ta.maxDuration,Jc(t)),o<1?(n=u=>{const h=u*o,f=h*t,p=h-r,g=kj(u,o),v=Math.exp(-f);return pw-p/g*v},i=u=>{const f=u*o*t,p=f*r+r,g=Math.pow(o,2)*Math.pow(u,2)*t,v=Math.exp(-f),y=kj(Math.pow(u,2),o);return(-n(u)+pw>0?-1:1)*((p-g)*v)/y}):(n=u=>{const h=Math.exp(-u*t),f=(u-r)*t+1;return-pw+h*f},i=u=>{const h=Math.exp(-u*t),f=(r-u)*(t*t);return h*f});const l=5/t,d=coe(n,i,l);if(t=Qc(t),isNaN(d))return{stiffness:Ta.stiffness,damping:Ta.damping,duration:t};{const u=Math.pow(d,2)*a;return{stiffness:u,damping:o*2*Math.sqrt(a*u),duration:t}}}const loe=12;function coe(t,s,r){let a=r;for(let n=1;n<loe;n++)a=a-t(a)/s(a);return a}function kj(t,s){return t*Math.sqrt(1-s*s)}const doe=["duration","bounce"],uoe=["stiffness","damping","mass"];function tk(t,s){return s.some(r=>t[r]!==void 0)}function moe(t){let s={velocity:Ta.velocity,stiffness:Ta.stiffness,damping:Ta.damping,mass:Ta.mass,isResolvedFromDuration:!1,...t};if(!tk(t,uoe)&&tk(t,doe))if(t.visualDuration){const r=t.visualDuration,a=2*Math.PI/(r*1.2),n=a*a,i=2*tu(.05,1,1-(t.bounce||0))*Math.sqrt(n);s={...s,mass:Ta.mass,stiffness:n,damping:i}}else{const r=ooe(t);s={...s,...r,mass:Ta.mass},s.isResolvedFromDuration=!0}return s}function y1(t=Ta.visualDuration,s=Ta.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:s}:t;let{restSpeed:a,restDelta:n}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:d,damping:u,mass:h,duration:f,velocity:p,isResolvedFromDuration:g}=moe({...r,velocity:-Jc(r.velocity||0)}),v=p||0,y=u/(2*Math.sqrt(d*h)),b=o-i,_=Jc(Math.sqrt(d/h)),k=Math.abs(b)<5;a||(a=k?Ta.restSpeed.granular:Ta.restSpeed.default),n||(n=k?Ta.restDelta.granular:Ta.restDelta.default);let A;if(y<1){const F=kj(_,y);A=V=>{const S=Math.exp(-y*_*V);return o-S*((v+y*_*b)/F*Math.sin(F*V)+b*Math.cos(F*V))}}else if(y===1)A=F=>o-Math.exp(-_*F)*(b+(v+_*b)*F);else{const F=_*Math.sqrt(y*y-1);A=V=>{const S=Math.exp(-y*_*V),L=Math.min(F*V,300);return o-S*((v+y*_*b)*Math.sinh(L)+F*b*Math.cosh(L))/F}}const R={calculatedDuration:g&&f||null,next:F=>{const V=A(F);if(g)l.done=F>=f;else{let S=F===0?v:0;y<1&&(S=F===0?Qc(v):tP(A,F,V));const L=Math.abs(S)<=a,I=Math.abs(o-V)<=n;l.done=L&&I}return l.value=l.done?o:V,l},toString:()=>{const F=Math.min(T5(R),g1),V=eP(S=>R.next(F*S).value,F,30);return F+"ms "+V},toTransition:()=>{}};return R}y1.applyToOptions=t=>{const s=noe(t,100,y1);return t.ease=s.ease,t.duration=Qc(s.duration),t.type="keyframes",t};function Aj({keyframes:t,velocity:s=0,power:r=.8,timeConstant:a=325,bounceDamping:n=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:d,restDelta:u=.5,restSpeed:h}){const f=t[0],p={done:!1,value:f},g=L=>l!==void 0&&L<l||d!==void 0&&L>d,v=L=>l===void 0?d:d===void 0||Math.abs(l-L)<Math.abs(d-L)?l:d;let y=r*s;const b=f+y,_=o===void 0?b:o(b);_!==b&&(y=_-f);const k=L=>-y*Math.exp(-L/a),A=L=>_+k(L),R=L=>{const I=k(L),B=A(L);p.done=Math.abs(I)<=u,p.value=p.done?_:B};let F,V;const S=L=>{g(p.value)&&(F=L,V=y1({keyframes:[p.value,v(p.value)],velocity:tP(A,L,p.value),damping:n,stiffness:i,restDelta:u,restSpeed:h}))};return S(0),{calculatedDuration:null,next:L=>{let I=!1;return!V&&F===void 0&&(I=!0,R(L),S(L)),F!==void 0&&L>=F?V.next(L-F):(!I&&R(L),p)}}}function hoe(t,s,r){const a=[],n=r||su.mix||Z7,i=t.length-1;for(let o=0;o<i;o++){let l=n(t[o],t[o+1]);if(s){const d=Array.isArray(s)?s[o]||ml:s;l=fg(d,l)}a.push(l)}return a}function xoe(t,s,{clamp:r=!0,ease:a,mixer:n}={}){const i=t.length;if(v5(i===s.length),i===1)return()=>s[0];if(i===2&&s[0]===s[1])return()=>s[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),s=[...s].reverse());const l=hoe(s,a,n),d=l.length,u=h=>{if(o&&h<t[0])return s[0];let f=0;if(d>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const p=Vp(t[f],t[f+1],h);return l[f](p)};return r?h=>u(tu(t[0],t[i-1],h)):u}function foe(t,s){const r=t[t.length-1];for(let a=1;a<=s;a++){const n=Vp(0,s,a);t.push(Na(r,1,n))}}function poe(t){const s=[0];return foe(s,t.length-1),s}function goe(t,s){return t.map(r=>r*s)}function yoe(t,s){return t.map(()=>s||V7).splice(0,t.length-1)}function fp({duration:t=300,keyframes:s,times:r,ease:a="easeInOut"}){const n=Eie(a)?a.map(XC):XC(a),i={done:!1,value:s[0]},o=goe(r&&r.length===s.length?r:poe(s),t),l=xoe(o,s,{ease:Array.isArray(n)?n:yoe(s,n)});return{calculatedDuration:t,next:d=>(i.value=l(d),i.done=d>=t,i)}}const boe=t=>t!==null;function D5(t,{repeat:s,repeatType:r="loop"},a,n=1){const i=t.filter(boe),l=n<0||s&&r!=="loop"&&s%2===1?0:i.length-1;return!l||a===void 0?i[l]:a}const voe={decay:Aj,inertia:Aj,tween:fp,keyframes:fp,spring:y1};function sP(t){typeof t.type=="string"&&(t.type=voe[t.type])}class P5{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(s=>{this.resolve=s})}notifyFinished(){this.resolve()}then(s,r){return this.finished.then(s,r)}}const woe=t=>t/100;class M5 extends P5{constructor(s){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var a,n;const{motionValue:r}=this.options;r&&r.updatedAt!==ao.now()&&this.tick(ao.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(n=(a=this.options).onStop)==null||n.call(a))},this.options=s,this.initAnimation(),this.play(),s.autoplay===!1&&this.pause()}initAnimation(){const{options:s}=this;sP(s);const{type:r=fp,repeat:a=0,repeatDelay:n=0,repeatType:i,velocity:o=0}=s;let{keyframes:l}=s;const d=r||fp;d!==fp&&typeof l[0]!="number"&&(this.mixKeyframes=fg(woe,Z7(l[0],l[1])),l=[0,100]);const u=d({...s,keyframes:l});i==="mirror"&&(this.mirroredGenerator=d({...s,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=T5(u));const{calculatedDuration:h}=u;this.calculatedDuration=h,this.resolvedDuration=h+n,this.totalDuration=this.resolvedDuration*(a+1)-n,this.generator=u}updateTime(s){const r=Math.round(s-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(s,r=!1){const{generator:a,totalDuration:n,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:d}=this;if(this.startTime===null)return a.next(0);const{delay:u=0,keyframes:h,repeat:f,repeatType:p,repeatDelay:g,type:v,onUpdate:y,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-n/this.speed,this.startTime)),r?this.currentTime=s:this.updateTime(s);const _=this.currentTime-u*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?_<0:_>n;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=n);let A=this.currentTime,R=a;if(f){const L=Math.min(this.currentTime,n)/l;let I=Math.floor(L),B=L%1;!B&&L>=1&&(B=1),B===1&&I--,I=Math.min(I,f+1),!!(I%2)&&(p==="reverse"?(B=1-B,g&&(B-=g/l)):p==="mirror"&&(R=o)),A=tu(0,1,B)*l}const F=k?{done:!1,value:h[0]}:R.next(A);i&&(F.value=i(F.value));let{done:V}=F;!k&&d!==null&&(V=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return S&&v!==Aj&&(F.value=D5(h,this.options,b,this.speed)),y&&y(F.value),S&&this.finish(),F}then(s,r){return this.finished.then(s,r)}get duration(){return Jc(this.calculatedDuration)}get time(){return Jc(this.currentTime)}set time(s){var r;s=Qc(s),this.currentTime=s,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(s){this.updateTime(ao.now());const r=this.playbackSpeed!==s;this.playbackSpeed=s,r&&(this.time=Jc(this.currentTime))}play(){var n,i;if(this.isStopped)return;const{driver:s=aoe,startTime:r}=this.options;this.driver||(this.driver=s(o=>this.tick(o))),(i=(n=this.options).onPlay)==null||i.call(n);const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=r??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ao.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var s,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(s=this.options).onComplete)==null||r.call(s)}cancel(){var s,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(s=this.options).onCancel)==null||r.call(s)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}attachTimeline(s){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),s.observe(this)}}function joe(t){for(let s=1;s<t.length;s++)t[s]??(t[s]=t[s-1])}const m0=t=>t*180/Math.PI,Ej=t=>{const s=m0(Math.atan2(t[1],t[0]));return Tj(s)},Noe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ej,rotateZ:Ej,skewX:t=>m0(Math.atan(t[1])),skewY:t=>m0(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Tj=t=>(t=t%360,t<0&&(t+=360),t),sk=Ej,rk=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),ak=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Soe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:rk,scaleY:ak,scale:t=>(rk(t)+ak(t))/2,rotateX:t=>Tj(m0(Math.atan2(t[6],t[5]))),rotateY:t=>Tj(m0(Math.atan2(-t[2],t[0]))),rotateZ:sk,rotate:sk,skewX:t=>m0(Math.atan(t[4])),skewY:t=>m0(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Dj(t){return t.includes("scale")?1:0}function Pj(t,s){if(!t||t==="none")return Dj(s);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,n;if(r)a=Soe,n=r;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=Noe,n=l}if(!n)return Dj(s);const i=a[s],o=n[1].split(",").map(Coe);return typeof i=="function"?i(o):o[i]}const _oe=(t,s)=>{const{transform:r="none"}=getComputedStyle(t);return Pj(r,s)};function Coe(t){return parseFloat(t.trim())}const Ex=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tx=new Set(Ex),nk=t=>t===Ax||t===Rs,koe=new Set(["x","y","z"]),Aoe=Ex.filter(t=>!koe.has(t));function Eoe(t){const s=[];return Aoe.forEach(r=>{const a=t.getValue(r);a!==void 0&&(s.push([r,a.get()]),a.set(r.startsWith("scale")?1:0))}),s}const v0={width:({x:t},{paddingLeft:s="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(s)-parseFloat(r),height:({y:t},{paddingTop:s="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(s)-parseFloat(r),top:(t,{top:s})=>parseFloat(s),left:(t,{left:s})=>parseFloat(s),bottom:({y:t},{top:s})=>parseFloat(s)+(t.max-t.min),right:({x:t},{left:s})=>parseFloat(s)+(t.max-t.min),x:(t,{transform:s})=>Pj(s,"x"),y:(t,{transform:s})=>Pj(s,"y")};v0.translateX=v0.x;v0.translateY=v0.y;const w0=new Set;let Mj=!1,Lj=!1,Fj=!1;function rP(){if(Lj){const t=Array.from(w0).filter(a=>a.needsMeasurement),s=new Set(t.map(a=>a.element)),r=new Map;s.forEach(a=>{const n=Eoe(a);n.length&&(r.set(a,n),a.render())}),t.forEach(a=>a.measureInitialState()),s.forEach(a=>{a.render();const n=r.get(a);n&&n.forEach(([i,o])=>{var l;(l=a.getValue(i))==null||l.set(o)})}),t.forEach(a=>a.measureEndState()),t.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}Lj=!1,Mj=!1,w0.forEach(t=>t.complete(Fj)),w0.clear()}function aP(){w0.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Lj=!0)})}function Toe(){Fj=!0,aP(),rP(),Fj=!1}class L5{constructor(s,r,a,n,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...s],this.onComplete=r,this.name=a,this.motionValue=n,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(w0.add(this),Mj||(Mj=!0,xa.read(aP),xa.resolveKeyframes(rP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:r,element:a,motionValue:n}=this;if(s[0]===null){const i=n==null?void 0:n.get(),o=s[s.length-1];if(i!==void 0)s[0]=i;else if(a&&r){const l=a.readValue(r,o);l!=null&&(s[0]=l)}s[0]===void 0&&(s[0]=o),n&&i===void 0&&n.set(s[0])}joe(s)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(s=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,s),w0.delete(this)}cancel(){this.state==="scheduled"&&(w0.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Doe=t=>t.startsWith("--");function Poe(t,s,r){Doe(s)?t.style.setProperty(s,r):t.style[s]=r}const Moe=w5(()=>window.ScrollTimeline!==void 0),Loe={};function Foe(t,s){const r=w5(t);return()=>Loe[s]??r()}const nP=Foe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Xf=([t,s,r,a])=>`cubic-bezier(${t}, ${s}, ${r}, ${a})`,ik={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xf([0,.65,.55,1]),circOut:Xf([.55,0,1,.45]),backIn:Xf([.31,.01,.66,-.59]),backOut:Xf([.33,1.53,.69,.99])};function iP(t,s){if(t)return typeof t=="function"?nP()?eP(t,s):"ease-out":q7(t)?Xf(t):Array.isArray(t)?t.map(r=>iP(r,s)||ik.easeOut):ik[t]}function Roe(t,s,r,{delay:a=0,duration:n=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:d}={},u=void 0){const h={[s]:r};d&&(h.offset=d);const f=iP(l,n);Array.isArray(f)&&(h.easing=f);const p={delay:a,duration:n,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(p.pseudoElement=u),t.animate(h,p)}function oP(t){return typeof t=="function"&&"applyToOptions"in t}function Ooe({type:t,...s}){return oP(t)&&nP()?t.applyToOptions(s):(s.duration??(s.duration=300),s.ease??(s.ease="easeOut"),s)}class Ioe extends P5{constructor(s){if(super(),this.finishedTime=null,this.isStopped=!1,!s)return;const{element:r,name:a,keyframes:n,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:d}=s;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=s,v5(typeof s.type!="string");const u=Ooe(s);this.animation=Roe(r,a,n,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=D5(n,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):Poe(r,a,h),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var s,r;(r=(s=this.animation).finish)==null||r.call(s)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:s}=this;s==="idle"||s==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var s,r;this.isPseudoElement||(r=(s=this.animation).commitStyles)==null||r.call(s)}get duration(){var r,a;const s=((a=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:a.call(r).duration)||0;return Jc(Number(s))}get time(){return Jc(Number(this.animation.currentTime)||0)}set time(s){this.finishedTime=null,this.animation.currentTime=Qc(s)}get speed(){return this.animation.playbackRate}set speed(s){s<0&&(this.finishedTime=null),this.animation.playbackRate=s}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(s){this.animation.startTime=s}attachTimeline({timeline:s,observe:r}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,s&&Moe()?(this.animation.timeline=s,ml):r(this)}}const lP={anticipate:z7,backInOut:B7,circInOut:U7};function Boe(t){return t in lP}function zoe(t){typeof t.ease=="string"&&Boe(t.ease)&&(t.ease=lP[t.ease])}const ok=10;class $oe extends Ioe{constructor(s){zoe(s),sP(s),super(s),s.startTime&&(this.startTime=s.startTime),this.options=s}updateMotionValue(s){const{motionValue:r,onUpdate:a,onComplete:n,element:i,...o}=this.options;if(!r)return;if(s!==void 0){r.set(s);return}const l=new M5({...o,autoplay:!1}),d=Qc(this.finishedTime??this.time);r.setWithVelocity(l.sample(d-ok).value,l.sample(d).value,ok),l.stop()}}const lk=(t,s)=>s==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(gm.test(t)||t==="0")&&!t.startsWith("url("));function Uoe(t){const s=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==s)return!0}function Voe(t,s,r,a){const n=t[0];if(n===null)return!1;if(s==="display"||s==="visibility")return!0;const i=t[t.length-1],o=lk(n,s),l=lk(i,s);return!o||!l?!1:Uoe(t)||(r==="spring"||oP(r))&&a}const qoe=new Set(["opacity","clipPath","filter","transform"]),Hoe=w5(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Woe(t){var h;const{motionValue:s,name:r,repeatDelay:a,repeatType:n,damping:i,type:o}=t;if(!(((h=s==null?void 0:s.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:u}=s.owner.getProps();return Hoe()&&r&&qoe.has(r)&&(r!=="transform"||!u)&&!d&&!a&&n!=="mirror"&&i!==0&&o!=="inertia"}const Goe=40;class Yoe extends P5{constructor({autoplay:s=!0,delay:r=0,type:a="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:d,motionValue:u,element:h,...f}){var v;super(),this.stop=()=>{var y,b;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=ao.now();const p={autoplay:s,delay:r,type:a,repeat:n,repeatDelay:i,repeatType:o,name:d,motionValue:u,element:h,...f},g=(h==null?void 0:h.KeyframeResolver)||L5;this.keyframeResolver=new g(l,(y,b,_)=>this.onKeyframesResolved(y,b,p,!_),d,u,h),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(s,r,a,n){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:d,isHandoff:u,onUpdate:h}=a;this.resolvedAt=ao.now(),Voe(s,i,o,l)||((su.instantAnimations||!d)&&(h==null||h(D5(s,a,r))),s[0]=s[s.length-1],a.duration=0,a.repeat=0);const p={startTime:n?this.resolvedAt?this.resolvedAt-this.createdAt>Goe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...a,keyframes:s},g=!u&&Woe(p)?new $oe({...p,element:p.motionValue.owner.current}):new M5(p);g.finished.then(()=>this.notifyFinished()).catch(ml),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(s,r){return this.finished.finally(s).then(()=>{})}get animation(){var s;return this._animation||((s=this.keyframeResolver)==null||s.resume(),Toe()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(s){this.animation.time=s}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(s){this.animation.speed=s}get startTime(){return this.animation.startTime}attachTimeline(s){return this._animation?this.stopTimeline=this.animation.attachTimeline(s):this.pendingTimeline=s,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var s;this._animation&&this.animation.cancel(),(s=this.keyframeResolver)==null||s.cancel()}}const Koe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Xoe(t){const s=Koe.exec(t);if(!s)return[,];const[,r,a,n]=s;return[`--${r??a}`,n]}function cP(t,s,r=1){const[a,n]=Xoe(t);if(!a)return;const i=window.getComputedStyle(s).getPropertyValue(a);if(i){const o=i.trim();return D7(o)?parseFloat(o):o}return C5(n)?cP(n,s,r+1):n}function F5(t,s){return(t==null?void 0:t[s])??(t==null?void 0:t.default)??t}const dP=new Set(["width","height","top","left","right","bottom",...Ex]),Qoe={test:t=>t==="auto",parse:t=>t},uP=t=>s=>s.test(t),mP=[Ax,Rs,Zc,Qu,Uie,$ie,Qoe],ck=t=>mP.find(uP(t));function Joe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||M7(t):!0}const Zoe=new Set(["brightness","contrast","saturate","opacity"]);function ele(t){const[s,r]=t.slice(0,-1).split("(");if(s==="drop-shadow")return t;const[a]=r.match(k5)||[];if(!a)return t;const n=r.replace(a,"");let i=Zoe.has(s)?1:0;return a!==r&&(i*=100),s+"("+i+n+")"}const tle=/\b([a-z-]*)\(.*?\)/gu,Rj={...gm,getAnimatableNone:t=>{const s=t.match(tle);return s?s.map(ele).join(" "):t}},dk={...Ax,transform:Math.round},sle={rotate:Qu,rotateX:Qu,rotateY:Qu,rotateZ:Qu,scale:rb,scaleX:rb,scaleY:rb,scaleZ:rb,skew:Qu,skewX:Qu,skewY:Qu,distance:Rs,translateX:Rs,translateY:Rs,translateZ:Rs,x:Rs,y:Rs,z:Rs,perspective:Rs,transformPerspective:Rs,opacity:qp,originX:QC,originY:QC,originZ:Rs},R5={borderWidth:Rs,borderTopWidth:Rs,borderRightWidth:Rs,borderBottomWidth:Rs,borderLeftWidth:Rs,borderRadius:Rs,radius:Rs,borderTopLeftRadius:Rs,borderTopRightRadius:Rs,borderBottomRightRadius:Rs,borderBottomLeftRadius:Rs,width:Rs,maxWidth:Rs,height:Rs,maxHeight:Rs,top:Rs,right:Rs,bottom:Rs,left:Rs,padding:Rs,paddingTop:Rs,paddingRight:Rs,paddingBottom:Rs,paddingLeft:Rs,margin:Rs,marginTop:Rs,marginRight:Rs,marginBottom:Rs,marginLeft:Rs,backgroundPositionX:Rs,backgroundPositionY:Rs,...sle,zIndex:dk,fillOpacity:qp,strokeOpacity:qp,numOctaves:dk},rle={...R5,color:nn,backgroundColor:nn,outlineColor:nn,fill:nn,stroke:nn,borderColor:nn,borderTopColor:nn,borderRightColor:nn,borderBottomColor:nn,borderLeftColor:nn,filter:Rj,WebkitFilter:Rj},hP=t=>rle[t];function xP(t,s){let r=hP(t);return r!==Rj&&(r=gm),r.getAnimatableNone?r.getAnimatableNone(s):void 0}const ale=new Set(["auto","none","0"]);function nle(t,s,r){let a=0,n;for(;a<t.length&&!n;){const i=t[a];typeof i=="string"&&!ale.has(i)&&Hp(i).values.length&&(n=t[a]),a++}if(n&&r)for(const i of s)t[i]=xP(r,n)}class ile extends L5{constructor(s,r,a,n,i){super(s,r,a,n,i,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:r,name:a}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<s.length;d++){let u=s[d];if(typeof u=="string"&&(u=u.trim(),C5(u))){const h=cP(u,r.current);h!==void 0&&(s[d]=h),d===s.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!dP.has(a)||s.length!==2)return;const[n,i]=s,o=ck(n),l=ck(i);if(o!==l)if(nk(o)&&nk(l))for(let d=0;d<s.length;d++){const u=s[d];typeof u=="string"&&(s[d]=parseFloat(u))}else v0[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:r}=this,a=[];for(let n=0;n<s.length;n++)(s[n]===null||Joe(s[n]))&&a.push(n);a.length&&nle(s,a,r)}measureInitialState(){const{element:s,unresolvedKeyframes:r,name:a}=this;if(!s||!s.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=v0[a](s.measureViewportBox(),window.getComputedStyle(s.current)),r[0]=this.measuredOrigin;const n=r[r.length-1];n!==void 0&&s.getValue(a,n).jump(n,!1)}measureEndState(){var l;const{element:s,name:r,unresolvedKeyframes:a}=this;if(!s||!s.current)return;const n=s.getValue(r);n&&n.jump(this.measuredOrigin,!1);const i=a.length-1,o=a[i];a[i]=v0[r](s.measureViewportBox(),window.getComputedStyle(s.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([d,u])=>{s.getValue(d).set(u)}),this.resolveNoneKeyframes()}}function ole(t,s,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let a=document;const n=(r==null?void 0:r[t])??a.querySelectorAll(t);return n?Array.from(n):[]}return Array.from(t)}const fP=(t,s)=>s&&typeof t=="number"?s.transform(t):t;function lle(t){return P7(t)&&"offsetHeight"in t}const uk=30,cle=t=>!isNaN(parseFloat(t));class dle{constructor(s,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(a,n=!0)=>{var o,l;const i=ao.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty();n&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(s),this.owner=r.owner}setCurrent(s){this.current=s,this.updatedAt=ao.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=cle(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,r){this.events[s]||(this.events[s]=new j5);const a=this.events[s].add(r);return s==="change"?()=>{a(),xa.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,r){this.passiveEffect=s,this.stopPassiveEffect=r}set(s,r=!0){!r||!this.passiveEffect?this.updateAndNotify(s,r):this.passiveEffect(s,this.updateAndNotify)}setWithVelocity(s,r,a){this.set(r),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-a}jump(s,r=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var s;(s=this.events.change)==null||s.notify(this.current)}addDependent(s){this.dependents||(this.dependents=new Set),this.dependents.add(s)}removeDependent(s){this.dependents&&this.dependents.delete(s)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=ao.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>uk)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,uk);return L7(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(s){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=s(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var s,r;(s=this.dependents)==null||s.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ux(t,s){return new dle(t,s)}const{schedule:O5}=H7(queueMicrotask,!1),ql={x:!1,y:!1};function pP(){return ql.x||ql.y}function ule(t){return t==="x"||t==="y"?ql[t]?null:(ql[t]=!0,()=>{ql[t]=!1}):ql.x||ql.y?null:(ql.x=ql.y=!0,()=>{ql.x=ql.y=!1})}function gP(t,s){const r=ole(t),a=new AbortController,n={passive:!0,...s,signal:a.signal};return[r,n,()=>a.abort()]}function mk(t){return!(t.pointerType==="touch"||pP())}function mle(t,s,r={}){const[a,n,i]=gP(t,r),o=l=>{if(!mk(l))return;const{target:d}=l,u=s(d,l);if(typeof u!="function"||!d)return;const h=f=>{mk(f)&&(u(f),d.removeEventListener("pointerleave",h))};d.addEventListener("pointerleave",h,n)};return a.forEach(l=>{l.addEventListener("pointerenter",o,n)}),i}const yP=(t,s)=>s?t===s?!0:yP(t,s.parentElement):!1,I5=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,hle=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function xle(t){return hle.has(t.tagName)||t.tabIndex!==-1}const Cb=new WeakSet;function hk(t){return s=>{s.key==="Enter"&&t(s)}}function gw(t,s){t.dispatchEvent(new PointerEvent("pointer"+s,{isPrimary:!0,bubbles:!0}))}const fle=(t,s)=>{const r=t.currentTarget;if(!r)return;const a=hk(()=>{if(Cb.has(r))return;gw(r,"down");const n=hk(()=>{gw(r,"up")}),i=()=>gw(r,"cancel");r.addEventListener("keyup",n,s),r.addEventListener("blur",i,s)});r.addEventListener("keydown",a,s),r.addEventListener("blur",()=>r.removeEventListener("keydown",a),s)};function xk(t){return I5(t)&&!pP()}function ple(t,s,r={}){const[a,n,i]=gP(t,r),o=l=>{const d=l.currentTarget;if(!xk(l))return;Cb.add(d);const u=s(d,l),h=(g,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),Cb.has(d)&&Cb.delete(d),xk(g)&&typeof u=="function"&&u(g,{success:v})},f=g=>{h(g,d===window||d===document||r.useGlobalTarget||yP(d,g.target))},p=g=>{h(g,!1)};window.addEventListener("pointerup",f,n),window.addEventListener("pointercancel",p,n)};return a.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,n),lle(l)&&(l.addEventListener("focus",u=>fle(u,n)),!xle(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function bP(t){return P7(t)&&"ownerSVGElement"in t}function gle(t){return bP(t)&&t.tagName==="svg"}const bi=t=>!!(t&&t.getVelocity),yle=[...mP,nn,gm],ble=t=>yle.find(uP(t)),vP=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function vle(t=!0){const s=N.useContext(g5);if(s===null)return[!0,null];const{isPresent:r,onExitComplete:a,register:n}=s,i=N.useId();N.useEffect(()=>{if(t)return n(i)},[t]);const o=N.useCallback(()=>t&&a&&a(i),[i,a,t]);return!r&&a?[!1,o]:[!0]}const wP=N.createContext({strict:!1}),fk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},mx={};for(const t in fk)mx[t]={isEnabled:s=>fk[t].some(r=>!!s[r])};function wle(t){for(const s in t)mx[s]={...mx[s],...t[s]}}const jle=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function b1(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||jle.has(t)}let jP=t=>!b1(t);function Nle(t){typeof t=="function"&&(jP=s=>s.startsWith("on")?!b1(s):t(s))}try{Nle(require("@emotion/is-prop-valid").default)}catch{}function Sle(t,s,r){const a={};for(const n in t)n==="values"&&typeof t.values=="object"||(jP(n)||r===!0&&b1(n)||!s&&!b1(n)||t.draggable&&n.startsWith("onDrag"))&&(a[n]=t[n]);return a}const t2=N.createContext({});function s2(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Wp(t){return typeof t=="string"||Array.isArray(t)}const B5=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],z5=["initial",...B5];function r2(t){return s2(t.animate)||z5.some(s=>Wp(t[s]))}function NP(t){return!!(r2(t)||t.variants)}function _le(t,s){if(r2(t)){const{initial:r,animate:a}=t;return{initial:r===!1||Wp(r)?r:void 0,animate:Wp(a)?a:void 0}}return t.inherit!==!1?s:{}}function Cle(t){const{initial:s,animate:r}=_le(t,N.useContext(t2));return N.useMemo(()=>({initial:s,animate:r}),[pk(s),pk(r)])}function pk(t){return Array.isArray(t)?t.join(" "):t}const Gp={};function kle(t){for(const s in t)Gp[s]=t[s],_5(s)&&(Gp[s].isCSSVariable=!0)}function SP(t,{layout:s,layoutId:r}){return Tx.has(t)||t.startsWith("origin")||(s||r!==void 0)&&(!!Gp[t]||t==="opacity")}const Ale={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ele=Ex.length;function Tle(t,s,r){let a="",n=!0;for(let i=0;i<Ele;i++){const o=Ex[i],l=t[o];if(l===void 0)continue;let d=!0;if(typeof l=="number"?d=l===(o.startsWith("scale")?1:0):d=parseFloat(l)===0,!d||r){const u=fP(l,R5[o]);if(!d){n=!1;const h=Ale[o]||o;a+=`${h}(${u}) `}r&&(s[o]=u)}}return a=a.trim(),r?a=r(s,n?"":a):n&&(a="none"),a}function $5(t,s,r){const{style:a,vars:n,transformOrigin:i}=t;let o=!1,l=!1;for(const d in s){const u=s[d];if(Tx.has(d)){o=!0;continue}else if(_5(d)){n[d]=u;continue}else{const h=fP(u,R5[d]);d.startsWith("origin")?(l=!0,i[d]=h):a[d]=h}}if(s.transform||(o||r?a.transform=Tle(s,t.transform,r):a.transform&&(a.transform="none")),l){const{originX:d="50%",originY:u="50%",originZ:h=0}=i;a.transformOrigin=`${d} ${u} ${h}`}}const U5=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _P(t,s,r){for(const a in s)!bi(s[a])&&!SP(a,r)&&(t[a]=s[a])}function Dle({transformTemplate:t},s){return N.useMemo(()=>{const r=U5();return $5(r,s,t),Object.assign({},r.vars,r.style)},[s])}function Ple(t,s){const r=t.style||{},a={};return _P(a,r,t),Object.assign(a,Dle(t,s)),a}function Mle(t,s){const r={},a=Ple(t,s);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=a,r}const Lle={offset:"stroke-dashoffset",array:"stroke-dasharray"},Fle={offset:"strokeDashoffset",array:"strokeDasharray"};function Rle(t,s,r=1,a=0,n=!0){t.pathLength=1;const i=n?Lle:Fle;t[i.offset]=Rs.transform(-a);const o=Rs.transform(s),l=Rs.transform(r);t[i.array]=`${o} ${l}`}function CP(t,{attrX:s,attrY:r,attrScale:a,pathLength:n,pathSpacing:i=1,pathOffset:o=0,...l},d,u,h){if($5(t,l,u),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p}=t;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete f.transformBox),s!==void 0&&(f.x=s),r!==void 0&&(f.y=r),a!==void 0&&(f.scale=a),n!==void 0&&Rle(f,n,i,o,!1)}const kP=()=>({...U5(),attrs:{}}),AP=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Ole(t,s,r,a){const n=N.useMemo(()=>{const i=kP();return CP(i,s,AP(a),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[s]);if(t.style){const i={};_P(i,t.style,t),n.style={...i,...n.style}}return n}const Ile=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function V5(t){return typeof t!="string"||t.includes("-")?!1:!!(Ile.indexOf(t)>-1||/[A-Z]/u.test(t))}function Ble(t,s,r,{latestValues:a},n,i=!1){const l=(V5(t)?Ole:Mle)(s,a,n,t),d=Sle(s,typeof t=="string",i),u=t!==N.Fragment?{...d,...l,ref:r}:{},{children:h}=s,f=N.useMemo(()=>bi(h)?h.get():h,[h]);return N.createElement(t,{...u,children:f})}function gk(t){const s=[{},{}];return t==null||t.values.forEach((r,a)=>{s[0][a]=r.get(),s[1][a]=r.getVelocity()}),s}function q5(t,s,r,a){if(typeof s=="function"){const[n,i]=gk(a);s=s(r!==void 0?r:t.custom,n,i)}if(typeof s=="string"&&(s=t.variants&&t.variants[s]),typeof s=="function"){const[n,i]=gk(a);s=s(r!==void 0?r:t.custom,n,i)}return s}function kb(t){return bi(t)?t.get():t}function zle({scrapeMotionValuesFromProps:t,createRenderState:s},r,a,n){return{latestValues:$le(r,a,n,t),renderState:s()}}function $le(t,s,r,a){const n={},i=a(t,{});for(const p in i)n[p]=kb(i[p]);let{initial:o,animate:l}=t;const d=r2(t),u=NP(t);s&&u&&!d&&t.inherit!==!1&&(o===void 0&&(o=s.initial),l===void 0&&(l=s.animate));let h=r?r.initial===!1:!1;h=h||o===!1;const f=h?l:o;if(f&&typeof f!="boolean"&&!s2(f)){const p=Array.isArray(f)?f:[f];for(let g=0;g<p.length;g++){const v=q5(t,p[g]);if(v){const{transitionEnd:y,transition:b,..._}=v;for(const k in _){let A=_[k];if(Array.isArray(A)){const R=h?A.length-1:0;A=A[R]}A!==null&&(n[k]=A)}for(const k in y)n[k]=y[k]}}}return n}const EP=t=>(s,r)=>{const a=N.useContext(t2),n=N.useContext(g5),i=()=>zle(t,s,a,n);return r?i():wie(i)};function H5(t,s,r){var i;const{style:a}=t,n={};for(const o in a)(bi(a[o])||s.style&&bi(s.style[o])||SP(o,t)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(n[o]=a[o]);return n}const Ule=EP({scrapeMotionValuesFromProps:H5,createRenderState:U5});function TP(t,s,r){const a=H5(t,s,r);for(const n in t)if(bi(t[n])||bi(s[n])){const i=Ex.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;a[i]=t[n]}return a}const Vle=EP({scrapeMotionValuesFromProps:TP,createRenderState:kP}),qle=Symbol.for("motionComponentSymbol");function Ih(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Hle(t,s,r){return N.useCallback(a=>{a&&t.onMount&&t.onMount(a),s&&(a?s.mount(a):s.unmount()),r&&(typeof r=="function"?r(a):Ih(r)&&(r.current=a))},[s])}const W5=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Wle="framerAppearId",DP="data-"+W5(Wle),PP=N.createContext({});function Gle(t,s,r,a,n){var y,b;const{visualElement:i}=N.useContext(t2),o=N.useContext(wP),l=N.useContext(g5),d=N.useContext(vP).reducedMotion,u=N.useRef(null);a=a||o.renderer,!u.current&&a&&(u.current=a(t,{visualState:s,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:d}));const h=u.current,f=N.useContext(PP);h&&!h.projection&&n&&(h.type==="html"||h.type==="svg")&&Yle(u.current,r,n,f);const p=N.useRef(!1);N.useInsertionEffect(()=>{h&&p.current&&h.update(r,l)});const g=r[DP],v=N.useRef(!!g&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,g))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,g)));return jie(()=>{h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),v.current&&h.animationState&&h.animationState.animateChanges())}),N.useEffect(()=>{h&&(!v.current&&h.animationState&&h.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,g)}),v.current=!1))}),h}function Yle(t,s,r,a){const{layoutId:n,layout:i,drag:o,dragConstraints:l,layoutScroll:d,layoutRoot:u,layoutCrossfade:h}=s;t.projection=new r(t.latestValues,s["data-framer-portal-id"]?void 0:MP(t.parent)),t.projection.setOptions({layoutId:n,layout:i,alwaysMeasureLayout:!!o||l&&Ih(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:a,crossfade:h,layoutScroll:d,layoutRoot:u})}function MP(t){if(t)return t.options.allowProjection!==!1?t.projection:MP(t.parent)}function yw(t,{forwardMotionProps:s=!1}={},r,a){r&&wle(r);const n=V5(t)?Vle:Ule;function i(l,d){let u;const h={...N.useContext(vP),...l,layoutId:Kle(l)},{isStatic:f}=h,p=Cle(l),g=n(l,f);if(!f&&p5){Xle();const v=Qle(h);u=v.MeasureLayout,p.visualElement=Gle(t,g,h,a,v.ProjectionNode)}return e.jsxs(t2.Provider,{value:p,children:[u&&p.visualElement?e.jsx(u,{visualElement:p.visualElement,...h}):null,Ble(t,l,Hle(g,p.visualElement,d),g,f,s)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=N.forwardRef(i);return o[qle]=t,o}function Kle({layoutId:t}){const s=N.useContext(T7).id;return s&&t!==void 0?s+"-"+t:t}function Xle(t,s){N.useContext(wP).strict}function Qle(t){const{drag:s,layout:r}=mx;if(!s&&!r)return{};const a={...s,...r};return{MeasureLayout:s!=null&&s.isEnabled(t)||r!=null&&r.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function Jle(t,s){if(typeof Proxy>"u")return yw;const r=new Map,a=(i,o)=>yw(i,o,t,s),n=(i,o)=>a(i,o);return new Proxy(n,{get:(i,o)=>o==="create"?a:(r.has(o)||r.set(o,yw(o,void 0,t,s)),r.get(o))})}function LP({top:t,left:s,right:r,bottom:a}){return{x:{min:s,max:r},y:{min:t,max:a}}}function Zle({x:t,y:s}){return{top:s.min,right:t.max,bottom:s.max,left:t.min}}function ece(t,s){if(!s)return t;const r=s({x:t.left,y:t.top}),a=s({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:a.y,right:a.x}}function bw(t){return t===void 0||t===1}function Oj({scale:t,scaleX:s,scaleY:r}){return!bw(t)||!bw(s)||!bw(r)}function n0(t){return Oj(t)||FP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function FP(t){return yk(t.x)||yk(t.y)}function yk(t){return t&&t!=="0%"}function v1(t,s,r){const a=t-r,n=s*a;return r+n}function bk(t,s,r,a,n){return n!==void 0&&(t=v1(t,n,a)),v1(t,r,a)+s}function Ij(t,s=0,r=1,a,n){t.min=bk(t.min,s,r,a,n),t.max=bk(t.max,s,r,a,n)}function RP(t,{x:s,y:r}){Ij(t.x,s.translate,s.scale,s.originPoint),Ij(t.y,r.translate,r.scale,r.originPoint)}const vk=.999999999999,wk=1.0000000000001;function tce(t,s,r,a=!1){const n=r.length;if(!n)return;s.x=s.y=1;let i,o;for(let l=0;l<n;l++){i=r[l],o=i.projectionDelta;const{visualElement:d}=i.options;d&&d.props.style&&d.props.style.display==="contents"||(a&&i.options.layoutScroll&&i.scroll&&i!==i.root&&zh(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(s.x*=o.x.scale,s.y*=o.y.scale,RP(t,o)),a&&n0(i.latestValues)&&zh(t,i.latestValues))}s.x<wk&&s.x>vk&&(s.x=1),s.y<wk&&s.y>vk&&(s.y=1)}function Bh(t,s){t.min=t.min+s,t.max=t.max+s}function jk(t,s,r,a,n=.5){const i=Na(t.min,t.max,n);Ij(t,s,r,i,a)}function zh(t,s){jk(t.x,s.x,s.scaleX,s.scale,s.originX),jk(t.y,s.y,s.scaleY,s.scale,s.originY)}function OP(t,s){return LP(ece(t.getBoundingClientRect(),s))}function sce(t,s,r){const a=OP(t,r),{scroll:n}=s;return n&&(Bh(a.x,n.offset.x),Bh(a.y,n.offset.y)),a}const Nk=()=>({translate:0,scale:1,origin:0,originPoint:0}),$h=()=>({x:Nk(),y:Nk()}),Sk=()=>({min:0,max:0}),Ua=()=>({x:Sk(),y:Sk()}),Bj={current:null},IP={current:!1};function rce(){if(IP.current=!0,!!p5)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),s=()=>Bj.current=t.matches;t.addEventListener("change",s),s()}else Bj.current=!1}const ace=new WeakMap;function nce(t,s,r){for(const a in s){const n=s[a],i=r[a];if(bi(n))t.addValue(a,n);else if(bi(i))t.addValue(a,ux(n,{owner:t}));else if(i!==n)if(t.hasValue(a)){const o=t.getValue(a);o.liveStyle===!0?o.jump(n):o.hasAnimated||o.set(n)}else{const o=t.getStaticValue(a);t.addValue(a,ux(o!==void 0?o:n,{owner:t}))}}for(const a in r)s[a]===void 0&&t.removeValue(a);return s}const _k=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ice{scrapeMotionValuesFromProps(s,r,a){return{}}constructor({parent:s,props:r,presenceContext:a,reducedMotionConfig:n,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=L5,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=ao.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,xa.render(this.render,!1,!0))};const{latestValues:d,renderState:u}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=u,this.parent=s,this.props=r,this.presenceContext=a,this.depth=s?s.depth+1:0,this.reducedMotionConfig=n,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=r2(r),this.isVariantNode=NP(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const p in f){const g=f[p];d[p]!==void 0&&bi(g)&&g.set(d[p],!1)}}mount(s){this.current=s,ace.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),IP.current||rce(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Bj.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),pm(this.notifyUpdate),pm(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const r=this.features[s];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(s,r){this.valueSubscriptions.has(s)&&this.valueSubscriptions.get(s)();const a=Tx.has(s);a&&this.onBindTransform&&this.onBindTransform();const n=r.on("change",l=>{this.latestValues[s]=l,this.props.onUpdate&&xa.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,s,r)),this.valueSubscriptions.set(s,()=>{n(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in mx){const r=mx[s];if(!r)continue;const{isEnabled:a,Feature:n}=r;if(!this.features[s]&&n&&a(this.props)&&(this.features[s]=new n(this)),this.features[s]){const i=this.features[s];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ua()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,r){this.latestValues[s]=r}update(s,r){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let a=0;a<_k.length;a++){const n=_k[a];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const i="on"+n,o=s[i];o&&(this.propEventSubscriptions[n]=this.on(n,o))}this.prevMotionValues=nce(this,this.scrapeMotionValuesFromProps(s,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(s){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(s),()=>r.variantChildren.delete(s)}addValue(s,r){const a=this.values.get(s);r!==a&&(a&&this.removeValue(s),this.bindToMotionValue(s,r),this.values.set(s,r),this.latestValues[s]=r.get())}removeValue(s){this.values.delete(s);const r=this.valueSubscriptions.get(s);r&&(r(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,r){if(this.props.values&&this.props.values[s])return this.props.values[s];let a=this.values.get(s);return a===void 0&&r!==void 0&&(a=ux(r===null?void 0:r,{owner:this}),this.addValue(s,a)),a}readValue(s,r){let a=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:this.getBaseTargetFromProps(this.props,s)??this.readValueFromInstance(this.current,s,this.options);return a!=null&&(typeof a=="string"&&(D7(a)||M7(a))?a=parseFloat(a):!ble(a)&&gm.test(r)&&(a=xP(s,r)),this.setBaseTarget(s,bi(a)?a.get():a)),bi(a)?a.get():a}setBaseTarget(s,r){this.baseTarget[s]=r}getBaseTarget(s){var i;const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const o=q5(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(a=o[s])}if(r&&a!==void 0)return a;const n=this.getBaseTargetFromProps(this.props,s);return n!==void 0&&!bi(n)?n:this.initialValues[s]!==void 0&&a===void 0?void 0:this.baseTarget[s]}on(s,r){return this.events[s]||(this.events[s]=new j5),this.events[s].add(r)}notify(s,...r){this.events[s]&&this.events[s].notify(...r)}scheduleRenderMicrotask(){O5.render(this.render)}}class BP extends ice{constructor(){super(...arguments),this.KeyframeResolver=ile}sortInstanceNodePosition(s,r){return s.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(s,r){return s.style?s.style[r]:void 0}removeValueFromRenderState(s,{vars:r,style:a}){delete r[s],delete a[s]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;bi(s)&&(this.childSubscription=s.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function zP(t,{style:s,vars:r},a,n){const i=t.style;let o;for(o in s)i[o]=s[o];n==null||n.applyProjectionStyles(i,a);for(o in r)i.setProperty(o,r[o])}function oce(t){return window.getComputedStyle(t)}class lce extends BP{constructor(){super(...arguments),this.type="html",this.renderInstance=zP}readValueFromInstance(s,r){var a;if(Tx.has(r))return(a=this.projection)!=null&&a.isProjecting?Dj(r):_oe(s,r);{const n=oce(s),i=(_5(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(s,{transformPagePoint:r}){return OP(s,r)}build(s,r,a){$5(s,r,a.transformTemplate)}scrapeMotionValuesFromProps(s,r,a){return H5(s,r,a)}}const $P=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function cce(t,s,r,a){zP(t,s,void 0,a);for(const n in s.attrs)t.setAttribute($P.has(n)?n:W5(n),s.attrs[n])}class dce extends BP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ua}getBaseTargetFromProps(s,r){return s[r]}readValueFromInstance(s,r){if(Tx.has(r)){const a=hP(r);return a&&a.default||0}return r=$P.has(r)?r:W5(r),s.getAttribute(r)}scrapeMotionValuesFromProps(s,r,a){return TP(s,r,a)}build(s,r,a){CP(s,r,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(s,r,a,n){cce(s,r,a,n)}mount(s){this.isSVGTag=AP(s.tagName),super.mount(s)}}const uce=(t,s)=>V5(t)?new dce(s):new lce(s,{allowProjection:t!==N.Fragment});function Yp(t,s,r){const a=t.getProps();return q5(a,s,r!==void 0?r:a.custom,t)}const zj=t=>Array.isArray(t);function mce(t,s,r){t.hasValue(s)?t.getValue(s).set(r):t.addValue(s,ux(r))}function hce(t){return zj(t)?t[t.length-1]||0:t}function xce(t,s){const r=Yp(t,s);let{transitionEnd:a={},transition:n={},...i}=r||{};i={...i,...a};for(const o in i){const l=hce(i[o]);mce(t,o,l)}}function fce(t){return!!(bi(t)&&t.add)}function $j(t,s){const r=t.getValue("willChange");if(fce(r))return r.add(s);if(!r&&su.WillChange){const a=new su.WillChange("auto");t.addValue("willChange",a),a.add(s)}}function UP(t){return t.props[DP]}const pce=t=>t!==null;function gce(t,{repeat:s,repeatType:r="loop"},a){const n=t.filter(pce),i=s&&r!=="loop"&&s%2===1?0:n.length-1;return n[i]}const yce={type:"spring",stiffness:500,damping:25,restSpeed:10},bce=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),vce={type:"keyframes",duration:.8},wce={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jce=(t,{keyframes:s})=>s.length>2?vce:Tx.has(t)?t.startsWith("scale")?bce(s[1]):yce:wce;function Nce({when:t,delay:s,delayChildren:r,staggerChildren:a,staggerDirection:n,repeat:i,repeatType:o,repeatDelay:l,from:d,elapsed:u,...h}){return!!Object.keys(h).length}const G5=(t,s,r,a={},n,i)=>o=>{const l=F5(a,t)||{},d=l.delay||a.delay||0;let{elapsed:u=0}=a;u=u-Qc(d);const h={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:s.getVelocity(),...l,delay:-u,onUpdate:p=>{s.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:s,element:i?void 0:n};Nce(l)||Object.assign(h,jce(t,h)),h.duration&&(h.duration=Qc(h.duration)),h.repeatDelay&&(h.repeatDelay=Qc(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(f=!0)),(su.instantAnimations||su.skipAnimations)&&(f=!0,h.duration=0,h.delay=0),h.allowFlatten=!l.type&&!l.ease,f&&!i&&s.get()!==void 0){const p=gce(h.keyframes,l);if(p!==void 0){xa.update(()=>{h.onUpdate(p),h.onComplete()});return}}return l.isSync?new M5(h):new Yoe(h)};function Sce({protectedKeys:t,needsAnimating:s},r){const a=t.hasOwnProperty(r)&&s[r]!==!0;return s[r]=!1,a}function VP(t,s,{delay:r=0,transitionOverride:a,type:n}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=s;a&&(i=a);const d=[],u=n&&t.animationState&&t.animationState.getState()[n];for(const h in l){const f=t.getValue(h,t.latestValues[h]??null),p=l[h];if(p===void 0||u&&Sce(u,h))continue;const g={delay:r,...F5(i||{},h)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===v&&!g.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const _=UP(t);if(_){const k=window.MotionHandoffAnimation(_,h,xa);k!==null&&(g.startTime=k,y=!0)}}$j(t,h),f.start(G5(h,f,p,t.shouldReduceMotion&&dP.has(h)?{type:!1}:g,t,y));const b=f.animation;b&&d.push(b)}return o&&Promise.all(d).then(()=>{xa.update(()=>{o&&xce(t,o)})}),d}function Uj(t,s,r={}){var d;const a=Yp(t,s,r.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:n=t.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(n=r.transitionOverride);const i=a?()=>Promise.all(VP(t,a,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:p}=n;return _ce(t,s,u,h,f,p,r)}:()=>Promise.resolve(),{when:l}=n;if(l){const[u,h]=l==="beforeChildren"?[i,o]:[o,i];return u().then(()=>h())}else return Promise.all([i(),o(r.delay)])}function _ce(t,s,r=0,a=0,n=0,i=1,o){const l=[],d=t.variantChildren.size,u=(d-1)*n,h=typeof a=="function",f=h?p=>a(p,d):i===1?(p=0)=>p*n:(p=0)=>u-p*n;return Array.from(t.variantChildren).sort(Cce).forEach((p,g)=>{p.notify("AnimationStart",s),l.push(Uj(p,s,{...o,delay:r+(h?0:a)+f(g)}).then(()=>p.notify("AnimationComplete",s)))}),Promise.all(l)}function Cce(t,s){return t.sortNodePosition(s)}function kce(t,s,r={}){t.notify("AnimationStart",s);let a;if(Array.isArray(s)){const n=s.map(i=>Uj(t,i,r));a=Promise.all(n)}else if(typeof s=="string")a=Uj(t,s,r);else{const n=typeof s=="function"?Yp(t,s,r.custom):s;a=Promise.all(VP(t,n,r))}return a.then(()=>{t.notify("AnimationComplete",s)})}function qP(t,s){if(!Array.isArray(s))return!1;const r=s.length;if(r!==t.length)return!1;for(let a=0;a<r;a++)if(s[a]!==t[a])return!1;return!0}const Ace=z5.length;function HP(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?HP(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const s={};for(let r=0;r<Ace;r++){const a=z5[r],n=t.props[a];(Wp(n)||n===!1)&&(s[a]=n)}return s}const Ece=[...B5].reverse(),Tce=B5.length;function Dce(t){return s=>Promise.all(s.map(({animation:r,options:a})=>kce(t,r,a)))}function Pce(t){let s=Dce(t),r=Ck(),a=!0;const n=d=>(u,h)=>{var p;const f=Yp(t,h,d==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(f){const{transition:g,transitionEnd:v,...y}=f;u={...u,...y,...v}}return u};function i(d){s=d(t)}function o(d){const{props:u}=t,h=HP(t.parent)||{},f=[],p=new Set;let g={},v=1/0;for(let b=0;b<Tce;b++){const _=Ece[b],k=r[_],A=u[_]!==void 0?u[_]:h[_],R=Wp(A),F=_===d?k.isActive:null;F===!1&&(v=b);let V=A===h[_]&&A!==u[_]&&R;if(V&&a&&t.manuallyAnimateOnMount&&(V=!1),k.protectedKeys={...g},!k.isActive&&F===null||!A&&!k.prevProp||s2(A)||typeof A=="boolean")continue;const S=Mce(k.prevProp,A);let L=S||_===d&&k.isActive&&!V&&R||b>v&&R,I=!1;const B=Array.isArray(A)?A:[A];let T=B.reduce(n(_),{});F===!1&&(T={});const{prevResolvedValues:w={}}=k,E={...w,...T},D=X=>{L=!0,p.has(X)&&(I=!0,p.delete(X)),k.needsAnimating[X]=!0;const se=t.getValue(X);se&&(se.liveStyle=!1)};for(const X in E){const se=T[X],Z=w[X];if(g.hasOwnProperty(X))continue;let ee=!1;zj(se)&&zj(Z)?ee=!qP(se,Z):ee=se!==Z,ee?se!=null?D(X):p.add(X):se!==void 0&&p.has(X)?D(X):k.protectedKeys[X]=!0}k.prevProp=A,k.prevResolvedValues=T,k.isActive&&(g={...g,...T}),a&&t.blockInitialAnimation&&(L=!1),L&&(!(V&&S)||I)&&f.push(...B.map(X=>({animation:X,options:{type:_}})))}if(p.size){const b={};if(typeof u.initial!="boolean"){const _=Yp(t,Array.isArray(u.initial)?u.initial[0]:u.initial);_&&_.transition&&(b.transition=_.transition)}p.forEach(_=>{const k=t.getBaseTarget(_),A=t.getValue(_);A&&(A.liveStyle=!0),b[_]=k??null}),f.push({animation:b})}let y=!!f.length;return a&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(y=!1),a=!1,y?s(f):Promise.resolve()}function l(d,u){var f;if(r[d].isActive===u)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(p=>{var g;return(g=p.animationState)==null?void 0:g.setActive(d,u)}),r[d].isActive=u;const h=o(d);for(const p in r)r[p].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=Ck(),a=!0}}}function Mce(t,s){return typeof s=="string"?s!==t:Array.isArray(s)?!qP(s,t):!1}function e0(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ck(){return{animate:e0(!0),whileInView:e0(),whileHover:e0(),whileTap:e0(),whileDrag:e0(),whileFocus:e0(),exit:e0()}}class bm{constructor(s){this.isMounted=!1,this.node=s}update(){}}class Lce extends bm{constructor(s){super(s),s.animationState||(s.animationState=Pce(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();s2(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:r}=this.node.prevProps||{};s!==r&&this.updateAnimationControlsSubscription()}unmount(){var s;this.node.animationState.reset(),(s=this.unmountControls)==null||s.call(this)}}let Fce=0;class Rce extends bm{constructor(){super(...arguments),this.id=Fce++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===a)return;const n=this.node.animationState.setActive("exit",!s);r&&!s&&n.then(()=>{r(this.id)})}mount(){const{register:s,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),s&&(this.unmount=s(this.id))}unmount(){}}const Oce={animation:{Feature:Lce},exit:{Feature:Rce}};function Kp(t,s,r,a={passive:!0}){return t.addEventListener(s,r,a),()=>t.removeEventListener(s,r)}function yg(t){return{point:{x:t.pageX,y:t.pageY}}}const Ice=t=>s=>I5(s)&&t(s,yg(s));function pp(t,s,r,a){return Kp(t,s,Ice(r),a)}const WP=1e-4,Bce=1-WP,zce=1+WP,GP=.01,$ce=0-GP,Uce=0+GP;function Ii(t){return t.max-t.min}function Vce(t,s,r){return Math.abs(t-s)<=r}function kk(t,s,r,a=.5){t.origin=a,t.originPoint=Na(s.min,s.max,t.origin),t.scale=Ii(r)/Ii(s),t.translate=Na(r.min,r.max,t.origin)-t.originPoint,(t.scale>=Bce&&t.scale<=zce||isNaN(t.scale))&&(t.scale=1),(t.translate>=$ce&&t.translate<=Uce||isNaN(t.translate))&&(t.translate=0)}function gp(t,s,r,a){kk(t.x,s.x,r.x,a?a.originX:void 0),kk(t.y,s.y,r.y,a?a.originY:void 0)}function Ak(t,s,r){t.min=r.min+s.min,t.max=t.min+Ii(s)}function qce(t,s,r){Ak(t.x,s.x,r.x),Ak(t.y,s.y,r.y)}function Ek(t,s,r){t.min=s.min-r.min,t.max=t.min+Ii(s)}function yp(t,s,r){Ek(t.x,s.x,r.x),Ek(t.y,s.y,r.y)}function il(t){return[t("x"),t("y")]}const YP=({current:t})=>t?t.ownerDocument.defaultView:null,Tk=(t,s)=>Math.abs(t-s);function Hce(t,s){const r=Tk(t.x,s.x),a=Tk(t.y,s.y);return Math.sqrt(r**2+a**2)}class KP{constructor(s,r,{transformPagePoint:a,contextWindow:n=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=ww(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,v=Hce(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!v)return;const{point:y}=p,{timestamp:b}=Gn;this.history.push({...y,timestamp:b});const{onStart:_,onMove:k}=this.handlers;g||(_&&_(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=vw(g,this.transformPagePoint),xa.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:v,onSessionEnd:y,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=ww(p.type==="pointercancel"?this.lastMoveEventInfo:vw(g,this.transformPagePoint),this.history);this.startEvent&&v&&v(p,_),y&&y(p,_)},!I5(s))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=a,this.distanceThreshold=o,this.contextWindow=n||window;const l=yg(s),d=vw(l,this.transformPagePoint),{point:u}=d,{timestamp:h}=Gn;this.history=[{...u,timestamp:h}];const{onSessionStart:f}=r;f&&f(s,ww(d,this.history)),this.removeListeners=fg(pp(this.contextWindow,"pointermove",this.handlePointerMove),pp(this.contextWindow,"pointerup",this.handlePointerUp),pp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),pm(this.updatePoint)}}function vw(t,s){return s?{point:s(t.point)}:t}function Dk(t,s){return{x:t.x-s.x,y:t.y-s.y}}function ww({point:t},s){return{point:t,delta:Dk(t,XP(s)),offset:Dk(t,Wce(s)),velocity:Gce(s,.1)}}function Wce(t){return t[0]}function XP(t){return t[t.length-1]}function Gce(t,s){if(t.length<2)return{x:0,y:0};let r=t.length-1,a=null;const n=XP(t);for(;r>=0&&(a=t[r],!(n.timestamp-a.timestamp>Qc(s)));)r--;if(!a)return{x:0,y:0};const i=Jc(n.timestamp-a.timestamp);if(i===0)return{x:0,y:0};const o={x:(n.x-a.x)/i,y:(n.y-a.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Yce(t,{min:s,max:r},a){return s!==void 0&&t<s?t=a?Na(s,t,a.min):Math.max(t,s):r!==void 0&&t>r&&(t=a?Na(r,t,a.max):Math.min(t,r)),t}function Pk(t,s,r){return{min:s!==void 0?t.min+s:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function Kce(t,{top:s,left:r,bottom:a,right:n}){return{x:Pk(t.x,r,n),y:Pk(t.y,s,a)}}function Mk(t,s){let r=s.min-t.min,a=s.max-t.max;return s.max-s.min<t.max-t.min&&([r,a]=[a,r]),{min:r,max:a}}function Xce(t,s){return{x:Mk(t.x,s.x),y:Mk(t.y,s.y)}}function Qce(t,s){let r=.5;const a=Ii(t),n=Ii(s);return n>a?r=Vp(s.min,s.max-a,t.min):a>n&&(r=Vp(t.min,t.max-n,s.min)),tu(0,1,r)}function Jce(t,s){const r={};return s.min!==void 0&&(r.min=s.min-t.min),s.max!==void 0&&(r.max=s.max-t.min),r}const Vj=.35;function Zce(t=Vj){return t===!1?t=0:t===!0&&(t=Vj),{x:Lk(t,"left","right"),y:Lk(t,"top","bottom")}}function Lk(t,s,r){return{min:Fk(t,s),max:Fk(t,r)}}function Fk(t,s){return typeof t=="number"?t:t[s]||0}const ede=new WeakMap;class tde{constructor(s){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ua(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=s}start(s,{snapToCursor:r=!1,distanceThreshold:a}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(yg(f).point)},o=(f,p)=>{const{drag:g,dragPropagation:v,onDragStart:y}=this.getProps();if(g&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ule(g),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),il(_=>{let k=this.getAxisMotionValue(_).get()||0;if(Zc.test(k)){const{projection:A}=this.visualElement;if(A&&A.layout){const R=A.layout.layoutBox[_];R&&(k=Ii(R)*(parseFloat(k)/100))}}this.originPoint[_]=k}),y&&xa.postRender(()=>y(f,p)),$j(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p;const{dragPropagation:g,dragDirectionLock:v,onDirectionLock:y,onDrag:b}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:_}=p;if(v&&this.currentDirection===null){this.currentDirection=sde(_),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",p.point,_),this.updateAxis("y",p.point,_),this.visualElement.render(),b&&b(f,p)},d=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p,this.stop(f,p),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>il(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)==null?void 0:p.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new KP(s,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:d,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:a,contextWindow:YP(this.visualElement)})}stop(s,r){const a=s||this.latestPointerEvent,n=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!n||!a)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&xa.postRender(()=>l(a,n))}cancel(){this.isDragging=!1;const{projection:s,animationState:r}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(s,r,a){const{drag:n}=this.getProps();if(!a||!ab(s,n,this.currentDirection))return;const i=this.getAxisMotionValue(s);let o=this.originPoint[s]+a[s];this.constraints&&this.constraints[s]&&(o=Yce(o,this.constraints[s],this.elastic[s])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:s,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,n=this.constraints;s&&Ih(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&a?this.constraints=Kce(a.layoutBox,s):this.constraints=!1,this.elastic=Zce(r),n!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&il(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Jce(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:r}=this.getProps();if(!s||!Ih(s))return!1;const a=s.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const i=sce(a,n.root,this.visualElement.getTransformPagePoint());let o=Xce(n.layout.layoutBox,i);if(r){const l=r(Zle(o));this.hasMutatedConstraints=!!l,l&&(o=LP(l))}return o}startAnimation(s){const{drag:r,dragMomentum:a,dragElastic:n,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),d=this.constraints||{},u=il(h=>{if(!ab(h,r,this.currentDirection))return;let f=d&&d[h]||{};o&&(f={min:0,max:0});const p=n?200:1e6,g=n?40:1e7,v={type:"inertia",velocity:a?s[h]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(h,v)});return Promise.all(u).then(l)}startAxisValueAnimation(s,r){const a=this.getAxisMotionValue(s);return $j(this.visualElement,s),a.start(G5(s,a,0,r,this.visualElement,!1))}stopAnimation(){il(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){il(s=>{var r;return(r=this.getAxisMotionValue(s).animation)==null?void 0:r.pause()})}getAnimationState(s){var r;return(r=this.getAxisMotionValue(s).animation)==null?void 0:r.state}getAxisMotionValue(s){const r=`_drag${s.toUpperCase()}`,a=this.visualElement.getProps(),n=a[r];return n||this.visualElement.getValue(s,(a.initial?a.initial[s]:void 0)||0)}snapToCursor(s){il(r=>{const{drag:a}=this.getProps();if(!ab(r,a,this.currentDirection))return;const{projection:n}=this.visualElement,i=this.getAxisMotionValue(r);if(n&&n.layout){const{min:o,max:l}=n.layout.layoutBox[r];i.set(s[r]-Na(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:r}=this.getProps(),{projection:a}=this.visualElement;if(!Ih(r)||!a||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};il(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const d=l.get();n[o]=Qce({min:d,max:d},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),il(o=>{if(!ab(o,s,null))return;const l=this.getAxisMotionValue(o),{min:d,max:u}=this.constraints[o];l.set(Na(d,u,n[o]))})}addListeners(){if(!this.visualElement.current)return;ede.set(this.visualElement,this);const s=this.visualElement.current,r=pp(s,"pointerdown",d=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(d)}),a=()=>{const{dragConstraints:d}=this.getProps();Ih(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",a);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),xa.read(a);const o=Kp(window,"resize",()=>this.scalePositionWithinConstraints()),l=n.addEventListener("didUpdate",({delta:d,hasLayoutChanged:u})=>{this.isDragging&&u&&(il(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=d[h].translate,f.set(f.get()+d[h].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const s=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:a=!1,dragPropagation:n=!1,dragConstraints:i=!1,dragElastic:o=Vj,dragMomentum:l=!0}=s;return{...s,drag:r,dragDirectionLock:a,dragPropagation:n,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function ab(t,s,r){return(s===!0||s===t)&&(r===null||r===t)}function sde(t,s=10){let r=null;return Math.abs(t.y)>s?r="y":Math.abs(t.x)>s&&(r="x"),r}class rde extends bm{constructor(s){super(s),this.removeGroupControls=ml,this.removeListeners=ml,this.controls=new tde(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ml}unmount(){this.removeGroupControls(),this.removeListeners()}}const Rk=t=>(s,r)=>{t&&xa.postRender(()=>t(s,r))};class ade extends bm{constructor(){super(...arguments),this.removePointerDownListener=ml}onPointerDown(s){this.session=new KP(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:YP(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:r,onPan:a,onPanEnd:n}=this.node.getProps();return{onSessionStart:Rk(s),onStart:Rk(r),onMove:a,onEnd:(i,o)=>{delete this.session,n&&xa.postRender(()=>n(i,o))}}}mount(){this.removePointerDownListener=pp(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ab={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ok(t,s){return s.max===s.min?0:t/(s.max-s.min)*100}const Rf={correct:(t,s)=>{if(!s.target)return t;if(typeof t=="string")if(Rs.test(t))t=parseFloat(t);else return t;const r=Ok(t,s.target.x),a=Ok(t,s.target.y);return`${r}% ${a}%`}},nde={correct:(t,{treeScale:s,projectionDelta:r})=>{const a=t,n=gm.parse(t);if(n.length>5)return a;const i=gm.createTransformer(t),o=typeof n[0]!="number"?1:0,l=r.x.scale*s.x,d=r.y.scale*s.y;n[0+o]/=l,n[1+o]/=d;const u=Na(l,d,.5);return typeof n[2+o]=="number"&&(n[2+o]/=u),typeof n[3+o]=="number"&&(n[3+o]/=u),i(n)}};let Ik=!1;class ide extends N.Component{componentDidMount(){const{visualElement:s,layoutGroup:r,switchLayoutGroup:a,layoutId:n}=this.props,{projection:i}=s;kle(ode),i&&(r.group&&r.group.add(i),a&&a.register&&n&&a.register(i),Ik&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ab.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:r,visualElement:a,drag:n,isPresent:i}=this.props,{projection:o}=a;return o&&(o.isPresent=i,Ik=!0,n||s.layoutDependency!==r||r===void 0||s.isPresent!==i?o.willUpdate():this.safeToRemove(),s.isPresent!==i&&(i?o.promote():o.relegate()||xa.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),O5.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:r,switchLayoutGroup:a}=this.props,{projection:n}=s;n&&(n.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(n),a&&a.deregister&&a.deregister(n))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function QP(t){const[s,r]=vle(),a=N.useContext(T7);return e.jsx(ide,{...t,layoutGroup:a,switchLayoutGroup:N.useContext(PP),isPresent:s,safeToRemove:r})}const ode={borderRadius:{...Rf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rf,borderTopRightRadius:Rf,borderBottomLeftRadius:Rf,borderBottomRightRadius:Rf,boxShadow:nde};function lde(t,s,r){const a=bi(t)?t:ux(t);return a.start(G5("",a,s,r)),a.animation}const cde=(t,s)=>t.depth-s.depth;class dde{constructor(){this.children=[],this.isDirty=!1}add(s){y5(this.children,s),this.isDirty=!0}remove(s){b5(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(cde),this.isDirty=!1,this.children.forEach(s)}}function ude(t,s){const r=ao.now(),a=({timestamp:n})=>{const i=n-r;i>=s&&(pm(a),t(i-s))};return xa.setup(a,!0),()=>pm(a)}const JP=["TopLeft","TopRight","BottomLeft","BottomRight"],mde=JP.length,Bk=t=>typeof t=="string"?parseFloat(t):t,zk=t=>typeof t=="number"||Rs.test(t);function hde(t,s,r,a,n,i){n?(t.opacity=Na(0,r.opacity??1,xde(a)),t.opacityExit=Na(s.opacity??1,0,fde(a))):i&&(t.opacity=Na(s.opacity??1,r.opacity??1,a));for(let o=0;o<mde;o++){const l=`border${JP[o]}Radius`;let d=$k(s,l),u=$k(r,l);if(d===void 0&&u===void 0)continue;d||(d=0),u||(u=0),d===0||u===0||zk(d)===zk(u)?(t[l]=Math.max(Na(Bk(d),Bk(u),a),0),(Zc.test(u)||Zc.test(d))&&(t[l]+="%")):t[l]=u}(s.rotate||r.rotate)&&(t.rotate=Na(s.rotate||0,r.rotate||0,a))}function $k(t,s){return t[s]!==void 0?t[s]:t.borderRadius}const xde=ZP(0,.5,$7),fde=ZP(.5,.95,ml);function ZP(t,s,r){return a=>a<t?0:a>s?1:r(Vp(t,s,a))}function Uk(t,s){t.min=s.min,t.max=s.max}function al(t,s){Uk(t.x,s.x),Uk(t.y,s.y)}function Vk(t,s){t.translate=s.translate,t.scale=s.scale,t.originPoint=s.originPoint,t.origin=s.origin}function qk(t,s,r,a,n){return t-=s,t=v1(t,1/r,a),n!==void 0&&(t=v1(t,1/n,a)),t}function pde(t,s=0,r=1,a=.5,n,i=t,o=t){if(Zc.test(s)&&(s=parseFloat(s),s=Na(o.min,o.max,s/100)-o.min),typeof s!="number")return;let l=Na(i.min,i.max,a);t===i&&(l-=s),t.min=qk(t.min,s,r,l,n),t.max=qk(t.max,s,r,l,n)}function Hk(t,s,[r,a,n],i,o){pde(t,s[r],s[a],s[n],s.scale,i,o)}const gde=["x","scaleX","originX"],yde=["y","scaleY","originY"];function Wk(t,s,r,a){Hk(t.x,s,gde,r?r.x:void 0,a?a.x:void 0),Hk(t.y,s,yde,r?r.y:void 0,a?a.y:void 0)}function Gk(t){return t.translate===0&&t.scale===1}function eM(t){return Gk(t.x)&&Gk(t.y)}function Yk(t,s){return t.min===s.min&&t.max===s.max}function bde(t,s){return Yk(t.x,s.x)&&Yk(t.y,s.y)}function Kk(t,s){return Math.round(t.min)===Math.round(s.min)&&Math.round(t.max)===Math.round(s.max)}function tM(t,s){return Kk(t.x,s.x)&&Kk(t.y,s.y)}function Xk(t){return Ii(t.x)/Ii(t.y)}function Qk(t,s){return t.translate===s.translate&&t.scale===s.scale&&t.originPoint===s.originPoint}class vde{constructor(){this.members=[]}add(s){y5(this.members,s),s.scheduleRender()}remove(s){if(b5(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(s){const r=this.members.findIndex(n=>s===n);if(r===0)return!1;let a;for(let n=r;n>=0;n--){const i=this.members[n];if(i.isPresent!==!1){a=i;break}}return a?(this.promote(a),!0):!1}promote(s,r){const a=this.lead;if(s!==a&&(this.prevLead=a,this.lead=s,s.show(),a)){a.instance&&a.scheduleRender(),s.scheduleRender(),s.resumeFrom=a,r&&(s.resumeFrom.preserveOpacity=!0),a.snapshot&&(s.snapshot=a.snapshot,s.snapshot.latestValues=a.animationValues||a.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:n}=s.options;n===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:r,resumingFrom:a}=s;r.onExitComplete&&r.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function wde(t,s,r){let a="";const n=t.x.translate/s.x,i=t.y.translate/s.y,o=(r==null?void 0:r.z)||0;if((n||i||o)&&(a=`translate3d(${n}px, ${i}px, ${o}px) `),(s.x!==1||s.y!==1)&&(a+=`scale(${1/s.x}, ${1/s.y}) `),r){const{transformPerspective:u,rotate:h,rotateX:f,rotateY:p,skewX:g,skewY:v}=r;u&&(a=`perspective(${u}px) ${a}`),h&&(a+=`rotate(${h}deg) `),f&&(a+=`rotateX(${f}deg) `),p&&(a+=`rotateY(${p}deg) `),g&&(a+=`skewX(${g}deg) `),v&&(a+=`skewY(${v}deg) `)}const l=t.x.scale*s.x,d=t.y.scale*s.y;return(l!==1||d!==1)&&(a+=`scale(${l}, ${d})`),a||"none"}const jw=["","X","Y","Z"],jde=1e3;let Nde=0;function Nw(t,s,r,a){const{latestValues:n}=s;n[t]&&(r[t]=n[t],s.setStaticValue(t,0),a&&(a[t]=0))}function sM(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:s}=t.options;if(!s)return;const r=UP(s);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:n,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",xa,!(n||i))}const{parent:a}=t;a&&!a.hasCheckedOptimisedAppear&&sM(a)}function rM({attachResizeListener:t,defaultParent:s,measureScroll:r,checkIsScrollRoot:a,resetTransform:n}){return class{constructor(o={},l=s==null?void 0:s()){this.id=Nde++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Cde),this.nodes.forEach(Tde),this.nodes.forEach(Dde),this.nodes.forEach(kde)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new dde)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new j5),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const d=this.eventHandlers.get(o);d&&d.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=bP(o)&&!gle(o),this.instance=o;const{layoutId:l,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||l)&&(this.isLayoutDirty=!0),t){let h,f=0;const p=()=>this.root.updateBlockedByResize=!1;xa.read(()=>{f=window.innerWidth}),t(o,()=>{const g=window.innerWidth;g!==f&&(f=g,this.root.updateBlockedByResize=!0,h&&h(),h=ude(p,250),Ab.hasAnimatedSinceResize&&(Ab.hasAnimatedSinceResize=!1,this.nodes.forEach(eA)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||Rde,{onLayoutAnimationStart:y,onLayoutAnimationComplete:b}=u.getProps(),_=!this.targetLayout||!tM(this.targetLayout,g),k=!f&&p;if(this.options.layoutRoot||this.resumeFrom||k||f&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...F5(v,"layout"),onPlay:y,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(h,k)}else f||eA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),pm(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Pde),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:d}=this.options;if(l===void 0&&!d)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Jk);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Zk);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Ede),this.nodes.forEach(Sde),this.nodes.forEach(_de)):this.nodes.forEach(Zk),this.clearAllSnapshots();const l=ao.now();Gn.delta=tu(0,1e3/60,l-Gn.timestamp),Gn.timestamp=l,Gn.isProcessing=!0,mw.update.process(Gn),mw.preRender.process(Gn),mw.render.process(Gn),Gn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,O5.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ade),this.sharedNodes.forEach(Mde)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xa.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xa.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ii(this.snapshot.measuredBox.x)&&!Ii(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ua(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const d=a(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!n)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!eM(this.projectionDelta),d=this.getTransformTemplate(),u=d?d(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||n0(this.latestValues)||h)&&(n(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let d=this.removeElementScroll(l);return o&&(d=this.removeTransform(d)),Ode(d),{animationId:this.root.animationId,measuredBox:l,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Ua();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(Ide))){const{scroll:h}=this.root;h&&(Bh(l.x,h.offset.x),Bh(l.y,h.offset.y))}return l}removeElementScroll(o){var d;const l=Ua();if(al(l,o),(d=this.scroll)!=null&&d.wasRoot)return l;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:f,options:p}=h;h!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&al(l,o),Bh(l.x,f.offset.x),Bh(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const d=Ua();al(d,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&zh(d,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),n0(h.latestValues)&&zh(d,h.latestValues)}return n0(this.latestValues)&&zh(d,this.latestValues),d}removeTransform(o){const l=Ua();al(l,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];if(!u.instance||!n0(u.latestValues))continue;Oj(u.latestValues)&&u.updateSnapshot();const h=Ua(),f=u.measurePageBox();al(h,f),Wk(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return n0(this.latestValues)&&Wk(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==l;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Gn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ua(),this.relativeTargetOrigin=Ua(),yp(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),al(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ua(),this.targetWithTransforms=Ua()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qce(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):al(this.target,this.layout.layoutBox),RP(this.target,this.targetDelta)):al(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ua(),this.relativeTargetOrigin=Ua(),yp(this.relativeTargetOrigin,this.target,g.target),al(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Oj(this.parent.latestValues)||FP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(d=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Gn.timestamp&&(d=!1),d)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;al(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;tce(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ua());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Vk(this.prevProjectionDelta.x,this.projectionDelta.x),Vk(this.prevProjectionDelta.y,this.projectionDelta.y)),gp(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!Qk(this.projectionDelta.x,this.prevProjectionDelta.x)||!Qk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$h(),this.projectionDelta=$h(),this.projectionDeltaWithTransform=$h()}setAnimationOrigin(o,l=!1){const d=this.snapshot,u=d?d.latestValues:{},h={...this.latestValues},f=$h();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Ua(),g=d?d.source:void 0,v=this.layout?this.layout.source:void 0,y=g!==v,b=this.getStack(),_=!b||b.members.length<=1,k=!!(y&&!_&&this.options.crossfade===!0&&!this.path.some(Fde));this.animationProgress=0;let A;this.mixTargetDelta=R=>{const F=R/1e3;tA(f.x,o.x,F),tA(f.y,o.y,F),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yp(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Lde(this.relativeTarget,this.relativeTargetOrigin,p,F),A&&bde(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Ua()),al(A,this.relativeTarget)),y&&(this.animationValues=h,hde(h,u,this.latestValues,F,k,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,d,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||u.stop(),this.pendingAnimation&&(pm(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xa.update(()=>{Ab.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ux(0)),this.currentAnimation=lde(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(jde),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:d,layout:u,latestValues:h}=o;if(!(!l||!d||!u)){if(this!==o&&this.layout&&u&&aM(this.options.animationType,this.layout.layoutBox,u.layoutBox)){d=this.target||Ua();const f=Ii(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+f;const p=Ii(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+p}al(l,d),zh(l,h),gp(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new vde),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:d}={}){const u=this.getStack();u&&u.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(l=!0),!l)return;const u={};d.z&&Nw("z",o,u,this.animationValues);for(let h=0;h<jw.length;h++)Nw(`rotate${jw[h]}`,o,u,this.animationValues),Nw(`skew${jw[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=kb(l==null?void 0:l.pointerEvents)||"",o.transform=d?d(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=kb(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!n0(this.latestValues)&&(o.transform=d?d({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=wde(this.projectionDeltaWithTransform,this.treeScale,h);d&&(f=d(h,f)),o.transform=f;const{x:p,y:g}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,u.animationValues?o.opacity=u===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in Gp){if(h[v]===void 0)continue;const{correct:y,applyTo:b,isCSSVariable:_}=Gp[v],k=f==="none"?h[v]:y(h[v],u);if(b){const A=b.length;for(let R=0;R<A;R++)o[b[R]]=k}else _?this.options.visualElement.renderState.vars[v]=k:o[v]=k}this.options.layoutId&&(o.pointerEvents=u===this?kb(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(Jk),this.root.sharedNodes.clear()}}}function Sde(t){t.updateLayout()}function _de(t){var r;const s=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:n}=t.layout,{animationType:i}=t.options,o=s.source!==t.layout.source;i==="size"?il(f=>{const p=o?s.measuredBox[f]:s.layoutBox[f],g=Ii(p);p.min=a[f].min,p.max=p.min+g}):aM(i,s.layoutBox,a)&&il(f=>{const p=o?s.measuredBox[f]:s.layoutBox[f],g=Ii(a[f]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const l=$h();gp(l,a,s.layoutBox);const d=$h();o?gp(d,t.applyTransform(n,!0),s.measuredBox):gp(d,a,s.layoutBox);const u=!eM(l);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:g}=f;if(p&&g){const v=Ua();yp(v,s.layoutBox,p.layoutBox);const y=Ua();yp(y,a,g.layoutBox),tM(v,y)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:a,snapshot:s,delta:d,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:a}=t.options;a&&a()}t.options.transition=void 0}function Cde(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function kde(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Ade(t){t.clearSnapshot()}function Jk(t){t.clearMeasurements()}function Zk(t){t.isLayoutDirty=!1}function Ede(t){const{visualElement:s}=t.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),t.resetTransform()}function eA(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Tde(t){t.resolveTargetDelta()}function Dde(t){t.calcProjection()}function Pde(t){t.resetSkewAndRotation()}function Mde(t){t.removeLeadSnapshot()}function tA(t,s,r){t.translate=Na(s.translate,0,r),t.scale=Na(s.scale,1,r),t.origin=s.origin,t.originPoint=s.originPoint}function sA(t,s,r,a){t.min=Na(s.min,r.min,a),t.max=Na(s.max,r.max,a)}function Lde(t,s,r,a){sA(t.x,s.x,r.x,a),sA(t.y,s.y,r.y,a)}function Fde(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Rde={duration:.45,ease:[.4,0,.1,1]},rA=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),aA=rA("applewebkit/")&&!rA("chrome/")?Math.round:ml;function nA(t){t.min=aA(t.min),t.max=aA(t.max)}function Ode(t){nA(t.x),nA(t.y)}function aM(t,s,r){return t==="position"||t==="preserve-aspect"&&!Vce(Xk(s),Xk(r),.2)}function Ide(t){var s;return t!==t.root&&((s=t.scroll)==null?void 0:s.wasRoot)}const Bde=rM({attachResizeListener:(t,s)=>Kp(t,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Sw={current:void 0},nM=rM({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Sw.current){const t=new Bde({});t.mount(window),t.setOptions({layoutScroll:!0}),Sw.current=t}return Sw.current},resetTransform:(t,s)=>{t.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),zde={pan:{Feature:ade},drag:{Feature:rde,ProjectionNode:nM,MeasureLayout:QP}};function iA(t,s,r){const{props:a}=t;t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",r==="Start");const n="onHover"+r,i=a[n];i&&xa.postRender(()=>i(s,yg(s)))}class $de extends bm{mount(){const{current:s}=this.node;s&&(this.unmount=mle(s,(r,a)=>(iA(this.node,a,"Start"),n=>iA(this.node,n,"End"))))}unmount(){}}class Ude extends bm{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fg(Kp(this.node.current,"focus",()=>this.onFocus()),Kp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function oA(t,s,r){const{props:a}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&a.whileTap&&t.animationState.setActive("whileTap",r==="Start");const n="onTap"+(r==="End"?"":r),i=a[n];i&&xa.postRender(()=>i(s,yg(s)))}class Vde extends bm{mount(){const{current:s}=this.node;s&&(this.unmount=ple(s,(r,a)=>(oA(this.node,a,"Start"),(n,{success:i})=>oA(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const qj=new WeakMap,_w=new WeakMap,qde=t=>{const s=qj.get(t.target);s&&s(t)},Hde=t=>{t.forEach(qde)};function Wde({root:t,...s}){const r=t||document;_w.has(r)||_w.set(r,{});const a=_w.get(r),n=JSON.stringify(s);return a[n]||(a[n]=new IntersectionObserver(Hde,{root:t,...s})),a[n]}function Gde(t,s,r){const a=Wde(s);return qj.set(t,r),a.observe(t),()=>{qj.delete(t),a.unobserve(t)}}const Yde={some:0,all:1};class Kde extends bm{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:r,margin:a,amount:n="some",once:i}=s,o={root:r?r.current:void 0,rootMargin:a,threshold:typeof n=="number"?n:Yde[n]},l=d=>{const{isIntersecting:u}=d;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),p=u?h:f;p&&p(d)};return Gde(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:r}=this.node;["amount","margin","root"].some(Xde(s,r))&&this.startObserver()}unmount(){}}function Xde({viewport:t={}},{viewport:s={}}={}){return r=>t[r]!==s[r]}const Qde={inView:{Feature:Kde},tap:{Feature:Vde},focus:{Feature:Ude},hover:{Feature:$de}},Jde={layout:{ProjectionNode:nM,MeasureLayout:QP}},Zde={...Oce,...Qde,...zde,...Jde},Wn=Jle(Zde,uce),eue=({courseId:t,onBack:s,onTakeExam:r})=>{var E;const[a,n]=N.useState(null),[i,o]=N.useState(null),[l,d]=N.useState(!1),[u,h]=N.useState(!1),[f,p]=N.useState(null),[g,v]=N.useState([]),[y,b]=N.useState(null),[_,k]=N.useState({}),{user:A}=rd();N.useEffect(()=>{(async()=>{var G;try{const[K,X,se]=await Promise.all([Os.getCourseById(t),Os.getExams({course_id:t}),Os.getUserProgress()]);n(K),K&&Array.isArray(K.modules)&&K.modules.length>0&&o(K.modules[0]),v(X.data||[]),X.data&&X.data.length>0&&await R(X.data);const Z=(G=se.enrolledCourses)==null?void 0:G.find(ee=>ee.id===parseInt(t));Z&&b(Z)}catch(K){console.error("Failed to load course",K)}})()},[t]);const R=async D=>{const G={};for(const K of D)try{const X=await Os.hasUserPassedExam(K.id);G[K.id]=X}catch(X){console.error(`Failed to check exam status for ${K.id}:`,X),G[K.id]=!1}k(G)},F=(A==null?void 0:A.name)||(A==null?void 0:A.fullName)||"Participant",V=async D=>{var G,K,X,se,Z,ee;try{if(!y){Me.fire({icon:"info",title:"Enrollment Required",html:"You are currently not enrolled in this course, so progress cannot be recorded.<br/><br/>",confirmButtonColor:"#3B82F6"});return}await Os.updateModuleProgress(t,D,!0);const U=(G=(await Os.getUserProgress()).enrolledCourses)==null?void 0:G.find(z=>z.id===parseInt(t));U&&b(U);const O=await Os.getCourseById(t);if(n(z=>{var te,ge,Q;if(!O)return z;let q={...O};return U?(q.completed=U.completed||!1,U.modules&&U.modules.length>0?q.modules=(te=O.modules)==null?void 0:te.map(ue=>{const ie=U.modules.find(oe=>oe.id===ue.id);return ie?{...ue,completed:ie.completed}:ue}):q.modules=(ge=O.modules)==null?void 0:ge.map(ue=>ue.id===D?{...ue,completed:!0}:ue)):q.modules=(Q=O.modules)==null?void 0:Q.map(ue=>ue.id===D?{...ue,completed:!0}:ue),q}),O){const z=O.modules.findIndex(q=>q.id===D);z>-1&&z<O.modules.length-1&&!O.modules[z+1].completed&&o(O.modules[z+1])}}catch(ce){console.error("Failed to mark module as complete:",ce);const U=(K=ce==null?void 0:ce.response)==null?void 0:K.status,O=((se=(X=ce==null?void 0:ce.response)==null?void 0:X.data)==null?void 0:se.message)||((ee=(Z=ce==null?void 0:ce.response)==null?void 0:Z.data)==null?void 0:ee.error)||(ce==null?void 0:ce.message);let z="Failed to update module progress.";U===404?z="Your enrollment or the requested resource was not found. If you're viewing as an admin and are not enrolled, you cannot mark modules as complete.":U===403?z="You do not have permission to update progress for this course.":U===401?z="You are not authenticated or your session expired. Please sign in again.":O&&(z=O);const q=[U?`Status: ${U}`:null,O&&O!==z?`Server: ${O}`:null].filter(Boolean).join("<br/>");Me.fire({icon:"error",title:"Cannot Mark as Complete",html:`${z}${q?`<br/><br/><small class="text-gray-500">${q}</small>`:""}`,confirmButtonColor:"#EF4444"})}},S=D=>{o(D)},L=async D=>{try{const G=g.find(X=>X.id===D),K=await Os.getExamCertificate(D);if(!K)throw new Error("Certificate not available");p({...K,examTitle:K.examTitle||(G==null?void 0:G.title),examDescription:K.examDescription||(G==null?void 0:G.description),passingScore:K.passingScore||(G==null?void 0:G.passing_score)||(G==null?void 0:G.passingScore),userName:(A==null?void 0:A.name)||(A==null?void 0:A.fullName)||"User"}),h(!0)}catch(G){console.error("Error fetching certificate:",G),Me.fire({icon:"error",title:"Certificate Unavailable",text:"Unable to load the certificate. Please try again later.",confirmButtonColor:"#EF4444"})}};if(!a)return e.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[e.jsx(Wn.div,{s:!0,className:"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),e.jsx("p",{className:"mt-4 text-gray-600 text-lg",children:"Loading course..."})]});const I=(y==null?void 0:y.completed_modules)??(a.modules||[]).filter(D=>D.completed).length,B=(y==null?void 0:y.total_modules)??(((E=a.modules)==null?void 0:E.length)||0),T=B>0?Math.round(I/B*100):0,w=!!(y!=null&&y.completed||T===100);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-gray-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:w&&e.jsxs("button",{onClick:()=>d(!0),className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center",children:[e.jsx(ln,{className:"h-4 w-4 mr-2"}),"View Certificate"]})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:a.title}),e.jsx("p",{className:"text-gray-600 mb-4",children:a.description}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-4",children:[e.jsx(Ns,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[a.duration,a.duration?" hours":""]}),e.jsx("span",{className:"mx-2",children:""}),e.jsxs("span",{children:[B," modules"]}),e.jsx("span",{className:"mx-2",children:""}),e.jsxs("span",{children:[I," completed"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-300",style:{width:`${T}%`}})}),e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[T,"% complete"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Course Modules"}),e.jsx("div",{className:"space-y-3",children:(a.modules||[]).map((D,G)=>e.jsx("div",{onClick:()=>S(D),className:`p-4 rounded-lg border cursor-pointer transition-all duration-200 ${(i==null?void 0:i.id)===D.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[D.completed?e.jsx(vs,{className:"h-5 w-5 text-green-600 mr-3"}):e.jsx("div",{className:"h-5 w-5 rounded-full border-2 border-gray-300 mr-3 flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-gray-500",children:G+1})}),e.jsx("div",{children:e.jsx("h4",{className:"font-medium text-gray-900",children:D.title})})]})})},D.id))})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-gray-200",children:i?e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:i.title}),w?e.jsxs("button",{onClick:()=>d(!0),className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white px-6 py-2 rounded-lg font-medium transition-all duration-200 flex items-center",children:[e.jsx(ln,{className:"h-4 w-4 mr-2"}),"View Certificate"]}):i.completed?e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx(vs,{className:"h-5 w-5 mr-2"}),e.jsx("span",{className:"font-medium",children:"Completed"})]}):e.jsxs("button",{onClick:()=>V(i.id),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-2 rounded-lg font-medium transition-all duration-200 flex items-center",children:[e.jsx(bp,{className:"h-4 w-4 mr-2"}),"Mark as Complete"]})]}),e.jsx("div",{className:"prose max-w-none",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:i.content})}),i.path&&e.jsxs("div",{className:"mt-6 bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx(xs,{className:"h-5 w-5 mr-2 text-blue-600"}),"Module Resource"]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[i.path.includes(".pdf")?e.jsx(xs,{className:"h-8 w-8 text-red-500 mr-3"}):e.jsx(Ph,{className:"h-8 w-8 text-blue-500 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:i.path.includes(".pdf")?"PDF Document":"Video File"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Click to open in new tab"})]})]}),e.jsxs("button",{onClick:()=>window.open(i.path,"_blank"),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center text-sm",children:[e.jsx(Mn,{className:"h-4 w-4 mr-2"}),i.path.includes(".pdf")?"View PDF":"Watch Video"]})]})]}),e.jsxs("div",{className:"mt-8 space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Key Learning Points"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700",children:[e.jsx("li",{children:"Understanding the fundamental concepts"}),e.jsx("li",{children:"Practical application in real-world scenarios"}),e.jsx("li",{children:"Best practices and common pitfalls"}),e.jsx("li",{children:"Tools and resources for further learning"})]})]}),e.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Additional Resources"}),e.jsxs("ul",{className:"space-y-2 text-gray-700",children:[e.jsx("li",{children:" Reference documentation and guides"}),e.jsx("li",{children:" Video tutorials and demonstrations"}),e.jsx("li",{children:" Practice exercises and quizzes"}),e.jsx("li",{children:" Community forums and discussion groups"})]})]})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(dl,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a Module"}),e.jsx("p",{className:"text-gray-600",children:"Choose a module from the list to start learning"})]})})})]}),a.attachments&&a.attachments.length>0&&e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Course Attachments"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.attachments.map(D=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[D.type==="pdf"?e.jsx(xs,{className:"h-8 w-8 text-red-500 mr-3"}):e.jsx(Ph,{className:"h-8 w-8 text-blue-500 mr-3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:D.name}),e.jsx("p",{className:"text-xs text-gray-500",children:D.size})]})]}),e.jsxs("button",{onClick:()=>{window.open(D.url,"_blank")},className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-3 py-2 rounded-lg font-medium transition-all duration-200 flex items-center justify-center text-sm",children:[e.jsx(Mn,{className:"h-4 w-4 mr-2"}),D.type==="pdf"?"View PDF":"Watch Video"]})]},D.id))})]}),g.length>0&&e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Related Exams"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map(D=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(wn,{className:"h-8 w-8 text-blue-600 mr-3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:D.title}),e.jsxs("p",{className:"text-xs text-gray-500",children:[D.totalQuestions??D.total_questions??(Array.isArray(D.questions)?D.questions.length:"0")," ","questions"]})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:D.description}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[e.jsxs("span",{children:["Duration: ",D.duration]}),e.jsxs("span",{children:["Passing: ",D.passingScore,"%"]})]}),_[D.id]===void 0?e.jsxs("button",{disabled:!0,className:"w-full bg-gray-100 text-gray-500 px-3 py-2 rounded-lg font-medium flex items-center justify-center text-sm",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-400 mr-2"}),"Checking status..."]}):_[D.id]?e.jsxs("button",{onClick:()=>L(D.id),className:"w-full bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700 text-white px-3 py-2 rounded-lg font-medium transition-all duration-200 flex items-center justify-center text-sm",children:[e.jsx(ln,{className:"h-4 w-4 mr-2"}),"View Certificate"]}):e.jsxs("button",{onClick:()=>r(D.id),className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-3 py-2 rounded-lg font-medium transition-all duration-200 flex items-center justify-center text-sm",children:[e.jsx(wn,{className:"h-4 w-4 mr-2"}),"Take Exam"]})]},D.id))})]}),e.jsxs(e.Fragment,{children:[l&&e.jsx($p,{selectedCertificate:{course_title:a.title,issued_date:new Date().toISOString().split("T")[0],course_id:t,id:t,type:"course"},onClose:()=>d(!1),displayName:F,certificateType:"course"}),u&&f&&e.jsx($p,{selectedCertificate:f,onClose:()=>{h(!1),p(null)},displayName:f.userName,certificateType:"exam"})]})]})},tue=()=>{const[t,s]=N.useState({}),[r,a]=N.useState([]),[n,i]=N.useState([]),[o,l]=N.useState(!0),[d,u]=N.useState(null),[h,f]=N.useState(null),{user:p}=rd();if(N.useEffect(()=>{(async()=>{try{l(!0),u(null);const _=await Os.getUserProgress();s(_),a(_.enrolledCourses||[]),i(_.certificates||[])}catch(_){console.error("Error fetching progress:",_),u("Failed to load progress data. Please try again.")}finally{l(!1)}})()},[]),o)return e.jsx("div",{className:"flex justify-center items-center min-h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading your progress..."})]})});if(d)return e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:d}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Try Again"})]});const g=(p==null?void 0:p.name)||(p==null?void 0:p.fullName)||"Participant",v=b=>{f(b)},y=t.totalModules>0?Math.round(t.completedModules/t.totalModules*100):0;return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("div",{}),e.jsx("h1",{className:"flex-1 text-4xl font-bold text-gray-900",children:"Learning Progress"})]}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Track your learning journey and achievements"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-xl",children:e.jsx(dl,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Enrolled Courses"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.totalCourses})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-green-100 p-3 rounded-xl",children:e.jsx(vs,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed Courses"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.completedCourses})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-purple-100 p-3 rounded-xl",children:e.jsx(ln,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Certificates"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-yellow-100 p-3 rounded-xl",children:e.jsx(wi,{className:"h-6 w-6 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overall Progress"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[y,"%"]})]})]})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Overall Learning Progress"}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-6 mb-4",children:e.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-6 rounded-full transition-all duration-300 flex items-center justify-center text-white text-sm font-medium",style:{width:`${y}%`},children:[y,"%"]})}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsxs("span",{children:[t.completedModules," modules completed"]}),e.jsxs("span",{children:[t.totalModules," total modules"]})]})]}),r.length>0&&e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Course Progress"}),e.jsx("div",{className:"space-y-6",children:r.map(b=>{const _=b.progress_percentage||0;return e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:b.title}),e.jsxs("p",{className:"text-sm text-gray-600",children:[b.total_modules||0," modules"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[_,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"complete"})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-3",children:e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 h-3 rounded-full transition-all duration-300",style:{width:`${_}%`}})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[b.completed_modules||0," of"," ",b.total_modules||0," modules completed"]}),b.completed&&e.jsxs("div",{className:"flex items-center text-green-600 text-sm font-medium",children:[e.jsx(ln,{className:"h-4 w-4 mr-1"}),"Certificate Earned"]})]}),b.modules&&b.modules.length>0&&e.jsx("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-2",children:b.modules.map(k=>e.jsxs("div",{className:"flex items-center text-sm",children:[k.completed?e.jsx(vs,{className:"h-4 w-4 text-green-600 mr-2"}):e.jsx("div",{className:"h-4 w-4 rounded-full border border-gray-300 mr-2"}),e.jsx("span",{className:k.completed?"text-green-600":"text-gray-600",children:k.title})]},k.id))})]},b.id)})})]}),n.length>0&&e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Earned Certificates"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.map(b=>e.jsxs("div",{className:`border border-gray-200 rounded-lg p-6 ${b.type==="exam"?"bg-gradient-to-r from-blue-50 to-indigo-50":"bg-gradient-to-r from-yellow-50 to-orange-50"}`,children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(ln,{className:`h-8 w-8 mr-3 ${b.type==="exam"?"text-blue-600":"text-yellow-600"}`}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:b.type==="exam"?b.exam_title||b.course_title:b.course_title||`Certificate ${b.id}`}),e.jsx("p",{className:"text-sm text-gray-600",children:b.type==="exam"?`Exam Certificate - ID: ${b.id}`:`Course Certificate - ID: ${b.id}`})]})]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ns,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:["Issued on: ",b.issued_date]})]}),b.type==="exam"&&b.score&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(wn,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:["Score: ",b.score,"% (Passing:"," ",b.passing_score,"%)"]})]}),b.certificate_url&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(wn,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Certificate Available"})]})]}),b.issued_date?e.jsxs("button",{onClick:()=>v(b),className:`mt-4 w-full font-medium py-2 px-4 rounded-lg transition-all duration-200 flex items-center justify-center ${b.type==="exam"?"bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 text-white":"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white"}`,children:[e.jsx(ln,{className:"h-4 w-4 mr-2"}),"View Certificate"]}):e.jsxs("button",{disabled:!0,className:"mt-4 w-full bg-gray-300 text-gray-500 font-medium py-2 px-4 rounded-lg cursor-not-allowed flex items-center justify-center",children:[e.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Certificate Pending"]})]},b.id))})]}),e.jsx($p,{selectedCertificate:h,onClose:()=>f(null),displayName:g,certificateType:(h==null?void 0:h.type)==="exam"?"exam":"course"}),r.length===0&&e.jsxs("div",{className:"bg-white p-12 rounded-2xl shadow-xl border border-gray-200 text-center",children:[e.jsx(dl,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Courses Enrolled"}),e.jsx("p",{className:"text-gray-600",children:"Start your learning journey by enrolling in a course from the LMS Dashboard."})]})]})},sue=({onViewCourse:t})=>{const{user:s}=rd(),[r,a]=N.useState([]),[n,i]=N.useState(!1),[o,l]=N.useState(null),[d,u]=N.useState({title:"",description:"",duration:"",modules:[],attachments:[]}),[h,f]=N.useState({title:"",content:"",file:null}),[p,g]=N.useState([]),[v,y]=N.useState(""),[b,_]=N.useState([]),[k,A]=N.useState(!0),[R,F]=N.useState(null),V=N.useRef(null),[S,L]=N.useState(!1),[I,B]=N.useState(null),[T,w]=N.useState({}),[E,D]=N.useState({}),G=re=>!!(s&&re&&re.createdBy===s.id),K=()=>{const re={};return d.title.trim()||(re.title="Course title is required"),d.description.trim()||(re.description="Description is required"),d.duration.trim()||(re.duration="Duration is required"),d.modules.length===0&&(re.modules="At least one module is required"),w(re),Object.keys(re).length>0&&Me.fire({icon:"warning",title:"Please Fill Required Fields",text:"Some required fields are missing. Please check the form and try again.",confirmButtonColor:"#F59E0B"}),Object.keys(re).length===0};N.useEffect(()=>{Z()},[]);const X=async re=>{try{const pe=Array.from(new Set((re||[]).map(he=>he.createdBy).filter(Boolean))).filter(he=>!(he in E));if(pe.length===0)return;const ae=await Promise.all(pe.map(async he=>{try{const Te=await Rh.getUserById(he),Ie=(Te==null?void 0:Te.name)||(Te==null?void 0:Te.fullName)||(Te==null?void 0:Te.username)||`User ${he}`;return[he,Ie]}catch(Te){return console.warn("Failed to load creator name for id",he,Te),[he,`User ${he}`]}}));D(he=>{const Te={...he};return ae.forEach(([Ie,Be])=>Te[Ie]=Be),Te})}catch(ve){console.warn("ensureCreatorNames failed",ve)}},se=async re=>{try{F(re),await Os.enrollInCourse(re,s==null?void 0:s.id),await Z(),Me.fire({icon:"success",title:"Enrolled",text:"Successfully enrolled in the course!",confirmButtonColor:"#10B981"})}catch(ve){console.error("Enrollment failed:",ve),Me.fire({icon:"error",title:"Enrollment Failed",text:"Failed to enroll in the course. Please try again.",confirmButtonColor:"#EF4444"})}finally{F(null)}},Z=async()=>{try{A(!0);const re=await Os.fetchCourses();let ve=[];try{ve=(await Os.getEnrollments()).data||[]}catch(ae){console.warn("Could not fetch user enrollments:",ae)}const pe=re.data.map(ae=>({...ae,enrolled:ve.some(he=>he.course_id===ae.id)}));a(pe),X(pe);try{const ae=await Os.getUserProgress();_(ae.enrolledCourses||pe.filter(he=>he.enrolled))}catch(ae){console.warn("Could not fetch user progress:",ae),_(pe.filter(he=>he.enrolled))}}catch(re){console.error("Failed to load courses",re)}finally{A(!1)}},ee=async()=>{var re,ve,pe;if(K())try{L(!0),B(null),w({}),console.log("Starting course creation process...");const ae=await ue();if(console.log("Processed attachments:",ae),ae===null){console.error("File processing failed");return}const he={...d,attachments:[...d.attachments,...ae]};console.log("Final course data being sent:",he),await Os.createCourse(he),console.log("Course created successfully"),await Z(),i(!1),z(),Me.fire({icon:"success",title:"Course Created Successfully!",text:"Your course has been created and is now available.",confirmButtonColor:"#10B981",timer:3e3,timerProgressBar:!0})}catch(ae){B("Failed to create course"),console.error("Course creation error:",ae),console.error("Error response:",ae.response),console.error("Error data:",(re=ae.response)==null?void 0:re.data),Me.fire({icon:"error",title:"Failed to Create Course",text:((pe=(ve=ae.response)==null?void 0:ve.data)==null?void 0:pe.message)||"An error occurred while creating the course. Please try again.",confirmButtonColor:"#EF4444"})}finally{L(!1)}},ce=async()=>{var re,ve,pe;if(K()&&o)try{L(!0),B(null),w({}),console.log("Starting course update process...");const ae=await ue();if(console.log("Processed attachments for update:",ae),ae===null){console.error("File processing failed for update");return}const he={...d,attachments:[...d.attachments,...ae]};console.log("Final course update data:",he),await Os.updateCourse(o.id,he),console.log("Course updated successfully"),await Z(),l(null),z(),Me.fire({icon:"success",title:"Course Updated Successfully!",text:"Your course has been updated successfully.",confirmButtonColor:"#10B981",timer:3e3,timerProgressBar:!0})}catch(ae){B("Failed to update course"),console.error("Course update error:",ae),console.error("Error response:",ae.response),console.error("Error data:",(re=ae.response)==null?void 0:re.data),Me.fire({icon:"error",title:"Failed to Update Course",text:((pe=(ve=ae.response)==null?void 0:ve.data)==null?void 0:pe.message)||"An error occurred while updating the course. Please try again.",confirmButtonColor:"#EF4444"})}finally{L(!1)}},U=async re=>{if((await Me.fire({title:"Are you sure?",text:"You won't be able to revert this! All associated data will be deleted.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#EF4444",cancelButtonColor:"#6B7280",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{L(!0),await Os.deleteCourse(re),await Z(),Me.fire({icon:"success",title:"Course Deleted!",text:"The course has been deleted successfully.",confirmButtonColor:"#10B981",timer:2e3,timerProgressBar:!0})}catch(pe){console.error("Delete failed",pe),Me.fire({icon:"error",title:"Failed to Delete Course",text:"An error occurred while deleting the course. Please try again.",confirmButtonColor:"#EF4444"})}finally{L(!1)}},O=re=>{l(re),u({title:re.title,description:re.description,duration:re.duration,modules:[...re.modules],attachments:re.attachments||[]})},z=()=>{u({title:"",description:"",duration:"",modules:[],attachments:[]}),f({title:"",content:"",file:null}),g([]),y(""),B(null),w({})},q=()=>{if(h.title&&h.content){const re={tempId:`temp-${Date.now()}`,...h,completed:!1};u({...d,modules:[...d.modules,re]}),f({title:"",content:"",file:null});const ve=document.getElementById("new-module-file-input");ve&&(ve.value="")}},te=re=>{u({...d,modules:d.modules.filter(ve=>(ve.id||ve.tempId)!==re)})},ge=re=>{console.log("File selection triggered");const ve=Array.from(re.target.files);console.log("Selected files:",ve.map(Be=>({name:Be.name,type:Be.type,size:Be.size})));const pe=["application/pdf","video/mp4","video/avi","video/quicktime","video/x-ms-wmv"],ae=50*1024*1024,he=[],Te=[],Ie=new Set((p||[]).map(Be=>`${Be.name}|${Be.size}`));ve.forEach(Be=>{console.log("Validating file:",Be.name);const Le=`${Be.name}|${Be.size}`;Ie.has(Le)||(pe.includes(Be.type)?Be.size>ae?Te.push(`${Be.name}: File size exceeds 50MB limit.`):(console.log("File is valid:",Be.name),he.push(Be)):Te.push(`${Be.name}: Invalid file type. Only PDF and video files are allowed.`))}),Te.length>0?(console.error("File validation errors:",Te),y(Te.join(`
`))):(console.log("All files valid, setting selected files"),y(""),g([...p||[],...he]));try{V.current&&(V.current.value=""),re&&re.target&&(re.target.value="")}catch{}},Q=re=>{g(p.filter((ve,pe)=>pe!==re))},ue=async()=>{console.log("Processing files:",p);const re=[];for(const ve of p)try{console.log("Processing file:",ve.name,"Type:",ve.type,"Size:",ve.size);const pe={id:Date.now()+Math.random(),name:ve.name,type:ve.type.includes("pdf")?"pdf":"video",size:Os.formatFileSize(ve.size),file:ve};console.log("Created attachment object:",pe),re.push(pe)}catch(pe){return console.error("Error processing file:",ve.name,pe),y(`Error processing file ${ve.name}: ${pe.message}`),null}return console.log("Processed attachments:",re),re},ie=(re,ve,pe)=>{u({...d,modules:d.modules.map(ae=>(ae.id||ae.tempId)===re?{...ae,[ve]:pe}:ae)})},oe=(re,ve)=>{console.log("updateModuleFile called with moduleId:",re,"file:",ve),u({...d,modules:d.modules.map(pe=>(console.log("checking module:",pe.id||pe.tempId,"vs",re),(pe.id||pe.tempId)===re?(console.log("updating module file to:",ve),{...pe,file:ve,path:pe.path}):pe))})},J=async re=>{try{await Os.removeAttachment(re),u({...d,attachments:d.attachments.filter(ve=>ve.id!==re)})}catch{y("Failed to remove attachment.")}};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Courses"}),e.jsx("p",{className:"text-gray-600 text-lg mt-2",children:"Create, edit, and manage your courses"})]}),s&&s.role!=="user"&&e.jsx("div",{className:"flex space-x-4",children:e.jsxs("button",{onClick:()=>i(!0),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 flex items-center",children:[e.jsx(bs,{className:"h-5 w-5 mr-2"}),"Create Course"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[k&&e.jsx("div",{className:"col-span-full flex justify-center items-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading courses..."})]})}),!k&&r.map(re=>e.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow duration-300",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(dl,{className:"h-8 w-8 text-blue-600 mr-3"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:re.title})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:re.description}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-4",children:[e.jsx(Ns,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[re.duration,re.duration?" hours":""]}),e.jsx("span",{className:"mx-2",children:""}),e.jsxs("span",{children:[re.modules.length," modules"]})]}),e.jsxs("div",{className:"text-xs text-gray-400 mb-4",children:["Created by:"," ",E[re.createdBy]??`User ${re.createdBy??"Unknown"}`]}),e.jsx("div",{className:"flex space-x-2",children:s&&s.role==="user"?re.enrolled?e.jsxs("div",{className:"w-full space-y-2",children:[e.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Enrolled"}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:(()=>{const ve=b.find(pe=>pe.id===re.id);return ve&&ve.completed_modules!==void 0?ve.total_modules>0?`${ve.completed_modules/ve.total_modules*100}%`:"0%":re.modules&&re.modules.length>0?`${re.modules.filter(pe=>pe.completed).length/re.modules.length*100}%`:"0%"})()}})}),e.jsx("p",{className:"text-xs text-gray-500",children:(()=>{var pe,ae;const ve=b.find(he=>he.id===re.id);if(ve&&ve.completed_modules!==void 0)return`${ve.completed_modules} of ${ve.total_modules} modules completed`;{const he=((pe=re.modules)==null?void 0:pe.filter(Ie=>Ie.completed).length)||0,Te=((ae=re.modules)==null?void 0:ae.length)||0;return`${he} of ${Te} modules completed`}})()}),e.jsxs("button",{onClick:()=>t(re.id),className:"w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-medium py-2 px-4 rounded-lg transition-all duration-200 flex items-center justify-center mt-2",children:[e.jsx(bp,{className:"h-4 w-4 mr-2"}),"Continue Course"]})]}):e.jsx("button",{onClick:()=>se(re.id),disabled:R===re.id,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 disabled:from-gray-400 disabled:to-gray-500 text-white font-medium py-2 px-4 rounded-lg transition-all duration-200 flex items-center justify-center",children:R===re.id?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Enrolling..."]}):e.jsxs(e.Fragment,{children:[e.jsx(bp,{className:"h-4 w-4 mr-2"}),"Enroll Now"]})}):e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>t(re.id),className:"flex-1 bg-green-100 hover:bg-green-200 text-green-700 px-3 py-2 rounded-lg font-medium transition-colors flex items-center justify-center",children:[e.jsx(dl,{className:"h-4 w-4 mr-1"}),"View"]}),e.jsxs("button",{onClick:()=>G(re)&&O(re),disabled:!G(re),className:"flex-1 bg-blue-100 hover:bg-blue-200 text-blue-700 px-3 py-2 rounded-lg font-medium transition-colors flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(tr,{className:"h-4 w-4 mr-1"}),"Edit"]}),e.jsx("button",{onClick:()=>G(re)&&U(re.id),disabled:!G(re),className:"bg-red-100 hover:bg-red-200 text-red-700 px-3 py-2 rounded-lg font-medium transition-colors flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(ns,{className:"h-4 w-4"})})]})})]},re.id))]}),r.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(dl,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No courses created yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Start by creating your first course"}),s&&s.role!=="user"&&e.jsxs("button",{onClick:()=>i(!0),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 inline-flex items-center",children:[e.jsx(bs,{className:"h-5 w-5 mr-2"}),"Create Your First Course"]})]}),(n||o)&&e.jsx("div",{className:"fixed inset-0 bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:o?"Edit Course":"Create New Course"}),e.jsx("button",{onClick:()=>{i(!1),l(null),z()},className:"text-gray-400 hover:text-gray-600",children:e.jsx(zt,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Title *"}),e.jsx("input",{type:"text",value:d.title,onChange:re=>u({...d,title:re.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${T.title?"border-red-500":"border-gray-300"}`,placeholder:"Enter course title"}),T.title&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:T.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration *"}),e.jsx("input",{type:"number",value:d.duration,onChange:re=>{const ve=re.target.value.replace(/[^0-9]/g,"");u({...d,duration:ve})},onKeyDown:re=>{["e","E","+","-","."].includes(re.key)&&re.preventDefault()},className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${T.duration?"border-red-500":"border-gray-300"}`,placeholder:"e.g., 2 (hours)"}),T.duration&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:T.duration})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),e.jsx("textarea",{value:d.description,onChange:re=>u({...d,description:re.target.value}),rows:4,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${T.description?"border-red-500":"border-gray-300"}`,placeholder:"Enter course description"}),T.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:T.description})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Course Modules"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Add New Module"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsx("input",{type:"text",value:h.title,onChange:re=>f({...h,title:re.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Module title"}),e.jsx("textarea",{value:h.content,onChange:re=>f({...h,content:re.target.value}),rows:2,className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Module content"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Module File (PDF/Video - Optional)"}),e.jsx("input",{id:"new-module-file-input",type:"file",accept:".pdf,.mp4,.avi,.mov,.wmv",onChange:re=>f({...h,file:re.target.files[0]||null}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent file:mr-4 file:py-2 file:px-4 file:rounded-l-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),h.file&&e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Selected: ",h.file.name," (",(h.file.size/1024/1024).toFixed(2)," MB)"]})]}),e.jsx("button",{onClick:q,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"Add Module"})]}),e.jsx("div",{className:"space-y-3",children:d.modules.map((re,ve)=>{var pe;return e.jsxs("div",{className:"bg-white border border-gray-200 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h6",{className:"font-medium text-gray-900",children:["Module ",ve+1,": ",re.title]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("button",{onClick:()=>te(re.id||re.tempId),className:"text-red-500 hover:text-red-700",children:e.jsx(ns,{className:"h-4 w-4"})})})]}),e.jsx("textarea",{value:re.content,onChange:ae=>ie(re.id||re.tempId,"content",ae.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Module content"}),e.jsx("div",{className:"mt-3 space-y-2",children:re.file&&e.jsxs("div",{className:"flex items-center justify-between bg-blue-50 border border-blue-200 rounded-lg p-2",children:[e.jsxs("div",{className:"flex items-center",children:[(pe=re.file.type)!=null&&pe.includes("pdf")?e.jsx(xs,{className:"h-5 w-5 text-red-500 mr-2"}):e.jsx(Ph,{className:"h-5 w-5 text-blue-500 mr-2"}),e.jsxs("span",{className:"text-sm text-gray-700",children:[re.file.name," (",(re.file.size/1024/1024).toFixed(2)," ","MB)"]})]}),e.jsx("button",{type:"button",onClick:()=>oe(re.id||re.tempId,null),className:"text-red-500 hover:text-red-700 text-xs",children:"Remove"})]})}),re.path&&e.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[re.path.includes(".pdf")?e.jsx(xs,{className:"h-5 w-5 text-red-500 mr-2"}):e.jsx(Ph,{className:"h-5 w-5 text-blue-500 mr-2"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Existing file:"," ",re.path?decodeURIComponent(re.path.split("/").pop()):"Attached file"]})]}),e.jsx("button",{onClick:()=>window.open(re.path,"_blank"),className:"text-blue-600 hover:text-blue-800 text-sm underline",children:"View File"})]})})]},re.id||re.tempId)})}),T.modules&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:T.modules})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Course Attachments (Optional)"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Upload PDF documents or video files to enhance your course content."}),e.jsx("div",{className:"mb-4",children:e.jsx("label",{className:"block",children:e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors cursor-pointer",children:[e.jsx(hl,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600 mb-1",children:"Click to upload files"}),e.jsx("p",{className:"text-sm text-gray-500",children:"PDF, MP4, AVI, MOV, WMV (max 50MB each)"}),e.jsx("input",{type:"file",multiple:!0,accept:".pdf,.mp4,.avi,.mov,.wmv",onChange:ge,ref:V,className:"hidden"})]})})}),v&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Hs,{className:"h-5 w-5 text-red-500 mr-2"}),e.jsx("div",{className:"text-red-700 text-sm whitespace-pre-line",children:v})]})}),p.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Files to Upload:"}),e.jsx("div",{className:"space-y-2",children:p.map((re,ve)=>e.jsxs("div",{className:"flex items-center justify-between bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center",children:[re.type==="application/pdf"?e.jsx(xs,{className:"h-5 w-5 text-red-500 mr-3"}):e.jsx(Ph,{className:"h-5 w-5 text-blue-500 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:re.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(re.size/1024/1024).toFixed(2)," MB"]})]})]}),e.jsx("button",{onClick:()=>Q(ve),className:"text-red-500 hover:text-red-700",children:e.jsx(zt,{className:"h-4 w-4"})})]},ve))})]}),d.attachments&&d.attachments.length>0&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Existing Attachments:"}),e.jsx("div",{className:"space-y-2",children:d.attachments.map(re=>e.jsxs("div",{className:"flex items-center justify-between bg-green-50 border border-green-200 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center",children:[re.type==="pdf"?e.jsx(xs,{className:"h-5 w-5 text-red-500 mr-3"}):e.jsx(Ph,{className:"h-5 w-5 text-blue-500 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:re.name}),e.jsx("p",{className:"text-xs text-gray-500",children:re.size})]})]}),e.jsx("button",{onClick:()=>J(re.id),className:"text-red-500 hover:text-red-700",children:e.jsx(zt,{className:"h-4 w-4"})})]},re.id))})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>{i(!1),l(null),z()},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:o?ce:ee,disabled:S,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-2 rounded-lg font-medium transition-all duration-200 flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:S?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),o?"Updating...":"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(D0,{className:"h-4 w-4 mr-2"}),o?"Update Course":"Create Course"]})})]})]})]})})]})},rue=({onTakeExam:t})=>{const{user:s}=rd(),[r,a]=N.useState([]),[n,i]=N.useState([]),[o,l]=N.useState({}),[d,u]=N.useState(!1),[h,f]=N.useState(null),[p,g]=N.useState(!1),[v,y]=N.useState(null),[b,_]=N.useState(!1),[k,A]=N.useState(null),[R,F]=N.useState({title:"",description:"",courseId:"",duration:"",passingScore:70,questions:[]}),[V,S]=N.useState({question:"",options:["","","",""],correctAnswer:0,explanation:""}),[L,I]=N.useState("add"),[B,T]=N.useState(null),[w,E]=N.useState(!1),[D,G]=N.useState(null),[K,X]=N.useState({});N.useEffect(()=>{U(),O()},[]);const se=()=>{const ae={};return R.title.trim()||(ae.title="Exam title is required"),R.description.trim()||(ae.description="Description is required"),R.duration.trim()||(ae.duration="Duration is required"),R.questions.length===0&&(ae.questions="At least one question is required"),X(ae),Object.keys(ae).length>0&&Me.fire({icon:"warning",title:"Please Fill Required Fields",text:"Some required fields are missing. Please check the form and try again.",confirmButtonColor:"#F59E0B"}),Object.keys(ae).length===0},Z=()=>{const ae={};return V.question.trim()||(ae.question="Question text is required"),V.options.filter(Te=>!Te.trim()).length>0&&(ae.options="All option fields must be filled"),ae},ee=ae=>s&&s.role==="admin"?!0:s&&ae.created_by===s.id,ce=async ae=>{const he={};await Promise.all(ae.map(async Te=>{const Ie=await Os.hasUserPassedExam(Te.id);he[Te.id]=Ie})),l(he)},U=async()=>{try{E(!0),G(null);const he=(await Os.getExams()).data||[];a(he),await ce(he)}catch(ae){G("Failed to load exams"),console.error("Error loading exams:",ae),Me.fire({icon:"error",title:"Failed to Load Exams",text:"Unable to load exams. Please try again later.",confirmButtonColor:"#3B82F6"})}finally{E(!1)}},O=async()=>{try{const ae=await Os.fetchCourses();i(ae.data||[])}catch(ae){console.error("Error loading courses:",ae),i(Os.getCourses()),Me.fire({icon:"warning",title:"Courses Loading Issue",text:"Unable to load courses from server. Using cached data if available.",confirmButtonColor:"#F59E0B",timer:4e3,timerProgressBar:!0})}},z=async()=>{var ae,he;if(se())try{E(!0),G(null),X({});const Te=R.questions.map(Be=>({question:Be.question,options:Be.options,correct_answer:typeof Be.correct_answer=="number"?Be.correct_answer:Be.correctAnswer,explanation:Be.explanation})),Ie={title:R.title,description:R.description,course_id:R.courseId?parseInt(R.courseId):null,duration:R.duration,passing_score:R.passingScore,total_questions:R.questions.length,questions:Te};await Os.createExam(Ie),await U(),g(!1),Q(),Me.fire({icon:"success",title:"Exam Created Successfully!",text:"Your exam has been created and is now available.",confirmButtonColor:"#10B981",timer:3e3,timerProgressBar:!0})}catch(Te){G("Failed to create exam"),console.error("Error creating exam:",Te),Me.fire({icon:"error",title:"Failed to Create Exam",text:((he=(ae=Te.response)==null?void 0:ae.data)==null?void 0:he.message)||"An error occurred while creating the exam. Please try again.",confirmButtonColor:"#EF4444"})}finally{E(!1)}},q=async()=>{var ae,he;if(se())try{E(!0),G(null),X({});const Te=R.questions.map(Be=>({question:Be.question,options:Be.options,correct_answer:typeof Be.correct_answer=="number"?Be.correct_answer:Be.correctAnswer,explanation:Be.explanation})),Ie={title:R.title,description:R.description,course_id:R.courseId?parseInt(R.courseId):null,duration:R.duration,passing_score:R.passingScore,total_questions:R.questions.length,questions:Te};await Os.updateExam(v.id,Ie),await U(),y(null),Q(),Me.fire({icon:"success",title:"Exam Updated Successfully!",text:"Your exam has been updated successfully.",confirmButtonColor:"#10B981",timer:3e3,timerProgressBar:!0})}catch(Te){G("Failed to update exam"),console.error("Error updating exam:",Te),Me.fire({icon:"error",title:"Failed to Update Exam",text:((he=(ae=Te.response)==null?void 0:ae.data)==null?void 0:he.message)||"An error occurred while updating the exam. Please try again.",confirmButtonColor:"#EF4444"})}finally{E(!1)}},te=async ae=>{var Te,Ie;if((await Me.fire({title:"Are you sure?",text:"You won't be able to revert this! This will permanently delete the exam and all its questions.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#EF4444",cancelButtonColor:"#6B7280",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"})).isConfirmed)try{E(!0),G(null),await Os.deleteExam(ae),await U(),Me.fire({icon:"success",title:"Exam Deleted!",text:"The exam has been deleted successfully.",confirmButtonColor:"#10B981",timer:3e3,timerProgressBar:!0})}catch(Be){G("Failed to delete exam"),console.error("Error deleting exam:",Be),Me.fire({icon:"error",title:"Failed to Delete Exam",text:((Ie=(Te=Be.response)==null?void 0:Te.data)==null?void 0:Ie.message)||"An error occurred while deleting the exam. Please try again.",confirmButtonColor:"#EF4444"})}finally{E(!1)}},ge=ae=>{y(ae),F({title:ae.title,description:ae.description,courseId:ae.course_id||ae.courseId||"",duration:ae.duration,passingScore:ae.passing_score||ae.passingScore,questions:[...ae.questions||[]]})},Q=()=>{F({title:"",description:"",courseId:"",duration:"",passingScore:70,questions:[]}),S({question:"",options:["","","",""],correctAnswer:0,explanation:""}),X({})},ue=()=>{const ae=Z();if(Object.keys(ae).length>0){X(he=>({...he,...ae})),Me.fire({icon:"warning",title:"Validation Error",text:"Please fill in all required fields for the question.",confirmButtonColor:"#F59E0B"});return}if(V.question&&V.options.every(he=>he.trim())){const he={...V,id:Date.now()};F({...R,questions:[...R.questions,he]}),S({question:"",options:["","","",""],correctAnswer:0,explanation:""}),X(Te=>{const Ie={...Te};return delete Ie.question,delete Ie.options,Ie}),Me.fire({icon:"success",title:"Question Added!",text:"Question has been added to the exam.",toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0})}},ie=ae=>{F({...R,questions:R.questions.filter(he=>he.id!==ae)})},oe=ae=>{if(!ae)return"Standalone Exam";const he=n.find(Te=>Te.id===ae);return he?he.title:"Unknown Course"},J=()=>{I("add"),T(null),S({question:"",options:["","","",""],correctAnswer:0,explanation:""}),_(!0)},re=ae=>{I("edit"),T(ae),S({question:ae.question||"",options:[...ae.options||["","","",""]],correctAnswer:typeof ae.correct_answer=="number"?ae.correct_answer:ae.correctAnswer||0,explanation:ae.explanation||""}),_(!0)},ve=()=>{const ae=Z();if(Object.keys(ae).length>0){X(he=>({...he,...ae})),Me.fire({icon:"warning",title:"Validation Error",text:"Please complete required fields",confirmButtonColor:"#F59E0B"});return}F(he=>({...he,questions:he.questions.map(Te=>Te.id===B.id?{...Te,question:V.question,options:V.options,correct_answer:V.correctAnswer,explanation:V.explanation}:Te)})),_(!1),T(null),Me.fire({icon:"success",title:"Question Updated!",toast:!0,position:"top-end",showConfirmButton:!1,timer:1800})},pe=async ae=>{try{const he=r.find(Ie=>Ie.id===ae),Te=await Os.getExamCertificate(ae);if(!Te)throw new Error("Certificate not available");f({...Te,examTitle:Te.examTitle||(he==null?void 0:he.title),examDescription:Te.examDescription||(he==null?void 0:he.description),passingScore:Te.passingScore||(he==null?void 0:he.passing_score)||(he==null?void 0:he.passingScore),userName:(s==null?void 0:s.name)||(s==null?void 0:s.fullName)||"User"}),u(!0)}catch(he){console.error("Error fetching certificate:",he),Me.fire({icon:"error",title:"Certificate Error",text:"Failed to retrieve your certificate. Please try again later.",confirmButtonColor:"#3B82F6"})}};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Exam"}),e.jsx("p",{className:"text-gray-600 text-lg mt-2",children:"Create, edit, and manage exams for your courses"})]}),s&&s.role!=="user"&&e.jsxs("button",{onClick:()=>g(!0),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 flex items-center",children:[e.jsx(bs,{className:"h-5 w-5 mr-2"}),"Create Exam"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(ae=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-gray-200 hover:shadow-2xl transition-all duration-300",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(xs,{className:"h-8 w-8 text-blue-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:ae.title}),e.jsxs("p",{className:"text-sm text-gray-500",children:[ae.total_questions||ae.totalQuestions," questions"]})]})]})}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:ae.description}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(Ns,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[ae.duration,ae.duration?" minutes":""]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(wn,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:["Passing: ",ae.passing_score||ae.passingScore,"%"]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(dl,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:oe(ae.course_id||ae.courseId)})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[Object.prototype.hasOwnProperty.call(o,ae.id)?o[ae.id]?e.jsxs("button",{onClick:()=>pe(ae.id),className:"flex-1 bg-yellow-100 hover:bg-yellow-200 text-yellow-700 px-3 py-2 rounded-lg font-medium transition-colors flex items-center justify-center",children:[e.jsx(ln,{className:"h-4 w-4 mr-1"}),"View Certificate"]}):e.jsxs("button",{onClick:()=>t&&t(ae.id),className:"flex-1 bg-green-100 hover:bg-green-200 text-green-700 px-3 py-2 rounded-lg font-medium transition-colors flex items-center justify-center",children:[e.jsx(vs,{className:"h-4 w-4 mr-1"}),"Take Exam"]}):e.jsxs("button",{disabled:!0,className:"flex-1 bg-gray-200 text-gray-600 px-3 py-2 rounded-lg font-medium transition-colors flex items-center justify-center cursor-wait",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600 mr-2"}),"Checking status..."]}),ee(ae)&&e.jsxs("button",{onClick:()=>ge(ae),className:"flex-1 bg-blue-100 hover:bg-blue-200 text-blue-700 px-3 py-2 rounded-lg font-medium transition-colors flex items-center justify-center",children:[e.jsx(tr,{className:"h-4 w-4 mr-1"}),"Edit"]}),ee(ae)&&e.jsx("button",{onClick:()=>te(ae.id),className:"bg-red-100 hover:bg-red-200 text-red-700 px-3 py-2 rounded-lg font-medium transition-colors flex items-center justify-center",children:e.jsx(ns,{className:"h-4 w-4"})})]})]},ae.id))}),r.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(xs,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No exams created yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Start by creating your first exam"})]}),(p||v)&&e.jsx("div",{className:"fixed inset-0 bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:v?"Edit Exam":"Create New Exam"}),e.jsx("button",{onClick:()=>{g(!1),y(null),Q()},className:"text-gray-400 hover:text-gray-600",children:e.jsx(zt,{className:"h-6 w-6"})})]}),D&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Hs,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:D})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Exam Title *"}),e.jsx("input",{type:"text",value:R.title,onChange:ae=>{F({...R,title:ae.target.value}),K.title&&X(he=>({...he,title:""}))},className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${K.title?"border-red-500":"border-gray-300"}`,placeholder:"Enter exam title"}),K.title&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:K.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration *"}),e.jsx("input",{type:"number",value:R.duration,onChange:ae=>{const he=ae.target.value.replace(/[^0-9]/g,"");F({...R,duration:he})},onKeyDown:ae=>{["e","E","+","-","."].includes(ae.key)&&ae.preventDefault()},className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${K.duration?"border-red-500":"border-gray-300"}`,placeholder:"e.g., 30 minutes"}),K.duration&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:K.duration})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),e.jsx("textarea",{value:R.description,onChange:ae=>{F({...R,description:ae.target.value}),K.description&&X(he=>({...he,description:""}))},rows:3,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${K.description?"border-red-500":"border-gray-300"}`,placeholder:"Enter exam description"}),K.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:K.description})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Related Course (Optional)"}),e.jsxs("select",{value:R.courseId,onChange:ae=>F({...R,courseId:ae.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select a course (optional)"}),n.map(ae=>e.jsx("option",{value:ae.id,children:ae.title},ae.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Passing Score (%)"}),e.jsx("input",{type:"number",min:"0",max:"100",value:R.passingScore,onChange:ae=>F({...R,passingScore:parseInt(ae.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900",children:["Questions (",R.questions.length,")"]}),e.jsxs("button",{onClick:J,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center",children:[e.jsx(pF,{className:"h-4 w-4 mr-2"}),"Add Question"]})]}),K.questions&&e.jsx("p",{className:"mb-4 text-sm text-red-600",children:K.questions}),e.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:R.questions.map((ae,he)=>e.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h6",{className:"font-medium text-gray-900",children:["Question ",he+1]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>re(ae),className:"text-blue-500 hover:text-blue-700",children:e.jsx(tr,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>ie(ae.id),className:"text-red-500 hover:text-red-700",children:e.jsx(ns,{className:"h-4 w-4"})})]})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:ae.question}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Options: ",ae.options.length," | Correct:"," ",ae.options[(typeof ae.correct_answer=="number"?ae.correct_answer:ae.correctAnswer)||0]]})]},ae.id))})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>{g(!1),y(null),Q()},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:v?q:z,disabled:w,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-2 rounded-lg font-medium transition-all duration-200 flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:w?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),v?"Updating...":"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(D0,{className:"h-4 w-4 mr-2"}),v?"Update Exam":"Create Exam"]})})]})]})]})}),b&&e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-2xl max-w-2xl w-full mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:L==="edit"?"Edit Question":"Add Question"}),e.jsx("button",{onClick:()=>{_(!1),T(null),X(ae=>{const he={...ae};return delete he.question,delete he.options,he})},className:"text-gray-400 hover:text-gray-600",children:e.jsx(zt,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question *"}),e.jsx("textarea",{value:V.question,onChange:ae=>{S({...V,question:ae.target.value}),K.question&&X(he=>({...he,question:""}))},rows:3,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${K.question?"border-red-500":"border-gray-300"}`,placeholder:"Enter your question"}),K.question&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:K.question})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Options *"}),V.options.map((ae,he)=>e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("input",{type:"radio",name:"correctAnswer",checked:V.correctAnswer===he,onChange:()=>S({...V,correctAnswer:he}),className:"mr-2"}),e.jsx("input",{type:"text",value:ae,onChange:Te=>{const Ie=[...V.options];Ie[he]=Te.target.value,S({...V,options:Ie}),K.options&&X(Be=>({...Be,options:""}))},className:`flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${K.options?"border-red-500":"border-gray-300"}`,placeholder:`Option ${he+1}`})]},he)),K.options&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:K.options})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Explanation"}),e.jsx("textarea",{value:V.explanation,onChange:ae=>S({...V,explanation:ae.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Explain why this is the correct answer"})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[e.jsx("button",{onClick:()=>{_(!1),T(null),X(ae=>{const he={...ae};return delete he.question,delete he.options,he})},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),L==="edit"?e.jsx("button",{onClick:ve,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200",children:"Save Changes"}):e.jsx("button",{onClick:()=>{ue(),_(!1)},className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200",children:"Add Question"})]})]})]})}),d&&h&&e.jsx($p,{selectedCertificate:h,onClose:()=>{u(!1),f(null)},displayName:(h==null?void 0:h.userName)||(s==null?void 0:s.name)||(s==null?void 0:s.fullName)||"User",certificateType:"exam"})]})},aue=({examId:t,onBack:s})=>{const[r,a]=N.useState(null),[n,i]=N.useState(0),[o,l]=N.useState([]),[d,u]=N.useState(30*60),[h,f]=N.useState(!1),[p,g]=N.useState(null),[v,y]=N.useState(!1),[b,_]=N.useState(!1),[k,A]=N.useState(!0),[R,F]=N.useState(null),{user:V}=rd();N.useEffect(()=>{S()},[t]);const S=async()=>{try{A(!0),F(null);const se=await Os.getExam(t);console.log("Loaded exam:",se),console.log("Exam questions:",se.questions),a(se),l(new Array(se.questions.length).fill(null));let Z=30;if(typeof se.duration=="number")Z=se.duration;else if(typeof se.duration=="string"){const ce=se.duration.match(/(\d+)/);ce&&(Z=parseInt(ce[1]))}const ee=Math.max(0,Math.floor(Z*60));console.log("Setting timer to:",ee,"seconds"),u(ee||0)}catch(se){F("Failed to load exam"),console.error("Error loading exam:",se)}finally{A(!1)}};N.useEffect(()=>{if(r&&v&&d>0&&!h&&!b){console.log("Starting timer with:",d,"seconds remaining");const se=setTimeout(()=>{const Z=d-1;console.log("Timer tick:",Z),u(Z)},1e3);return()=>clearTimeout(se)}else r&&v&&d===0&&!h&&!b&&(console.log("Time is up, auto-submitting exam"),w())},[d,h,b,r,v]);const L=se=>{const Z=Math.floor(se/60),ee=se%60;return`${Z}:${ee.toString().padStart(2,"0")}`},I=(se,Z)=>{const ee=[...o];ee[se]=Z,l(ee)},B=()=>{n<r.questions.length-1&&i(n+1)},T=()=>{n>0&&i(n-1)},w=async()=>{if(!b)try{console.log("Submitting exam..."),_(!0);const se=o.map(ee=>ee===null?-1:ee);console.log("Processed answers:",se),console.log("Exam questions length:",r.questions.length),console.log("Answers array length:",se.length);const Z=await Os.submitExam(t,se);console.log("Exam results:",Z),g(Z),f(!0)}catch(se){F("Failed to submit exam"),_(!1),console.error("Error submitting exam:",se),se.response&&(console.error("Response status:",se.response.status),console.error("Response data:",se.response.data))}},E=()=>{console.log("Starting exam"),y(!0)},D=b;if(console.log("TakeExam render - showResults:",h,"examResults:",!!p,"isSubmitted:",b,"exam:",!!r,"shouldShowResults:",D),k)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading exam..."})]})});if(R)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Hs,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-600 mb-6",children:R}),e.jsx("button",{onClick:s,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-2 rounded-lg font-medium transition-all duration-200",children:"Back to Exams"})]})});if(!r)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Hs,{className:"h-16 w-16 text-yellow-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Exam Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The requested exam could not be found."}),e.jsx("button",{onClick:s,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-2 rounded-lg font-medium transition-all duration-200",children:"Back to Exams"})]})});if(!r.questions||r.questions.length===0)return console.log("Exam has no questions"),e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-gray-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Hs,{className:"h-16 w-16 text-yellow-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Exam Not Available"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"This exam doesn't have any questions yet. Please contact the exam creator."}),e.jsx("button",{onClick:s,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-2 rounded-lg font-medium transition-all duration-200",children:"Back to Exams"})]})})});if(console.log("About to check results condition:",D),!v)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-lg p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:r.title}),e.jsx("p",{className:"text-gray-600 mb-6",children:r.description}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ns,{className:"w-5 h-5 text-blue-500 mr-2"}),e.jsxs("span",{children:["Duration: ",r.duration," minutes"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(wn,{className:"w-5 h-5 text-green-500 mr-2"}),e.jsxs("span",{children:["Total Questions: ",r.questions.length]})]})]})}),e.jsx("button",{onClick:E,className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-8 rounded-lg transition duration-200",children:"Start Exam"})]})})});if(D&&!p)return console.log("Waiting for results"),e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Processing your results..."})]})});if(D&&p)return console.log("Showing results"),console.log("Current exam results:",p),p.passed||Number(p.score)>=Number(r.passing_score||0),V!=null&&V.name||V!=null&&V.fullName,new Date().toLocaleDateString(),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("button",{onClick:s,className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(Cw,{className:"h-5 w-5 mr-2"}),"Back to Exams"]}),e.jsxs("div",{className:"text-right",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r.title}),e.jsx("p",{className:"text-gray-600",children:"Exam Results"})]})]})}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-gray-200",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:`inline-flex items-center justify-center w-20 h-20 rounded-full mb-4 ${p.passed?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:p.passed?e.jsx(ln,{className:"h-10 w-10"}):e.jsx(zt,{className:"h-10 w-10"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:p.passed?"Congratulations!":"Exam Completed"}),e.jsx("p",{className:"text-gray-600 mb-4",children:p.passed?"You have successfully passed the exam!":"You did not meet the passing criteria. Try again!"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[p.score,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Your Score"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:p.correct_answers}),e.jsx("div",{className:"text-sm text-gray-600",children:"Correct Answers"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-600",children:p.total_questions}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Questions"})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Passing Score Required:"}),e.jsxs("span",{className:"font-medium",children:[r.passing_score,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Your Score:"}),e.jsxs("span",{className:`font-medium ${p.passed?"text-green-600":"text-red-600"}`,children:[p.score,"%"]})]})]})]}),console.log("exam:",r)]});const G=r.questions[n],K=o.filter(se=>se!==null).length,X=se=>o[se]!==null?"answered":"unanswered";return G?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("button",{onClick:s,className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(Cw,{className:"h-5 w-5 mr-2"}),"Back to Exams"]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r.title}),e.jsx("p",{className:"text-gray-600",children:r.description})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"flex items-center text-red-600 font-medium",children:[e.jsx(Ns,{className:"h-5 w-5 mr-2"}),L(d)]})})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-300",style:{width:`${(n+1)/r.questions.length*100}%`}})}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsxs("span",{children:["Question ",n+1," of ",r.questions.length]}),e.jsxs("span",{children:[K," answered"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-xl border border-gray-200",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Questions"}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:r.questions.map((se,Z)=>e.jsx("button",{onClick:()=>i(Z),className:`w-10 h-10 rounded-lg font-medium transition-colors ${Z===n?"bg-blue-600 text-white":X(Z)==="answered"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:Z+1},Z))})]})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-gray-200",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:["Question ",n+1]}),e.jsx("p",{className:"text-gray-700 text-lg leading-relaxed",children:G.question})]}),e.jsx("div",{className:"space-y-3 mb-8",children:G.options.map((se,Z)=>e.jsxs("label",{className:`flex items-center p-4 rounded-lg border cursor-pointer transition-all ${o[n]===Z?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("input",{type:"radio",name:`question-${n}`,value:Z,checked:o[n]===Z,onChange:()=>I(n,Z),className:"mr-3"}),e.jsx("span",{className:"text-gray-700",children:se})]},Z))}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{onClick:T,disabled:n===0,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("div",{className:"flex space-x-4",children:n===r.questions.length-1?e.jsx("button",{onClick:w,disabled:o.some(se=>se===null),className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white px-6 py-2 rounded-lg font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Submit Exam"}):e.jsx("button",{onClick:B,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-2 rounded-lg font-medium transition-all duration-200",children:"Next"})})]})]})})]})]}):e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-gray-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Hs,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error Loading Question"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"There was an error loading the current question."}),e.jsx("button",{onClick:s,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-2 rounded-lg font-medium transition-all duration-200",children:"Back to Exams"})]})})})},Of=({initialView:t})=>{const[s,r]=N.useState(t||"dashboard"),[a,n]=N.useState(null),[i,o]=N.useState(null);N.useEffect(()=>{t&&r(t)},[t]);const l=y=>{n(y),r("course")},d=()=>{r("dashboard"),n(null)},u=()=>{r("progress")},h=()=>{r("manage")},f=()=>{r("exams"),o(null)},p=y=>{o(y),r("takeExam")},g=()=>{r("exams"),o(null)},v=()=>{switch(s){case"course":return e.jsx(eue,{courseId:a,onBack:d,onTakeExam:p});case"progress":return e.jsx(tue,{});case"manage":return e.jsx(sue,{onViewCourse:l});case"exams":return e.jsx(rue,{onTakeExam:p});case"takeExam":return e.jsx(aue,{examId:i,onBack:f});default:return e.jsx(vie,{onViewCourse:l,onViewProgress:u,onViewManageCourses:h,onTakeExam:p,onManageExams:g})}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s!=="dashboard"&&e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:d,className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(Cw,{className:"h-5 w-5 mr-2"}),"Back to LMS Dashboard"]}),e.jsx("div",{className:"h-6 w-px bg-gray-300"}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("button",{onClick:h,className:`flex items-center px-3 py-2 rounded-lg transition-colors ${s==="manage"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[e.jsx(N1,{className:"h-4 w-4 mr-2"}),"Courses"]}),e.jsxs("button",{onClick:f,className:`flex items-center px-3 py-2 rounded-lg transition-colors ${s==="exams"||s==="takeExam"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[e.jsx(xs,{className:"h-4 w-4 mr-2"}),"Exams"]}),e.jsxs("button",{onClick:u,className:`flex items-center px-3 py-2 rounded-lg transition-colors ${s==="progress"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[e.jsx(wi,{className:"h-4 w-4 mr-2"}),"My Progress"]})]})]})}),e.jsx("div",{className:"p-6",children:v()})]})},lA={blue:{bg:"bg-blue-100",text:"text-blue-600"},indigo:{bg:"bg-indigo-100",text:"text-indigo-600"},purple:{bg:"bg-purple-100",text:"text-purple-600"},green:{bg:"bg-green-100",text:"text-green-600"},yellow:{bg:"bg-yellow-100",text:"text-yellow-600"},pink:{bg:"bg-pink-100",text:"text-pink-600"}},If=({title:t,value:s,icon:r,accent:a="blue"})=>{const n=lA[a]||lA.blue;return e.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`p-3 rounded-xl ${n.bg}`,children:e.jsx(r,{className:`h-6 w-6 ${n.text}`})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:t}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s})]})]})})},cA=({page:t,totalPages:s,onPage:r})=>e.jsxs("div",{className:"flex items-center justify-end gap-2 mt-3",children:[e.jsxs("button",{disabled:t<=1,onClick:()=>r(t-1),className:"px-2 py-1 rounded-lg border border-gray-300 text-gray-700 disabled:opacity-40 flex items-center gap-1",children:[e.jsx(gl,{className:"h-4 w-4"})," Prev"]}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",t," of ",Math.max(s||1,1)]}),e.jsxs("button",{disabled:t>=(s||1),onClick:()=>r(t+1),className:"px-2 py-1 rounded-lg border border-gray-300 text-gray-700 disabled:opacity-40 flex items-center gap-1",children:["Next ",e.jsx(Pn,{className:"h-4 w-4"})]})]}),dA=({columns:t,rows:s,emptyLabel:r,loading:a})=>e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsx("tr",{children:t.map(n=>e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:n.label},n.key))})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a?e.jsx("tr",{children:e.jsx("td",{colSpan:t.length,className:"px-4 py-6 text-center text-gray-500",children:"Loading..."})}):s.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:t.length,className:"px-4 py-6 text-center text-gray-500",children:r})}):s.map((n,i)=>e.jsx("tr",{className:"hover:bg-gray-50",children:t.map(o=>e.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",children:o.render?o.render(n):n[o.key]},o.key))},i))})]})}),uA=t=>{if(!t)return"-";try{return new Date(t).toLocaleString()}catch{return t}};function nue(){const[t,s]=N.useState(null),[r,a]=N.useState(!0),[n,i]=N.useState("courses"),[o,l]=N.useState(1),[d]=N.useState(15),[u,h]=N.useState(""),[f,p]=N.useState({data:[],last_page:1,total:0}),[g,v]=N.useState(!0),[y,b]=N.useState(1),[_]=N.useState(15),[k,A]=N.useState(""),[R,F]=N.useState({data:[],last_page:1,total:0}),[V,S]=N.useState(!0),[L,I]=N.useState(""),[B,T]=N.useState(null);N.useEffect(()=>{let X=!1;const se=async ee=>{try{if(!ee){T(null);return}const ce=await Rh.getUserById(ee);X||T(ce)}catch(ce){X||T(null),console.warn("Failed to fetch user details for id:",ee,ce)}},Z=String(L).trim();return Z&&/^\d+$/.test(Z)?se(Z):T(null),()=>{X=!0}},[L]);const w=async()=>{a(!0);try{const X=await Os.getLmsStats();s(X)}catch(X){console.error("Failed to load stats",X),s(null)}finally{a(!1)}},E=async()=>{v(!0);try{const X={page:o,perPage:d,search:u};L&&(X.userId=L);const se=L?await Os.getUserCourseProgress(L,X):await Os.getAllUsersCourseProgress(X);p({data:se.data||[],last_page:se.last_page||1,total:se.total||(se.data?se.data.length:0)})}catch(X){console.error("Failed to load course progress",X),p({data:[],last_page:1,total:0})}finally{v(!1)}},D=async()=>{S(!0);try{const X={page:y,perPage:_,search:k};L&&(X.userId=L);const se=L?await Os.getUserExamProgress(L,X):await Os.getAllUsersExamProgress(X);F({data:se.data||[],last_page:se.last_page||1,total:se.total||(se.data?se.data.length:0)})}catch(X){console.error("Failed to load exam progress",X),F({data:[],last_page:1,total:0})}finally{S(!1)}};N.useEffect(()=>{w()},[]),N.useEffect(()=>{E()},[o,d,u,L]),N.useEffect(()=>{D()},[y,_,k,L]);const G=N.useMemo(()=>[{key:"user",label:"User",render:X=>{const se=X.user||B;return se?`${se.name}${se.email?` (${se.email})`:""}`:"-"}},{key:"course",label:"Course",render:X=>{var se;return X.course?X.course.title:((se=X.course)==null?void 0:se.title)||X.course_title||"-"}},{key:"enrolled_at",label:"Enrolled",render:X=>uA(X.enrolled_at)},{key:"modules",label:"Modules",render:X=>`${X.completed_modules??X.completedModules??0} / ${X.total_modules??X.totalModules??0}`},{key:"progress",label:"Progress",render:X=>`${X.progress_percentage??X.progressPercentage??0}%`},{key:"certificate_issued",label:"Certificate",render:X=>X.certificate_issued||X.certificateIssued?e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-700",children:"Yes"}):e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-gray-100 text-gray-700",children:"No"})}],[B]),K=N.useMemo(()=>[{key:"user",label:"User",render:X=>{const se=X.user||B;return se?`${se.name}${se.email?` (${se.email})`:""}`:"-"}},{key:"exam",label:"Exam",render:X=>X.exam?`${X.exam.title} (Pass ${X.exam.passing_score??X.exam.passingScore??0}%)`:"-"},{key:"attempts",label:"Attempts",render:X=>X.attempts??0},{key:"best_score",label:"Best Score",render:X=>`${X.best_score??X.bestScore??0}%`},{key:"last_attempt_at",label:"Last Attempt",render:X=>uA(X.last_attempt_at||X.lastAttemptAt)},{key:"passed_any_attempt",label:"Passed",render:X=>X.passed_any_attempt||X.passedAnyAttempt?e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-700",children:"Yes"}):e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-red-100 text-red-700",children:"No"})}],[B]);return e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"LMS User Stats"}),e.jsx("p",{className:"text-gray-600",children:"Monitor learning progress across all users"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[e.jsx(If,{title:"Users Enrolled",value:(t==null?void 0:t.total_users_enrolled)??"-",icon:ta,accent:"blue"}),e.jsx(If,{title:"Enrollments",value:(t==null?void 0:t.total_enrollments)??"-",icon:dl,accent:"indigo"}),e.jsx(If,{title:"Certificates",value:(t==null?void 0:t.total_certificates)??"-",icon:ln,accent:"purple"}),e.jsx(If,{title:"Exams",value:(t==null?void 0:t.total_exams)??"-",icon:wn,accent:"green"}),e.jsx(If,{title:"Exam Pass Rate",value:`${(t==null?void 0:t.exam_pass_rate)??0}%`,icon:wi,accent:"pink"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 flex flex-col md:flex-row md:items-end gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{value:n==="courses"?u:k,onChange:X=>n==="courses"?h(X.target.value):A(X.target.value),placeholder:"Search by user name/email, course/exam title",className:"w-full border border-gray-300 rounded-lg py-2 pl-9 pr-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx(or,{className:"h-4 w-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"})]})]}),e.jsxs("div",{className:"w-full md:w-60",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by User ID (optional)"}),e.jsx("input",{value:L,onChange:X=>I(X.target.value),placeholder:"e.g. 12",className:"w-full border border-gray-300 rounded-lg py-2 px-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsx("button",{onClick:()=>{l(1),b(1),E(),D()},className:"h-10 px-4 rounded-lg bg-blue-600 text-white hover:bg-blue-700",children:"Apply"})]}),e.jsxs("div",{className:"bg-white p-2 rounded-xl border border-gray-200 inline-flex",children:[e.jsx("button",{onClick:()=>i("courses"),className:`px-4 py-2 rounded-lg text-sm font-medium ${n==="courses"?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:"Course Progress"}),e.jsx("button",{onClick:()=>i("exams"),className:`px-4 py-2 rounded-lg text-sm font-medium ${n==="exams"?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:"Exam Progress"})]}),e.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-gray-200",children:n==="courses"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Course Progress"," ",B?`(${B.name})`:L?`(User ${L})`:""]}),e.jsx(cA,{page:o,totalPages:f.last_page,onPage:l})]}),e.jsx(dA,{columns:G,rows:f.data,emptyLabel:"No course progress found",loading:g})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Exam Progress"," ",B?`(${B.name})`:L?`(User ${L})`:""]}),e.jsx(cA,{page:y,totalPages:R.last_page,onPage:b})]}),e.jsx(dA,{columns:K,rows:R.data,emptyLabel:"No exam progress found",loading:V})]})})]})}var Eb={exports:{}},iue=Eb.exports,mA;function oue(){return mA||(mA=1,function(t,s){(function(a,n){t.exports=n()})(typeof self<"u"?self:iue,function(){return function(r){var a={};function n(i){if(a[i])return a[i].exports;var o=a[i]={i,l:!1,exports:{}};return r[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=r,n.c=a,n.d=function(i,o,l){n.o(i,o)||Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:l})},n.r=function(i){Object.defineProperty(i,"__esModule",{value:!0})},n.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return n.d(o,"a",o),o},n.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},n.p="",n(n.s=0)}({"./dist/icons.json":function(r){r.exports={activity:'<polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>',airplay:'<path d="M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"></path><polygon points="12 15 17 21 7 21 12 15"></polygon>',"alert-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',"alert-octagon":'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',"alert-triangle":'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line>',"align-center":'<line x1="18" y1="10" x2="6" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="18" y1="18" x2="6" y2="18"></line>',"align-justify":'<line x1="21" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="3" y2="18"></line>',"align-left":'<line x1="17" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="17" y1="18" x2="3" y2="18"></line>',"align-right":'<line x1="21" y1="10" x2="7" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="7" y2="18"></line>',anchor:'<circle cx="12" cy="5" r="3"></circle><line x1="12" y1="22" x2="12" y2="8"></line><path d="M5 12H2a10 10 0 0 0 20 0h-3"></path>',aperture:'<circle cx="12" cy="12" r="10"></circle><line x1="14.31" y1="8" x2="20.05" y2="17.94"></line><line x1="9.69" y1="8" x2="21.17" y2="8"></line><line x1="7.38" y1="12" x2="13.12" y2="2.06"></line><line x1="9.69" y1="16" x2="3.95" y2="6.06"></line><line x1="14.31" y1="16" x2="2.83" y2="16"></line><line x1="16.62" y1="12" x2="10.88" y2="21.94"></line>',archive:'<polyline points="21 8 21 21 3 21 3 8"></polyline><rect x="1" y="3" width="22" height="5"></rect><line x1="10" y1="12" x2="14" y2="12"></line>',"arrow-down-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line>',"arrow-down-left":'<line x1="17" y1="7" x2="7" y2="17"></line><polyline points="17 17 7 17 7 7"></polyline>',"arrow-down-right":'<line x1="7" y1="7" x2="17" y2="17"></line><polyline points="17 7 17 17 7 17"></polyline>',"arrow-down":'<line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline>',"arrow-left-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="12 8 8 12 12 16"></polyline><line x1="16" y1="12" x2="8" y2="12"></line>',"arrow-left":'<line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline>',"arrow-right-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line>',"arrow-right":'<line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline>',"arrow-up-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="16 12 12 8 8 12"></polyline><line x1="12" y1="16" x2="12" y2="8"></line>',"arrow-up-left":'<line x1="17" y1="17" x2="7" y2="7"></line><polyline points="7 17 7 7 17 7"></polyline>',"arrow-up-right":'<line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline>',"arrow-up":'<line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline>',"at-sign":'<circle cx="12" cy="12" r="4"></circle><path d="M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"></path>',award:'<circle cx="12" cy="8" r="7"></circle><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline>',"bar-chart-2":'<line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line>',"bar-chart":'<line x1="12" y1="20" x2="12" y2="10"></line><line x1="18" y1="20" x2="18" y2="4"></line><line x1="6" y1="20" x2="6" y2="16"></line>',"battery-charging":'<path d="M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"></path><line x1="23" y1="13" x2="23" y2="11"></line><polyline points="11 6 7 12 13 12 9 18"></polyline>',battery:'<rect x="1" y="6" width="18" height="12" rx="2" ry="2"></rect><line x1="23" y1="13" x2="23" y2="11"></line>',"bell-off":'<path d="M13.73 21a2 2 0 0 1-3.46 0"></path><path d="M18.63 13A17.89 17.89 0 0 1 18 8"></path><path d="M6.26 6.26A5.86 5.86 0 0 0 6 8c0 7-3 9-3 9h14"></path><path d="M18 8a6 6 0 0 0-9.33-5"></path><line x1="1" y1="1" x2="23" y2="23"></line>',bell:'<path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path>',bluetooth:'<polyline points="6.5 6.5 17.5 17.5 12 23 12 1 17.5 6.5 6.5 17.5"></polyline>',bold:'<path d="M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path><path d="M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path>',"book-open":'<path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>',book:'<path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>',bookmark:'<path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>',box:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',briefcase:'<rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>',calendar:'<rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>',"camera-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M21 21H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3m3-3h6l2 3h4a2 2 0 0 1 2 2v9.34m-7.72-2.06a4 4 0 1 1-5.56-5.56"></path>',camera:'<path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path><circle cx="12" cy="13" r="4"></circle>',cast:'<path d="M2 16.1A5 5 0 0 1 5.9 20M2 12.05A9 9 0 0 1 9.95 20M2 8V6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6"></path><line x1="2" y1="20" x2="2.01" y2="20"></line>',"check-circle":'<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline>',"check-square":'<polyline points="9 11 12 14 22 4"></polyline><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>',check:'<polyline points="20 6 9 17 4 12"></polyline>',"chevron-down":'<polyline points="6 9 12 15 18 9"></polyline>',"chevron-left":'<polyline points="15 18 9 12 15 6"></polyline>',"chevron-right":'<polyline points="9 18 15 12 9 6"></polyline>',"chevron-up":'<polyline points="18 15 12 9 6 15"></polyline>',"chevrons-down":'<polyline points="7 13 12 18 17 13"></polyline><polyline points="7 6 12 11 17 6"></polyline>',"chevrons-left":'<polyline points="11 17 6 12 11 7"></polyline><polyline points="18 17 13 12 18 7"></polyline>',"chevrons-right":'<polyline points="13 17 18 12 13 7"></polyline><polyline points="6 17 11 12 6 7"></polyline>',"chevrons-up":'<polyline points="17 11 12 6 7 11"></polyline><polyline points="17 18 12 13 7 18"></polyline>',chrome:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="21.17" y1="8" x2="12" y2="8"></line><line x1="3.95" y1="6.06" x2="8.54" y2="14"></line><line x1="10.88" y1="21.94" x2="15.46" y2="14"></line>',circle:'<circle cx="12" cy="12" r="10"></circle>',clipboard:'<path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>',clock:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>',"cloud-drizzle":'<line x1="8" y1="19" x2="8" y2="21"></line><line x1="8" y1="13" x2="8" y2="15"></line><line x1="16" y1="19" x2="16" y2="21"></line><line x1="16" y1="13" x2="16" y2="15"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="12" y1="15" x2="12" y2="17"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>',"cloud-lightning":'<path d="M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"></path><polyline points="13 11 9 17 15 17 11 23"></polyline>',"cloud-off":'<path d="M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3"></path><line x1="1" y1="1" x2="23" y2="23"></line>',"cloud-rain":'<line x1="16" y1="13" x2="16" y2="21"></line><line x1="8" y1="13" x2="8" y2="21"></line><line x1="12" y1="15" x2="12" y2="23"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>',"cloud-snow":'<path d="M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"></path><line x1="8" y1="16" x2="8.01" y2="16"></line><line x1="8" y1="20" x2="8.01" y2="20"></line><line x1="12" y1="18" x2="12.01" y2="18"></line><line x1="12" y1="22" x2="12.01" y2="22"></line><line x1="16" y1="16" x2="16.01" y2="16"></line><line x1="16" y1="20" x2="16.01" y2="20"></line>',cloud:'<path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"></path>',code:'<polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline>',codepen:'<polygon points="12 2 22 8.5 22 15.5 12 22 2 15.5 2 8.5 12 2"></polygon><line x1="12" y1="22" x2="12" y2="15.5"></line><polyline points="22 8.5 12 15.5 2 8.5"></polyline><polyline points="2 15.5 12 8.5 22 15.5"></polyline><line x1="12" y1="2" x2="12" y2="8.5"></line>',codesandbox:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="7.5 4.21 12 6.81 16.5 4.21"></polyline><polyline points="7.5 19.79 7.5 14.6 3 12"></polyline><polyline points="21 12 16.5 14.6 16.5 19.79"></polyline><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',coffee:'<path d="M18 8h1a4 4 0 0 1 0 8h-1"></path><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"></path><line x1="6" y1="1" x2="6" y2="4"></line><line x1="10" y1="1" x2="10" y2="4"></line><line x1="14" y1="1" x2="14" y2="4"></line>',columns:'<path d="M12 3h7a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-7m0-18H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7m0-18v18"></path>',command:'<path d="M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"></path>',compass:'<circle cx="12" cy="12" r="10"></circle><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"></polygon>',copy:'<rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>',"corner-down-left":'<polyline points="9 10 4 15 9 20"></polyline><path d="M20 4v7a4 4 0 0 1-4 4H4"></path>',"corner-down-right":'<polyline points="15 10 20 15 15 20"></polyline><path d="M4 4v7a4 4 0 0 0 4 4h12"></path>',"corner-left-down":'<polyline points="14 15 9 20 4 15"></polyline><path d="M20 4h-7a4 4 0 0 0-4 4v12"></path>',"corner-left-up":'<polyline points="14 9 9 4 4 9"></polyline><path d="M20 20h-7a4 4 0 0 1-4-4V4"></path>',"corner-right-down":'<polyline points="10 15 15 20 20 15"></polyline><path d="M4 4h7a4 4 0 0 1 4 4v12"></path>',"corner-right-up":'<polyline points="10 9 15 4 20 9"></polyline><path d="M4 20h7a4 4 0 0 0 4-4V4"></path>',"corner-up-left":'<polyline points="9 14 4 9 9 4"></polyline><path d="M20 20v-7a4 4 0 0 0-4-4H4"></path>',"corner-up-right":'<polyline points="15 14 20 9 15 4"></polyline><path d="M4 20v-7a4 4 0 0 1 4-4h12"></path>',cpu:'<rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect><rect x="9" y="9" width="6" height="6"></rect><line x1="9" y1="1" x2="9" y2="4"></line><line x1="15" y1="1" x2="15" y2="4"></line><line x1="9" y1="20" x2="9" y2="23"></line><line x1="15" y1="20" x2="15" y2="23"></line><line x1="20" y1="9" x2="23" y2="9"></line><line x1="20" y1="14" x2="23" y2="14"></line><line x1="1" y1="9" x2="4" y2="9"></line><line x1="1" y1="14" x2="4" y2="14"></line>',"credit-card":'<rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect><line x1="1" y1="10" x2="23" y2="10"></line>',crop:'<path d="M6.13 1L6 16a2 2 0 0 0 2 2h15"></path><path d="M1 6.13L16 6a2 2 0 0 1 2 2v15"></path>',crosshair:'<circle cx="12" cy="12" r="10"></circle><line x1="22" y1="12" x2="18" y2="12"></line><line x1="6" y1="12" x2="2" y2="12"></line><line x1="12" y1="6" x2="12" y2="2"></line><line x1="12" y1="22" x2="12" y2="18"></line>',database:'<ellipse cx="12" cy="5" rx="9" ry="3"></ellipse><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"></path><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"></path>',delete:'<path d="M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"></path><line x1="18" y1="9" x2="12" y2="15"></line><line x1="12" y1="9" x2="18" y2="15"></line>',disc:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="3"></circle>',"divide-circle":'<line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line><circle cx="12" cy="12" r="10"></circle>',"divide-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line>',divide:'<circle cx="12" cy="6" r="2"></circle><line x1="5" y1="12" x2="19" y2="12"></line><circle cx="12" cy="18" r="2"></circle>',"dollar-sign":'<line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>',"download-cloud":'<polyline points="8 17 12 21 16 17"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.29"></path>',download:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line>',dribbble:'<circle cx="12" cy="12" r="10"></circle><path d="M8.56 2.75c4.37 6.03 6.02 9.42 8.03 17.72m2.54-15.38c-3.72 4.35-8.94 5.66-16.88 5.85m19.5 1.9c-3.5-.93-6.63-.82-8.94 0-2.58.92-5.01 2.86-7.44 6.32"></path>',droplet:'<path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"></path>',"edit-2":'<path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>',"edit-3":'<path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>',edit:'<path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>',"external-link":'<path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>',"eye-off":'<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line>',eye:'<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle>',facebook:'<path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>',"fast-forward":'<polygon points="13 19 22 12 13 5 13 19"></polygon><polygon points="2 19 11 12 2 5 2 19"></polygon>',feather:'<path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"></path><line x1="16" y1="8" x2="2" y2="22"></line><line x1="17.5" y1="15" x2="9" y2="15"></line>',figma:'<path d="M5 5.5A3.5 3.5 0 0 1 8.5 2H12v7H8.5A3.5 3.5 0 0 1 5 5.5z"></path><path d="M12 2h3.5a3.5 3.5 0 1 1 0 7H12V2z"></path><path d="M12 12.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 1 1-7 0z"></path><path d="M5 19.5A3.5 3.5 0 0 1 8.5 16H12v3.5a3.5 3.5 0 1 1-7 0z"></path><path d="M5 12.5A3.5 3.5 0 0 1 8.5 9H12v7H8.5A3.5 3.5 0 0 1 5 12.5z"></path>',"file-minus":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="9" y1="15" x2="15" y2="15"></line>',"file-plus":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="12" y1="18" x2="12" y2="12"></line><line x1="9" y1="15" x2="15" y2="15"></line>',"file-text":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline>',file:'<path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>',film:'<rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line><line x1="2" y1="7" x2="7" y2="7"></line><line x1="2" y1="17" x2="7" y2="17"></line><line x1="17" y1="17" x2="22" y2="17"></line><line x1="17" y1="7" x2="22" y2="7"></line>',filter:'<polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>',flag:'<path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line>',"folder-minus":'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="9" y1="14" x2="15" y2="14"></line>',"folder-plus":'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="12" y1="11" x2="12" y2="17"></line><line x1="9" y1="14" x2="15" y2="14"></line>',folder:'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>',framer:'<path d="M5 16V9h14V2H5l14 14h-7m-7 0l7 7v-7m-7 0h7"></path>',frown:'<circle cx="12" cy="12" r="10"></circle><path d="M16 16s-1.5-2-4-2-4 2-4 2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',gift:'<polyline points="20 12 20 22 4 22 4 12"></polyline><rect x="2" y="7" width="20" height="5"></rect><line x1="12" y1="22" x2="12" y2="7"></line><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"></path><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"></path>',"git-branch":'<line x1="6" y1="3" x2="6" y2="15"></line><circle cx="18" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><path d="M18 9a9 9 0 0 1-9 9"></path>',"git-commit":'<circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line>',"git-merge":'<circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M6 21V9a9 9 0 0 0 9 9"></path>',"git-pull-request":'<circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M13 6h3a2 2 0 0 1 2 2v7"></path><line x1="6" y1="9" x2="6" y2="21"></line>',github:'<path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>',gitlab:'<path d="M22.65 14.39L12 22.13 1.35 14.39a.84.84 0 0 1-.3-.94l1.22-3.78 2.44-7.51A.42.42 0 0 1 4.82 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.49h8.1l2.44-7.51A.42.42 0 0 1 18.6 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.51L23 13.45a.84.84 0 0 1-.35.94z"></path>',globe:'<circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>',grid:'<rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect>',"hard-drive":'<line x1="22" y1="12" x2="2" y2="12"></line><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path><line x1="6" y1="16" x2="6.01" y2="16"></line><line x1="10" y1="16" x2="10.01" y2="16"></line>',hash:'<line x1="4" y1="9" x2="20" y2="9"></line><line x1="4" y1="15" x2="20" y2="15"></line><line x1="10" y1="3" x2="8" y2="21"></line><line x1="16" y1="3" x2="14" y2="21"></line>',headphones:'<path d="M3 18v-6a9 9 0 0 1 18 0v6"></path><path d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"></path>',heart:'<path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>',"help-circle":'<circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line>',hexagon:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>',home:'<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline>',image:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline>',inbox:'<polyline points="22 12 16 12 14 15 10 15 8 12 2 12"></polyline><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path>',info:'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line>',instagram:'<rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>',italic:'<line x1="19" y1="4" x2="10" y2="4"></line><line x1="14" y1="20" x2="5" y2="20"></line><line x1="15" y1="4" x2="9" y2="20"></line>',key:'<path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"></path>',layers:'<polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline>',layout:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line>',"life-buoy":'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="4.93" y1="4.93" x2="9.17" y2="9.17"></line><line x1="14.83" y1="14.83" x2="19.07" y2="19.07"></line><line x1="14.83" y1="9.17" x2="19.07" y2="4.93"></line><line x1="14.83" y1="9.17" x2="18.36" y2="5.64"></line><line x1="4.93" y1="19.07" x2="9.17" y2="14.83"></line>',"link-2":'<path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line>',link:'<path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>',linkedin:'<path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle>',list:'<line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line>',loader:'<line x1="12" y1="2" x2="12" y2="6"></line><line x1="12" y1="18" x2="12" y2="22"></line><line x1="4.93" y1="4.93" x2="7.76" y2="7.76"></line><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line><line x1="2" y1="12" x2="6" y2="12"></line><line x1="18" y1="12" x2="22" y2="12"></line><line x1="4.93" y1="19.07" x2="7.76" y2="16.24"></line><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line>',lock:'<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path>',"log-in":'<path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" y1="12" x2="3" y2="12"></line>',"log-out":'<path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line>',mail:'<path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline>',"map-pin":'<path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle>',map:'<polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"></polygon><line x1="8" y1="2" x2="8" y2="18"></line><line x1="16" y1="6" x2="16" y2="22"></line>',"maximize-2":'<polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" y1="3" x2="14" y2="10"></line><line x1="3" y1="21" x2="10" y2="14"></line>',maximize:'<path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>',meh:'<circle cx="12" cy="12" r="10"></circle><line x1="8" y1="15" x2="16" y2="15"></line><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',menu:'<line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>',"message-circle":'<path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>',"message-square":'<path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>',"mic-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"></path><path d="M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>',mic:'<path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>',"minimize-2":'<polyline points="4 14 10 14 10 20"></polyline><polyline points="20 10 14 10 14 4"></polyline><line x1="14" y1="10" x2="21" y2="3"></line><line x1="3" y1="21" x2="10" y2="14"></line>',minimize:'<path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"></path>',"minus-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="8" y1="12" x2="16" y2="12"></line>',"minus-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line>',minus:'<line x1="5" y1="12" x2="19" y2="12"></line>',monitor:'<rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line>',moon:'<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>',"more-horizontal":'<circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle>',"more-vertical":'<circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle>',"mouse-pointer":'<path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"></path><path d="M13 13l6 6"></path>',move:'<polyline points="5 9 2 12 5 15"></polyline><polyline points="9 5 12 2 15 5"></polyline><polyline points="15 19 12 22 9 19"></polyline><polyline points="19 9 22 12 19 15"></polyline><line x1="2" y1="12" x2="22" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line>',music:'<path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle>',"navigation-2":'<polygon points="12 2 19 21 12 17 5 21 12 2"></polygon>',navigation:'<polygon points="3 11 22 2 13 21 11 13 3 11"></polygon>',octagon:'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon>',package:'<line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',paperclip:'<path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>',"pause-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="10" y1="15" x2="10" y2="9"></line><line x1="14" y1="15" x2="14" y2="9"></line>',pause:'<rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect>',"pen-tool":'<path d="M12 19l7-7 3 3-7 7-3-3z"></path><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path><path d="M2 2l7.586 7.586"></path><circle cx="11" cy="11" r="2"></circle>',percent:'<line x1="19" y1="5" x2="5" y2="19"></line><circle cx="6.5" cy="6.5" r="2.5"></circle><circle cx="17.5" cy="17.5" r="2.5"></circle>',"phone-call":'<path d="M15.05 5A5 5 0 0 1 19 8.95M15.05 1A9 9 0 0 1 23 8.94m-1 7.98v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-forwarded":'<polyline points="19 1 23 5 19 9"></polyline><line x1="15" y1="5" x2="23" y2="5"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-incoming":'<polyline points="16 2 16 8 22 8"></polyline><line x1="23" y1="1" x2="16" y2="8"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-missed":'<line x1="23" y1="1" x2="17" y2="7"></line><line x1="17" y1="1" x2="23" y2="7"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-off":'<path d="M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91"></path><line x1="23" y1="1" x2="1" y2="23"></line>',"phone-outgoing":'<polyline points="23 7 23 1 17 1"></polyline><line x1="16" y1="8" x2="23" y2="1"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',phone:'<path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"pie-chart":'<path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path><path d="M22 12A10 10 0 0 0 12 2v10z"></path>',"play-circle":'<circle cx="12" cy="12" r="10"></circle><polygon points="10 8 16 12 10 16 10 8"></polygon>',play:'<polygon points="5 3 19 12 5 21 5 3"></polygon>',"plus-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>',"plus-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>',plus:'<line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line>',pocket:'<path d="M4 3h16a2 2 0 0 1 2 2v6a10 10 0 0 1-10 10A10 10 0 0 1 2 11V5a2 2 0 0 1 2-2z"></path><polyline points="8 10 12 14 16 10"></polyline>',power:'<path d="M18.36 6.64a9 9 0 1 1-12.73 0"></path><line x1="12" y1="2" x2="12" y2="12"></line>',printer:'<polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect>',radio:'<circle cx="12" cy="12" r="2"></circle><path d="M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"></path>',"refresh-ccw":'<polyline points="1 4 1 10 7 10"></polyline><polyline points="23 20 23 14 17 14"></polyline><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>',"refresh-cw":'<polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>',repeat:'<polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path>',rewind:'<polygon points="11 19 2 12 11 5 11 19"></polygon><polygon points="22 19 13 12 22 5 22 19"></polygon>',"rotate-ccw":'<polyline points="1 4 1 10 7 10"></polyline><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>',"rotate-cw":'<polyline points="23 4 23 10 17 10"></polyline><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>',rss:'<path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle>',save:'<path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline>',scissors:'<circle cx="6" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><line x1="20" y1="4" x2="8.12" y2="15.88"></line><line x1="14.47" y1="14.48" x2="20" y2="20"></line><line x1="8.12" y1="8.12" x2="12" y2="12"></line>',search:'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>',send:'<line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>',server:'<rect x="2" y="2" width="20" height="8" rx="2" ry="2"></rect><rect x="2" y="14" width="20" height="8" rx="2" ry="2"></rect><line x1="6" y1="6" x2="6.01" y2="6"></line><line x1="6" y1="18" x2="6.01" y2="18"></line>',settings:'<circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>',"share-2":'<circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>',share:'<path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path><polyline points="16 6 12 2 8 6"></polyline><line x1="12" y1="2" x2="12" y2="15"></line>',"shield-off":'<path d="M19.69 14a6.9 6.9 0 0 0 .31-2V5l-8-3-3.16 1.18"></path><path d="M4.73 4.73L4 5v7c0 6 8 10 8 10a20.29 20.29 0 0 0 5.62-4.38"></path><line x1="1" y1="1" x2="23" y2="23"></line>',shield:'<path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>',"shopping-bag":'<path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path>',"shopping-cart":'<circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>',shuffle:'<polyline points="16 3 21 3 21 8"></polyline><line x1="4" y1="20" x2="21" y2="3"></line><polyline points="21 16 21 21 16 21"></polyline><line x1="15" y1="15" x2="21" y2="21"></line><line x1="4" y1="4" x2="9" y2="9"></line>',sidebar:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="3" x2="9" y2="21"></line>',"skip-back":'<polygon points="19 20 9 12 19 4 19 20"></polygon><line x1="5" y1="19" x2="5" y2="5"></line>',"skip-forward":'<polygon points="5 4 15 12 5 20 5 4"></polygon><line x1="19" y1="5" x2="19" y2="19"></line>',slack:'<path d="M14.5 10c-.83 0-1.5-.67-1.5-1.5v-5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5z"></path><path d="M20.5 10H19V8.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path><path d="M9.5 14c.83 0 1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5S8 21.33 8 20.5v-5c0-.83.67-1.5 1.5-1.5z"></path><path d="M3.5 14H5v1.5c0 .83-.67 1.5-1.5 1.5S2 16.33 2 15.5 2.67 14 3.5 14z"></path><path d="M14 14.5c0-.83.67-1.5 1.5-1.5h5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-5c-.83 0-1.5-.67-1.5-1.5z"></path><path d="M15.5 19H14v1.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"></path><path d="M10 9.5C10 8.67 9.33 8 8.5 8h-5C2.67 8 2 8.67 2 9.5S2.67 11 3.5 11h5c.83 0 1.5-.67 1.5-1.5z"></path><path d="M8.5 5H10V3.5C10 2.67 9.33 2 8.5 2S7 2.67 7 3.5 7.67 5 8.5 5z"></path>',slash:'<circle cx="12" cy="12" r="10"></circle><line x1="4.93" y1="4.93" x2="19.07" y2="19.07"></line>',sliders:'<line x1="4" y1="21" x2="4" y2="14"></line><line x1="4" y1="10" x2="4" y2="3"></line><line x1="12" y1="21" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="3"></line><line x1="20" y1="21" x2="20" y2="16"></line><line x1="20" y1="12" x2="20" y2="3"></line><line x1="1" y1="14" x2="7" y2="14"></line><line x1="9" y1="8" x2="15" y2="8"></line><line x1="17" y1="16" x2="23" y2="16"></line>',smartphone:'<rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>',smile:'<circle cx="12" cy="12" r="10"></circle><path d="M8 14s1.5 2 4 2 4-2 4-2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',speaker:'<rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><circle cx="12" cy="14" r="4"></circle><line x1="12" y1="6" x2="12.01" y2="6"></line>',square:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>',star:'<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>',"stop-circle":'<circle cx="12" cy="12" r="10"></circle><rect x="9" y="9" width="6" height="6"></rect>',sun:'<circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>',sunrise:'<path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="2" x2="12" y2="9"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="8 6 12 2 16 6"></polyline>',sunset:'<path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="9" x2="12" y2="2"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="16 5 12 9 8 5"></polyline>',table:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"></path>',tablet:'<rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>',tag:'<path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line>',target:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><circle cx="12" cy="12" r="2"></circle>',terminal:'<polyline points="4 17 10 11 4 5"></polyline><line x1="12" y1="19" x2="20" y2="19"></line>',thermometer:'<path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path>',"thumbs-down":'<path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>',"thumbs-up":'<path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>',"toggle-left":'<rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="8" cy="12" r="3"></circle>',"toggle-right":'<rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="16" cy="12" r="3"></circle>',tool:'<path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>',"trash-2":'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line>',trash:'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>',trello:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><rect x="7" y="7" width="3" height="9"></rect><rect x="14" y="7" width="3" height="5"></rect>',"trending-down":'<polyline points="23 18 13.5 8.5 8.5 13.5 1 6"></polyline><polyline points="17 18 23 18 23 12"></polyline>',"trending-up":'<polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12"></polyline>',triangle:'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>',truck:'<rect x="1" y="3" width="15" height="13"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle>',tv:'<rect x="2" y="7" width="20" height="15" rx="2" ry="2"></rect><polyline points="17 2 12 7 7 2"></polyline>',twitch:'<path d="M21 2H3v16h5v4l4-4h5l4-4V2zm-10 9V7m5 4V7"></path>',twitter:'<path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>',type:'<polyline points="4 7 4 4 20 4 20 7"></polyline><line x1="9" y1="20" x2="15" y2="20"></line><line x1="12" y1="4" x2="12" y2="20"></line>',umbrella:'<path d="M23 12a11.05 11.05 0 0 0-22 0zm-5 7a3 3 0 0 1-6 0v-7"></path>',underline:'<path d="M6 3v7a6 6 0 0 0 6 6 6 6 0 0 0 6-6V3"></path><line x1="4" y1="21" x2="20" y2="21"></line>',unlock:'<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 9.9-1"></path>',"upload-cloud":'<polyline points="16 16 12 12 8 16"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"></path><polyline points="16 16 12 12 8 16"></polyline>',upload:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line>',"user-check":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><polyline points="17 11 19 13 23 9"></polyline>',"user-minus":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="23" y1="11" x2="17" y2="11"></line>',"user-plus":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line>',"user-x":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="18" y1="8" x2="23" y2="13"></line><line x1="23" y1="8" x2="18" y2="13"></line>',user:'<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle>',users:'<path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path>',"video-off":'<path d="M16 16v1a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2m5.66 0H14a2 2 0 0 1 2 2v3.34l1 1L23 7v10"></path><line x1="1" y1="1" x2="23" y2="23"></line>',video:'<polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>',voicemail:'<circle cx="5.5" cy="11.5" r="4.5"></circle><circle cx="18.5" cy="11.5" r="4.5"></circle><line x1="5.5" y1="16" x2="18.5" y2="16"></line>',"volume-1":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>',"volume-2":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>',"volume-x":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line>',volume:'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>',watch:'<circle cx="12" cy="12" r="7"></circle><polyline points="12 9 12 12 13.5 13.5"></polyline><path d="M16.51 17.35l-.35 3.83a2 2 0 0 1-2 1.82H9.83a2 2 0 0 1-2-1.82l-.35-3.83m.01-10.7l.35-3.83A2 2 0 0 1 9.83 1h4.35a2 2 0 0 1 2 1.82l.35 3.83"></path>',"wifi-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M16.72 11.06A10.94 10.94 0 0 1 19 12.55"></path><path d="M5 12.55a10.94 10.94 0 0 1 5.17-2.39"></path><path d="M10.71 5.05A16 16 0 0 1 22.58 9"></path><path d="M1.42 9a15.91 15.91 0 0 1 4.7-2.88"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line>',wifi:'<path d="M5 12.55a11 11 0 0 1 14.08 0"></path><path d="M1.42 9a16 16 0 0 1 21.16 0"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line>',wind:'<path d="M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"></path>',"x-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>',"x-octagon":'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>',"x-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="9" x2="15" y2="15"></line><line x1="15" y1="9" x2="9" y2="15"></line>',x:'<line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>',youtube:'<path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon>',"zap-off":'<polyline points="12.41 6.75 13 2 10.57 4.92"></polyline><polyline points="18.57 12.91 21 10 15.66 10"></polyline><polyline points="8 8 3 14 12 14 11 22 16 16"></polyline><line x1="1" y1="1" x2="23" y2="23"></line>',zap:'<polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>',"zoom-in":'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="11" y1="8" x2="11" y2="14"></line><line x1="8" y1="11" x2="14" y2="11"></line>',"zoom-out":'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="8" y1="11" x2="14" y2="11"></line>'}},"./node_modules/classnames/dedupe.js":function(r,a,n){var i,o;/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var l=function(){function d(){}d.prototype=Object.create(null);function u(_,k){for(var A=k.length,R=0;R<A;++R)y(_,k[R])}var h={}.hasOwnProperty;function f(_,k){_[k]=!0}function p(_,k){for(var A in k)h.call(k,A)&&(_[A]=!!k[A])}var g=/\s+/;function v(_,k){for(var A=k.split(g),R=A.length,F=0;F<R;++F)_[A[F]]=!0}function y(_,k){if(k){var A=typeof k;A==="string"?v(_,k):Array.isArray(k)?u(_,k):A==="object"?p(_,k):A==="number"&&f(_,k)}}function b(){for(var _=arguments.length,k=Array(_),A=0;A<_;A++)k[A]=arguments[A];var R=new d;u(R,k);var F=[];for(var V in R)R[V]&&F.push(V);return F.join(" ")}return b}();typeof r<"u"&&r.exports?r.exports=l:(i=[],o=(function(){return l}).apply(a,i),o!==void 0&&(r.exports=o))})()},"./node_modules/core-js/es/array/from.js":function(r,a,n){n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/es.array.from.js");var i=n("./node_modules/core-js/internals/path.js");r.exports=i.Array.from},"./node_modules/core-js/internals/a-function.js":function(r,a){r.exports=function(n){if(typeof n!="function")throw TypeError(String(n)+" is not a function");return n}},"./node_modules/core-js/internals/an-object.js":function(r,a,n){var i=n("./node_modules/core-js/internals/is-object.js");r.exports=function(o){if(!i(o))throw TypeError(String(o)+" is not an object");return o}},"./node_modules/core-js/internals/array-from.js":function(r,a,n){var i=n("./node_modules/core-js/internals/bind-context.js"),o=n("./node_modules/core-js/internals/to-object.js"),l=n("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),d=n("./node_modules/core-js/internals/is-array-iterator-method.js"),u=n("./node_modules/core-js/internals/to-length.js"),h=n("./node_modules/core-js/internals/create-property.js"),f=n("./node_modules/core-js/internals/get-iterator-method.js");r.exports=function(g){var v=o(g),y=typeof this=="function"?this:Array,b=arguments.length,_=b>1?arguments[1]:void 0,k=_!==void 0,A=0,R=f(v),F,V,S,L;if(k&&(_=i(_,b>2?arguments[2]:void 0,2)),R!=null&&!(y==Array&&d(R)))for(L=R.call(v),V=new y;!(S=L.next()).done;A++)h(V,A,k?l(L,_,[S.value,A],!0):S.value);else for(F=u(v.length),V=new y(F);F>A;A++)h(V,A,k?_(v[A],A):v[A]);return V.length=A,V}},"./node_modules/core-js/internals/array-includes.js":function(r,a,n){var i=n("./node_modules/core-js/internals/to-indexed-object.js"),o=n("./node_modules/core-js/internals/to-length.js"),l=n("./node_modules/core-js/internals/to-absolute-index.js");r.exports=function(d){return function(u,h,f){var p=i(u),g=o(p.length),v=l(f,g),y;if(d&&h!=h){for(;g>v;)if(y=p[v++],y!=y)return!0}else for(;g>v;v++)if((d||v in p)&&p[v]===h)return d||v||0;return!d&&-1}}},"./node_modules/core-js/internals/bind-context.js":function(r,a,n){var i=n("./node_modules/core-js/internals/a-function.js");r.exports=function(o,l,d){if(i(o),l===void 0)return o;switch(d){case 0:return function(){return o.call(l)};case 1:return function(u){return o.call(l,u)};case 2:return function(u,h){return o.call(l,u,h)};case 3:return function(u,h,f){return o.call(l,u,h,f)}}return function(){return o.apply(l,arguments)}}},"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":function(r,a,n){var i=n("./node_modules/core-js/internals/an-object.js");r.exports=function(o,l,d,u){try{return u?l(i(d)[0],d[1]):l(d)}catch(f){var h=o.return;throw h!==void 0&&i(h.call(o)),f}}},"./node_modules/core-js/internals/check-correctness-of-iteration.js":function(r,a,n){var i=n("./node_modules/core-js/internals/well-known-symbol.js"),o=i("iterator"),l=!1;try{var d=0,u={next:function(){return{done:!!d++}},return:function(){l=!0}};u[o]=function(){return this},Array.from(u,function(){throw 2})}catch{}r.exports=function(h,f){if(!f&&!l)return!1;var p=!1;try{var g={};g[o]=function(){return{next:function(){return{done:p=!0}}}},h(g)}catch{}return p}},"./node_modules/core-js/internals/classof-raw.js":function(r,a){var n={}.toString;r.exports=function(i){return n.call(i).slice(8,-1)}},"./node_modules/core-js/internals/classof.js":function(r,a,n){var i=n("./node_modules/core-js/internals/classof-raw.js"),o=n("./node_modules/core-js/internals/well-known-symbol.js"),l=o("toStringTag"),d=i(function(){return arguments}())=="Arguments",u=function(h,f){try{return h[f]}catch{}};r.exports=function(h){var f,p,g;return h===void 0?"Undefined":h===null?"Null":typeof(p=u(f=Object(h),l))=="string"?p:d?i(f):(g=i(f))=="Object"&&typeof f.callee=="function"?"Arguments":g}},"./node_modules/core-js/internals/copy-constructor-properties.js":function(r,a,n){var i=n("./node_modules/core-js/internals/has.js"),o=n("./node_modules/core-js/internals/own-keys.js"),l=n("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),d=n("./node_modules/core-js/internals/object-define-property.js");r.exports=function(u,h){for(var f=o(h),p=d.f,g=l.f,v=0;v<f.length;v++){var y=f[v];i(u,y)||p(u,y,g(h,y))}}},"./node_modules/core-js/internals/correct-prototype-getter.js":function(r,a,n){var i=n("./node_modules/core-js/internals/fails.js");r.exports=!i(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},"./node_modules/core-js/internals/create-iterator-constructor.js":function(r,a,n){var i=n("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,o=n("./node_modules/core-js/internals/object-create.js"),l=n("./node_modules/core-js/internals/create-property-descriptor.js"),d=n("./node_modules/core-js/internals/set-to-string-tag.js"),u=n("./node_modules/core-js/internals/iterators.js"),h=function(){return this};r.exports=function(f,p,g){var v=p+" Iterator";return f.prototype=o(i,{next:l(1,g)}),d(f,v,!1,!0),u[v]=h,f}},"./node_modules/core-js/internals/create-property-descriptor.js":function(r,a){r.exports=function(n,i){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:i}}},"./node_modules/core-js/internals/create-property.js":function(r,a,n){var i=n("./node_modules/core-js/internals/to-primitive.js"),o=n("./node_modules/core-js/internals/object-define-property.js"),l=n("./node_modules/core-js/internals/create-property-descriptor.js");r.exports=function(d,u,h){var f=i(u);f in d?o.f(d,f,l(0,h)):d[f]=h}},"./node_modules/core-js/internals/define-iterator.js":function(r,a,n){var i=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/create-iterator-constructor.js"),l=n("./node_modules/core-js/internals/object-get-prototype-of.js"),d=n("./node_modules/core-js/internals/object-set-prototype-of.js"),u=n("./node_modules/core-js/internals/set-to-string-tag.js"),h=n("./node_modules/core-js/internals/hide.js"),f=n("./node_modules/core-js/internals/redefine.js"),p=n("./node_modules/core-js/internals/well-known-symbol.js"),g=n("./node_modules/core-js/internals/is-pure.js"),v=n("./node_modules/core-js/internals/iterators.js"),y=n("./node_modules/core-js/internals/iterators-core.js"),b=y.IteratorPrototype,_=y.BUGGY_SAFARI_ITERATORS,k=p("iterator"),A="keys",R="values",F="entries",V=function(){return this};r.exports=function(S,L,I,B,T,w,E){o(I,L,B);var D=function(z){if(z===T&&Z)return Z;if(!_&&z in X)return X[z];switch(z){case A:return function(){return new I(this,z)};case R:return function(){return new I(this,z)};case F:return function(){return new I(this,z)}}return function(){return new I(this)}},G=L+" Iterator",K=!1,X=S.prototype,se=X[k]||X["@@iterator"]||T&&X[T],Z=!_&&se||D(T),ee=L=="Array"&&X.entries||se,ce,U,O;if(ee&&(ce=l(ee.call(new S)),b!==Object.prototype&&ce.next&&(!g&&l(ce)!==b&&(d?d(ce,b):typeof ce[k]!="function"&&h(ce,k,V)),u(ce,G,!0,!0),g&&(v[G]=V))),T==R&&se&&se.name!==R&&(K=!0,Z=function(){return se.call(this)}),(!g||E)&&X[k]!==Z&&h(X,k,Z),v[L]=Z,T)if(U={values:D(R),keys:w?Z:D(A),entries:D(F)},E)for(O in U)(_||K||!(O in X))&&f(X,O,U[O]);else i({target:L,proto:!0,forced:_||K},U);return U}},"./node_modules/core-js/internals/descriptors.js":function(r,a,n){var i=n("./node_modules/core-js/internals/fails.js");r.exports=!i(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},"./node_modules/core-js/internals/document-create-element.js":function(r,a,n){var i=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/is-object.js"),l=i.document,d=o(l)&&o(l.createElement);r.exports=function(u){return d?l.createElement(u):{}}},"./node_modules/core-js/internals/enum-bug-keys.js":function(r,a){r.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"./node_modules/core-js/internals/export.js":function(r,a,n){var i=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,l=n("./node_modules/core-js/internals/hide.js"),d=n("./node_modules/core-js/internals/redefine.js"),u=n("./node_modules/core-js/internals/set-global.js"),h=n("./node_modules/core-js/internals/copy-constructor-properties.js"),f=n("./node_modules/core-js/internals/is-forced.js");r.exports=function(p,g){var v=p.target,y=p.global,b=p.stat,_,k,A,R,F,V;if(y?k=i:b?k=i[v]||u(v,{}):k=(i[v]||{}).prototype,k)for(A in g){if(F=g[A],p.noTargetGet?(V=o(k,A),R=V&&V.value):R=k[A],_=f(y?A:v+(b?".":"#")+A,p.forced),!_&&R!==void 0){if(typeof F==typeof R)continue;h(F,R)}(p.sham||R&&R.sham)&&l(F,"sham",!0),d(k,A,F,p)}}},"./node_modules/core-js/internals/fails.js":function(r,a){r.exports=function(n){try{return!!n()}catch{return!0}}},"./node_modules/core-js/internals/function-to-string.js":function(r,a,n){var i=n("./node_modules/core-js/internals/shared.js");r.exports=i("native-function-to-string",Function.toString)},"./node_modules/core-js/internals/get-iterator-method.js":function(r,a,n){var i=n("./node_modules/core-js/internals/classof.js"),o=n("./node_modules/core-js/internals/iterators.js"),l=n("./node_modules/core-js/internals/well-known-symbol.js"),d=l("iterator");r.exports=function(u){if(u!=null)return u[d]||u["@@iterator"]||o[i(u)]}},"./node_modules/core-js/internals/global.js":function(r,a,n){(function(i){var o="object",l=function(d){return d&&d.Math==Math&&d};r.exports=l(typeof globalThis==o&&globalThis)||l(typeof window==o&&window)||l(typeof self==o&&self)||l(typeof i==o&&i)||Function("return this")()}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/core-js/internals/has.js":function(r,a){var n={}.hasOwnProperty;r.exports=function(i,o){return n.call(i,o)}},"./node_modules/core-js/internals/hidden-keys.js":function(r,a){r.exports={}},"./node_modules/core-js/internals/hide.js":function(r,a,n){var i=n("./node_modules/core-js/internals/descriptors.js"),o=n("./node_modules/core-js/internals/object-define-property.js"),l=n("./node_modules/core-js/internals/create-property-descriptor.js");r.exports=i?function(d,u,h){return o.f(d,u,l(1,h))}:function(d,u,h){return d[u]=h,d}},"./node_modules/core-js/internals/html.js":function(r,a,n){var i=n("./node_modules/core-js/internals/global.js"),o=i.document;r.exports=o&&o.documentElement},"./node_modules/core-js/internals/ie8-dom-define.js":function(r,a,n){var i=n("./node_modules/core-js/internals/descriptors.js"),o=n("./node_modules/core-js/internals/fails.js"),l=n("./node_modules/core-js/internals/document-create-element.js");r.exports=!i&&!o(function(){return Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a!=7})},"./node_modules/core-js/internals/indexed-object.js":function(r,a,n){var i=n("./node_modules/core-js/internals/fails.js"),o=n("./node_modules/core-js/internals/classof-raw.js"),l="".split;r.exports=i(function(){return!Object("z").propertyIsEnumerable(0)})?function(d){return o(d)=="String"?l.call(d,""):Object(d)}:Object},"./node_modules/core-js/internals/internal-state.js":function(r,a,n){var i=n("./node_modules/core-js/internals/native-weak-map.js"),o=n("./node_modules/core-js/internals/global.js"),l=n("./node_modules/core-js/internals/is-object.js"),d=n("./node_modules/core-js/internals/hide.js"),u=n("./node_modules/core-js/internals/has.js"),h=n("./node_modules/core-js/internals/shared-key.js"),f=n("./node_modules/core-js/internals/hidden-keys.js"),p=o.WeakMap,g,v,y,b=function(S){return y(S)?v(S):g(S,{})},_=function(S){return function(L){var I;if(!l(L)||(I=v(L)).type!==S)throw TypeError("Incompatible receiver, "+S+" required");return I}};if(i){var k=new p,A=k.get,R=k.has,F=k.set;g=function(S,L){return F.call(k,S,L),L},v=function(S){return A.call(k,S)||{}},y=function(S){return R.call(k,S)}}else{var V=h("state");f[V]=!0,g=function(S,L){return d(S,V,L),L},v=function(S){return u(S,V)?S[V]:{}},y=function(S){return u(S,V)}}r.exports={set:g,get:v,has:y,enforce:b,getterFor:_}},"./node_modules/core-js/internals/is-array-iterator-method.js":function(r,a,n){var i=n("./node_modules/core-js/internals/well-known-symbol.js"),o=n("./node_modules/core-js/internals/iterators.js"),l=i("iterator"),d=Array.prototype;r.exports=function(u){return u!==void 0&&(o.Array===u||d[l]===u)}},"./node_modules/core-js/internals/is-forced.js":function(r,a,n){var i=n("./node_modules/core-js/internals/fails.js"),o=/#|\.prototype\./,l=function(p,g){var v=u[d(p)];return v==f?!0:v==h?!1:typeof g=="function"?i(g):!!g},d=l.normalize=function(p){return String(p).replace(o,".").toLowerCase()},u=l.data={},h=l.NATIVE="N",f=l.POLYFILL="P";r.exports=l},"./node_modules/core-js/internals/is-object.js":function(r,a){r.exports=function(n){return typeof n=="object"?n!==null:typeof n=="function"}},"./node_modules/core-js/internals/is-pure.js":function(r,a){r.exports=!1},"./node_modules/core-js/internals/iterators-core.js":function(r,a,n){var i=n("./node_modules/core-js/internals/object-get-prototype-of.js"),o=n("./node_modules/core-js/internals/hide.js"),l=n("./node_modules/core-js/internals/has.js"),d=n("./node_modules/core-js/internals/well-known-symbol.js"),u=n("./node_modules/core-js/internals/is-pure.js"),h=d("iterator"),f=!1,p=function(){return this},g,v,y;[].keys&&(y=[].keys(),"next"in y?(v=i(i(y)),v!==Object.prototype&&(g=v)):f=!0),g==null&&(g={}),!u&&!l(g,h)&&o(g,h,p),r.exports={IteratorPrototype:g,BUGGY_SAFARI_ITERATORS:f}},"./node_modules/core-js/internals/iterators.js":function(r,a){r.exports={}},"./node_modules/core-js/internals/native-symbol.js":function(r,a,n){var i=n("./node_modules/core-js/internals/fails.js");r.exports=!!Object.getOwnPropertySymbols&&!i(function(){return!String(Symbol())})},"./node_modules/core-js/internals/native-weak-map.js":function(r,a,n){var i=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/function-to-string.js"),l=i.WeakMap;r.exports=typeof l=="function"&&/native code/.test(o.call(l))},"./node_modules/core-js/internals/object-create.js":function(r,a,n){var i=n("./node_modules/core-js/internals/an-object.js"),o=n("./node_modules/core-js/internals/object-define-properties.js"),l=n("./node_modules/core-js/internals/enum-bug-keys.js"),d=n("./node_modules/core-js/internals/hidden-keys.js"),u=n("./node_modules/core-js/internals/html.js"),h=n("./node_modules/core-js/internals/document-create-element.js"),f=n("./node_modules/core-js/internals/shared-key.js"),p=f("IE_PROTO"),g="prototype",v=function(){},y=function(){var b=h("iframe"),_=l.length,k="<",A="script",R=">",F="java"+A+":",V;for(b.style.display="none",u.appendChild(b),b.src=String(F),V=b.contentWindow.document,V.open(),V.write(k+A+R+"document.F=Object"+k+"/"+A+R),V.close(),y=V.F;_--;)delete y[g][l[_]];return y()};r.exports=Object.create||function(_,k){var A;return _!==null?(v[g]=i(_),A=new v,v[g]=null,A[p]=_):A=y(),k===void 0?A:o(A,k)},d[p]=!0},"./node_modules/core-js/internals/object-define-properties.js":function(r,a,n){var i=n("./node_modules/core-js/internals/descriptors.js"),o=n("./node_modules/core-js/internals/object-define-property.js"),l=n("./node_modules/core-js/internals/an-object.js"),d=n("./node_modules/core-js/internals/object-keys.js");r.exports=i?Object.defineProperties:function(h,f){l(h);for(var p=d(f),g=p.length,v=0,y;g>v;)o.f(h,y=p[v++],f[y]);return h}},"./node_modules/core-js/internals/object-define-property.js":function(r,a,n){var i=n("./node_modules/core-js/internals/descriptors.js"),o=n("./node_modules/core-js/internals/ie8-dom-define.js"),l=n("./node_modules/core-js/internals/an-object.js"),d=n("./node_modules/core-js/internals/to-primitive.js"),u=Object.defineProperty;a.f=i?u:function(f,p,g){if(l(f),p=d(p,!0),l(g),o)try{return u(f,p,g)}catch{}if("get"in g||"set"in g)throw TypeError("Accessors not supported");return"value"in g&&(f[p]=g.value),f}},"./node_modules/core-js/internals/object-get-own-property-descriptor.js":function(r,a,n){var i=n("./node_modules/core-js/internals/descriptors.js"),o=n("./node_modules/core-js/internals/object-property-is-enumerable.js"),l=n("./node_modules/core-js/internals/create-property-descriptor.js"),d=n("./node_modules/core-js/internals/to-indexed-object.js"),u=n("./node_modules/core-js/internals/to-primitive.js"),h=n("./node_modules/core-js/internals/has.js"),f=n("./node_modules/core-js/internals/ie8-dom-define.js"),p=Object.getOwnPropertyDescriptor;a.f=i?p:function(v,y){if(v=d(v),y=u(y,!0),f)try{return p(v,y)}catch{}if(h(v,y))return l(!o.f.call(v,y),v[y])}},"./node_modules/core-js/internals/object-get-own-property-names.js":function(r,a,n){var i=n("./node_modules/core-js/internals/object-keys-internal.js"),o=n("./node_modules/core-js/internals/enum-bug-keys.js"),l=o.concat("length","prototype");a.f=Object.getOwnPropertyNames||function(u){return i(u,l)}},"./node_modules/core-js/internals/object-get-own-property-symbols.js":function(r,a){a.f=Object.getOwnPropertySymbols},"./node_modules/core-js/internals/object-get-prototype-of.js":function(r,a,n){var i=n("./node_modules/core-js/internals/has.js"),o=n("./node_modules/core-js/internals/to-object.js"),l=n("./node_modules/core-js/internals/shared-key.js"),d=n("./node_modules/core-js/internals/correct-prototype-getter.js"),u=l("IE_PROTO"),h=Object.prototype;r.exports=d?Object.getPrototypeOf:function(f){return f=o(f),i(f,u)?f[u]:typeof f.constructor=="function"&&f instanceof f.constructor?f.constructor.prototype:f instanceof Object?h:null}},"./node_modules/core-js/internals/object-keys-internal.js":function(r,a,n){var i=n("./node_modules/core-js/internals/has.js"),o=n("./node_modules/core-js/internals/to-indexed-object.js"),l=n("./node_modules/core-js/internals/array-includes.js"),d=n("./node_modules/core-js/internals/hidden-keys.js"),u=l(!1);r.exports=function(h,f){var p=o(h),g=0,v=[],y;for(y in p)!i(d,y)&&i(p,y)&&v.push(y);for(;f.length>g;)i(p,y=f[g++])&&(~u(v,y)||v.push(y));return v}},"./node_modules/core-js/internals/object-keys.js":function(r,a,n){var i=n("./node_modules/core-js/internals/object-keys-internal.js"),o=n("./node_modules/core-js/internals/enum-bug-keys.js");r.exports=Object.keys||function(d){return i(d,o)}},"./node_modules/core-js/internals/object-property-is-enumerable.js":function(r,a,n){var i={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,l=o&&!i.call({1:2},1);a.f=l?function(u){var h=o(this,u);return!!h&&h.enumerable}:i},"./node_modules/core-js/internals/object-set-prototype-of.js":function(r,a,n){var i=n("./node_modules/core-js/internals/validate-set-prototype-of-arguments.js");r.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var o=!1,l={},d;try{d=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,d.call(l,[]),o=l instanceof Array}catch{}return function(h,f){return i(h,f),o?d.call(h,f):h.__proto__=f,h}}():void 0)},"./node_modules/core-js/internals/own-keys.js":function(r,a,n){var i=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/object-get-own-property-names.js"),l=n("./node_modules/core-js/internals/object-get-own-property-symbols.js"),d=n("./node_modules/core-js/internals/an-object.js"),u=i.Reflect;r.exports=u&&u.ownKeys||function(f){var p=o.f(d(f)),g=l.f;return g?p.concat(g(f)):p}},"./node_modules/core-js/internals/path.js":function(r,a,n){r.exports=n("./node_modules/core-js/internals/global.js")},"./node_modules/core-js/internals/redefine.js":function(r,a,n){var i=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/shared.js"),l=n("./node_modules/core-js/internals/hide.js"),d=n("./node_modules/core-js/internals/has.js"),u=n("./node_modules/core-js/internals/set-global.js"),h=n("./node_modules/core-js/internals/function-to-string.js"),f=n("./node_modules/core-js/internals/internal-state.js"),p=f.get,g=f.enforce,v=String(h).split("toString");o("inspectSource",function(y){return h.call(y)}),(r.exports=function(y,b,_,k){var A=k?!!k.unsafe:!1,R=k?!!k.enumerable:!1,F=k?!!k.noTargetGet:!1;if(typeof _=="function"&&(typeof b=="string"&&!d(_,"name")&&l(_,"name",b),g(_).source=v.join(typeof b=="string"?b:"")),y===i){R?y[b]=_:u(b,_);return}else A?!F&&y[b]&&(R=!0):delete y[b];R?y[b]=_:l(y,b,_)})(Function.prototype,"toString",function(){return typeof this=="function"&&p(this).source||h.call(this)})},"./node_modules/core-js/internals/require-object-coercible.js":function(r,a){r.exports=function(n){if(n==null)throw TypeError("Can't call method on "+n);return n}},"./node_modules/core-js/internals/set-global.js":function(r,a,n){var i=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/hide.js");r.exports=function(l,d){try{o(i,l,d)}catch{i[l]=d}return d}},"./node_modules/core-js/internals/set-to-string-tag.js":function(r,a,n){var i=n("./node_modules/core-js/internals/object-define-property.js").f,o=n("./node_modules/core-js/internals/has.js"),l=n("./node_modules/core-js/internals/well-known-symbol.js"),d=l("toStringTag");r.exports=function(u,h,f){u&&!o(u=f?u:u.prototype,d)&&i(u,d,{configurable:!0,value:h})}},"./node_modules/core-js/internals/shared-key.js":function(r,a,n){var i=n("./node_modules/core-js/internals/shared.js"),o=n("./node_modules/core-js/internals/uid.js"),l=i("keys");r.exports=function(d){return l[d]||(l[d]=o(d))}},"./node_modules/core-js/internals/shared.js":function(r,a,n){var i=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/set-global.js"),l=n("./node_modules/core-js/internals/is-pure.js"),d="__core-js_shared__",u=i[d]||o(d,{});(r.exports=function(h,f){return u[h]||(u[h]=f!==void 0?f:{})})("versions",[]).push({version:"3.1.3",mode:l?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/internals/string-at.js":function(r,a,n){var i=n("./node_modules/core-js/internals/to-integer.js"),o=n("./node_modules/core-js/internals/require-object-coercible.js");r.exports=function(l,d,u){var h=String(o(l)),f=i(d),p=h.length,g,v;return f<0||f>=p?u?"":void 0:(g=h.charCodeAt(f),g<55296||g>56319||f+1===p||(v=h.charCodeAt(f+1))<56320||v>57343?u?h.charAt(f):g:u?h.slice(f,f+2):(g-55296<<10)+(v-56320)+65536)}},"./node_modules/core-js/internals/to-absolute-index.js":function(r,a,n){var i=n("./node_modules/core-js/internals/to-integer.js"),o=Math.max,l=Math.min;r.exports=function(d,u){var h=i(d);return h<0?o(h+u,0):l(h,u)}},"./node_modules/core-js/internals/to-indexed-object.js":function(r,a,n){var i=n("./node_modules/core-js/internals/indexed-object.js"),o=n("./node_modules/core-js/internals/require-object-coercible.js");r.exports=function(l){return i(o(l))}},"./node_modules/core-js/internals/to-integer.js":function(r,a){var n=Math.ceil,i=Math.floor;r.exports=function(o){return isNaN(o=+o)?0:(o>0?i:n)(o)}},"./node_modules/core-js/internals/to-length.js":function(r,a,n){var i=n("./node_modules/core-js/internals/to-integer.js"),o=Math.min;r.exports=function(l){return l>0?o(i(l),9007199254740991):0}},"./node_modules/core-js/internals/to-object.js":function(r,a,n){var i=n("./node_modules/core-js/internals/require-object-coercible.js");r.exports=function(o){return Object(i(o))}},"./node_modules/core-js/internals/to-primitive.js":function(r,a,n){var i=n("./node_modules/core-js/internals/is-object.js");r.exports=function(o,l){if(!i(o))return o;var d,u;if(l&&typeof(d=o.toString)=="function"&&!i(u=d.call(o))||typeof(d=o.valueOf)=="function"&&!i(u=d.call(o))||!l&&typeof(d=o.toString)=="function"&&!i(u=d.call(o)))return u;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/internals/uid.js":function(r,a){var n=0,i=Math.random();r.exports=function(o){return"Symbol(".concat(o===void 0?"":o,")_",(++n+i).toString(36))}},"./node_modules/core-js/internals/validate-set-prototype-of-arguments.js":function(r,a,n){var i=n("./node_modules/core-js/internals/is-object.js"),o=n("./node_modules/core-js/internals/an-object.js");r.exports=function(l,d){if(o(l),!i(d)&&d!==null)throw TypeError("Can't set "+String(d)+" as a prototype")}},"./node_modules/core-js/internals/well-known-symbol.js":function(r,a,n){var i=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/shared.js"),l=n("./node_modules/core-js/internals/uid.js"),d=n("./node_modules/core-js/internals/native-symbol.js"),u=i.Symbol,h=o("wks");r.exports=function(f){return h[f]||(h[f]=d&&u[f]||(d?u:l)("Symbol."+f))}},"./node_modules/core-js/modules/es.array.from.js":function(r,a,n){var i=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/array-from.js"),l=n("./node_modules/core-js/internals/check-correctness-of-iteration.js"),d=!l(function(u){Array.from(u)});i({target:"Array",stat:!0,forced:d},{from:o})},"./node_modules/core-js/modules/es.string.iterator.js":function(r,a,n){var i=n("./node_modules/core-js/internals/string-at.js"),o=n("./node_modules/core-js/internals/internal-state.js"),l=n("./node_modules/core-js/internals/define-iterator.js"),d="String Iterator",u=o.set,h=o.getterFor(d);l(String,"String",function(f){u(this,{type:d,string:String(f),index:0})},function(){var p=h(this),g=p.string,v=p.index,y;return v>=g.length?{value:void 0,done:!0}:(y=i(g,v,!0),p.index+=y.length,{value:y,done:!1})})},"./node_modules/webpack/buildin/global.js":function(r,a){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(n=window)}r.exports=n},"./src/default-attrs.json":function(r){r.exports={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"}},"./src/icon.js":function(r,a,n){Object.defineProperty(a,"__esModule",{value:!0});var i=Object.assign||function(y){for(var b=1;b<arguments.length;b++){var _=arguments[b];for(var k in _)Object.prototype.hasOwnProperty.call(_,k)&&(y[k]=_[k])}return y},o=function(){function y(b,_){for(var k=0;k<_.length;k++){var A=_[k];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(b,A.key,A)}}return function(b,_,k){return _&&y(b.prototype,_),k&&y(b,k),b}}(),l=n("./node_modules/classnames/dedupe.js"),d=f(l),u=n("./src/default-attrs.json"),h=f(u);function f(y){return y&&y.__esModule?y:{default:y}}function p(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}var g=function(){function y(b,_){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];p(this,y),this.name=b,this.contents=_,this.tags=k,this.attrs=i({},h.default,{class:"feather feather-"+b})}return o(y,[{key:"toSvg",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},k=i({},this.attrs,_,{class:(0,d.default)(this.attrs.class,_.class)});return"<svg "+v(k)+">"+this.contents+"</svg>"}},{key:"toString",value:function(){return this.contents}}]),y}();function v(y){return Object.keys(y).map(function(b){return b+'="'+y[b]+'"'}).join(" ")}a.default=g},"./src/icons.js":function(r,a,n){Object.defineProperty(a,"__esModule",{value:!0});var i=n("./src/icon.js"),o=f(i),l=n("./dist/icons.json"),d=f(l),u=n("./src/tags.json"),h=f(u);function f(p){return p&&p.__esModule?p:{default:p}}a.default=Object.keys(d.default).map(function(p){return new o.default(p,d.default[p],h.default[p])}).reduce(function(p,g){return p[g.name]=g,p},{})},"./src/index.js":function(r,a,n){var i=n("./src/icons.js"),o=f(i),l=n("./src/to-svg.js"),d=f(l),u=n("./src/replace.js"),h=f(u);function f(p){return p&&p.__esModule?p:{default:p}}r.exports={icons:o.default,toSvg:d.default,replace:h.default}},"./src/replace.js":function(r,a,n){Object.defineProperty(a,"__esModule",{value:!0});var i=Object.assign||function(v){for(var y=1;y<arguments.length;y++){var b=arguments[y];for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(v[_]=b[_])}return v},o=n("./node_modules/classnames/dedupe.js"),l=h(o),d=n("./src/icons.js"),u=h(d);function h(v){return v&&v.__esModule?v:{default:v}}function f(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof document>"u")throw new Error("`feather.replace()` only works in a browser environment.");var y=document.querySelectorAll("[data-feather]");Array.from(y).forEach(function(b){return p(b,v)})}function p(v){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=g(v),_=b["data-feather"];if(delete b["data-feather"],u.default[_]===void 0){console.warn("feather: '"+_+"' is not a valid icon");return}var k=u.default[_].toSvg(i({},y,b,{class:(0,l.default)(y.class,b.class)})),A=new DOMParser().parseFromString(k,"image/svg+xml"),R=A.querySelector("svg");v.parentNode.replaceChild(R,v)}function g(v){return Array.from(v.attributes).reduce(function(y,b){return y[b.name]=b.value,y},{})}a.default=f},"./src/tags.json":function(r){r.exports={activity:["pulse","health","action","motion"],airplay:["stream","cast","mirroring"],"alert-circle":["warning","alert","danger"],"alert-octagon":["warning","alert","danger"],"alert-triangle":["warning","alert","danger"],"align-center":["text alignment","center"],"align-justify":["text alignment","justified"],"align-left":["text alignment","left"],"align-right":["text alignment","right"],anchor:[],archive:["index","box"],"at-sign":["mention","at","email","message"],award:["achievement","badge"],aperture:["camera","photo"],"bar-chart":["statistics","diagram","graph"],"bar-chart-2":["statistics","diagram","graph"],battery:["power","electricity"],"battery-charging":["power","electricity"],bell:["alarm","notification","sound"],"bell-off":["alarm","notification","silent"],bluetooth:["wireless"],"book-open":["read","library"],book:["read","dictionary","booklet","magazine","library"],bookmark:["read","clip","marker","tag"],box:["cube"],briefcase:["work","bag","baggage","folder"],calendar:["date"],camera:["photo"],cast:["chromecast","airplay"],"chevron-down":["expand"],"chevron-up":["collapse"],circle:["off","zero","record"],clipboard:["copy"],clock:["time","watch","alarm"],"cloud-drizzle":["weather","shower"],"cloud-lightning":["weather","bolt"],"cloud-rain":["weather"],"cloud-snow":["weather","blizzard"],cloud:["weather"],codepen:["logo"],codesandbox:["logo"],code:["source","programming"],coffee:["drink","cup","mug","tea","cafe","hot","beverage"],columns:["layout"],command:["keyboard","cmd","terminal","prompt"],compass:["navigation","safari","travel","direction"],copy:["clone","duplicate"],"corner-down-left":["arrow","return"],"corner-down-right":["arrow"],"corner-left-down":["arrow"],"corner-left-up":["arrow"],"corner-right-down":["arrow"],"corner-right-up":["arrow"],"corner-up-left":["arrow"],"corner-up-right":["arrow"],cpu:["processor","technology"],"credit-card":["purchase","payment","cc"],crop:["photo","image"],crosshair:["aim","target"],database:["storage","memory"],delete:["remove"],disc:["album","cd","dvd","music"],"dollar-sign":["currency","money","payment"],droplet:["water"],edit:["pencil","change"],"edit-2":["pencil","change"],"edit-3":["pencil","change"],eye:["view","watch"],"eye-off":["view","watch","hide","hidden"],"external-link":["outbound"],facebook:["logo","social"],"fast-forward":["music"],figma:["logo","design","tool"],"file-minus":["delete","remove","erase"],"file-plus":["add","create","new"],"file-text":["data","txt","pdf"],film:["movie","video"],filter:["funnel","hopper"],flag:["report"],"folder-minus":["directory"],"folder-plus":["directory"],folder:["directory"],framer:["logo","design","tool"],frown:["emoji","face","bad","sad","emotion"],gift:["present","box","birthday","party"],"git-branch":["code","version control"],"git-commit":["code","version control"],"git-merge":["code","version control"],"git-pull-request":["code","version control"],github:["logo","version control"],gitlab:["logo","version control"],globe:["world","browser","language","translate"],"hard-drive":["computer","server","memory","data"],hash:["hashtag","number","pound"],headphones:["music","audio","sound"],heart:["like","love","emotion"],"help-circle":["question mark"],hexagon:["shape","node.js","logo"],home:["house","living"],image:["picture"],inbox:["email"],instagram:["logo","camera"],key:["password","login","authentication","secure"],layers:["stack"],layout:["window","webpage"],"life-buoy":["help","life ring","support"],link:["chain","url"],"link-2":["chain","url"],linkedin:["logo","social media"],list:["options"],lock:["security","password","secure"],"log-in":["sign in","arrow","enter"],"log-out":["sign out","arrow","exit"],mail:["email","message"],"map-pin":["location","navigation","travel","marker"],map:["location","navigation","travel"],maximize:["fullscreen"],"maximize-2":["fullscreen","arrows","expand"],meh:["emoji","face","neutral","emotion"],menu:["bars","navigation","hamburger"],"message-circle":["comment","chat"],"message-square":["comment","chat"],"mic-off":["record","sound","mute"],mic:["record","sound","listen"],minimize:["exit fullscreen","close"],"minimize-2":["exit fullscreen","arrows","close"],minus:["subtract"],monitor:["tv","screen","display"],moon:["dark","night"],"more-horizontal":["ellipsis"],"more-vertical":["ellipsis"],"mouse-pointer":["arrow","cursor"],move:["arrows"],music:["note"],navigation:["location","travel"],"navigation-2":["location","travel"],octagon:["stop"],package:["box","container"],paperclip:["attachment"],pause:["music","stop"],"pause-circle":["music","audio","stop"],"pen-tool":["vector","drawing"],percent:["discount"],"phone-call":["ring"],"phone-forwarded":["call"],"phone-incoming":["call"],"phone-missed":["call"],"phone-off":["call","mute"],"phone-outgoing":["call"],phone:["call"],play:["music","start"],"pie-chart":["statistics","diagram"],"play-circle":["music","start"],plus:["add","new"],"plus-circle":["add","new"],"plus-square":["add","new"],pocket:["logo","save"],power:["on","off"],printer:["fax","office","device"],radio:["signal"],"refresh-cw":["synchronise","arrows"],"refresh-ccw":["arrows"],repeat:["loop","arrows"],rewind:["music"],"rotate-ccw":["arrow"],"rotate-cw":["arrow"],rss:["feed","subscribe"],save:["floppy disk"],scissors:["cut"],search:["find","magnifier","magnifying glass"],send:["message","mail","email","paper airplane","paper aeroplane"],settings:["cog","edit","gear","preferences"],"share-2":["network","connections"],shield:["security","secure"],"shield-off":["security","insecure"],"shopping-bag":["ecommerce","cart","purchase","store"],"shopping-cart":["ecommerce","cart","purchase","store"],shuffle:["music"],"skip-back":["music"],"skip-forward":["music"],slack:["logo"],slash:["ban","no"],sliders:["settings","controls"],smartphone:["cellphone","device"],smile:["emoji","face","happy","good","emotion"],speaker:["audio","music"],star:["bookmark","favorite","like"],"stop-circle":["media","music"],sun:["brightness","weather","light"],sunrise:["weather","time","morning","day"],sunset:["weather","time","evening","night"],tablet:["device"],tag:["label"],target:["logo","bullseye"],terminal:["code","command line","prompt"],thermometer:["temperature","celsius","fahrenheit","weather"],"thumbs-down":["dislike","bad","emotion"],"thumbs-up":["like","good","emotion"],"toggle-left":["on","off","switch"],"toggle-right":["on","off","switch"],tool:["settings","spanner"],trash:["garbage","delete","remove","bin"],"trash-2":["garbage","delete","remove","bin"],triangle:["delta"],truck:["delivery","van","shipping","transport","lorry"],tv:["television","stream"],twitch:["logo"],twitter:["logo","social"],type:["text"],umbrella:["rain","weather"],unlock:["security"],"user-check":["followed","subscribed"],"user-minus":["delete","remove","unfollow","unsubscribe"],"user-plus":["new","add","create","follow","subscribe"],"user-x":["delete","remove","unfollow","unsubscribe","unavailable"],user:["person","account"],users:["group"],"video-off":["camera","movie","film"],video:["camera","movie","film"],voicemail:["phone"],volume:["music","sound","mute"],"volume-1":["music","sound"],"volume-2":["music","sound"],"volume-x":["music","sound","mute"],watch:["clock","time"],"wifi-off":["disabled"],wifi:["connection","signal","wireless"],wind:["weather","air"],"x-circle":["cancel","close","delete","remove","times","clear"],"x-octagon":["delete","stop","alert","warning","times","clear"],"x-square":["cancel","close","delete","remove","times","clear"],x:["cancel","close","delete","remove","times","clear"],youtube:["logo","video","play"],"zap-off":["flash","camera","lightning"],zap:["flash","camera","lightning"],"zoom-in":["magnifying glass"],"zoom-out":["magnifying glass"]}},"./src/to-svg.js":function(r,a,n){Object.defineProperty(a,"__esModule",{value:!0});var i=n("./src/icons.js"),o=l(i);function l(u){return u&&u.__esModule?u:{default:u}}function d(u){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(console.warn("feather.toSvg() is deprecated. Please use feather.icons[name].toSvg() instead."),!u)throw new Error("The required `key` (icon name) parameter is missing.");if(!o.default[u])throw new Error("No icon matching '"+u+"'. See the complete list of icons at https://feathericons.com");return o.default[u].toSvg(h)}a.default=d},0:function(r,a,n){n("./node_modules/core-js/es/array/from.js"),r.exports=n("./src/index.js")}})})}(Eb)),Eb.exports}var lue=oue();const cue=jA(lue),es={dashboard:{charts:{incomeData:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul"],datasets:[{label:"Income",data:[12e3,19e3,15e3,18e3,14e3,21e3,22e3],backgroundColor:"rgba(16, 185, 129, 0.1)",borderColor:"rgba(16, 185, 129, 1)",borderWidth:2,tension:.3,fill:!0}]},revenueExpensesData:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul"],datasets:[{label:"Revenue",data:[12e3,19e3,15e3,18e3,14e3,21e3,22e3],backgroundColor:"rgba(16, 185, 129, 0.8)",borderRadius:4},{label:"Expenses",data:[8e3,12e3,1e4,11e3,9e3,14e3,13e3],backgroundColor:"rgba(239, 68, 68, 0.8)",borderRadius:4}]}}},chartOfAccounts:[{id:1,name:"Cash",type:"Asset",balance:2e4},{id:2,name:"Accounts Receivable",type:"Asset",balance:15e3},{id:3,name:"Inventory",type:"Asset",balance:3e4},{id:4,name:"Accounts Payable",type:"Liability",balance:25e3},{id:5,name:"Loans",type:"Liability",balance:25e3},{id:6,name:"Equity",type:"Equity",balance:5e4},{id:7,name:"Revenue",type:"Income",balance:5e4},{id:8,name:"Expenses",type:"Expense",balance:4e4}],accountList:[{id:1,accountName:"Petty Cash",accountSubCategory:"Current Assets",accountGroup:"Bank",openingBalance:5e3},{id:2,accountName:"Office Supplies",accountSubCategory:"Expenses",accountGroup:"Distribution Expenses",openingBalance:0}],customers:[{id:1,customerCategory:"Corporate",customerType:"Premium",customerName:"Acme Corporation",phoneNumber:"+1-555-0123",brNumberNic:"BR123456789",email:"billing@acme.com",address:"123 Business Ave, Suite 100",city:"New York",createdDate:"2024-01-10"},{id:2,customerCategory:"Individual",customerType:"Regular",customerName:"John Smith",phoneNumber:"+1-555-0456",brNumberNic:"NIC987654321",email:"john.smith@email.com",address:"456 Main Street",city:"Los Angeles",createdDate:"2024-01-15"},{id:3,customerCategory:"Corporate",customerType:"VIP",customerName:"Tech Solutions Ltd",phoneNumber:"+1-555-0789",brNumberNic:"BR567890123",email:"accounts@techsolutions.com",address:"789 Tech Park, Building A",city:"San Francisco",createdDate:"2024-01-20"}],customerCategories:["Individual","Corporate","Government","NGO"],customerTypes:["Regular","Premium","VIP","Wholesale"],centers:[{id:1,centerName:"Main Office",createdDate:"2024-01-01",status:"Active"},{id:2,centerName:"Branch Office A",createdDate:"2024-01-05",status:"Active"},{id:3,centerName:"Warehouse Center",createdDate:"2024-01-10",status:"Active"}],incomeStatementData:{revenue:{salesRevenue:85e3,serviceRevenue:25e3,otherRevenue:3e3},costOfGoodsSold:{directMaterials:2e4,directLabor:15e3,manufacturingOverhead:8e3},operatingExpenses:{salariesAndWages:18e3,rentExpense:6e3,utilitiesExpense:2500,advertisingExpense:4e3,insuranceExpense:1500,depreciationExpense:3e3,officeSupplies:800,professionalFees:2200},otherIncome:{interestIncome:500,dividendIncome:200,gainOnSale:1500},otherExpenses:{interestExpense:1200,lossOnSale:300}},balanceSheetData:{assets:{currentAssets:{cash:25e3,accountsReceivable:18e3,inventory:12e3,prepaidExpenses:3e3,shortTermInvestments:5e3},fixedAssets:{propertyPlantEquipment:85e3,accumulatedDepreciation:-25e3,intangibleAssets:15e3,longTermInvestments:2e4}},liabilities:{currentLiabilities:{accountsPayable:12e3,shortTermDebt:8e3,accruedExpenses:5e3,taxesPayable:3e3},longTermLiabilities:{longTermDebt:45e3,deferredTaxLiabilities:8e3,otherLongTermLiabilities:5e3}},equity:{commonStock:5e4,retainedEarnings:35e3,additionalPaidInCapital:15e3,treasuryStock:-5e3}},previousBalanceSheetData:{assets:{currentAssets:{cash:22e3,accountsReceivable:16e3,inventory:14e3,prepaidExpenses:2500,shortTermInvestments:4e3},fixedAssets:{propertyPlantEquipment:85e3,accumulatedDepreciation:-22e3,intangibleAssets:15e3,longTermInvestments:18e3}},liabilities:{currentLiabilities:{accountsPayable:1e4,shortTermDebt:7e3,accruedExpenses:4500,taxesPayable:2500},longTermLiabilities:{longTermDebt:48e3,deferredTaxLiabilities:7500,otherLongTermLiabilities:5e3}},equity:{commonStock:5e4,retainedEarnings:32e3,additionalPaidInCapital:15e3,treasuryStock:-5e3}},cashFlowData:{operatingActivities:{netIncome:25e3,depreciationAmortization:5e3,changeInAccountsReceivable:-3e3,changeInInventory:2e3,changeInAccountsPayable:1500,changeInAccruedExpenses:800,otherOperatingActivities:-500},investingActivities:{purchaseOfEquipment:-15e3,saleOfInvestments:8e3,purchaseOfInvestments:-5e3,otherInvestingActivities:1e3},financingActivities:{proceedsFromLongTermDebt:2e4,repaymentOfLongTermDebt:-8e3,dividendsPaid:-5e3,stockRepurchase:-3e3,otherFinancingActivities:500},beginningCash:18e3},previousCashFlowData:{operatingActivities:{netIncome:22e3,depreciationAmortization:4500,changeInAccountsReceivable:-2e3,changeInInventory:1500,changeInAccountsPayable:1e3,changeInAccruedExpenses:600,otherOperatingActivities:-300},investingActivities:{purchaseOfEquipment:-1e4,saleOfInvestments:5e3,purchaseOfInvestments:-3e3,otherInvestingActivities:500},financingActivities:{proceedsFromLongTermDebt:15e3,repaymentOfLongTermDebt:-6e3,dividendsPaid:-4e3,stockRepurchase:-2e3,otherFinancingActivities:200},beginningCash:15e3},trialBalanceAccounts:[{code:"1001",name:"Cash",type:"Asset",debit:25e3,credit:0,balance:25e3},{code:"1002",name:"Accounts Receivable",type:"Asset",debit:15e3,credit:0,balance:15e3},{code:"1003",name:"Inventory",type:"Asset",debit:8e3,credit:0,balance:8e3},{code:"1004",name:"Equipment",type:"Asset",debit:3e4,credit:0,balance:3e4},{code:"1005",name:"Accumulated Depreciation - Equipment",type:"Asset",debit:0,credit:5e3,balance:-5e3},{code:"2001",name:"Accounts Payable",type:"Liability",debit:0,credit:8e3,balance:-8e3},{code:"2002",name:"Notes Payable",type:"Liability",debit:0,credit:12e3,balance:-12e3},{code:"2003",name:"Accrued Expenses",type:"Liability",debit:0,credit:3e3,balance:-3e3},{code:"3001",name:"Owner's Capital",type:"Equity",debit:0,credit:4e4,balance:-4e4},{code:"3002",name:"Retained Earnings",type:"Equity",debit:0,credit:8e3,balance:-8e3},{code:"4001",name:"Sales Revenue",type:"Revenue",debit:0,credit:25e3,balance:-25e3},{code:"4002",name:"Service Revenue",type:"Revenue",debit:0,credit:1e4,balance:-1e4},{code:"5001",name:"Cost of Goods Sold",type:"Expense",debit:15e3,credit:0,balance:15e3},{code:"5002",name:"Rent Expense",type:"Expense",debit:3e3,credit:0,balance:3e3},{code:"5003",name:"Utilities Expense",type:"Expense",debit:1500,credit:0,balance:1500},{code:"5004",name:"Salaries Expense",type:"Expense",debit:8e3,credit:0,balance:8e3},{code:"5005",name:"Depreciation Expense",type:"Expense",debit:2500,credit:0,balance:2500}],invoiceData:[{id:"INV-001",customer:"Acme Corporation",customerEmail:"billing@acme.com",amount:5420,date:"2024-01-15",dueDate:"2024-02-15",status:"paid",items:[{description:"Web Development Services",quantity:1,rate:5e3,amount:5e3},{description:"Domain & Hosting",quantity:1,rate:420,amount:420}]},{id:"INV-002",customer:"Tech Solutions Ltd",customerEmail:"accounts@techsolutions.com",amount:8750,date:"2024-01-18",dueDate:"2024-02-18",status:"pending",items:[{description:"Software Development",quantity:1,rate:8e3,amount:8e3},{description:"Project Management",quantity:1,rate:750,amount:750}]},{id:"INV-003",customer:"Global Enterprises",customerEmail:"finance@global.com",amount:3200,date:"2024-01-20",dueDate:"2024-02-05",status:"overdue",items:[{description:"Consulting Services",quantity:40,rate:80,amount:3200}]}],enhancedExpenses:[{id:1,description:"Office Supplies - Stationery",amount:245.5,category:"Office Supplies",date:"2024-01-15",vendor:"OfficeMax",reference:"INV-2024-001",status:"Paid"},{id:2,description:"Software License - Adobe Creative Suite",amount:599.99,category:"Software & Technology",date:"2024-01-10",vendor:"Adobe Systems",reference:"SUB-2024-012",status:"Paid"},{id:3,description:"Business Travel - Client Meeting",amount:1250,category:"Travel & Transportation",date:"2024-01-08",vendor:"Delta Airlines",reference:"TRV-2024-003",status:"Pending"},{id:4,description:"Monthly Internet Service",amount:150,category:"Utilities",date:"2024-01-01",vendor:"TechNet ISP",reference:"UTIL-2024-001",status:"Paid"},{id:5,description:"Marketing Campaign - Q1",amount:2500,category:"Marketing & Advertising",date:"2024-01-05",vendor:"Creative Agency",reference:"MKT-2024-001",status:"Paid"}],expenseCategories:["Office Supplies","Travel & Transportation","Utilities","Marketing & Advertising","Professional Services","Software & Technology","Insurance","Rent & Facilities","Equipment","Meals & Entertainment","Other"],transactions:[{id:1,date:"2023-01-01",description:"Sale of goods",debit:1e3,credit:0,account:"Revenue"},{id:2,date:"2023-01-02",description:"Purchase of supplies",debit:0,credit:500,account:"Expenses"}],ledger:[{account:"Cash",entries:[{date:"2023-01-01",debit:1e3,credit:0,balance:1e3,description:"Initial deposit"},{date:"2023-01-02",debit:0,credit:500,balance:500,description:"Office supplies payment"},{date:"2023-01-05",debit:2e3,credit:0,balance:2500,description:"Client payment received"}]},{account:"Revenue",entries:[{date:"2023-01-01",debit:0,credit:1e3,balance:1e3,description:"Service revenue"},{date:"2023-01-05",debit:0,credit:2e3,balance:3e3,description:"Consulting fees"}]},{account:"Expenses",entries:[{date:"2023-01-02",debit:500,credit:0,balance:500,description:"Office supplies"},{date:"2023-01-03",debit:300,credit:0,balance:800,description:"Utilities"}]}],salesReturns:[{id:1,returnNumber:"SR001",customer:"ABC Company",originalInvoice:"INV001",date:"2024-01-25",reason:"Defective product",status:"Approved",items:[{productName:"Laptop",quantity:1,unitPrice:1200,total:1200}],subtotal:1200,tax:120,totalAmount:1320},{id:2,returnNumber:"SR002",customer:"XYZ Corporation",originalInvoice:"INV002",date:"2024-01-28",reason:"Wrong specification",status:"Pending",items:[{productName:"Monitor",quantity:1,unitPrice:300,total:300}],subtotal:300,tax:30,totalAmount:330}],grn:[{id:1,grnNumber:"GRN001",supplier:"Tech Supplies Ltd",purchaseOrder:"PO001",receivedDate:"2024-01-12",status:"Received",items:[{productName:"Laptop",orderedQty:10,receivedQty:10,unitPrice:1e3,total:1e4},{productName:"Mouse",orderedQty:20,receivedQty:18,unitPrice:20,total:360}],totalAmount:10360,remarks:"2 mice missing from shipment"},{id:2,grnNumber:"GRN002",supplier:"Office Equipment Co",purchaseOrder:"PO002",receivedDate:"2024-01-18",status:"Partial",items:[{productName:"Desktop PC",orderedQty:5,receivedQty:3,unitPrice:750,total:2250},{productName:"Keyboard",orderedQty:5,receivedQty:5,unitPrice:50,total:250}],totalAmount:2500,remarks:"Remaining 2 PCs to be delivered next week"}],purchaseReturns:[{id:1,returnNumber:"PR001",supplier:"Tech Supplies Ltd",originalGRN:"GRN001",date:"2024-01-16",reason:"Damaged in transit",status:"Approved",items:[{productName:"Laptop",quantity:1,unitPrice:1e3,total:1e3}],totalAmount:1e3},{id:2,returnNumber:"PR002",supplier:"Office Equipment Co",originalGRN:"GRN002",date:"2024-01-22",reason:"Wrong model delivered",status:"Pending",items:[{productName:"Keyboard",quantity:2,unitPrice:50,total:100}],totalAmount:100}],purchaseOrders:[{id:1,orderNumber:"PO001",supplier:"Tech Supplies Ltd",date:"2024-01-10",expectedDate:"2024-01-15",status:"Received",items:[{productName:"Laptop",quantity:10,unitPrice:1e3,total:1e4},{productName:"Mouse",quantity:20,unitPrice:20,total:400}],subtotal:10400,tax:1040,totalAmount:11440},{id:2,orderNumber:"PO002",supplier:"Office Equipment Co",date:"2024-01-15",expectedDate:"2024-01-20",status:"Partial",items:[{productName:"Desktop PC",quantity:5,unitPrice:750,total:3750},{productName:"Keyboard",quantity:5,unitPrice:50,total:250}],subtotal:4e3,tax:400,totalAmount:4400},{id:3,orderNumber:"PO003",supplier:"Software Solutions Inc",date:"2024-01-25",expectedDate:"2024-02-05",status:"Pending",items:[{productName:"Antivirus Software",quantity:50,unitPrice:30,total:1500},{productName:"Office Suite License",quantity:25,unitPrice:120,total:3e3}],subtotal:4500,tax:450,totalAmount:4950}],stockTransfers:[{id:1,transferNumber:"ST001",fromLocation:"Main Warehouse",toLocation:"Branch Office A",date:"2024-01-14",status:"Completed",items:[{productName:"Laptop",quantity:3,unitPrice:1200,total:3600},{productName:"Mouse",quantity:10,unitPrice:25,total:250}],totalValue:3850,transferredBy:"John Smith",receivedBy:"Jane Doe",remarks:"Branch office setup"},{id:2,transferNumber:"ST002",fromLocation:"Branch Office B",toLocation:"Main Warehouse",date:"2024-01-20",status:"In Transit",items:[{productName:"Desktop PC",quantity:2,unitPrice:800,total:1600},{productName:"Monitor",quantity:2,unitPrice:300,total:600}],totalValue:2200,transferredBy:"Mike Johnson",receivedBy:"Pending",remarks:"Return of excess inventory"}],stockVerifications:[{id:1,verificationNumber:"SV001",location:"Main Warehouse",date:"2024-01-30",status:"Completed",verifiedBy:"Sarah Wilson",items:[{productName:"Laptop",systemQty:25,physicalQty:24,variance:-1,unitPrice:1200,varianceValue:-1200},{productName:"Mouse",systemQty:50,physicalQty:52,variance:2,unitPrice:25,varianceValue:50},{productName:"Monitor",systemQty:15,physicalQty:15,variance:0,unitPrice:300,varianceValue:0}],totalVarianceValue:-1150,remarks:"Annual stock audit - minor discrepancies found"},{id:2,verificationNumber:"SV002",location:"Branch Office A",date:"2024-02-05",status:"In Progress",verifiedBy:"David Chen",items:[{productName:"Desktop PC",systemQty:8,physicalQty:8,variance:0,unitPrice:800,varianceValue:0},{productName:"Keyboard",systemQty:12,physicalQty:null,variance:null,unitPrice:50,varianceValue:null}],totalVarianceValue:0,remarks:"Monthly verification in progress"}],supplierBills:[{id:1,billNumber:"SB-001",supplier:"ABC Suppliers Ltd",billDate:"2024-01-15",dueDate:"2024-02-15",referenceNumber:"REF-2024-001",description:"Office supplies and equipment",amount:2500,tax:250,totalAmount:2750,account:"Office Supplies",status:"Pending",items:[{description:"Office chairs",quantity:5,rate:200,amount:1e3},{description:"Desk accessories",quantity:10,rate:150,amount:1500}]},{id:2,billNumber:"SB-002",supplier:"Tech Solutions Inc",billDate:"2024-01-20",dueDate:"2024-02-20",referenceNumber:"REF-2024-002",description:"Software licenses and hardware",amount:5e3,tax:500,totalAmount:5500,account:"IT Equipment",status:"Paid",items:[{description:"Software licenses",quantity:10,rate:300,amount:3e3},{description:"Computer hardware",quantity:2,rate:1e3,amount:2e3}]},{id:3,billNumber:"SB-003",supplier:"Maintenance Services Co",billDate:"2024-01-25",dueDate:"2024-02-10",referenceNumber:"REF-2024-003",description:"Building maintenance and repairs",amount:1800,tax:180,totalAmount:1980,account:"Maintenance Expenses",status:"Overdue",items:[{description:"HVAC maintenance",quantity:1,rate:800,amount:800},{description:"Plumbing repairs",quantity:1,rate:600,amount:600},{description:"Electrical work",quantity:1,rate:400,amount:400}]}],suppliers:[{id:1,name:"ABC Suppliers Ltd",contactPerson:"John Smith",phone:"+1-555-0101",email:"contact@abcsuppliers.com",address:"123 Business Park, Industrial Area",city:"New York",category:"Office Supplies",paymentTerms:"Net 30"},{id:2,name:"Tech Solutions Inc",contactPerson:"Sarah Johnson",phone:"+1-555-0102",email:"sales@techsolutions.com",address:"456 Tech Street, Silicon Valley",city:"San Francisco",category:"Technology",paymentTerms:"Net 45"},{id:3,name:"Maintenance Services Co",contactPerson:"Mike Wilson",phone:"+1-555-0103",email:"service@maintenanceco.com",address:"789 Service Road, Downtown",city:"Chicago",category:"Maintenance",paymentTerms:"Net 15"},{id:4,name:"Power Electric Company",contactPerson:"Lisa Brown",phone:"+1-555-0104",email:"billing@powerelectric.com",address:"321 Energy Avenue",city:"Houston",category:"Utilities",paymentTerms:"Due on Receipt"},{id:5,name:"City Water Works",contactPerson:"David Chen",phone:"+1-555-0105",email:"accounts@citywater.gov",address:"654 Municipal Building",city:"Los Angeles",category:"Utilities",paymentTerms:"Net 10"}],payments:[{id:1,paymentId:"PAY-001",supplier:"Tech Solutions Inc",billNumber:"SB-002",paymentMethod:"Bank Transfer",referenceNumber:"TXN-20240125-001",paymentDate:"2024-01-25",amount:5500,description:"Payment for software licenses and hardware",account:"Business Checking",status:"Completed"},{id:2,paymentId:"PAY-002",supplier:"ABC Suppliers Ltd",billNumber:"SB-001",paymentMethod:"Check",referenceNumber:"CHK-001234",paymentDate:"2024-01-30",amount:2750,description:"Payment for office supplies",account:"Business Checking",status:"Pending"},{id:3,paymentId:"PAY-003",supplier:"Power Electric Company",billNumber:"",paymentMethod:"Online Transfer",referenceNumber:"AUTO-PAY-001",paymentDate:"2024-02-01",amount:450,description:"Monthly electricity bill payment",account:"Utilities Account",status:"Completed"}],advancePayments:[{id:1,advanceId:"ADV-001",supplier:"ABC Suppliers Ltd",paymentMethod:"Bank Transfer",referenceNumber:"ADV-TXN-001",paymentDate:"2024-01-10",amount:5e3,remainingAmount:2250,purpose:"Purchase Order Advance",description:"Advance payment for upcoming large order",account:"Advance Payments",status:"Partially Adjusted"},{id:2,advanceId:"ADV-002",supplier:"Tech Solutions Inc",paymentMethod:"Check",referenceNumber:"CHK-002345",paymentDate:"2024-01-15",amount:1e4,remainingAmount:1e4,purpose:"Project Advance",description:"Advance for annual software upgrade project",account:"Project Advances",status:"Active"},{id:3,advanceId:"ADV-003",supplier:"Maintenance Services Co",paymentMethod:"Cash",referenceNumber:"CASH-001",paymentDate:"2024-01-20",amount:2e3,remainingAmount:0,purpose:"Service Contract Advance",description:"Advance for quarterly maintenance contract",account:"Service Advances",status:"Fully Adjusted"}],deposits:[{id:1,depositId:"DEP-001",customer:"Acme Corporation",depositType:"Customer Payment",depositMethod:"Bank Transfer",referenceNumber:"WIRE-001",depositDate:"2024-01-16",amount:15e3,description:"Payment for invoice INV-001",account:"Business Checking",status:"Completed",items:[{description:"Invoice payment INV-001",amount:15e3}]},{id:2,depositId:"DEP-002",customer:"",depositType:"Interest Income",depositMethod:"Bank Transfer",referenceNumber:"INT-Q1-2024",depositDate:"2024-01-31",amount:250,description:"Quarterly interest from savings account",account:"Savings Account",status:"Completed",items:[{description:"Interest income Q1 2024",amount:250}]},{id:3,depositId:"DEP-003",customer:"Tech Solutions Ltd",depositType:"Customer Payment",depositMethod:"Check",referenceNumber:"CHK-789456",depositDate:"2024-02-01",amount:8750,description:"Payment for multiple invoices",account:"Business Checking",status:"Pending",items:[{description:"Invoice INV-002 payment",amount:5e3},{description:"Invoice INV-003 payment",amount:3750}]}],receipts:[{id:1,receiptId:"RCP-001",customer:"Acme Corporation",receiptType:"Invoice Payment",paymentMethod:"Bank Transfer",referenceNumber:"WIRE-001",receiptDate:"2024-01-16",amount:15e3,description:"Payment received for services rendered",account:"Accounts Receivable",invoiceNumber:"INV-001",status:"Received",items:[{description:"Web development services",amount:12e3},{description:"Hosting and maintenance",amount:3e3}]},{id:2,receiptId:"RCP-002",customer:"Global Enterprises",receiptType:"Advance Payment",paymentMethod:"Check",referenceNumber:"CHK-654321",receiptDate:"2024-01-22",amount:5e3,description:"Advance payment for upcoming project",account:"Customer Advances",invoiceNumber:"",status:"Received",items:[{description:"Project advance payment",amount:5e3}]},{id:3,receiptId:"RCP-003",customer:"Small Business Inc",receiptType:"Service Payment",paymentMethod:"Credit Card",referenceNumber:"CC-789012",receiptDate:"2024-01-28",amount:1200,description:"Monthly service fee payment",account:"Service Revenue",invoiceNumber:"INV-005",status:"Received",items:[{description:"Monthly consultation fee",amount:1200}]}],utilityBills:[{id:1,billNumber:"ELEC-001-2024",provider:"Power Electric Company",utilityType:"Electricity",billDate:"2024-01-15",dueDate:"2024-02-15",servicePeriodFrom:"2023-12-15",servicePeriodTo:"2024-01-15",previousReading:1250.5,currentReading:1380.2,unitsConsumed:129.7,ratePerUnit:.12,baseAmount:15.56,taxes:1.56,totalAmount:17.12,account:"Utilities Expense",status:"Paid"},{id:2,billNumber:"WATER-001-2024",provider:"City Water Works",utilityType:"Water",billDate:"2024-01-20",dueDate:"2024-02-10",servicePeriodFrom:"2023-12-20",servicePeriodTo:"2024-01-20",previousReading:850.3,currentReading:875.8,unitsConsumed:25.5,ratePerUnit:2.5,baseAmount:63.75,taxes:6.38,totalAmount:70.13,account:"Utilities Expense",status:"Pending"},{id:3,billNumber:"GAS-001-2024",provider:"Metro Gas Services",utilityType:"Gas",billDate:"2024-01-25",dueDate:"2024-02-25",servicePeriodFrom:"2023-12-25",servicePeriodTo:"2024-01-25",previousReading:450.2,currentReading:485.7,unitsConsumed:35.5,ratePerUnit:1.8,baseAmount:63.9,taxes:6.39,totalAmount:70.29,account:"Utilities Expense",status:"Overdue"},{id:4,billNumber:"NET-001-2024",provider:"FastNet Internet",utilityType:"Internet",billDate:"2024-02-01",dueDate:"2024-02-28",servicePeriodFrom:"2024-01-01",servicePeriodTo:"2024-01-31",previousReading:0,currentReading:0,unitsConsumed:0,ratePerUnit:0,baseAmount:89.99,taxes:9,totalAmount:98.99,account:"Internet Expense",status:"Pending"}],utilityProviders:[{id:1,name:"Power Electric Company",utilityType:"Electricity",contactPerson:"Lisa Brown",phone:"+1-555-0104",email:"billing@powerelectric.com",address:"321 Energy Avenue",accountNumber:"ELEC-ACC-001"},{id:2,name:"City Water Works",utilityType:"Water",contactPerson:"David Chen",phone:"+1-555-0105",email:"accounts@citywater.gov",address:"654 Municipal Building",accountNumber:"WATER-ACC-001"},{id:3,name:"Metro Gas Services",utilityType:"Gas",contactPerson:"Jennifer Davis",phone:"+1-555-0106",email:"billing@metrogas.com",address:"987 Gas Distribution Center",accountNumber:"GAS-ACC-001"},{id:4,name:"FastNet Internet",utilityType:"Internet",contactPerson:"Robert Taylor",phone:"+1-555-0107",email:"support@fastnet.com",address:"147 Network Plaza",accountNumber:"NET-ACC-001"},{id:5,name:"Global Telecom",utilityType:"Phone",contactPerson:"Amanda White",phone:"+1-555-0108",email:"billing@globaltelecom.com",address:"258 Communication Tower",accountNumber:"PHONE-ACC-001"}],utilityBillPayments:[{id:1,paymentId:"UBPAY-001",provider:"Power Electric Company",utilityType:"Electricity",utilityBill:"ELEC-001-2024",billAmount:17.12,paymentMethod:"Bank Transfer",referenceNumber:"AUTO-ELEC-001",paymentDate:"2024-01-30",amountPaid:17.12,discountAmount:0,penaltyAmount:0,totalPayment:17.12,account:"Utilities Account",status:"Completed"},{id:2,paymentId:"UBPAY-002",provider:"Metro Gas Services",utilityType:"Gas",utilityBill:"GAS-001-2024",billAmount:70.29,paymentMethod:"Check",referenceNumber:"CHK-003456",paymentDate:"2024-02-01",amountPaid:70.29,discountAmount:0,penaltyAmount:5,totalPayment:75.29,account:"Business Checking",status:"Completed"},{id:3,paymentId:"UBPAY-003",provider:"City Water Works",utilityType:"Water",utilityBill:"WATER-001-2024",billAmount:70.13,paymentMethod:"Online Transfer",referenceNumber:"WEB-PAY-001",paymentDate:"2024-02-05",amountPaid:70.13,discountAmount:2,penaltyAmount:0,totalPayment:68.13,account:"Utilities Account",status:"Pending"}],journalEntries:[{id:1,entryNumber:"JE-001",entryDate:"2024-01-31",description:"Monthly depreciation entry",reference:"DEPR-JAN-2024",status:"Posted",totalAmount:2500,lines:[{account:"Depreciation Expense",description:"Monthly depreciation on equipment",debit:"2500.00",credit:""},{account:"Accumulated Depreciation - Equipment",description:"Monthly depreciation on equipment",debit:"",credit:"2500.00"}]},{id:2,entryNumber:"JE-002",entryDate:"2024-02-01",description:"Prepaid insurance adjustment",reference:"INS-ADJ-FEB",status:"Posted",totalAmount:500,lines:[{account:"Insurance Expense",description:"Monthly insurance expense",debit:"500.00",credit:""},{account:"Prepaid Insurance",description:"Monthly insurance expense",debit:"",credit:"500.00"}]},{id:3,entryNumber:"JE-003",entryDate:"2024-02-02",description:"Bad debt write-off",reference:"BD-WO-001",status:"Draft",totalAmount:1200,lines:[{account:"Bad Debt Expense",description:"Write-off uncollectible account",debit:"1200.00",credit:""},{account:"Accounts Receivable",description:"Write-off uncollectible account",debit:"",credit:"1200.00"}]}],pettyCashTransactions:[{id:1,transactionType:"Replenishment",description:"Monthly petty cash replenishment",category:"Miscellaneous",amount:500,date:"2024-01-01",receivedBy:"Office Manager",approvedBy:"Finance Director",account:"Petty Cash",receipt:"PC-REP-001",status:"Approved"},{id:2,transactionType:"Expense",description:"Office supplies - pens and paper",category:"Office Supplies",amount:25.5,date:"2024-01-05",receivedBy:"John Smith",approvedBy:"Office Manager",account:"Office Supplies",receipt:"PC-001",status:"Approved"},{id:3,transactionType:"Expense",description:"Taxi fare for client meeting",category:"Travel & Transportation",amount:35,date:"2024-01-08",receivedBy:"Sarah Johnson",approvedBy:"Office Manager",account:"Travel Expenses",receipt:"PC-002",status:"Approved"},{id:4,transactionType:"Expense",description:"Coffee for office meeting",category:"Meals & Entertainment",amount:15.75,date:"2024-01-10",receivedBy:"Mike Wilson",approvedBy:"Office Manager",account:"Meeting Expenses",receipt:"PC-003",status:"Approved"},{id:5,transactionType:"Expense",description:"Postage stamps",category:"Postage & Shipping",amount:20,date:"2024-01-12",receivedBy:"Lisa Brown",approvedBy:"Office Manager",account:"Postage Expense",receipt:"PC-004",status:"Approved"},{id:6,transactionType:"Expense",description:"Emergency repair supplies",category:"Emergency Expenses",amount:85.25,date:"2024-01-15",receivedBy:"David Chen",approvedBy:"Facilities Manager",account:"Maintenance Expenses",receipt:"PC-005",status:"Approved"}],cheques:[{id:1,chequeNumber:"CHK-001001",chequeType:"Outgoing",payeeName:"ABC Suppliers Ltd",payeeType:"Supplier",bankAccount:"Business Checking",issueDate:"2024-01-30",postDate:"2024-01-30",amount:2750,amountInWords:"Two thousand seven hundred fifty dollars only",description:"Payment for office supplies - Bill SB-001",reference:"SB-001",status:"Cleared"},{id:2,chequeNumber:"CHK-001002",chequeType:"Outgoing",payeeName:"Metro Gas Services",payeeType:"Supplier",bankAccount:"Business Checking",issueDate:"2024-02-01",postDate:"2024-02-01",amount:75.29,amountInWords:"Seventy-five dollars and twenty-nine cents only",description:"Payment for gas bill with late penalty",reference:"GAS-001-2024",status:"Presented"},{id:3,chequeNumber:"CHK-001003",chequeType:"Outgoing",payeeName:"Office Rental Co",payeeType:"Other",bankAccount:"Business Checking",issueDate:"2024-02-01",postDate:"2024-02-01",amount:3500,amountInWords:"Three thousand five hundred dollars only",description:"Monthly office rent payment",reference:"RENT-FEB-2024",status:"Issued"},{id:4,chequeNumber:"CHK-REC-001",chequeType:"Incoming",payeeName:"Global Enterprises",payeeType:"Customer",bankAccount:"Business Checking",issueDate:"2024-01-22",postDate:"2024-01-22",amount:5e3,amountInWords:"Five thousand dollars only",description:"Advance payment for upcoming project",reference:"ADV-PROJ-001",status:"Cleared"}],settings:{companyName:"ABC Corp",currency:"USD",taxRate:.1}},due=()=>es.chartOfAccounts,uue=()=>es.transactions,mue=()=>es.ledger,hA=()=>es.salesReturns,xA=()=>es.grn,w1=()=>es.purchaseReturns,fA=()=>es.purchaseOrders,pA=()=>es.stockTransfers,gA=()=>es.stockVerifications,hue=()=>es.settings,a2=()=>es.customers,xue=()=>es.customerCategories,fue=()=>es.customerTypes,pue=()=>es.centers,gue=()=>es.incomeStatementData,yue=()=>es.balanceSheetData,bue=()=>es.previousBalanceSheetData,vue=()=>es.cashFlowData,wue=()=>es.previousCashFlowData,jue=()=>es.trialBalanceAccounts,Nue=()=>es.invoiceData,Sue=()=>es.enhancedExpenses,_ue=()=>es.expenseCategories,Cue=()=>es.dashboard.charts,kue=t=>{es.transactions.push(t)},Aue=t=>{const s={...t,id:Date.now(),returnNumber:`SR${String(es.salesReturns.length+1).padStart(3,"0")}`};return es.salesReturns.push(s),s},Eue=t=>{const s={...t,id:Date.now(),grnNumber:`GRN${String(es.grn.length+1).padStart(3,"0")}`};return es.grn.push(s),s},iM=t=>{const s={...t,id:Date.now(),returnNumber:`PR${String(es.purchaseReturns.length+1).padStart(3,"0")}`};return es.purchaseReturns.push(s),s},Tue=t=>{const s={...t,id:Date.now(),orderNumber:`PO${String(es.purchaseOrders.length+1).padStart(3,"0")}`};return es.purchaseOrders.push(s),s},Due=t=>{const s={...t,id:Date.now(),transferNumber:`ST${String(es.stockTransfers.length+1).padStart(3,"0")}`};return es.stockTransfers.push(s),s},Pue=t=>{const s={...t,id:Date.now(),verificationNumber:`SV${String(es.stockVerifications.length+1).padStart(3,"0")}`};return es.stockVerifications.push(s),s},Mue=t=>{es.settings={...es.settings,...t}},ld=()=>es.accountList,Lue=t=>{const s={...t,id:Date.now(),createdDate:new Date().toLocaleDateString()};return es.customers.push(s),s},Fue=t=>{const s=es.customers.findIndex(r=>r.id===t);return s!==-1?es.customers.splice(s,1)[0]:null},Rue=t=>{const s={...t,id:Date.now(),createdDate:new Date().toLocaleDateString(),status:"Active"};return es.centers.push(s),s},Oue=t=>{const s=es.centers.findIndex(r=>r.id===t);return s!==-1?es.centers.splice(s,1)[0]:null},Iue=t=>{const s={...t,id:`INV-${String(es.invoiceData.length+1).padStart(3,"0")}`};return es.invoiceData.push(s),s},oM=()=>es.supplierBills,Bue=t=>{const s={...t,id:Date.now(),billNumber:`SB-${String(es.supplierBills.length+1).padStart(3,"0")}`};return es.supplierBills.push(s),s},n2=()=>es.suppliers,zue=()=>es.payments,$ue=t=>{const s={...t,id:Date.now(),paymentId:`PAY-${String(es.payments.length+1).padStart(3,"0")}`};return es.payments.push(s),s},Uue=()=>es.advancePayments,Vue=t=>{const s={...t,id:Date.now(),advanceId:`ADV-${String(es.advancePayments.length+1).padStart(3,"0")}`};return es.advancePayments.push(s),s},que=()=>es.deposits,Hue=t=>{const s={...t,id:Date.now(),depositId:`DEP-${String(es.deposits.length+1).padStart(3,"0")}`};return es.deposits.push(s),s},Wue=()=>es.receipts,Gue=t=>{const s={...t,id:Date.now(),receiptId:`RCP-${String(es.receipts.length+1).padStart(3,"0")}`};return es.receipts.push(s),s},lM=()=>es.utilityBills,Yue=t=>{const s={...t,id:Date.now()};return es.utilityBills.push(s),s},Kue=()=>es.utilityProviders,Xue=()=>es.utilityBillPayments,Que=t=>{const s={...t,id:Date.now(),paymentId:`UBPAY-${String(es.utilityBillPayments.length+1).padStart(3,"0")}`};return es.utilityBillPayments.push(s),s},Jue=()=>es.journalEntries,Zue=t=>{const s={...t,id:Date.now()};return es.journalEntries.push(s),s},eme=()=>es.pettyCashTransactions,tme=t=>{const s={...t,id:Date.now()};return es.pettyCashTransactions.push(s),s},sme=()=>{const t=es.pettyCashTransactions;let s=0;return t.forEach(r=>{r.status==="Approved"&&(r.transactionType==="Replenishment"?s+=r.amount:r.transactionType==="Expense"?s-=r.amount:r.transactionType==="Return"&&(s+=r.amount))}),s},rme=()=>es.cheques,ame=t=>{const s={...t,id:Date.now()};return es.cheques.push(s),s};Zp.register($b,Ub,tp,qd,sp,KE,QE,GE,O$);const Y5=()=>{const[t,s]=N.useState({width:typeof window<"u"?window.innerWidth:1200,height:typeof window<"u"?window.innerHeight:800});return N.useEffect(()=>{const r=()=>{s({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",r),r(),()=>window.removeEventListener("resize",r)},[]),{isMobile:t.width<768,isTablet:t.width>=768&&t.width<1024,isDesktop:t.width>=1024,windowSize:t}},yA=({children:t,className:s="",maxWidth:r="max-w-7xl",padding:a="px-4 sm:px-6 lg:px-8"})=>e.jsx("div",{className:`mx-auto ${r} ${a} ${s}`,children:t}),Tb=({children:t,cols:s="grid-cols-1",gap:r="gap-4 sm:gap-6",className:a=""})=>e.jsx("div",{className:`grid ${s} ${r} ${a}`,children:t}),vm=({children:t,className:s="",padding:r="p-4 sm:p-6"})=>e.jsx("div",{className:`bg-white rounded-xl shadow-sm ${r} ${s}`,children:t}),nb=({title:t,value:s,change:r,icon:a,color:n})=>{var o,l,d;const i={blue:{border:"border-blue-500",bg:"bg-blue-100",text:"text-blue-600"},green:{border:"border-green-500",bg:"bg-green-100",text:"text-green-600"},red:{border:"border-red-500",bg:"bg-red-100",text:"text-red-600"},purple:{border:"border-purple-500",bg:"bg-purple-100",text:"text-purple-600"}};return e.jsx(vm,{className:`border-l-4 ${(o=i[n])==null?void 0:o.border}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-gray-500 text-sm font-medium truncate",children:t}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold mt-1 truncate",children:s}),e.jsxs("p",{className:`text-xs sm:text-sm mt-2 ${r>=0?"text-green-500":"text-red-500"}`,children:[r>=0?"+":"",r,"% from last month"]})]}),e.jsx("div",{className:`p-2 sm:p-3 rounded-full ml-4 flex-shrink-0 ${(l=i[n])==null?void 0:l.bg}`,children:e.jsx("i",{"data-feather":a,className:`w-4 h-4 sm:w-5 sm:h-5 ${(d=i[n])==null?void 0:d.text}`})})]})})},bA=({type:t})=>{const s=Cue(),r=Y5(),a={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:t!=="income",position:"top"}},scales:{y:{beginAtZero:!0,grid:{display:!0,drawBorder:!1},ticks:{font:{size:r.isMobile?10:12}}},x:{grid:{display:!1,drawBorder:!1},ticks:{font:{size:r.isMobile?10:12}}}}};return e.jsxs(vm,{children:[e.jsx("h3",{className:"font-semibold text-lg mb-4",children:t==="income"?"Income Trend":"Revenue vs Expenses"}),e.jsx("div",{className:"chart-container",style:{height:r.isMobile?"250px":"300px"},children:t==="income"?e.jsx(cU,{data:s.incomeData,options:a}):e.jsx(t8,{data:s.revenueExpensesData,options:a})})]})},nme=()=>{const t=[{id:1,name:"Office Supplies",date:"Today, 10:45 AM",amount:"-$245.50",category:"expense",status:"completed"},{id:2,name:"Client Payment",date:"Today, 09:30 AM",amount:"$1,500.00",category:"income",status:"completed"},{id:3,name:"Software Subscription",date:"Yesterday, 3:45 PM",amount:"-$99.00",category:"expense",status:"completed"},{id:4,name:"Consulting Fee",date:"Yesterday, 11:20 AM",amount:"$750.00",category:"income",status:"pending"},{id:5,name:"Marketing Services",date:"Jul 28, 2023",amount:"-$1,200.00",category:"expense",status:"completed"}];return e.jsxs(vm,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Recent Transactions"}),e.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800 whitespace-nowrap",children:"View All"})]}),e.jsx("div",{className:"space-y-3 sm:space-y-4",children:t.map(s=>e.jsxs("div",{className:"flex justify-between items-start sm:items-center pb-3 sm:pb-4 border-b border-gray-100 last:border-0 last:pb-0",children:[e.jsxs("div",{className:"flex items-start min-w-0 flex-1",children:[e.jsx("div",{className:`p-2 rounded-full mr-3 mt-1 flex-shrink-0 ${s.category==="income"?"bg-green-100":"bg-red-100"}`,children:e.jsx("i",{"data-feather":s.category==="income"?"dollar-sign":"shopping-bag",className:`w-3 h-3 sm:w-4 sm:h-4 ${s.category==="income"?"text-green-600":"text-red-600"}`})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:s.name}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-0.5",children:s.date})]})]}),e.jsxs("div",{className:"text-right ml-2 flex-shrink-0",children:[e.jsx("p",{className:`font-medium text-sm sm:text-base whitespace-nowrap ${s.category==="income"?"text-green-600":"text-red-600"}`,children:s.amount}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full whitespace-nowrap ${s.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:s.status})]})]},s.id))})]})},ime=()=>{const t=[{name:"Business Checking",number:"****4532",balance:"$25,430.50",color:"blue"},{name:"Savings Account",number:"****7854",balance:"$42,100.00",color:"green"},{name:"Credit Card",number:"****9012",balance:"-$3,245.75",color:"red"}],s={blue:{bg:"bg-blue-100",text:"text-blue-600"},green:{bg:"bg-green-100",text:"text-green-600"},red:{bg:"bg-red-100",text:"text-red-600"}};return e.jsxs(vm,{children:[e.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Account Balances"}),e.jsx("div",{className:"space-y-3 sm:space-y-4",children:t.map((r,a)=>{var n,i;return e.jsxs("div",{className:"flex justify-between items-start sm:items-center pb-3 sm:pb-4 border-b border-gray-100 last:border-0 last:pb-0",children:[e.jsxs("div",{className:"flex items-start min-w-0 flex-1",children:[e.jsx("div",{className:`p-2 rounded-full mr-3 mt-1 flex-shrink-0 ${(n=s[r.color])==null?void 0:n.bg}`,children:e.jsx("i",{"data-feather":r.color==="red"?"credit-card":"dollar-sign",className:`w-3 h-3 sm:w-4 sm:h-4 ${(i=s[r.color])==null?void 0:i.text}`})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:r.name}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-0.5",children:r.number})]})]}),e.jsx("p",{className:`font-medium text-sm sm:text-base whitespace-nowrap ml-2 ${r.color==="red"?"text-red-600":"text-gray-800"}`,children:r.balance})]},a)})})]})},ome=({onNavigate:t})=>{const s=[{icon:"plus",title:"New Invoice",color:"blue",action:"invoices"},{icon:"file-text",title:"Create Bill",color:"red",action:"expenses"},{icon:"dollar-sign",title:"Record Payment",color:"green",action:"transactionsList"},{icon:"upload",title:"Import Data",color:"purple",action:"accountingSettings"}],r={blue:{bg:"bg-blue-50",hover:"hover:bg-blue-100",iconBg:"bg-blue-100",text:"text-blue-600"},red:{bg:"bg-red-50",hover:"hover:bg-red-100",iconBg:"bg-red-100",text:"text-red-600"},green:{bg:"bg-green-50",hover:"hover:bg-green-100",iconBg:"bg-green-100",text:"text-green-600"},purple:{bg:"bg-purple-50",hover:"hover:bg-purple-100",iconBg:"bg-purple-100",text:"text-purple-600"}};return e.jsxs(vm,{children:[e.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Quick Actions"}),e.jsx("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:s.map((a,n)=>{var i,o,l,d;return e.jsxs("button",{onClick:()=>t&&t(a.action),className:`flex flex-col items-center justify-center p-3 sm:p-4 rounded-lg ${(i=r[a.color])==null?void 0:i.bg} ${(o=r[a.color])==null?void 0:o.hover} transition-colors`,children:[e.jsx("div",{className:`p-2 sm:p-3 rounded-full mb-2 ${(l=r[a.color])==null?void 0:l.iconBg}`,children:e.jsx("i",{"data-feather":a.icon,className:`w-4 h-4 sm:w-5 sm:h-5 ${(d=r[a.color])==null?void 0:d.text}`})}),e.jsx("span",{className:"text-xs sm:text-sm font-medium text-center leading-tight",children:a.title})]},n)})})]})},lme=()=>e.jsxs(vm,{children:[e.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Financial Summary"}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 text-sm sm:text-base",children:"Total Assets"}),e.jsx("span",{className:"font-medium text-sm sm:text-base",children:"$100,000.00"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 text-sm sm:text-base",children:"Total Liabilities"}),e.jsx("span",{className:"font-medium text-sm sm:text-base",children:"$50,000.00"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 text-sm sm:text-base",children:"Net Worth"}),e.jsx("span",{className:"font-medium text-sm sm:text-base",children:"$50,000.00"})]}),e.jsxs("div",{className:"flex justify-between items-center pt-3 sm:pt-4 border-t border-gray-100",children:[e.jsx("span",{className:"text-gray-600 text-sm sm:text-base",children:"This Month Income"}),e.jsx("span",{className:"font-medium text-green-600 text-sm sm:text-base",children:"$10,000.00"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 text-sm sm:text-base",children:"This Month Expenses"}),e.jsx("span",{className:"font-medium text-red-600 text-sm sm:text-base",children:"$4,500.00"})]}),e.jsxs("div",{className:"flex justify-between items-center pt-3 sm:pt-4 border-t border-gray-100",children:[e.jsx("span",{className:"text-gray-600 text-sm sm:text-base",children:"Net Income"}),e.jsx("span",{className:"font-medium text-blue-600 text-sm sm:text-base",children:"$5,500.00"})]})]})]}),cme=({onNavigate:t})=>{const s=Y5(),r=[{title:"Management",items:[{name:"Customer Management",icon:"users",action:"customer",description:"Manage customers and client information"},{name:"Center Management",icon:"home",action:"center",description:"Manage business centers"}]},{title:"Chart of Accounts",items:[{name:"Account List",icon:"list",action:"accountList",description:"View and manage all accounts"},{name:"Supplier Enter Bill",icon:"file-text",action:"supplierEnterBill",description:"Create bills for suppliers"},{name:"Payment",icon:"dollar-sign",action:"payment",description:"Record payments to suppliers"},{name:"Advance Payment",icon:"credit-card",action:"advancePayment",description:"Manage advance payments"},{name:"Make Deposit",icon:"trending-up",action:"makeDeposit",description:"Record deposits to bank accounts"},{name:"Receipt",icon:"receipt",action:"receipt",description:"Record customer receipts"},{name:"Create Utility Bill",icon:"zap",action:"createUtilityBill",description:"Create utility bills"},{name:"Utility Bill Payment",icon:"check-circle",action:"utilityBillPayment",description:"Pay utility bills"},{name:"Journal Entry",icon:"book-open",action:"journalEntry",description:"Create manual journal entries"},{name:"Petty Cash",icon:"piggy-bank",action:"pettyCash",description:"Manage petty cash transactions"},{name:"Cheque",icon:"file-minus",action:"cheque",description:"Manage cheque transactions"},{name:"Bank Reconciliation",icon:"refresh-cw",action:"bankReconciliation",description:"Reconcile bank statements"}]},{title:"Transactions",items:[{name:"Transaction List",icon:"file-text",action:"transactionsList",description:"View all transactions"},{name:"Invoices",icon:"file",action:"invoices",description:"Create and manage invoices"},{name:"Sales Orders",icon:"shopping-cart",action:"salesOrder",description:"Manage sales orders"},{name:"Sales Return",icon:"rotate-ccw",action:"salesReturn",description:"Process sales returns"},{name:"GRN",icon:"truck",action:"grn",description:"Goods Received Notes"},{name:"Purchase Return",icon:"arrow-left-circle",action:"purchaseReturn",description:"Process purchase returns"},{name:"Purchase Orders",icon:"shopping-bag",action:"purchaseOrder",description:"Manage purchase orders"},{name:"Stock Transfer",icon:"refresh-cw",action:"stockTransfer",description:"Transfer stock between locations"},{name:"Stock Verification",icon:"check-square",action:"stockVerification",description:"Verify stock levels"}]},{title:"Finance Reports",items:[{name:"Trial Balance",icon:"bar-chart-2",action:"trialBalance",description:"View trial balance reports"},{name:"Income Statement",icon:"trending-up",action:"incomeStatement",description:"Profit and loss statements"},{name:"Balance Sheet",icon:"pie-chart",action:"balanceSheet",description:"Assets, liabilities & equity"},{name:"Cash Flow Statement",icon:"dollar-sign",action:"cashFlowStatement",description:"Cash flow analysis"}]},{title:"Other",items:[{name:"Ledger",icon:"book",action:"ledger",description:"General ledger entries"},{name:"Expenses",icon:"credit-card",action:"expenses",description:"Manage business expenses"},{name:"Settings",icon:"settings",action:"accountingSettings",description:"Configure accounting settings"}]}];return e.jsx("div",{className:"space-y-6 sm:space-y-8",children:r.map((a,n)=>e.jsxs(vm,{className:"p-4 sm:p-6",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6",children:a.title}),e.jsx(Tb,{cols:s.isMobile?"grid-cols-1":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",gap:"gap-3 sm:gap-4",children:a.items.map((i,o)=>e.jsxs("button",{onClick:()=>t&&t(i.action),className:"flex items-start p-3 sm:p-4 bg-gray-50 rounded-lg hover:bg-blue-50 hover:shadow-md transition-all duration-200 group text-left w-full",children:[e.jsx("div",{className:"flex-shrink-0 mr-3",children:e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg group-hover:bg-blue-200 transition-colors",children:e.jsx("i",{"data-feather":i.icon,className:"text-blue-600 w-4 h-4 sm:w-5 sm:h-5"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-sm sm:text-base text-gray-900 group-hover:text-blue-900 truncate",children:i.name}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:i.description})]})]},o))})]},n))})},dme=({setActiveItem:t})=>{const s=Y5();N.useEffect(()=>{cue.replace()},[]);const r=a=>{t&&t(a)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm",children:e.jsx(yA,{className:"py-4 sm:py-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 truncate",children:"Accounting Dashboard"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1 truncate",children:"Overview of your accounting system and quick access to all modules"})]}),e.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[e.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx("i",{"data-feather":"bell",className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-blue-500 flex items-center justify-center text-white font-medium mr-2 flex-shrink-0",children:"JD"}),e.jsx("span",{className:"text-sm sm:text-base font-medium hidden sm:block",children:"John Doe"})]})]})]})})}),e.jsx("main",{children:e.jsxs(yA,{className:"py-4 sm:py-6",children:[e.jsx(vm,{className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white mb-6 sm:mb-8 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold mb-2",children:"Welcome to Accounting"}),e.jsx("p",{className:"text-blue-100 text-sm sm:text-base",children:"Manage your financial operations efficiently with our comprehensive accounting tools"})]}),e.jsx("div",{className:"hidden sm:block flex-shrink-0",children:e.jsx("i",{"data-feather":"bar-chart-2",className:"w-12 h-12 sm:w-16 sm:h-16 text-blue-200"})})]})}),e.jsxs(Tb,{cols:s.isMobile?"grid-cols-1":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",gap:"gap-4 sm:gap-6",className:"mb-6 sm:mb-8",children:[e.jsx(nb,{title:"Total Revenue",value:"$25,430",change:12.5,icon:"dollar-sign",color:"green"}),e.jsx(nb,{title:"Total Expenses",value:"$12,450",change:8.3,icon:"trending-down",color:"red"}),e.jsx(nb,{title:"Net Profit",value:"$12,980",change:15.2,icon:"bar-chart-2",color:"blue"}),e.jsx(nb,{title:"Cash Flow",value:"$8,750",change:5.7,icon:"repeat",color:"purple"})]}),e.jsxs(Tb,{cols:s.isDesktop?"grid-cols-1 lg:grid-cols-2":"grid-cols-1",gap:"gap-6 sm:gap-8",className:"mb-6 sm:mb-8",children:[e.jsx(bA,{type:"income"}),e.jsx(bA,{type:"revenue-expenses"})]}),e.jsx(cme,{onNavigate:r}),e.jsxs(Tb,{cols:s.isDesktop?"grid-cols-1 lg:grid-cols-3":"grid-cols-1",gap:"gap-6 sm:gap-8",className:"mt-6 sm:mt-8",children:[e.jsx("div",{className:s.isDesktop?"lg:col-span-2":"",children:e.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[e.jsx(nme,{}),e.jsx(ome,{onNavigate:r})]})}),e.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[e.jsx(ime,{}),e.jsx(lme,{})]})]})]})})]})},ume=()=>e.jsxs("div",{className:"chart-of-accounts",children:[e.jsx("h1",{children:"Chart of Accounts"}),e.jsx("p",{children:"Manage Assets, Liabilities, Equity, Income, Expenses."}),e.jsxs("ul",{children:[e.jsx("li",{children:"Assets"}),e.jsx("li",{children:"Liabilities"}),e.jsx("li",{children:"Equity"}),e.jsx("li",{children:"Income"}),e.jsx("li",{children:"Expenses"})]})]}),mme=async()=>{try{return(await Ze.get("/accounts")).data}catch(t){throw console.error("Error fetching accounts:",t),t}},hme=async t=>{try{const s={...t,user_id:1};return(await Ze.post("/accounts",s)).data}catch(s){throw console.error("Error creating account:",s),s}},xme=async(t,s)=>{try{return(await Ze.put(`/accounts/${t}`,s)).data}catch(r){throw console.error("Error updating account:",r),r}},fme=async t=>{try{return(await Ze.delete(`/accounts/${t}`)).data}catch(s){throw console.error("Error deleting account:",s),s}},cM=async t=>{try{return(await Ze.post("/account-groups",{accountGroup:t})).data}catch(s){throw console.error("Error creating account group:",s),s}},pme=async()=>{try{return(await Ze.get("/account-groups")).data}catch(t){throw console.error("Error fetching account groups:",t),t}},dM=["EQUITY","EXPENSES","LIABILITIES","INCOME","ASSETS"],tx=t=>{switch(t){case"ASSETS":return["Bank Accounts","Cash On Hand","Accounts Receivables","Fixed Assets","Inventory"];case"LIABILITIES":return{"Current Liabilities":["Accounts Payable","Credit Card Payables","Accrued Liabilities","Customer Deposits"],"Long-term Liabilities":["Notes Payable"]};case"EQUITY":return["Common Stock","Retained Earnings","Shareholders' Equity","Draws"];case"INCOME":return["Sales","Interest Income"];case"EXPENSES":return["Cost Of Goods Sold(COGS)","Depreciation Expense","Other Expenses"];default:return[]}},gme=({isOpen:t,onClose:s,onSave:r,editAccount:a=null})=>{const[n,i]=N.useState({accountNumber:"",accountName:"",accountType:"",accountSubCategory:"",accountGroup:"",openingBalance:""}),[o,l]=N.useState([]),[d,u]=N.useState(!1);N.useEffect(()=>{i(a?{accountNumber:a.accountNumber||"",accountName:a.accountName||"",accountType:a.accountType||"",accountSubCategory:a.accountSubCategory||"",accountGroup:a.accountGroup||"",openingBalance:a.openingBalance||""}:{accountNumber:"",accountName:"",accountType:"",accountSubCategory:"",accountGroup:"",openingBalance:""}),t&&(async()=>{try{u(!0);const g=await pme();l(g)}catch(g){console.error("Failed to fetch account groups:",g),alert("Failed to load account groups")}finally{u(!1)}})()},[a,t]);const h=p=>{i({...n,accountType:p,accountSubCategory:""})},f=p=>{p.preventDefault(),n.accountName&&n.accountType&&n.accountSubCategory&&(r({...n,id:a?a.id:Date.now(),openingBalance:parseFloat(n.openingBalance)||0}),s())};return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 md:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg md:text-xl font-semibold text-gray-900",children:a?"Edit Chart of Account":"Create Chart of Account"}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 p-1",children:e.jsx(zt,{className:"h-5 w-5 md:h-6 md:w-6"})})]})}),e.jsxs("form",{onSubmit:f,className:"p-4 md:p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chart of Account Name"}),e.jsx("input",{type:"text",value:n.accountName,onChange:p=>i({...n,accountName:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-0 text-sm md:text-base",placeholder:"Enter account name",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Category"}),e.jsxs("select",{value:n.accountType,onChange:p=>h(p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-0 text-sm md:text-base",required:!0,children:[e.jsx("option",{value:"",children:"Select Account Type"}),dM.map(p=>e.jsx("option",{value:p,children:p},p))]})]}),n.accountType&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Sub Category"}),e.jsxs("select",{value:n.accountSubCategory,onChange:p=>i({...n,accountSubCategory:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-0 text-sm md:text-base",required:!0,children:[e.jsx("option",{value:"",children:"Select Sub Category"}),n.accountType==="LIABILITIES"?e.jsxs(e.Fragment,{children:[e.jsx("optgroup",{label:"Current Liabilities",children:tx("LIABILITIES")["Current Liabilities"].map(p=>e.jsx("option",{value:p,children:p},p))}),e.jsx("optgroup",{label:"Long-term Liabilities",children:tx("LIABILITIES")["Long-term Liabilities"].map(p=>e.jsx("option",{value:p,children:p},p))})]}):tx(n.accountType).map(p=>e.jsx("option",{value:p,children:p},p))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Group"}),e.jsxs("select",{value:n.accountGroup,onChange:p=>i({...n,accountGroup:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-0 text-sm md:text-base",disabled:d,children:[e.jsx("option",{value:"",children:d?"Loading...":"Select Account Group"}),o.map(p=>e.jsx("option",{value:p.id,children:p.accountGroup},p.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Opening Balance"}),e.jsx("input",{type:"number",step:"0.01",value:n.openingBalance,onChange:p=>i({...n,openingBalance:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-0 text-sm md:text-base",placeholder:"Enter opening balance",disabled:!!a})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 text-sm md:text-base",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-sm md:text-base",children:a?"Update":"Create"})]})]})]})}):null},yme=({isOpen:t,onClose:s,onSave:r})=>{const[a,n]=N.useState({accountType:"",accountCategoryName:""});N.useEffect(()=>{t||n({accountType:"",accountCategoryName:""})},[t]);const i=l=>{n({...a,accountType:l,accountSubCategory:""})},o=l=>{l.preventDefault(),a.accountType&&a.accountCategoryName&&(r({...a,id:Date.now()}),s())};return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 md:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg md:text-xl font-semibold text-gray-900",children:"Create Account Category"}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 p-1",children:e.jsx(zt,{className:"h-5 w-5 md:h-6 md:w-6"})})]})}),e.jsxs("form",{onSubmit:o,className:"p-4 md:p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Category"}),e.jsxs("select",{value:a.accountType,onChange:l=>i(l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-0 text-sm md:text-base",required:!0,children:[e.jsx("option",{value:"",children:"Select Account Type"}),dM.map(l=>e.jsx("option",{value:l,children:l},l))]})]}),a.accountType&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Sub Category"}),e.jsxs("select",{value:a.accountSubCategory,onChange:l=>n({...a,accountSubCategory:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-0 text-sm md:text-base",required:!0,children:[e.jsx("option",{value:"",children:"Select Sub Category"}),a.accountType==="LIABILITIES"?e.jsxs(e.Fragment,{children:[e.jsx("optgroup",{label:"Current Liabilities",children:tx("LIABILITIES")["Current Liabilities"].map(l=>e.jsx("option",{value:l,children:l},l))}),e.jsx("optgroup",{label:"Long-term Liabilities",children:tx("LIABILITIES")["Long-term Liabilities"].map(l=>e.jsx("option",{value:l,children:l},l))})]}):tx(a.accountType).map(l=>e.jsx("option",{value:l,children:l},l))]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 text-sm md:text-base",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-sm md:text-base",children:"Create"})]})]})]})}):null},bme=({isOpen:t,onClose:s,onSave:r})=>{const[a,n]=N.useState({accountGroupName:""});N.useEffect(()=>{t||n({accountGroupName:""})},[t]);const i=o=>{o.preventDefault();try{cM(a.accountGroupName.trim()),alert("Group create Successfull"),s()}catch(l){console.log(l)}};return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 md:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg md:text-xl font-semibold text-gray-900",children:"Create Account Group"}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 p-1",children:e.jsx(zt,{className:"h-5 w-5 md:h-6 md:w-6"})})]})}),e.jsxs("form",{className:"p-4 md:p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Group Name"}),e.jsx("input",{type:"text",value:a.accountGroupName,onChange:o=>n({...a,accountGroupName:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-0 text-sm md:text-base",placeholder:"Enter group name",required:!0})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 text-sm md:text-base",children:"Cancel"}),e.jsx("button",{onClick:i,className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-sm md:text-base",children:"Create"})]})]})]})}):null},vme=()=>{const[t,s]=N.useState([]),[r,a]=N.useState(!1),[n,i]=N.useState(!1),[o,l]=N.useState(!1),[d,u]=N.useState(null),[h,f]=N.useState(!1),[p,g]=N.useState(!1);N.useEffect(()=>{v();const F=()=>{f(window.innerWidth<768)};return F(),window.addEventListener("resize",F),()=>window.removeEventListener("resize",F)},[]);const v=async()=>{try{g(!0);const F=await mme();s(F)}catch(F){console.error("Error loading accounts:",F),alert("Failed to load accounts")}finally{g(!1)}},y=async F=>{try{await hme(F),await v(),alert("Account created successfully!")}catch(V){console.error("Error creating account:",V),alert("Failed to create account")}},b=async F=>{try{await xme(F.id,F),await v(),u(null),alert("Account updated successfully!")}catch(V){console.error("Error updating account:",V),alert("Failed to update account")}},_=async F=>{if(window.confirm("Are you sure you want to delete this account?"))try{await fme(F),await v(),alert("Account deleted successfully!")}catch(V){console.error("Error deleting account:",V),alert("Failed to delete account")}},k=F=>{addAccountCategory(F),alert("Account Category created successfully!")},A=F=>{cM(F),alert("Account Group created successfully!")},R=F=>{u(F),a(!0)};return e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-2",children:"Account List"}),e.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"Manage your chart of accounts, categories, and groups"})]}),e.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-3",children:[e.jsxs("button",{onClick:()=>a(!0),className:"flex items-center justify-center gap-2 px-4 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors text-sm md:text-base",children:[e.jsx(bs,{className:"h-4 w-4"}),"Create Chart of Account"]}),e.jsxs("button",{onClick:()=>l(!0),className:"flex items-center justify-center gap-2 px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm md:text-base",children:[e.jsx(bs,{className:"h-4 w-4"}),"Create Account Group"]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:h?e.jsx("div",{className:"divide-y divide-gray-200",children:t.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(Qs,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-sm",children:"No accounts found."}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Create your first account to get started."})]}):t.map(F=>{var V;return e.jsxs("div",{className:"p-4 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 truncate",children:F.accountName}),e.jsx("p",{className:"text-xs text-gray-600",children:F.accountType})]}),e.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[e.jsx("button",{onClick:()=>R(F),className:"text-indigo-600 hover:text-indigo-900 p-1 rounded",title:"Edit Account",children:e.jsx(Gc,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>_(F.id),className:"text-red-600 hover:text-red-900 p-1 rounded",title:"Delete Account",children:e.jsx(ns,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j9,{className:"h-3 w-3 text-blue-500"}),e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:F.accountSubCategory})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ta,{className:"h-3 w-3 text-green-500"}),e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:F.accountGroup})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[e.jsx(Qs,{className:"h-3 w-3 text-gray-400"}),e.jsxs("span",{children:["$",((V=F.openingBalance)==null?void 0:V.toLocaleString())||"0.00"]})]})]})]},F.id)})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Number"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Name"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Type"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sub Category"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Group"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Opening Balance"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:6,className:"px-4 md:px-6 py-8 text-center text-gray-500",children:[e.jsx(Qs,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{children:"No accounts found. Create your first account to get started."})]})}):t.map(F=>{var V;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.accountNumber})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.accountName})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:F.accountType})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:F.accountSubCategory})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:F.accountGroup})}),e.jsxs("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",((V=F.openingBalance)==null?void 0:V.toLocaleString())||"0.00"]}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>R(F),className:"text-indigo-600 hover:text-indigo-900 p-1 rounded",title:"Edit Account",children:e.jsx(Gc,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>_(F.id),className:"text-red-600 hover:text-red-900 p-1 rounded",title:"Delete Account",children:e.jsx(ns,{className:"h-4 w-4"})})]})})]},F.id)})})]})})}),e.jsx(gme,{isOpen:r,onClose:()=>{a(!1),u(null)},onSave:d?b:y,editAccount:d}),e.jsx(yme,{isOpen:n,onClose:()=>i(!1),onSave:k}),e.jsx(bme,{isOpen:o,onClose:()=>l(!1),onSave:A})]})},wme=()=>{const[t,s]=N.useState([]),[r,a]=N.useState(!1),[n,i]=N.useState(""),[o,l]=N.useState(!1),[d,u]=N.useState({customerCategory:"",customerType:"",customerName:"",phoneNumber:"",brNumberNic:"",email:"",address:"",city:""}),h=xue(),f=fue();N.useEffect(()=>{s(a2());const b=()=>{l(window.innerWidth<768)};return b(),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]);const p=b=>{const{name:_,value:k}=b.target;u(A=>({...A,[_]:k}))},g=b=>{b.preventDefault();const _=Lue(d);s(k=>[...k,_]),u({customerCategory:"",customerType:"",customerName:"",phoneNumber:"",brNumberNic:"",email:"",address:"",city:""}),a(!1)},v=b=>{Fue(b),s(_=>_.filter(k=>k.id!==b))},y=t.filter(b=>b.customerName.toLowerCase().includes(n.toLowerCase())||b.email.toLowerCase().includes(n.toLowerCase())||b.phoneNumber.includes(n));return e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-2",children:"Customer Management"}),e.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"Manage your customer information"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[e.jsxs("div",{className:"relative w-full sm:w-auto",children:[e.jsx(or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx("input",{type:"text",placeholder:"Search customers...",value:n,onChange:b=>i(b.target.value),className:"w-full sm:w-64 pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm md:text-base"})]}),e.jsxs("button",{onClick:()=>a(!0),className:"w-full sm:w-auto bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors text-sm md:text-base",children:[e.jsx(bs,{className:"h-4 w-4"}),"Create Customer"]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:o?e.jsx("div",{className:"divide-y divide-gray-200",children:y.length===0?e.jsx("div",{className:"p-4 text-center text-gray-500",children:"No customers found"}):y.map(b=>e.jsxs("div",{className:"p-4 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 truncate",children:b.customerName}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:b.brNumberNic})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[e.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 p-1",children:e.jsx(tr,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>v(b.id),className:"text-red-600 hover:text-red-900 p-1",children:e.jsx(ns,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[e.jsx("div",{className:"bg-gray-100 px-2 py-1 rounded",children:b.customerCategory}),e.jsx("div",{className:"bg-gray-100 px-2 py-1 rounded",children:b.customerType})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[e.jsx(Yl,{className:"h-3 w-3"}),e.jsx("span",{children:b.phoneNumber})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[e.jsx(hx,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate",children:b.email})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[e.jsx(xx,{className:"h-3 w-3"}),e.jsx("span",{children:b.city})]})]})]},b.id))}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer Name"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"City"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-4 md:px-6 py-4 text-center text-gray-500",children:"No customers found"})}):y.map(b=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.customerName}),e.jsx("div",{className:"text-sm text-gray-500",children:b.brNumberNic})]}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.customerCategory}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.customerType}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.phoneNumber}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.email}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.city}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",children:e.jsx(tr,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>v(b.id),className:"text-red-600 hover:text-red-900",children:e.jsx(ns,{className:"h-4 w-4"})})]})})]},b.id))})]})})}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 md:p-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Create New Customer"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-gray-600 p-1",children:e.jsx(zt,{className:"h-5 w-5 md:h-6 md:w-6"})})]})}),e.jsxs("form",{onSubmit:g,className:"p-4 md:p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Category *"}),e.jsxs("select",{name:"customerCategory",value:d.customerCategory,onChange:p,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm md:text-base",children:[e.jsx("option",{value:"",children:"Select Category"}),h.map(b=>e.jsx("option",{value:b,children:b},b))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Type *"}),e.jsxs("select",{name:"customerType",value:d.customerType,onChange:p,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm md:text-base",children:[e.jsx("option",{value:"",children:"Select Type"}),f.map(b=>e.jsx("option",{value:b,children:b},b))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Name *"}),e.jsx("input",{type:"text",name:"customerName",value:d.customerName,onChange:p,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm md:text-base"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),e.jsx("input",{type:"tel",name:"phoneNumber",value:d.phoneNumber,onChange:p,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"BR Number/NIC *"}),e.jsx("input",{type:"text",name:"brNumberNic",value:d.brNumberNic,onChange:p,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm md:text-base"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),e.jsx("input",{type:"email",name:"email",value:d.email,onChange:p,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),e.jsx("textarea",{name:"address",value:d.address,onChange:p,required:!0,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),e.jsx("input",{type:"text",name:"city",value:d.city,onChange:p,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm md:text-base"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>a(!1),className:"w-full sm:w-auto px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors text-sm md:text-base",children:"Cancel"}),e.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors text-sm md:text-base",children:"Create Customer"})]})]})]})})]})},wm=()=>{const[t,s]=N.useState({width:typeof window<"u"?window.innerWidth:1024,height:typeof window<"u"?window.innerHeight:768}),[r,a]=N.useState(!1);N.useEffect(()=>{a(!0);const d=()=>{s({width:window.innerWidth,height:window.innerHeight})};let u;const h=()=>{clearTimeout(u),u=setTimeout(d,100)};return window.addEventListener("resize",h),d(),()=>{window.removeEventListener("resize",h),clearTimeout(u)}},[]);const n={sm:640,md:768,lg:1024,xl:1280,"2xl":1536},i=()=>{const d=t.width;return d>=n["2xl"]?"2xl":d>=n.xl?"xl":d>=n.lg?"lg":d>=n.md?"md":d>=n.sm?"sm":"xs"},o=()=>{const d=t.width;return d<n.sm?"mobile":d<n.lg?"tablet":"desktop"},l={width:t.width,height:t.height,breakpoint:i(),deviceType:o(),isClient:r,isMobile:t.width<n.sm,isTablet:t.width>=n.sm&&t.width<n.lg,isDesktop:t.width>=n.lg,isXs:t.width<n.sm,isSm:t.width>=n.sm&&t.width<n.md,isMd:t.width>=n.md&&t.width<n.lg,isLg:t.width>=n.lg&&t.width<n.xl,isXl:t.width>=n.xl&&t.width<n["2xl"],is2Xl:t.width>=n["2xl"],minSm:t.width>=n.sm,minMd:t.width>=n.md,minLg:t.width>=n.lg,minXl:t.width>=n.xl,min2Xl:t.width>=n["2xl"],maxSm:t.width<n.md,maxMd:t.width<n.lg,maxLg:t.width<n.xl,maxXl:t.width<n["2xl"],isLandscape:t.width>t.height,isPortrait:t.width<=t.height,getResponsiveValue:d=>{const u=i(),h=["xs","sm","md","lg","xl","2xl"],f=h.indexOf(u);for(let p=f;p>=0;p--){const g=h[p];if(d[g]!==void 0)return d[g]}for(const p of h)if(d[p]!==void 0)return d[p];return null},getResponsiveClasses:d=>l.getResponsiveValue(d)||"",getGridCols:(d={})=>{const h={...{xs:1,sm:2,md:3,lg:4,xl:4,"2xl":4},...d};return l.getResponsiveValue(h)},getSpacing:(d={})=>{const h={...{xs:"0.75rem",sm:"1rem",md:"1.5rem",lg:"2rem",xl:"2rem","2xl":"2.5rem"},...d};return l.getResponsiveValue(h)},getFontSize:(d={})=>{const h={...{xs:"0.875rem",sm:"1rem",md:"1.125rem",lg:"1.25rem",xl:"1.5rem","2xl":"1.875rem"},...d};return l.getResponsiveValue(h)}};return l};function jme(){return typeof window>"u"?!1:window.matchMedia("(max-width: 639px)").matches}function Nme(){return typeof window>"u"?!1:window.matchMedia("(min-width: 640px) and (max-width: 1023px)").matches}function Sme(){return typeof window>"u"?!1:window.matchMedia("(min-width: 1024px)").matches}class _me{constructor(){this.windowDimensions={width:typeof window<"u"?window.innerWidth:1024,height:typeof window<"u"?window.innerHeight:768},this.breakpoints={sm:640,md:768,lg:1024,xl:1280,"2xl":1536},this.handleResize=this.handleResize.bind(this),this.debounce=this.debounce.bind(this),typeof window<"u"&&this.setupEventListeners()}setupEventListeners(){let s;const r=()=>{clearTimeout(s),s=setTimeout(this.handleResize,100)};window.addEventListener("resize",r),this.handleResize()}handleResize(){typeof window<"u"&&(this.windowDimensions={width:window.innerWidth,height:window.innerHeight})}debounce(s,r){let a;return function(...i){const o=()=>{clearTimeout(a),s(...i)};clearTimeout(a),a=setTimeout(o,r)}}getCurrentBreakpoint(){const s=this.windowDimensions.width;return s>=this.breakpoints["2xl"]?"2xl":s>=this.breakpoints.xl?"xl":s>=this.breakpoints.lg?"lg":s>=this.breakpoints.md?"md":s>=this.breakpoints.sm?"sm":"xs"}getDeviceType(){const s=this.windowDimensions.width;return s<this.breakpoints.sm?"mobile":s<this.breakpoints.lg?"tablet":"desktop"}getResponsiveValue(s){const r=this.getCurrentBreakpoint(),a=["xs","sm","md","lg","xl","2xl"],n=a.indexOf(r);for(let i=n;i>=0;i--){const o=a[i];if(s[o]!==void 0)return s[o]}for(const i of a)if(s[i]!==void 0)return s[i];return null}getResponsive(){const s=this.getCurrentBreakpoint(),r=this.getDeviceType(),a=this.windowDimensions.width,n=this.windowDimensions.height;return{width:a,height:n,breakpoint:s,deviceType:r,isClient:typeof window<"u",isMobile:jme(),isTablet:Nme(),isDesktop:Sme(),isXs:a<this.breakpoints.sm,isSm:a>=this.breakpoints.sm&&a<this.breakpoints.md,isMd:a>=this.breakpoints.md&&a<this.breakpoints.lg,isLg:a>=this.breakpoints.lg&&a<this.breakpoints.xl,isXl:a>=this.breakpoints.xl&&a<this.breakpoints["2xl"],is2Xl:a>=this.breakpoints["2xl"],minSm:a>=this.breakpoints.sm,minMd:a>=this.breakpoints.md,minLg:a>=this.breakpoints.lg,minXl:a>=this.breakpoints.xl,min2Xl:a>=this.breakpoints["2xl"],maxSm:a<this.breakpoints.md,maxMd:a<this.breakpoints.lg,maxLg:a<this.breakpoints.xl,maxXl:a<this.breakpoints["2xl"],isLandscape:a>n,isPortrait:a<=n,getResponsiveValue:i=>this.getResponsiveValue(i),getResponsiveClasses:i=>this.getResponsiveValue(i)||"",getGridCols:(i={})=>{const l={...{xs:1,sm:2,md:3,lg:4,xl:4,"2xl":4},...i};return this.getResponsiveValue(l)},getSpacing:(i={})=>{const l={...{xs:"0.75rem",sm:"1rem",md:"1.5rem",lg:"2rem",xl:"2rem","2xl":"2.5rem"},...i};return this.getResponsiveValue(l)},getFontSize:(i={})=>{const l={...{xs:"0.875rem",sm:"1rem",md:"1.125rem",lg:"1.25rem",xl:"1.5rem","2xl":"1.875rem"},...i};return this.getResponsiveValue(l)}}}getBreakpoint(s){const r=this.getResponsive();switch(s){case"sm":return r.minSm;case"md":return r.minMd;case"lg":return r.minLg;case"xl":return r.minXl;case"2xl":return r.min2Xl;default:return!1}}getDeviceTypeInfo(){const s=this.getResponsive();return{isMobile:s.isMobile,isTablet:s.isTablet,isDesktop:s.isDesktop,deviceType:s.deviceType}}}const Cme=new _me,uM=()=>Cme.getResponsive(),jm=({children:t,title:s,subtitle:r,actions:a,className:n=""})=>(uM(),e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 truncate",children:s}),r&&e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1 truncate",children:r})]}),a&&e.jsx("div",{className:"flex items-center space-x-2 sm:space-x-3 flex-shrink-0",children:a})]})})}),e.jsx("main",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 ${n}`,children:t})]})),Pa=({children:t,className:s="",padding:r="p-4 sm:p-6",hover:a=!0})=>e.jsx("div",{className:`
      bg-white rounded-lg sm:rounded-xl shadow-sm border border-gray-200
      ${a?"hover:shadow-md transition-shadow duration-200":""}
      ${r} ${s}
    `,children:t}),Lo=({children:t,cols:s="grid-cols-1",gap:r="gap-4 sm:gap-6",className:a=""})=>e.jsx("div",{className:`grid ${s} ${r} ${a}`,children:t}),i2=({children:t,className:s="",stickyHeader:r=!1})=>e.jsx("div",{className:"overflow-x-auto -mx-4 sm:mx-0",children:e.jsx("div",{className:"inline-block min-w-full align-middle",children:e.jsx("div",{className:`overflow-hidden shadow-sm ring-1 ring-black ring-opacity-5 rounded-lg sm:rounded-xl ${s}`,children:e.jsx("table",{className:`min-w-full divide-y divide-gray-200 ${r?"sticky-header":""}`,children:t})})})}),o2=({children:t,className:s=""})=>e.jsx("thead",{className:`bg-gray-50 ${s}`,children:e.jsx("tr",{children:t})}),Zr=({children:t,className:s="",align:r="left",sortable:a=!1})=>{const n={left:"text-left",center:"text-center",right:"text-right"};return e.jsx("th",{className:`
      px-3 sm:px-6 py-3 sm:py-4 
      text-xs sm:text-sm font-medium text-gray-500 uppercase tracking-wider
      ${n[r]}
      ${a?"cursor-pointer hover:bg-gray-100":""}
      ${s}
    `,children:t})},l2=({children:t,className:s=""})=>e.jsx("tbody",{className:`bg-white divide-y divide-gray-200 ${s}`,children:t}),c2=({children:t,className:s="",clickable:r=!1,onClick:a})=>e.jsx("tr",{className:`
        hover:bg-gray-50 transition-colors duration-150
        ${r?"cursor-pointer":""}
        ${s}
      `,onClick:a,children:t}),ea=({children:t,className:s="",align:r="left",truncate:a=!1})=>{const n={left:"text-left",center:"text-center",right:"text-right"};return e.jsx("td",{className:`
      px-3 sm:px-6 py-3 sm:py-4 
      text-xs sm:text-sm text-gray-900
      ${n[r]}
      ${a?"truncate max-w-0":"whitespace-nowrap"}
      ${s}
    `,children:t})},dr=({children:t,variant:s="primary",size:r="md",className:a="",fullWidth:n=!1,loading:i=!1,disabled:o=!1,...l})=>{const d=`
    inline-flex items-center justify-center
    font-medium rounded-lg sm:rounded-xl
    transition-all duration-200
    focus:outline-none focus:ring-2 focus:ring-offset-2
    disabled:opacity-50 disabled:cursor-not-allowed
  `,u={sm:"px-3 py-1.5 sm:py-2 text-xs sm:text-sm",md:"px-4 sm:px-6 py-2 sm:py-3 text-sm sm:text-base",lg:"px-6 sm:px-8 py-3 sm:py-4 text-base sm:text-lg"},h={primary:"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500",secondary:"bg-gray-200 hover:bg-gray-300 text-gray-900 focus:ring-gray-500",success:"bg-green-600 hover:bg-green-700 text-white focus:ring-green-500",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500",warning:"bg-yellow-600 hover:bg-yellow-700 text-white focus:ring-yellow-500",outline:"border-2 border-blue-600 text-blue-600 hover:bg-blue-50 focus:ring-blue-500"};return e.jsxs("button",{className:`
        ${d}
        ${u[r]}
        ${h[s]}
        ${n?"w-full":""}
        ${a}
      `,disabled:o||i,...l,children:[i&&e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t]})},yn=({children:t,label:s,error:r,required:a=!1,className:n=""})=>e.jsxs("div",{className:`space-y-1 sm:space-y-2 ${n}`,children:[s&&e.jsxs("label",{className:"block text-sm sm:text-base font-medium text-gray-700",children:[s,a&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),t,r&&e.jsx("p",{className:"text-xs sm:text-sm text-red-600",children:r})]}),Xd=({className:t="",error:s=!1,...r})=>e.jsx("input",{className:`
        w-full px-3 sm:px-4 py-2 sm:py-3 
        border rounded-lg sm:rounded-xl 
        text-sm sm:text-base
        focus:ring-2 focus:ring-blue-500 focus:border-blue-500
        transition-all duration-200
        ${s?"border-red-500":"border-gray-300"}
        ${t}
      `,...r}),$d=({children:t,className:s="",error:r=!1,...a})=>e.jsx("select",{className:`
        w-full px-3 sm:px-4 py-2 sm:py-3 
        border rounded-lg sm:rounded-xl 
        text-sm sm:text-base
        focus:ring-2 focus:ring-blue-500 focus:border-blue-500
        transition-all duration-200
        ${r?"border-red-500":"border-gray-300"}
        ${s}
      `,...a,children:t}),kme=({className:t="",error:s=!1,rows:r=4,...a})=>e.jsx("textarea",{rows:r,className:`
        w-full px-3 sm:px-4 py-2 sm:py-3 
        border rounded-lg sm:rounded-xl 
        text-sm sm:text-base
        focus:ring-2 focus:ring-blue-500 focus:border-blue-500
        transition-all duration-200 resize-vertical
        ${s?"border-red-500":"border-gray-300"}
        ${t}
      `,...a}),mM=({children:t,isOpen:s,onClose:r,title:a,className:n="",size:i="md",...o})=>{if(!s)return null;const l={sm:"max-w-md",md:"max-w-lg sm:max-w-xl lg:max-w-2xl",lg:"max-w-xl sm:max-w-2xl lg:max-w-4xl xl:max-w-6xl",full:"max-w-full mx-4"};return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:r}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen",children:""}),e.jsxs("div",{className:`
            inline-block align-bottom bg-white rounded-lg sm:rounded-xl 
            text-left overflow-hidden shadow-xl transform transition-all 
            sm:my-8 sm:align-middle w-full
            ${l[i]}
            ${n}
          `,...o,children:[a&&e.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:a}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsx("div",{className:"px-4 sm:px-6 py-4 sm:py-6",children:t})]})]})})},hM=({size:t="md",className:s=""})=>{const r={sm:"h-6 w-6",md:"h-8 w-8 sm:h-12 sm:w-12",lg:"h-12 w-12 sm:h-16 sm:w-16"};return e.jsx("div",{className:`flex items-center justify-center ${s}`,children:e.jsx("div",{className:`animate-spin rounded-full border-b-2 border-blue-600 ${r[t]}`})})},qc=({children:t,variant:s="default",size:r="md",className:a=""})=>{const n={sm:"px-2 py-1 text-xs",md:"px-2 sm:px-3 py-1 text-xs sm:text-sm",lg:"px-3 sm:px-4 py-1 sm:py-2 text-sm sm:text-base"},i={default:"bg-gray-100 text-gray-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"};return e.jsx("span",{className:`
      inline-flex items-center rounded-full font-medium
      ${n[r]}
      ${i[s]}
      ${a}
    `,children:t})},Ame=({children:t,variant:s="info",title:r,className:a="",onClose:n})=>{const i={info:"bg-blue-50 border-blue-200 text-blue-800",success:"bg-green-50 border-green-200 text-green-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",danger:"bg-red-50 border-red-200 text-red-800"};return e.jsx("div",{className:`
      border rounded-lg sm:rounded-xl p-4 sm:p-6
      ${i[s]}
      ${a}
    `,children:e.jsxs("div",{className:"flex items-start",children:[e.jsxs("div",{className:"flex-1",children:[r&&e.jsx("h4",{className:"text-sm sm:text-base font-medium mb-1",children:r}),e.jsx("div",{className:"text-sm sm:text-base",children:t})]}),n&&e.jsx("button",{onClick:n,className:"ml-4 text-current opacity-50 hover:opacity-100 focus:outline-none",children:e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})},Eme=()=>{const t=wm(),[s,r]=N.useState([]),[a,n]=N.useState(!1),[i,o]=N.useState(""),[l,d]=N.useState(!1),[u,h]=N.useState({centerName:""});N.useEffect(()=>{r(pue())},[]);const f=b=>{const{name:_,value:k}=b.target;h(A=>({...A,[_]:k}))},p=b=>{b.preventDefault(),d(!0),setTimeout(()=>{const _=Rue(u);r(k=>[...k,_]),h({centerName:""}),n(!1),d(!1)},500)},g=b=>{Oue(b),r(_=>_.filter(k=>k.id!==b))},v=s.filter(b=>b.centerName.toLowerCase().includes(i.toLowerCase())),y=e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative flex-1 sm:flex-initial",children:[e.jsx(or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(Xd,{type:"text",placeholder:"Search centers...",value:i,onChange:b=>o(b.target.value),className:"pl-10 w-full sm:w-64"})]}),e.jsxs(dr,{variant:"primary",size:t.isMobile?"sm":"md",onClick:()=>n(!0),children:[e.jsx(bs,{className:"h-4 w-4"}),t.isMobile?"":"Create Center"]})]});return e.jsxs(jm,{title:"Center Management",subtitle:"Manage your business centers",actions:y,children:[v.length===0?e.jsxs(Pa,{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(bs,{className:"h-12 w-12 mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Centers Found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by creating your first center"}),e.jsxs(dr,{variant:"primary",onClick:()=>n(!0),children:[e.jsx(bs,{className:"h-4 w-4"}),"Create Center"]})]}):t.isMobile?e.jsx("div",{className:"space-y-4",children:v.map(b=>e.jsxs(Pa,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 truncate mb-2",children:b.centerName}),e.jsx(qc,{variant:b.status==="Active"?"success":"danger",size:"sm",children:b.status})]}),e.jsxs("div",{className:"ml-4 flex space-x-2 flex-shrink-0",children:[e.jsx(dr,{variant:"outline",size:"sm",children:e.jsx(tr,{className:"h-3 w-3"})}),e.jsx(dr,{variant:"danger",size:"sm",onClick:()=>g(b.id),children:e.jsx(ns,{className:"h-3 w-3"})})]})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Created: ",b.createdDate]})]},b.id))}):e.jsxs("div",{className:"space-y-8",children:[e.jsx(Lo,{cols:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",gap:"gap-4 sm:gap-6",children:v.map(b=>e.jsxs(Pa,{className:"p-4 sm:p-6 hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"flex justify-between items-start mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:b.centerName}),e.jsx(qc,{variant:b.status==="Active"?"success":"danger",size:"sm",className:"mb-2",children:b.status}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Created: ",b.createdDate]})]})}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t border-gray-100",children:[e.jsx(dr,{variant:"outline",size:"sm",children:e.jsx(tr,{className:"h-4 w-4"})}),e.jsx(dr,{variant:"danger",size:"sm",onClick:()=>g(b.id),children:e.jsx(ns,{className:"h-4 w-4"})})]})]},b.id))}),e.jsxs(Pa,{className:"mt-8",children:[e.jsx("div",{className:"px-4 sm:px-6 py-4 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Centers List"})}),e.jsxs(i2,{children:[e.jsxs(o2,{children:[e.jsx(Zr,{children:"Center Name"}),e.jsx(Zr,{children:"Status"}),e.jsx(Zr,{children:"Created Date"}),e.jsx(Zr,{children:"Actions"})]}),e.jsx(l2,{children:v.map(b=>e.jsxs(c2,{children:[e.jsx(ea,{children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.centerName})}),e.jsx(ea,{children:e.jsx(qc,{variant:b.status==="Active"?"success":"danger",size:"sm",children:b.status})}),e.jsx(ea,{children:b.createdDate}),e.jsx(ea,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(dr,{variant:"outline",size:"sm",children:e.jsx(tr,{className:"h-4 w-4"})}),e.jsx(dr,{variant:"danger",size:"sm",onClick:()=>g(b.id),children:e.jsx(ns,{className:"h-4 w-4"})})]})})]},b.id))})]})]})]}),e.jsx(mM,{isOpen:a,onClose:()=>n(!1),title:"Create New Center",size:"md",children:e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsx(yn,{label:"Center Name",required:!0,children:e.jsx(Xd,{type:"text",name:"centerName",value:u.centerName,onChange:f,placeholder:"Enter center name",required:!0})}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4 pt-4",children:[e.jsx(dr,{type:"button",variant:"secondary",onClick:()=>n(!1),fullWidth:t.isMobile,children:"Cancel"}),e.jsx(dr,{type:"submit",variant:"primary",loading:l,disabled:l,fullWidth:t.isMobile,children:"Create Center"})]})]})})]})},vA=()=>{const[t,s]=N.useState([]),[r,a]=N.useState([]),[n,i]=N.useState(""),[o,l]=N.useState("all"),[d,u]=N.useState(""),[h,f]=N.useState(1),[p]=N.useState(10),[g,v]=N.useState(!1),[y,b]=N.useState(!1),[_,k]=N.useState({date:"",description:"",debit:0,credit:0,account:""});N.useEffect(()=>{A();const w=()=>{b(window.innerWidth<768)};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]),N.useEffect(()=>{R()},[t,n,o,d]);const A=()=>{const w=uue();s(w)},R=()=>{let w=[...t];n&&(w=w.filter(E=>E.description.toLowerCase().includes(n.toLowerCase())||E.account.toLowerCase().includes(n.toLowerCase()))),d&&(w=w.filter(E=>E.date===d)),a(w)},F=()=>{if(_.description&&_.account){const w={..._,id:Date.now(),date:_.date||new Date().toISOString().split("T")[0],debit:parseFloat(_.debit)||0,credit:parseFloat(_.credit)||0};kue(w),A(),k({date:"",description:"",debit:0,credit:0,account:""}),v(!1)}},V=()=>r.reduce((w,E)=>w+E.debit,0),S=()=>r.reduce((w,E)=>w+E.credit,0),L=h*p,I=L-p,B=r.slice(I,L),T=Math.ceil(r.length/p);return e.jsxs("div",{className:"p-4 sm:p-6 bg-gray-50 min-h-screen",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Transaction List"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage your financial transactions and journal entries"})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 flex flex-col sm:flex-row gap-3",children:[e.jsxs("button",{onClick:()=>v(!0),className:"bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2 transition-colors text-sm sm:text-base",children:[e.jsx(bs,{className:"h-4 w-4"}),"Add Transaction"]}),e.jsxs("button",{className:"bg-green-600 text-white px-4 py-3 rounded-lg hover:bg-green-700 flex items-center justify-center gap-2 transition-colors text-sm sm:text-base",children:[e.jsx(Mn,{className:"h-4 w-4"}),"Export"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Debits"}),e.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:["$",V().toFixed(2)]})]}),e.jsx(Qs,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Credits"}),e.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-red-600",children:["$",S().toFixed(2)]})]}),e.jsx(Qs,{className:"h-6 w-6 sm:h-8 sm:w-8 text-red-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Transactions"}),e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-600",children:t.length})]}),e.jsx(xs,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-600"})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(or,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search transactions...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base",value:n,onChange:w=>i(w.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsx("input",{type:"date",className:"px-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base",value:d,onChange:w=>u(w.target.value)})}),e.jsx("div",{children:e.jsx("button",{onClick:()=>{i(""),u(""),l("all")},className:"px-4 py-2 w-full border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm sm:text-base",children:"Clear Filters"})})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[y?e.jsx("div",{className:"divide-y divide-gray-200",children:B.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(xs,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-sm",children:"No transactions found."}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Create your first transaction to get started."})]}):B.map(w=>e.jsxs("div",{className:"p-4 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ys,{className:"h-4 w-4 text-blue-500"}),e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:new Date(w.date).toLocaleDateString()})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:w.description}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx(xs,{className:"h-3 w-3"}),e.jsx("span",{children:w.account})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900 p-1",children:e.jsx(Or,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 p-1",children:e.jsx(tr,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900 p-1",children:e.jsx(ns,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Debit"}),e.jsxs("p",{className:`text-sm font-medium ${w.debit>0?"text-green-600":"text-gray-400"}`,children:["$",w.debit.toFixed(2)]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Credit"}),e.jsxs("p",{className:`text-sm font-medium ${w.credit>0?"text-red-600":"text-gray-400"}`,children:["$",w.credit.toFixed(2)]})]})]})})})]},w.id))}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account"}),e.jsx("th",{className:"px-4 sm:px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Debit"}),e.jsx("th",{className:"px-4 sm:px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credit"}),e.jsx("th",{className:"px-4 sm:px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:B.map(w=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(w.date).toLocaleDateString()}),e.jsx("td",{className:"px-4 sm:px-6 py-4 text-sm text-gray-900 max-w-xs",children:w.description}),e.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:w.account}),e.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-right",children:e.jsxs("span",{className:w.debit>0?"text-green-600 font-medium":"text-gray-400",children:["$",w.debit.toFixed(2)]})}),e.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-right",children:e.jsxs("span",{className:w.credit>0?"text-red-600 font-medium":"text-gray-400",children:["$",w.credit.toFixed(2)]})}),e.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-center text-sm font-medium",children:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",children:e.jsx(Or,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 p-1 rounded hover:bg-indigo-50",children:e.jsx(tr,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",children:e.jsx(ns,{className:"h-4 w-4"})})]})})]},w.id))})]})}),T>1&&e.jsxs("div",{className:"bg-gray-50 px-4 sm:px-6 py-3 flex items-center justify-between border-t border-gray-200",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>f(Math.max(h-1,1)),disabled:h===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("button",{onClick:()=>f(Math.min(h+1,T)),disabled:h===T,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing"," ",e.jsx("span",{className:"font-medium",children:I+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min(L,r.length)})," ","of ",e.jsx("span",{className:"font-medium",children:r.length})," results"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e.jsx("button",{onClick:()=>f(Math.max(h-1,1)),disabled:h===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(gl,{className:"h-5 w-5"})}),[...Array(Math.min(T,5))].map((w,E)=>{let D;return T<=5||h<=3?D=E+1:h>=T-2?D=T-4+E:D=h-2+E,e.jsx("button",{onClick:()=>f(D),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${h===D?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:D},D)}),e.jsx("button",{onClick:()=>f(Math.min(h+1,T)),disabled:h===T,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Pn,{className:"h-5 w-5"})})]})})]})]})]}),g&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 sm:p-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Add New Transaction"}),e.jsx("button",{onClick:()=>v(!1),className:"text-gray-500 hover:text-gray-700 p-1",children:e.jsx(zt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]})}),e.jsxs("div",{className:"p-4 sm:p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),e.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base",value:_.date,onChange:w=>k({..._,date:w.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base",value:_.description,onChange:w=>k({..._,description:w.target.value}),placeholder:"Enter transaction description"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account *"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base",value:_.account,onChange:w=>k({..._,account:w.target.value}),children:[e.jsx("option",{value:"",children:"Select an account"}),e.jsx("option",{value:"Cash",children:"Cash"}),e.jsx("option",{value:"Accounts Receivable",children:"Accounts Receivable"}),e.jsx("option",{value:"Inventory",children:"Inventory"}),e.jsx("option",{value:"Accounts Payable",children:"Accounts Payable"}),e.jsx("option",{value:"Revenue",children:"Revenue"}),e.jsx("option",{value:"Expenses",children:"Expenses"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Debit Amount"}),e.jsx("input",{type:"number",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base",value:_.debit,onChange:w=>k({..._,debit:w.target.value}),placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Credit Amount"}),e.jsx("input",{type:"number",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base",value:_.credit,onChange:w=>k({..._,credit:w.target.value}),placeholder:"0.00"})]})]})]}),e.jsx("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[e.jsx("button",{onClick:()=>v(!1),className:"w-full sm:w-auto px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm sm:text-base",children:"Cancel"}),e.jsx("button",{onClick:F,className:"w-full sm:w-auto px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm sm:text-base",children:"Add Transaction"})]})})]})})]})},Tme=()=>{const[t,s]=N.useState([]),[r,a]=N.useState([]),[n,i]=N.useState(""),[o,l]=N.useState({start:"",end:""}),[d,u]=N.useState(!0);N.useEffect(()=>{h()},[]);const h=()=>{try{const b=mue(),_=due();s(b),a(_),u(!1)}catch(b){console.error("Error fetching ledger data:",b),u(!1)}},f=n?t.filter(b=>b.account===n):t,p=b=>{let _=0;return b.map(k=>(_+=k.debit-k.credit,{...k,runningBalance:_}))},g=b=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(b);if(d)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx(hM,{size:"lg"})});const v=wm(),y=e.jsxs(e.Fragment,{children:[e.jsx(dr,{variant:"outline",size:"sm",children:"Export"}),e.jsx(dr,{variant:"primary",size:"sm",children:"Print"})]});return e.jsxs(jm,{title:"General Ledger",subtitle:"Detailed debit/credit entries for all accounts",actions:y,children:[e.jsxs(Pa,{className:"mb-6",children:[e.jsx("div",{className:"mb-4",children:e.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-4",children:"Filter Options"})}),e.jsxs(Lo,{cols:v.isMobile?"grid-cols-1":"grid-cols-1 md:grid-cols-3",gap:"gap-4 sm:gap-6",children:[e.jsx(yn,{label:"Account Filter",children:e.jsxs($d,{value:n,onChange:b=>i(b.target.value),children:[e.jsx("option",{value:"",children:"All Accounts"}),r.map(b=>e.jsx("option",{value:b.name,children:b.name},b.id))]})}),e.jsx(yn,{label:"From Date",children:e.jsx(Xd,{type:"date",value:o.start,onChange:b=>l({...o,start:b.target.value})})}),e.jsx(yn,{label:"To Date",children:e.jsx(Xd,{type:"date",value:o.end,onChange:b=>l({...o,end:b.target.value})})})]}),v.isMobile&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsx(dr,{variant:"primary",size:"sm",fullWidth:!0,children:"Apply Filters"})})]}),e.jsx("div",{className:"space-y-4 sm:space-y-6",children:f.map((b,_)=>{const k=p(b.entries),A=b.entries.reduce((V,S)=>V+S.debit,0),R=b.entries.reduce((V,S)=>V+S.credit,0),F=A-R;return e.jsxs(Pa,{className:"overflow-hidden",padding:"p-0",children:[e.jsx("div",{className:"bg-gray-50 px-4 sm:px-6 py-4 border-b",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-3 sm:space-y-0",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:b.account}),v.isMobile?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Debits:"}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:g(A)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Credits:"}),e.jsx("span",{className:"text-sm font-medium text-red-600",children:g(R)})]}),e.jsxs("div",{className:"flex justify-between border-t pt-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Net Balance:"}),e.jsx("span",{className:`text-sm font-bold ${F>=0?"text-green-600":"text-red-600"}`,children:g(F)})]})]}):e.jsxs("div",{className:"flex space-x-6 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Total Debits: "}),e.jsx("span",{className:"font-medium text-green-600",children:g(A)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Total Credits: "}),e.jsx("span",{className:"font-medium text-red-600",children:g(R)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Net Balance: "}),e.jsx("span",{className:`font-medium ${F>=0?"text-green-600":"text-red-600"}`,children:g(F)})]})]})]})}),v.isMobile?e.jsx("div",{className:"divide-y divide-gray-200",children:k.map((V,S)=>e.jsxs("div",{className:"p-4 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:V.description||"General Entry"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(V.date).toLocaleDateString()})]}),e.jsx("div",{className:"ml-4 flex-shrink-0",children:e.jsx(qc,{variant:V.runningBalance>=0?"success":"danger",size:"sm",children:g(V.runningBalance)})})]}),e.jsx("div",{className:"flex justify-between text-sm",children:e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Debit: "}),V.debit>0?e.jsx("span",{className:"text-green-600 font-medium",children:g(V.debit)}):e.jsx("span",{className:"text-gray-400",children:"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Credit: "}),V.credit>0?e.jsx("span",{className:"text-red-600 font-medium",children:g(V.credit)}):e.jsx("span",{className:"text-gray-400",children:"-"})]})]})})]},S))}):e.jsxs(i2,{children:[e.jsxs(o2,{children:[e.jsx(Zr,{children:"Date"}),e.jsx(Zr,{children:"Description"}),e.jsx(Zr,{align:"right",children:"Debit"}),e.jsx(Zr,{align:"right",children:"Credit"}),e.jsx(Zr,{align:"right",children:"Running Balance"})]}),e.jsx(l2,{children:k.map((V,S)=>e.jsxs(c2,{children:[e.jsx(ea,{children:new Date(V.date).toLocaleDateString()}),e.jsx(ea,{truncate:!0,children:V.description||"General Entry"}),e.jsx(ea,{align:"right",children:V.debit>0?e.jsx("span",{className:"text-green-600 font-medium",children:g(V.debit)}):e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsx(ea,{align:"right",children:V.credit>0?e.jsx("span",{className:"text-red-600 font-medium",children:g(V.credit)}):e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsx(ea,{align:"right",children:e.jsx("span",{className:`font-medium ${V.runningBalance>=0?"text-green-600":"text-red-600"}`,children:g(V.runningBalance)})})]},S))})]})]},_)})}),e.jsxs(Pa,{className:"mt-6 sm:mt-8",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4 sm:mb-6",children:"Ledger Summary"}),e.jsxs(Lo,{cols:v.isMobile?"grid-cols-1":"grid-cols-1 md:grid-cols-3",gap:"gap-4 sm:gap-6",children:[e.jsxs("div",{className:`text-center ${v.isMobile?"p-4 bg-green-50 rounded-lg":""}`,children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-600",children:g(f.reduce((b,_)=>b+_.entries.reduce((k,A)=>k+A.debit,0),0))}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:"Total Debits"})]}),e.jsxs("div",{className:`text-center ${v.isMobile?"p-4 bg-red-50 rounded-lg":""}`,children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-red-600",children:g(f.reduce((b,_)=>b+_.entries.reduce((k,A)=>k+A.credit,0),0))}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:"Total Credits"})]}),e.jsxs("div",{className:`text-center ${v.isMobile?"p-4 bg-blue-50 rounded-lg":""}`,children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:g(f.reduce((b,_)=>{const k=_.entries.reduce((R,F)=>R+F.debit,0),A=_.entries.reduce((R,F)=>R+F.credit,0);return b+(k-A)},0))}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:"Net Balance"})]})]})]})]})},Dme=()=>{const[t,s]=N.useState("current"),[r,a]=N.useState(""),[n,i]=N.useState(!1),[o,l]=N.useState(jue()),[d,u]=N.useState({}),[h,f]=N.useState(o),[p,g]=N.useState(!1);N.useEffect(()=>{let L=o;r&&(L=L.filter(I=>I.name.toLowerCase().includes(r.toLowerCase())||I.code.includes(r)||I.type.toLowerCase().includes(r.toLowerCase()))),n||(L=L.filter(I=>I.balance!==0)),f(L)},[r,n,o]);const v=L=>{u(I=>({...I,[L]:!I[L]}))},y=()=>{const L=h.reduce((T,w)=>T+w.debit,0),I=h.reduce((T,w)=>T+w.credit,0);return{totalDebits:L,totalCredits:I,isBalanced:L===I,difference:Math.abs(L-I)}},b=()=>{const L={};return h.forEach(I=>{L[I.type]||(L[I.type]=[]),L[I.type].push(I)}),L},_=y(),k=b(),A=["Asset","Liability","Equity","Revenue","Expense"],R=async()=>{g(!0),setTimeout(()=>{g(!1)},1500)},F=()=>{const I=[["Account Code","Account Name","Type","Debit","Credit","Balance"].join(","),...h.map(E=>[E.code,E.name,E.type,E.debit,E.credit,E.balance].join(",")),"","Summary,,,,,",`Total Debits,,,${_.totalDebits},,`,`Total Credits,,,,${_.totalCredits},`,`Difference,,,,,${_.difference}`,`Balanced,,,,,${_.isBalanced?"Yes":"No"}`].join(`
`),B=new Blob([I],{type:"text/csv"}),T=window.URL.createObjectURL(B),w=document.createElement("a");w.href=T,w.download=`trial-balance-${new Date().toISOString().split("T")[0]}.csv`,w.click(),window.URL.revokeObjectURL(T)},V=({account:L})=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-2",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:L.name}),e.jsx("div",{className:"text-xs text-gray-500",children:L.code})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:`text-sm font-medium ${L.balance>0?"text-blue-600":L.balance<0?"text-green-600":"text-gray-900"}`,children:["$",Math.abs(L.balance).toLocaleString()]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-600",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Debit:"}),e.jsx("span",{children:L.debit>0?`$${L.debit.toLocaleString()}`:"-"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Credit:"}),e.jsx("span",{children:L.credit>0?`$${L.credit.toLocaleString()}`:"-"})]})]})]}),S=({type:L,count:I,total:B,isExpanded:T,onToggle:w})=>e.jsxs("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200 flex justify-between items-center cursor-pointer",onClick:w,children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900",children:[L,"s"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[I," accounts  $",Math.abs(B).toLocaleString()]})]}),T?e.jsx(Yj,{className:"h-4 w-4 text-gray-500"}):e.jsx(dn,{className:"h-4 w-4 text-gray-500"})]});return e.jsx("div",{className:"min-h-screen bg-gray-50 p-3 md:p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 md:p-6 mb-4 md:mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Trial Balance"}),e.jsx("p",{className:"text-gray-600 mt-1 text-sm md:text-base",children:"Check that total debits equal total credits"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("button",{onClick:R,disabled:p,className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 flex items-center justify-center gap-2 text-sm md:text-base",children:[e.jsx(Bi,{className:`h-4 w-4 ${p?"animate-spin":""}`}),"Refresh"]}),e.jsxs("button",{onClick:F,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2 text-sm md:text-base",children:[e.jsx(Mn,{className:"h-4 w-4"}),"Export CSV"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-6 mb-4 md:mb-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Total Debits"}),e.jsxs("p",{className:"text-lg md:text-2xl font-bold text-blue-600",children:["$",_.totalDebits.toLocaleString()]})]}),e.jsx(wi,{className:"h-6 w-6 md:h-8 md:w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Total Credits"}),e.jsxs("p",{className:"text-lg md:text-2xl font-bold text-green-600",children:["$",_.totalCredits.toLocaleString()]})]}),e.jsx(rx,{className:"h-6 w-6 md:h-8 md:w-8 text-green-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Difference"}),e.jsxs("p",{className:`text-lg md:text-2xl font-bold ${_.difference===0?"text-green-600":"text-red-600"}`,children:["$",_.difference.toLocaleString()]})]}),e.jsx(Qs,{className:`h-6 w-6 md:h-8 md:w-8 ${_.difference===0?"text-green-600":"text-red-600"}`})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Status"}),e.jsx("p",{className:`text-sm md:text-lg font-bold ${_.isBalanced?"text-green-600":"text-red-600"}`,children:_.isBalanced?"Balanced":"Out of Balance"})]}),_.isBalanced?e.jsx(vs,{className:"h-6 w-6 md:h-8 md:w-8 text-green-600"}):e.jsx(j0,{className:"h-6 w-6 md:h-8 md:w-8 text-red-600"})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 md:p-6 mb-4 md:mb-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(or,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search accounts...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",value:r,onChange:L=>a(L.target.value)})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("select",{value:t,onChange:L=>s(L.target.value),className:"px-3 md:px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",children:[e.jsx("option",{value:"current",children:"Current Period"}),e.jsx("option",{value:"previous",children:"Previous Period"}),e.jsx("option",{value:"ytd",children:"Year to Date"}),e.jsx("option",{value:"custom",children:"Custom Range"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:n,onChange:L=>i(L.target.checked),className:"rounded border-gray-300"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Show zero balances"})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsx("div",{className:"px-4 md:px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-900",children:"Account Balances"})}),window.innerWidth<768?e.jsx("div",{children:A.map(L=>{const I=k[L]||[];if(I.length===0)return null;const B=I.reduce((w,E)=>L==="Asset"||L==="Expense"?w+E.debit-E.credit:w+E.credit-E.debit,0),T=d[L];return e.jsxs("div",{className:"border-b border-gray-100 last:border-b-0",children:[e.jsx(S,{type:L,count:I.length,total:B,isExpanded:T,onToggle:()=>v(L)}),T&&e.jsx("div",{className:"p-4 space-y-2",children:I.map(w=>e.jsx(V,{account:w},w.code))})]},L)})}):e.jsx(e.Fragment,{children:A.map(L=>{const I=k[L]||[];return I.length===0?null:(I.reduce((B,T)=>L==="Asset"||L==="Expense"?B+T.debit-T.credit:B+T.credit-T.debit,0),e.jsxs("div",{className:"border-b border-gray-100 last:border-b-0",children:[e.jsx("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200",children:e.jsxs("h4",{className:"font-medium text-gray-900",children:[L,"s"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Code"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Name"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Debit"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credit"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Balance"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I.map(B=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:B.code}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:B.name}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900",children:B.debit>0?`$${B.debit.toLocaleString()}`:"-"}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900",children:B.credit>0?`$${B.credit.toLocaleString()}`:"-"}),e.jsxs("td",{className:`px-4 md:px-6 py-4 whitespace-nowrap text-sm text-right font-medium ${B.balance>0?"text-blue-600":B.balance<0?"text-green-600":"text-gray-900"}`,children:["$",Math.abs(B.balance).toLocaleString()]})]},B.code))})]})})]},L))})}),e.jsx("div",{className:"bg-gray-50 px-4 md:px-6 py-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[e.jsx("span",{className:"text-base md:text-lg font-semibold text-gray-900",children:"TOTALS"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 md:gap-8",children:[e.jsxs("div",{className:"text-center sm:text-right",children:[e.jsxs("div",{className:"text-base md:text-lg font-bold text-blue-600",children:["$",_.totalDebits.toLocaleString()]}),e.jsx("div",{className:"text-xs md:text-sm text-gray-500",children:"Total Debits"})]}),e.jsxs("div",{className:"text-center sm:text-right",children:[e.jsxs("div",{className:"text-base md:text-lg font-bold text-green-600",children:["$",_.totalCredits.toLocaleString()]}),e.jsx("div",{className:"text-xs md:text-sm text-gray-500",children:"Total Credits"})]}),e.jsxs("div",{className:"text-center sm:text-right",children:[e.jsx("div",{className:`text-base md:text-lg font-bold ${_.isBalanced?"text-green-600":"text-red-600"}`,children:_.isBalanced?"BALANCED":`OUT BY $${_.difference.toLocaleString()}`}),e.jsx("div",{className:"text-xs md:text-sm text-gray-500",children:"Status"})]})]})]})})]}),!_.isBalanced&&e.jsx("div",{className:"mt-4 md:mt-6 bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(j0,{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-800 text-sm md:text-base",children:"Trial Balance is Out of Balance"}),e.jsxs("p",{className:"text-xs md:text-sm text-red-700 mt-1",children:["There is a difference of $",_.difference.toLocaleString()," between total debits and credits. Please review your account balances and journal entries."]})]})]})})]})})},Pme=()=>{const[t,s]=N.useState("current-month"),[r,a]=N.useState({revenue:!0,cogs:!0,operatingExpenses:!0,otherIncome:!0,otherExpenses:!0}),[n,i]=N.useState(!1),[o,l]=N.useState(window.innerWidth<768);N.useEffect(()=>{const R=()=>{l(window.innerWidth<768)};return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]);const[d,u]=N.useState(gue()),h={totalRevenue:Object.values(d.revenue).reduce((R,F)=>R+F,0),totalCOGS:Object.values(d.costOfGoodsSold).reduce((R,F)=>R+F,0),totalOperatingExpenses:Object.values(d.operatingExpenses).reduce((R,F)=>R+F,0),totalOtherIncome:Object.values(d.otherIncome).reduce((R,F)=>R+F,0),totalOtherExpenses:Object.values(d.otherExpenses).reduce((R,F)=>R+F,0)};h.grossProfit=h.totalRevenue-h.totalCOGS,h.operatingIncome=h.grossProfit-h.totalOperatingExpenses,h.netOtherIncome=h.totalOtherIncome-h.totalOtherExpenses,h.netIncome=h.operatingIncome+h.netOtherIncome,h.grossProfitMargin=h.totalRevenue>0?h.grossProfit/h.totalRevenue*100:0,h.operatingMargin=h.totalRevenue>0?h.operatingIncome/h.totalRevenue*100:0,h.netProfitMargin=h.totalRevenue>0?h.netIncome/h.totalRevenue*100:0;const f=R=>{a(F=>({...F,[R]:!F[R]}))},p=async()=>{i(!0),setTimeout(()=>{i(!1)},1500)},g=()=>{console.log("Exporting Income Statement to PDF...")},v=R=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(R),y=R=>Math.abs(R)>=1e6?`$${(R/1e6).toFixed(1)}M`:Math.abs(R)>=1e3?`$${(R/1e3).toFixed(1)}K`:v(R),b=()=>{switch(t){case"current-month":return"Current Month";case"previous-month":return"Previous Month";case"quarter":return"Current Quarter";case"ytd":return"Year to Date";case"previous-year":return"Previous Year";default:return"Current Month"}},_=({title:R,amount:F,isExpanded:V,onToggle:S,isSubtotal:L=!1,level:I=0})=>{const B="flex items-center justify-between py-3 px-3 md:px-4 cursor-pointer hover:bg-gray-50",T=I>0?"bg-gray-50 border-l-4 border-blue-500":"bg-white border-b border-gray-200",w=L?"font-semibold text-gray-900":"font-medium text-gray-800";return e.jsxs("div",{className:`${B} ${T}`,onClick:S,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[V?e.jsx(dn,{className:"h-4 w-4 text-gray-500"}):e.jsx(Pn,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:`${w} text-sm md:text-base`,children:R})]}),e.jsx("span",{className:`${w} text-sm md:text-base ${F>=0?"text-green-600":"text-red-600"}`,children:o?y(Math.abs(F)):v(Math.abs(F))})]})},k=({label:R,amount:F,indent:V=!1})=>e.jsxs("div",{className:`flex justify-between py-2 px-3 md:px-4 ${V?"pl-6 md:pl-12 bg-gray-25":""} hover:bg-gray-50`,children:[e.jsx("span",{className:"text-gray-700 text-sm md:text-base",children:R}),e.jsx("span",{className:`font-medium text-sm md:text-base ${F>=0?"text-gray-900":"text-red-600"}`,children:o?y(Math.abs(F)):v(Math.abs(F))})]}),A=({title:R,amount:F,margin:V,isHighlight:S=!1,isTotal:L=!1})=>e.jsxs("div",{className:`flex justify-between py-3 px-3 md:px-6 ${L?`${h.netIncome>=0?"bg-green-100":"bg-red-100"}`:S?"bg-blue-50":"bg-green-50"} border-b border-gray-200`,children:[e.jsx("span",{className:`${L?"text-xl":"text-base"} font-bold ${L?h.netIncome>=0?"text-green-900":"text-red-900":S?"text-blue-900":"text-green-900"}`,children:R}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`${L?"text-xl":"text-base"} font-bold ${L?h.netIncome>=0?"text-green-900":"text-red-900":S?"text-blue-900":F>=0?"text-green-900":"text-red-900"}`,children:o?y(Math.abs(F)):v(Math.abs(F))}),V!==void 0&&e.jsxs("div",{className:`text-xs ${L?"text-green-800":S?"text-blue-800":"text-green-800"}`,children:["(",V.toFixed(1),"%)"]})]})]});return e.jsx("div",{className:"min-h-screen bg-gray-50 p-3 md:p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 md:p-6 mb-4 md:mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Income Statement"}),e.jsxs("p",{className:"text-gray-600 mt-1 text-sm md:text-base",children:["Profit & Loss Statement for ",b()]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("button",{onClick:p,disabled:n,className:"bg-gray-100 text-gray-700 px-3 md:px-4 py-2 rounded-lg hover:bg-gray-200 flex items-center justify-center gap-2 text-sm md:text-base",children:[e.jsx(Bi,{className:`h-4 w-4 ${n?"animate-spin":""}`}),"Refresh"]}),e.jsxs("button",{onClick:g,className:"bg-blue-600 text-white px-3 md:px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2 text-sm md:text-base",children:[e.jsx(Mn,{className:"h-4 w-4"}),"Export PDF"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-6 mb-4 md:mb-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Total Revenue"}),e.jsx("p",{className:"text-lg md:text-2xl font-bold text-green-600",children:o?y(h.totalRevenue):v(h.totalRevenue)})]}),e.jsx(wi,{className:"h-6 w-6 md:h-8 md:w-8 text-green-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Gross Profit"}),e.jsx("p",{className:"text-lg md:text-2xl font-bold text-blue-600",children:o?y(h.grossProfit):v(h.grossProfit)}),e.jsxs("p",{className:"text-xs md:text-sm text-gray-500",children:[h.grossProfitMargin.toFixed(1),"% margin"]})]}),e.jsx(Hc,{className:"h-6 w-6 md:h-8 md:w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Operating Income"}),e.jsx("p",{className:`text-lg md:text-2xl font-bold ${h.operatingIncome>=0?"text-green-600":"text-red-600"}`,children:o?y(h.operatingIncome):v(h.operatingIncome)}),e.jsxs("p",{className:"text-xs md:text-sm text-gray-500",children:[h.operatingMargin.toFixed(1),"% margin"]})]}),e.jsx(Qs,{className:`h-6 w-6 md:h-8 md:w-8 ${h.operatingIncome>=0?"text-green-600":"text-red-600"}`})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Net Income"}),e.jsx("p",{className:`text-lg md:text-2xl font-bold ${h.netIncome>=0?"text-green-600":"text-red-600"}`,children:o?y(h.netIncome):v(h.netIncome)}),e.jsxs("p",{className:"text-xs md:text-sm text-gray-500",children:[h.netProfitMargin.toFixed(1),"% margin"]})]}),h.netIncome>=0?e.jsx(wi,{className:"h-6 w-6 md:h-8 md:w-8 text-green-600"}):e.jsx(rx,{className:"h-6 w-6 md:h-8 md:w-8 text-red-600"})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-4 md:mb-6",children:e.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[e.jsx(ys,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-400"}),e.jsxs("select",{value:t,onChange:R=>s(R.target.value),className:"px-3 md:px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base w-full md:w-auto",children:[e.jsx("option",{value:"current-month",children:"Current Month"}),e.jsx("option",{value:"previous-month",children:"Previous Month"}),e.jsx("option",{value:"quarter",children:"Current Quarter"}),e.jsx("option",{value:"ytd",children:"Year to Date"}),e.jsx("option",{value:"previous-year",children:"Previous Year"})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"px-4 md:px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-900",children:"Profit & Loss Statement"}),e.jsxs("p",{className:"text-xs md:text-sm text-gray-600",children:["For the period: ",b()]})]}),e.jsxs("div",{className:"border-b border-gray-100",children:[e.jsx(_,{title:"Revenue",amount:h.totalRevenue,isExpanded:r.revenue,onToggle:()=>f("revenue"),isSubtotal:!0}),r.revenue&&e.jsx("div",{className:"bg-gray-25",children:Object.entries(d.revenue).map(([R,F])=>e.jsx(k,{label:R.replace(/([A-Z])/g," $1").replace(/^./,V=>V.toUpperCase()),amount:F,indent:!0},R))})]}),e.jsxs("div",{className:"border-b border-gray-100",children:[e.jsx(_,{title:"Cost of Goods Sold",amount:-h.totalCOGS,isExpanded:r.cogs,onToggle:()=>f("cogs"),isSubtotal:!0}),r.cogs&&e.jsx("div",{className:"bg-gray-25",children:Object.entries(d.costOfGoodsSold).map(([R,F])=>e.jsx(k,{label:R.replace(/([A-Z])/g," $1").replace(/^./,V=>V.toUpperCase()),amount:-F,indent:!0},R))})]}),e.jsx(A,{title:"Gross Profit",amount:h.grossProfit,margin:h.grossProfitMargin,isHighlight:!0}),e.jsxs("div",{className:"border-b border-gray-100",children:[e.jsx(_,{title:"Operating Expenses",amount:-h.totalOperatingExpenses,isExpanded:r.operatingExpenses,onToggle:()=>f("operatingExpenses"),isSubtotal:!0}),r.operatingExpenses&&e.jsx("div",{className:"bg-gray-25",children:Object.entries(d.operatingExpenses).map(([R,F])=>e.jsx(k,{label:R.replace(/([A-Z])/g," $1").replace(/^./,V=>V.toUpperCase()),amount:-F,indent:!0},R))})]}),e.jsx(A,{title:"Operating Income",amount:h.operatingIncome,margin:h.operatingMargin}),e.jsxs("div",{className:"border-b border-gray-100",children:[e.jsx(_,{title:"Other Income",amount:h.totalOtherIncome,isExpanded:r.otherIncome,onToggle:()=>f("otherIncome"),isSubtotal:!0}),r.otherIncome&&e.jsx("div",{className:"bg-gray-25",children:Object.entries(d.otherIncome).map(([R,F])=>e.jsx(k,{label:R.replace(/([A-Z])/g," $1").replace(/^./,V=>V.toUpperCase()),amount:F,indent:!0},R))})]}),e.jsxs("div",{className:"border-b border-gray-100",children:[e.jsx(_,{title:"Other Expenses",amount:-h.totalOtherExpenses,isExpanded:r.otherExpenses,onToggle:()=>f("otherExpenses"),isSubtotal:!0}),r.otherExpenses&&e.jsx("div",{className:"bg-gray-25",children:Object.entries(d.otherExpenses).map(([R,F])=>e.jsx(k,{label:R.replace(/([A-Z])/g," $1").replace(/^./,V=>V.toUpperCase()),amount:-F,indent:!0},R))})]}),e.jsx(A,{title:"Net Income",amount:h.netIncome,margin:h.netProfitMargin,isTotal:!0})]}),e.jsxs("div",{className:"mt-4 md:mt-6 bg-white rounded-lg shadow-sm p-4 md:p-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-4 text-base md:text-lg",children:"Financial Health Indicators"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 md:gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`text-lg md:text-2xl font-bold ${h.grossProfitMargin>40?"text-green-600":h.grossProfitMargin>20?"text-yellow-600":"text-red-600"}`,children:[h.grossProfitMargin.toFixed(1),"%"]}),e.jsx("div",{className:"text-xs md:text-sm text-gray-600",children:"Gross Margin"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`text-lg md:text-2xl font-bold ${h.operatingMargin>15?"text-green-600":h.operatingMargin>5?"text-yellow-600":"text-red-600"}`,children:[h.operatingMargin.toFixed(1),"%"]}),e.jsx("div",{className:"text-xs md:text-sm text-gray-600",children:"Operating Margin"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`text-lg md:text-2xl font-bold ${h.netProfitMargin>10?"text-green-600":h.netProfitMargin>3?"text-yellow-600":"text-red-600"}`,children:[h.netProfitMargin.toFixed(1),"%"]}),e.jsx("div",{className:"text-xs md:text-sm text-gray-600",children:"Net Margin"})]})]})]})]})})},Mme=()=>{const t=wm(),[s,r]=N.useState("2024-01-31"),[a,n]=N.useState({currentAssets:!0,fixedAssets:!0,currentLiabilities:!0,longTermLiabilities:!0,equity:!0}),[i,o]=N.useState(!1),[l,d]=N.useState("previous-month"),[u,h]=N.useState(yue()),f=bue(),p=I=>{const B=Object.values(I.assets.currentAssets).reduce((X,se)=>X+se,0),T=Object.values(I.assets.fixedAssets).reduce((X,se)=>X+se,0),w=B+T,E=Object.values(I.liabilities.currentLiabilities).reduce((X,se)=>X+se,0),D=Object.values(I.liabilities.longTermLiabilities).reduce((X,se)=>X+se,0),G=E+D,K=Object.values(I.equity).reduce((X,se)=>X+se,0);return{currentAssets:B,fixedAssets:T,totalAssets:w,currentLiabilities:E,longTermLiabilities:D,totalLiabilities:G,totalEquity:K,totalLiabilitiesAndEquity:G+K,isBalanced:Math.abs(w-(G+K))<1}},g=p(u),v=p(f),y=(I,B)=>B===0?0:(I-B)/Math.abs(B)*100,b=I=>{n(B=>({...B,[I]:!B[I]}))},_=async()=>{o(!0),setTimeout(()=>{o(!1)},1500)},k=()=>{console.log("Exporting Balance Sheet to PDF...")},A=I=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(Math.abs(I)),R=I=>`${I>=0?"+":""}${I.toFixed(1)}%`,F=({title:I,amount:B,previousAmount:T,isExpanded:w,onToggle:E,isTotal:D=!1})=>{const G=y(B,T),K="flex items-center justify-between py-3 px-4 cursor-pointer hover:bg-gray-50",X=D?"bg-blue-50 border-t-2 border-blue-500":"bg-gray-50 border-b border-gray-200",se=D?"font-bold text-blue-900":"font-semibold text-gray-900";return e.jsxs("div",{className:`${K} ${X}`,onClick:E,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[!D&&(w?e.jsx(dn,{className:"h-4 w-4 text-gray-500"}):e.jsx(Pn,{className:"h-4 w-4 text-gray-500"})),e.jsx("span",{className:se,children:I})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:se,children:A(B)}),!D&&e.jsx("div",{className:`text-xs ${G>=0?"text-green-600":"text-red-600"}`,children:R(G)})]})]})},V=({label:I,amount:B,previousAmount:T,indent:w=!1,isNegative:E=!1})=>{const D=y(B,T);return e.jsxs("div",{className:`flex justify-between py-2 px-4 ${w?"pl-12 bg-gray-25":""} hover:bg-gray-50`,children:[e.jsx("span",{className:"text-gray-700",children:I}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:`font-medium ${E?"text-red-600":"text-gray-900"}`,children:[E&&"(",A(B),E&&")"]}),e.jsx("div",{className:`text-xs ${D>=0?"text-green-600":"text-red-600"}`,children:R(D)})]})]})},S={currentRatio:g.currentAssets/g.currentLiabilities,debtToEquity:g.totalLiabilities/g.totalEquity,equityRatio:g.totalEquity/g.totalAssets,workingCapital:g.currentAssets-g.currentLiabilities},L=e.jsxs(e.Fragment,{children:[e.jsxs(dr,{variant:"secondary",size:t.isMobile?"sm":"md",onClick:_,loading:i,children:[e.jsx(Bi,{className:`h-4 w-4 ${i?"animate-spin":""}`}),t.isMobile?"":"Refresh"]}),e.jsxs(dr,{variant:"primary",size:t.isMobile?"sm":"md",onClick:k,children:[e.jsx(Mn,{className:"h-4 w-4"}),t.isMobile?"":"Export PDF"]})]});return e.jsxs(jm,{title:"Balance Sheet",subtitle:`Financial position as of ${new Date(s).toLocaleDateString()}`,actions:L,children:[e.jsxs(Lo,{cols:t.isMobile?"grid-cols-1":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",gap:"gap-4 sm:gap-6",className:"mb-4 sm:mb-6",children:[e.jsx(Pa,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 truncate",children:"Total Assets"}),e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-600 truncate",children:A(g.totalAssets)})]}),e.jsx(sx,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-600 flex-shrink-0 ml-2"})]})}),e.jsx(Pa,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 truncate",children:"Total Liabilities"}),e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-red-600 truncate",children:A(g.totalLiabilities)})]}),e.jsx(Zl,{className:"h-6 w-6 sm:h-8 sm:w-8 text-red-600 flex-shrink-0 ml-2"})]})}),e.jsx(Pa,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 truncate",children:"Total Equity"}),e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600 truncate",children:A(g.totalEquity)})]}),e.jsx(ed,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600 flex-shrink-0 ml-2"})]})}),e.jsx(Pa,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 truncate",children:"Balance Status"}),e.jsx("p",{className:`text-base sm:text-lg font-bold truncate ${g.isBalanced?"text-green-600":"text-red-600"}`,children:g.isBalanced?"Balanced":"Out of Balance"})]}),g.isBalanced?e.jsx(vs,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600 flex-shrink-0 ml-2"}):e.jsx(Hs,{className:"h-6 w-6 sm:h-8 sm:w-8 text-red-600 flex-shrink-0 ml-2"})]})})]}),e.jsx(Pa,{className:"mb-4 sm:mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[e.jsx(ys,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 flex-shrink-0"}),e.jsxs(Lo,{cols:t.isMobile?"grid-cols-1":"grid-cols-1 sm:grid-cols-2",gap:"gap-4",className:"flex-1",children:[e.jsx(yn,{label:"As of Date",children:e.jsx(Xd,{type:"date",value:s,onChange:I=>r(I.target.value)})}),e.jsx(yn,{label:"Compare to",children:e.jsxs($d,{value:l,onChange:I=>d(I.target.value),children:[e.jsx("option",{value:"previous-month",children:"Previous Month"}),e.jsx("option",{value:"previous-quarter",children:"Previous Quarter"}),e.jsx("option",{value:"previous-year",children:"Previous Year"})]})})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-6",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Balance Sheet"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["As of ",new Date(s).toLocaleDateString()]})]}),e.jsxs("div",{className:"border-b border-gray-200",children:[e.jsx("div",{className:"bg-blue-100 px-6 py-3",children:e.jsx("h4",{className:"font-bold text-blue-900 text-lg",children:"ASSETS"})}),e.jsxs("div",{className:"border-b border-gray-100",children:[e.jsx(F,{title:"Current Assets",amount:g.currentAssets,previousAmount:v.currentAssets,isExpanded:a.currentAssets,onToggle:()=>b("currentAssets")}),a.currentAssets&&e.jsx("div",{className:"bg-gray-25",children:Object.entries(u.assets.currentAssets).map(([I,B])=>e.jsx(V,{label:I.replace(/([A-Z])/g," $1").replace(/^./,T=>T.toUpperCase()),amount:B,previousAmount:f.assets.currentAssets[I],indent:!0},I))})]}),e.jsxs("div",{className:"border-b border-gray-100",children:[e.jsx(F,{title:"Fixed Assets",amount:g.fixedAssets,previousAmount:v.fixedAssets,isExpanded:a.fixedAssets,onToggle:()=>b("fixedAssets")}),a.fixedAssets&&e.jsx("div",{className:"bg-gray-25",children:Object.entries(u.assets.fixedAssets).map(([I,B])=>e.jsx(V,{label:I.replace(/([A-Z])/g," $1").replace(/^./,T=>T.toUpperCase()),amount:B,previousAmount:f.assets.fixedAssets[I],isNegative:B<0,indent:!0},I))})]}),e.jsx(F,{title:"TOTAL ASSETS",amount:g.totalAssets,previousAmount:v.totalAssets,isExpanded:!1,onToggle:()=>{},isTotal:!0})]}),e.jsxs("div",{children:[e.jsx("div",{className:"bg-red-100 px-6 py-3",children:e.jsx("h4",{className:"font-bold text-red-900 text-lg",children:"LIABILITIES & EQUITY"})}),e.jsxs("div",{className:"border-b border-gray-100",children:[e.jsx(F,{title:"Current Liabilities",amount:g.currentLiabilities,previousAmount:v.currentLiabilities,isExpanded:a.currentLiabilities,onToggle:()=>b("currentLiabilities")}),a.currentLiabilities&&e.jsx("div",{className:"bg-gray-25",children:Object.entries(u.liabilities.currentLiabilities).map(([I,B])=>e.jsx(V,{label:I.replace(/([A-Z])/g," $1").replace(/^./,T=>T.toUpperCase()),amount:B,previousAmount:f.liabilities.currentLiabilities[I],indent:!0},I))})]}),e.jsxs("div",{className:"border-b border-gray-100",children:[e.jsx(F,{title:"Long-term Liabilities",amount:g.longTermLiabilities,previousAmount:v.longTermLiabilities,isExpanded:a.longTermLiabilities,onToggle:()=>b("longTermLiabilities")}),a.longTermLiabilities&&e.jsx("div",{className:"bg-gray-25",children:Object.entries(u.liabilities.longTermLiabilities).map(([I,B])=>e.jsx(V,{label:I.replace(/([A-Z])/g," $1").replace(/^./,T=>T.toUpperCase()),amount:B,previousAmount:f.liabilities.longTermLiabilities[I],indent:!0},I))})]}),e.jsx("div",{className:"bg-red-50",children:e.jsxs("div",{className:"flex justify-between py-3 px-6 font-semibold text-red-900",children:[e.jsx("span",{children:"Total Liabilities"}),e.jsx("span",{children:A(g.totalLiabilities)})]})}),e.jsxs("div",{className:"border-b border-gray-100",children:[e.jsx(F,{title:"Equity",amount:g.totalEquity,previousAmount:v.totalEquity,isExpanded:a.equity,onToggle:()=>b("equity")}),a.equity&&e.jsx("div",{className:"bg-gray-25",children:Object.entries(u.equity).map(([I,B])=>e.jsx(V,{label:I.replace(/([A-Z])/g," $1").replace(/^./,T=>T.toUpperCase()),amount:B,previousAmount:f.equity[I],isNegative:B<0,indent:!0},I))})]}),e.jsx(F,{title:"TOTAL LIABILITIES & EQUITY",amount:g.totalLiabilitiesAndEquity,previousAmount:v.totalLiabilitiesAndEquity,isExpanded:!1,onToggle:()=>{},isTotal:!0})]})]}),e.jsxs(Pa,{className:"mb-4 sm:mb-6",children:[e.jsx("h4",{className:"font-semibold text-base sm:text-lg text-gray-900 mb-4 sm:mb-6",children:"Key Financial Ratios"}),e.jsxs(Lo,{cols:t.isMobile?"grid-cols-1":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",gap:"gap-4 sm:gap-6",children:[e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:`text-xl sm:text-2xl font-bold ${S.currentRatio>2?"text-green-600":S.currentRatio>1?"text-yellow-600":"text-red-600"}`,children:S.currentRatio.toFixed(2)}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:"Current Ratio"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Current Assets / Current Liabilities"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:`text-xl sm:text-2xl font-bold ${S.debtToEquity<1?"text-green-600":S.debtToEquity<2?"text-yellow-600":"text-red-600"}`,children:S.debtToEquity.toFixed(2)}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:"Debt-to-Equity"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Total Liabilities / Total Equity"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:`text-xl sm:text-2xl font-bold ${S.equityRatio>.5?"text-green-600":S.equityRatio>.3?"text-yellow-600":"text-red-600"}`,children:[(S.equityRatio*100).toFixed(1),"%"]}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:"Equity Ratio"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Total Equity / Total Assets"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:`text-xl sm:text-2xl font-bold ${S.workingCapital>1e4?"text-green-600":S.workingCapital>0?"text-yellow-600":"text-red-600"}`,children:A(S.workingCapital)}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:"Working Capital"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Current Assets - Current Liabilities"})]})]})]}),!g.isBalanced&&e.jsxs(Ame,{variant:"danger",title:"Balance Sheet is Out of Balance",className:"mt-4 sm:mt-6",children:["Total Assets (",A(g.totalAssets),") does not equal Total Liabilities & Equity (",A(g.totalLiabilitiesAndEquity),"). Please review your account balances."]})]})},Lme=()=>{const t=wm(),[s,r]=N.useState("current-month"),[a,n]=N.useState({operating:!0,investing:!0,financing:!0}),[i,o]=N.useState(!1),[l,d]=N.useState("previous-month"),[u,h]=N.useState(!1),[f,p]=N.useState(vue()),g=wue(),v=w=>{const E=Object.values(w.operatingActivities).reduce((se,Z)=>se+Z,0),D=Object.values(w.investingActivities).reduce((se,Z)=>se+Z,0),G=Object.values(w.financingActivities).reduce((se,Z)=>se+Z,0),K=E+D+G,X=w.beginningCash+K;return{operatingCashFlow:E,investingCashFlow:D,financingCashFlow:G,netChangeInCash:K,endingCash:X,beginningCash:w.beginningCash}},y=v(f),b=v(g),_=(w,E)=>E===0?0:(w-E)/Math.abs(E)*100,k=w=>{n(E=>({...E,[w]:!E[w]}))},A=async()=>{o(!0),setTimeout(()=>{o(!1)},1500)},R=()=>{console.log("Exporting Cash Flow Statement to PDF...")},F=w=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(Math.abs(w)),V=w=>`${w>=0?"+":""}${w.toFixed(1)}%`,S=()=>{switch(s){case"current-month":return"Current Month";case"previous-month":return"Previous Month";case"quarter":return"Current Quarter";case"ytd":return"Year to Date";case"previous-year":return"Previous Year";default:return"Current Month"}},L=({title:w,amount:E,previousAmount:D,isExpanded:G,onToggle:K,icon:X,color:se})=>{const Z=_(E,D);return e.jsxs("div",{className:`flex items-center justify-between py-4 px-4 sm:px-6 cursor-pointer hover:bg-gray-50 bg-${se}-50 border-l-4 border-${se}-500`,onClick:K,children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx(X,{className:`h-4 w-4 sm:h-5 sm:w-5 text-${se}-600 flex-shrink-0`}),G?e.jsx(dn,{className:"h-4 w-4 text-gray-500 flex-shrink-0"}):e.jsx(Pn,{className:"h-4 w-4 text-gray-500 flex-shrink-0"}),e.jsx("span",{className:`font-semibold text-${se}-900 text-sm sm:text-base truncate`,children:w})]}),e.jsxs("div",{className:"text-right flex-shrink-0 ml-2",children:[e.jsxs("span",{className:`font-bold text-sm sm:text-lg ${E>=0?`text-${se}-600`:"text-red-600"}`,children:[E>=0?"":"(",F(E),E<0?")":""]}),e.jsx("div",{className:`text-xs ${Z>=0?"text-green-600":"text-red-600"}`,children:V(Z)})]})]})},I=({label:w,amount:E,previousAmount:D,isNegative:G=!1})=>{const K=_(E,D),X=Math.abs(E);return e.jsxs("div",{className:"flex justify-between py-3 px-4 sm:px-12 hover:bg-gray-50 border-l border-gray-200",children:[e.jsx("span",{className:"text-gray-700 text-sm sm:text-base pr-2 truncate",children:w}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsxs("span",{className:`font-medium text-sm sm:text-base ${E>=0?"text-gray-900":"text-red-600"}`,children:[E<0&&"(",F(X),E<0&&")"]}),e.jsx("div",{className:`text-xs ${K>=0?"text-green-600":"text-red-600"}`,children:V(K)})]})]})},B=({title:w,value:E,icon:D,color:G,isPositive:K})=>e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 truncate",children:w}),e.jsx("p",{className:`text-lg sm:text-2xl font-bold truncate ${K!==void 0?K?"text-green-600":"text-red-600":`text-${G}-600`}`,children:typeof E=="string"?E:e.jsxs(e.Fragment,{children:[E>=0?"":"(",F(E),E<0?")":""]})})]}),e.jsx(D,{className:`h-6 w-6 sm:h-8 sm:w-8 flex-shrink-0 ml-2 ${K!==void 0?K?"text-green-600":"text-red-600":`text-${G}-600`}`})]})}),T=e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(dr,{variant:"secondary",size:t.isMobile?"sm":"md",onClick:A,loading:i,className:"flex items-center gap-1 sm:gap-2",children:[e.jsx(Bi,{className:`h-3 w-3 sm:h-4 sm:w-4 ${i?"animate-spin":""}`}),t.isMobile?"":"Refresh"]}),e.jsxs(dr,{variant:"primary",size:t.isMobile?"sm":"md",onClick:R,className:"flex items-center gap-1 sm:gap-2",children:[e.jsx(Mn,{className:"h-3 w-3 sm:h-4 sm:w-4"}),t.isMobile?"":"Export PDF"]})]});return e.jsxs(jm,{title:"Cash Flow Statement",subtitle:`Track cash inflows and outflows for ${S()}`,actions:T,children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6 mb-6",children:[e.jsx(B,{title:"Operating Cash Flow",value:y.operatingCashFlow,icon:s6,color:"green",isPositive:y.operatingCashFlow>=0}),e.jsx(B,{title:"Investing Cash Flow",value:y.investingCashFlow,icon:sx,color:"blue",isPositive:y.investingCashFlow>=0}),e.jsx(B,{title:"Financing Cash Flow",value:y.financingCashFlow,icon:Zl,color:"purple",isPositive:y.financingCashFlow>=0}),e.jsx(B,{title:"Net Change in Cash",value:`${y.netChangeInCash>=0?"+":"-"}${F(y.netChangeInCash)}`,icon:y.netChangeInCash>=0?Wj:FL,color:y.netChangeInCash>=0?"green":"red"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-3 sm:p-4 mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ys,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:"Report Period"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 flex-1",children:[e.jsxs("select",{value:s,onChange:w=>r(w.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"current-month",children:"Current Month"}),e.jsx("option",{value:"previous-month",children:"Previous Month"}),e.jsx("option",{value:"quarter",children:"Current Quarter"}),e.jsx("option",{value:"ytd",children:"Year to Date"}),e.jsx("option",{value:"previous-year",children:"Previous Year"})]}),e.jsxs("select",{value:l,onChange:w=>d(w.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"previous-month",children:"Compare to Previous Month"}),e.jsx("option",{value:"previous-quarter",children:"Compare to Previous Quarter"}),e.jsx("option",{value:"previous-year",children:"Compare to Previous Year"})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-6",children:[e.jsxs("div",{className:"px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Cash Flow Statement"}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:["For the period: ",S()]})]}),e.jsx("div",{className:"bg-blue-50 px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-semibold text-blue-900 text-sm sm:text-base",children:"Beginning Cash Balance"}),e.jsx("span",{className:"font-bold text-blue-900 text-sm sm:text-base",children:F(y.beginningCash)})]})}),e.jsxs("div",{className:"border-b border-gray-100",children:[e.jsx(L,{title:t.isMobile?"Operating Activities":"Cash Flows from Operating Activities",amount:y.operatingCashFlow,previousAmount:b.operatingCashFlow,isExpanded:a.operating,onToggle:()=>k("operating"),icon:s6,color:"green"}),a.operating&&e.jsx("div",{className:"bg-green-25",children:Object.entries(f.operatingActivities).map(([w,E])=>e.jsx(I,{label:w.replace(/([A-Z])/g," $1").replace(/^./,D=>D.toUpperCase()),amount:E,previousAmount:g.operatingActivities[w]},w))})]}),e.jsxs("div",{className:"border-b border-gray-100",children:[e.jsx(L,{title:t.isMobile?"Investing Activities":"Cash Flows from Investing Activities",amount:y.investingCashFlow,previousAmount:b.investingCashFlow,isExpanded:a.investing,onToggle:()=>k("investing"),icon:sx,color:"blue"}),a.investing&&e.jsx("div",{className:"bg-blue-25",children:Object.entries(f.investingActivities).map(([w,E])=>e.jsx(I,{label:w.replace(/([A-Z])/g," $1").replace(/^./,D=>D.toUpperCase()),amount:E,previousAmount:g.investingActivities[w]},w))})]}),e.jsxs("div",{className:"border-b border-gray-100",children:[e.jsx(L,{title:t.isMobile?"Financing Activities":"Cash Flows from Financing Activities",amount:y.financingCashFlow,previousAmount:b.financingCashFlow,isExpanded:a.financing,onToggle:()=>k("financing"),icon:Zl,color:"purple"}),a.financing&&e.jsx("div",{className:"bg-purple-25",children:Object.entries(f.financingActivities).map(([w,E])=>e.jsx(I,{label:w.replace(/([A-Z])/g," $1").replace(/^./,D=>D.toUpperCase()),amount:E,previousAmount:g.financingActivities[w]},w))})]}),e.jsx("div",{className:`${y.netChangeInCash>=0?"bg-green-100":"bg-red-100"} px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200`,children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:`font-semibold text-sm sm:text-base ${y.netChangeInCash>=0?"text-green-900":"text-red-900"}`,children:"Net Change in Cash"}),e.jsxs("span",{className:`font-bold text-sm sm:text-base ${y.netChangeInCash>=0?"text-green-900":"text-red-900"}`,children:[y.netChangeInCash>=0?"+":"",F(y.netChangeInCash)]})]})}),e.jsx("div",{className:"bg-blue-100 px-4 sm:px-6 py-3 sm:py-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-bold text-blue-900 text-base sm:text-lg",children:"Ending Cash Balance"}),e.jsx("span",{className:"font-bold text-blue-900 text-base sm:text-lg",children:F(y.endingCash)})]})})]}),e.jsx(Pa,{children:e.jsxs(Lo,{cols:"grid-cols-1 lg:grid-cols-2",gap:"gap-4 sm:gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm sm:text-base mb-3 sm:mb-4",children:"Cash Flow Analysis"}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 text-sm sm:text-base",children:"Operating Cash Flow Margin"}),e.jsxs("span",{className:`font-semibold text-sm sm:text-base ${y.operatingCashFlow/1e5>.15?"text-green-600":"text-yellow-600"}`,children:[(y.operatingCashFlow/1e5*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 text-sm sm:text-base",children:"Free Cash Flow"}),e.jsx("span",{className:`font-semibold text-sm sm:text-base ${y.operatingCashFlow-15e3>=0?"text-green-600":"text-red-600"}`,children:F(y.operatingCashFlow-15e3)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 text-sm sm:text-base",children:"Cash Conversion Cycle"}),e.jsx("span",{className:"font-semibold text-blue-600 text-sm sm:text-base",children:"45 days"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm sm:text-base mb-3 sm:mb-4",children:"Financial Health Indicators"}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600 text-sm sm:text-base",children:"Operating Cash Flow"}),e.jsxs("div",{className:"flex items-center gap-2",children:[y.operatingCashFlow>0?e.jsx(vs,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-600"}):e.jsx(Hs,{className:"h-3 w-3 sm:h-4 sm:w-4 text-red-600"}),e.jsx("span",{className:`text-xs sm:text-sm ${y.operatingCashFlow>0?"text-green-600":"text-red-600"}`,children:y.operatingCashFlow>0?"Positive":"Negative"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600 text-sm sm:text-base",children:"Investment in Growth"}),e.jsxs("div",{className:"flex items-center gap-2",children:[y.investingCashFlow<0?e.jsx(vs,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-600"}):e.jsx(Hs,{className:"h-3 w-3 sm:h-4 sm:w-4 text-yellow-600"}),e.jsx("span",{className:`text-xs sm:text-sm ${y.investingCashFlow<0?"text-green-600":"text-yellow-600"}`,children:y.investingCashFlow<0?"Investing":"Divesting"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600 text-sm sm:text-base",children:"Overall Cash Position"}),e.jsxs("div",{className:"flex items-center gap-2",children:[y.netChangeInCash>=0?e.jsx(wi,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-600"}):e.jsx(rx,{className:"h-3 w-3 sm:h-4 sm:w-4 text-red-600"}),e.jsx("span",{className:`text-xs sm:text-sm ${y.netChangeInCash>=0?"text-green-600":"text-red-600"}`,children:y.netChangeInCash>=0?"Improving":"Declining"})]})]})]})]})]})})]})},Fme=()=>{const[t,s]=N.useState([]),[r,a]=N.useState([]),[n,i]=N.useState(""),[o,l]=N.useState("all"),[d,u]=N.useState(!1),[h,f]=N.useState(!1),[p,g]=N.useState(null),[v,y]=N.useState(!1),[b,_]=N.useState(!1),[k,A]=N.useState(null);N.useEffect(()=>{const B=Nue();s(B),a(B)},[]),N.useEffect(()=>{let B=t;n&&(B=B.filter(T=>T.id.toLowerCase().includes(n.toLowerCase())||T.customer.toLowerCase().includes(n.toLowerCase()))),o!=="all"&&(B=B.filter(T=>T.status===o)),a(B)},[n,o,t]);const R=B=>{switch(B){case"paid":return e.jsx(vs,{className:"h-4 w-4 text-green-500"});case"pending":return e.jsx(Ns,{className:"h-4 w-4 text-yellow-500"});case"overdue":return e.jsx(Hs,{className:"h-4 w-4 text-red-500"});default:return e.jsx(xs,{className:"h-4 w-4 text-gray-500"})}},F=B=>{switch(B){case"paid":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},V={total:r.reduce((B,T)=>B+T.amount,0),paid:r.filter(B=>B.status==="paid").reduce((B,T)=>B+T.amount,0),pending:r.filter(B=>B.status==="pending").reduce((B,T)=>B+T.amount,0),overdue:r.filter(B=>B.status==="overdue").reduce((B,T)=>B+T.amount,0)},S=({isOpen:B,onClose:T})=>{const[w,E]=N.useState({customer:"",customerEmail:"",date:new Date().toISOString().split("T")[0],dueDate:"",status:"pending",items:[{description:"",quantity:1,rate:0,amount:0}]}),[D,G]=N.useState({});N.useEffect(()=>{B&&(E({customer:"",customerEmail:"",date:new Date().toISOString().split("T")[0],dueDate:"",status:"pending",items:[{description:"",quantity:1,rate:0,amount:0}]}),G({}))},[B]);const K=()=>{E(U=>({...U,items:[...U.items,{description:"",quantity:1,rate:0,amount:0}]}))},X=U=>{w.items.length>1&&E(O=>({...O,items:O.items.filter((z,q)=>q!==U)}))},se=(U,O,z)=>{const q=[...w.items];q[U]={...q[U],[O]:z},(O==="quantity"||O==="rate")&&(q[U].amount=q[U].quantity*q[U].rate),E(te=>({...te,items:q}))},Z=()=>w.items.reduce((U,O)=>U+(O.amount||0),0),ee=()=>{const U={};return w.customer.trim()||(U.customer="Customer name is required"),w.customerEmail.trim()||(U.customerEmail="Customer email is required"),w.dueDate||(U.dueDate="Due date is required"),w.items.forEach((O,z)=>{O.description.trim()||(U[`item_${z}_description`]="Description is required"),O.quantity<=0&&(U[`item_${z}_quantity`]="Quantity must be greater than 0"),O.rate<=0&&(U[`item_${z}_rate`]="Rate must be greater than 0")}),G(U),Object.keys(U).length===0},ce=async U=>{if(U.preventDefault(),!!ee()){y(!0);try{const O={...w,amount:Z()},z=Iue(O);s(q=>[...q,z]),a(q=>[...q,z]),T()}catch(O){console.error("Error creating invoice:",O)}finally{y(!1)}}};return B?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-semibold",children:"Create New Invoice"}),e.jsx("button",{onClick:T,className:"text-gray-400 hover:text-gray-600",children:e.jsx(zt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),e.jsxs("form",{onSubmit:ce,children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-4 sm:mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Name *"}),e.jsx("input",{type:"text",value:w.customer,onChange:U=>E(O=>({...O,customer:U.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${D.customer?"border-red-500":"border-gray-300"}`,placeholder:"Enter customer name"}),D.customer&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:D.customer})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Email *"}),e.jsx("input",{type:"email",value:w.customerEmail,onChange:U=>E(O=>({...O,customerEmail:U.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${D.customerEmail?"border-red-500":"border-gray-300"}`,placeholder:"Enter customer email"}),D.customerEmail&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:D.customerEmail})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-4 sm:mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Invoice Date *"}),e.jsx("input",{type:"date",value:w.date,onChange:U=>E(O=>({...O,date:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date *"}),e.jsx("input",{type:"date",value:w.dueDate,onChange:U=>E(O=>({...O,dueDate:U.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${D.dueDate?"border-red-500":"border-gray-300"}`}),D.dueDate&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:D.dueDate})]}),e.jsxs("div",{className:"sm:col-span-2 lg:col-span-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:w.status,onChange:U=>E(O=>({...O,status:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"overdue",children:"Overdue"})]})]})]}),e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 mb-4",children:[e.jsx("h4",{className:"text-base sm:text-lg font-medium text-gray-900",children:"Invoice Items"}),e.jsxs("button",{type:"button",onClick:K,className:"bg-green-600 text-white px-3 py-1 rounded-lg hover:bg-green-700 flex items-center gap-2 text-sm w-full sm:w-auto justify-center",children:[e.jsx(bs,{className:"h-4 w-4"}),"Add Item"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"border border-gray-300 px-2 sm:px-4 py-2 text-left",children:"Description *"}),e.jsx("th",{className:"border border-gray-300 px-2 sm:px-4 py-2 text-center",children:"Qty *"}),e.jsx("th",{className:"border border-gray-300 px-2 sm:px-4 py-2 text-right",children:"Rate *"}),e.jsx("th",{className:"border border-gray-300 px-2 sm:px-4 py-2 text-right",children:"Amount"}),e.jsx("th",{className:"border border-gray-300 px-2 sm:px-4 py-2 text-center",children:"Action"})]})}),e.jsx("tbody",{children:w.items.map((U,O)=>e.jsxs("tr",{children:[e.jsxs("td",{className:"border border-gray-300 px-2 sm:px-4 py-2",children:[e.jsx("input",{type:"text",value:U.description,onChange:z=>se(O,"description",z.target.value),className:`w-full px-2 py-1 border rounded focus:ring-1 focus:ring-blue-500 text-sm ${D[`item_${O}_description`]?"border-red-500":"border-gray-300"}`,placeholder:"Item description"}),D[`item_${O}_description`]&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:D[`item_${O}_description`]})]}),e.jsxs("td",{className:"border border-gray-300 px-2 sm:px-4 py-2",children:[e.jsx("input",{type:"number",min:"1",value:U.quantity,onChange:z=>se(O,"quantity",parseFloat(z.target.value)||0),className:`w-full px-2 py-1 border rounded focus:ring-1 focus:ring-blue-500 text-center text-sm ${D[`item_${O}_quantity`]?"border-red-500":"border-gray-300"}`}),D[`item_${O}_quantity`]&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:D[`item_${O}_quantity`]})]}),e.jsxs("td",{className:"border border-gray-300 px-2 sm:px-4 py-2",children:[e.jsx("input",{type:"number",min:"0",step:"0.01",value:U.rate,onChange:z=>se(O,"rate",parseFloat(z.target.value)||0),className:`w-full px-2 py-1 border rounded focus:ring-1 focus:ring-blue-500 text-right text-sm ${D[`item_${O}_rate`]?"border-red-500":"border-gray-300"}`}),D[`item_${O}_rate`]&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:D[`item_${O}_rate`]})]}),e.jsxs("td",{className:"border border-gray-300 px-2 sm:px-4 py-2 text-right font-medium text-sm",children:["$",U.amount.toFixed(2)]}),e.jsx("td",{className:"border border-gray-300 px-2 sm:px-4 py-2 text-center",children:w.items.length>1&&e.jsx("button",{type:"button",onClick:()=>X(O),className:"text-red-600 hover:text-red-800",children:e.jsx(ns,{className:"h-4 w-4"})})})]},O))}),e.jsx("tfoot",{children:e.jsxs("tr",{className:"bg-gray-50 font-semibold",children:[e.jsx("td",{colSpan:"3",className:"border border-gray-300 px-2 sm:px-4 py-2 text-right text-sm",children:"Total:"}),e.jsxs("td",{className:"border border-gray-300 px-2 sm:px-4 py-2 text-right text-sm",children:["$",Z().toFixed(2)]}),e.jsx("td",{className:"border border-gray-300 px-2 sm:px-4 py-2"})]})})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:T,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 order-2 sm:order-1",disabled:v,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:v,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 justify-center disabled:opacity-50 disabled:cursor-not-allowed order-1 sm:order-2",children:v?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(bs,{className:"h-4 w-4"}),"Create Invoice"]})})]})]})]})}):null},L=({invoice:B,onClose:T})=>B?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[e.jsxs("h3",{className:"text-lg sm:text-xl font-semibold",children:["Invoice Details - ",B.id]}),e.jsx("button",{onClick:T,className:"text-gray-400 hover:text-gray-600",children:e.jsx(zt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 mb-4 sm:mb-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-2 text-sm sm:text-base",children:"Invoice Information"}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Date:"})," ",new Date(B.date).toLocaleDateString()]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Due Date:"})," ",new Date(B.dueDate).toLocaleDateString()]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("strong",{className:"text-sm",children:"Status:"}),R(B.status),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${F(B.status)}`,children:B.status.charAt(0).toUpperCase()+B.status.slice(1)})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-2 text-sm sm:text-base",children:"Customer Information"}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Name:"})," ",B.customer]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Email:"})," ",B.customerEmail]})]})]}),e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-4 text-sm sm:text-base",children:"Invoice Items"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"border border-gray-300 px-2 sm:px-4 py-2 text-left",children:"Description"}),e.jsx("th",{className:"border border-gray-300 px-2 sm:px-4 py-2 text-center",children:"Qty"}),e.jsx("th",{className:"border border-gray-300 px-2 sm:px-4 py-2 text-right",children:"Rate"}),e.jsx("th",{className:"border border-gray-300 px-2 sm:px-4 py-2 text-right",children:"Amount"})]})}),e.jsx("tbody",{children:B.items.map((w,E)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 px-2 sm:px-4 py-2",children:w.description}),e.jsx("td",{className:"border border-gray-300 px-2 sm:px-4 py-2 text-center",children:w.quantity}),e.jsxs("td",{className:"border border-gray-300 px-2 sm:px-4 py-2 text-right",children:["$",w.rate.toFixed(2)]}),e.jsxs("td",{className:"border border-gray-300 px-2 sm:px-4 py-2 text-right",children:["$",w.amount.toFixed(2)]})]},E))}),e.jsx("tfoot",{children:e.jsxs("tr",{className:"bg-gray-50 font-semibold",children:[e.jsx("td",{colSpan:"3",className:"border border-gray-300 px-2 sm:px-4 py-2 text-right text-sm",children:"Total:"}),e.jsxs("td",{className:"border border-gray-300 px-2 sm:px-4 py-2 text-right text-sm",children:["$",B.amount.toFixed(2)]})]})})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[e.jsx("button",{onClick:T,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 order-2 sm:order-1",children:"Close"}),e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 justify-center order-1 sm:order-2",children:[e.jsx(Mn,{className:"h-4 w-4"}),"Download PDF"]})]})]})}):null,I=({invoice:B})=>{const T=k===B.id;return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>A(T?null:B.id),children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(xs,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:B.id})]}),e.jsx("div",{className:"text-sm font-medium text-gray-900 mb-1",children:B.customer}),e.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:["$",B.amount.toFixed(2)]}),e.jsxs("div",{className:"flex items-center gap-2",children:[R(B.status),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${F(B.status)}`,children:B.status.charAt(0).toUpperCase()+B.status.slice(1)})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-sm text-gray-500",children:new Date(B.date).toLocaleDateString()})}),T?e.jsx(Yj,{className:"h-4 w-4"}):e.jsx(dn,{className:"h-4 w-4"})]})]}),T&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500",children:"Due Date"}),e.jsx("div",{children:new Date(B.dueDate).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500",children:"Email"}),e.jsx("div",{className:"truncate",children:B.customerEmail})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:[B.items.length," item",B.items.length!==1?"s":""]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{g(B),f(!0)},className:"text-blue-600 hover:text-blue-900 p-1",children:e.jsx(Or,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-green-600 hover:text-green-900 p-1",children:e.jsx(tr,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900 p-1",children:e.jsx(ns,{className:"h-4 w-4"})})]})]})]})]})};return e.jsx("div",{className:"min-h-screen bg-gray-50 p-3 sm:p-4 md:p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6 mb-4 sm:mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Invoices"}),e.jsx("p",{className:"text-gray-600 mt-1 text-sm sm:text-base",children:"Manage and track your invoices"})]}),e.jsxs("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2 w-full sm:w-auto justify-center",children:[e.jsx(bs,{className:"h-4 w-4 sm:h-5 sm:w-5"}),e.jsx("span",{className:"text-sm sm:text-base",children:"New Invoice"})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 md:gap-6 mb-4 sm:mb-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Amount"}),e.jsxs("p",{className:"text-lg sm:text-xl font-bold text-gray-900",children:["$",V.total.toFixed(2)]})]}),e.jsx(Qs,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Paid"}),e.jsxs("p",{className:"text-lg sm:text-xl font-bold text-green-600",children:["$",V.paid.toFixed(2)]})]}),e.jsx(vs,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Pending"}),e.jsxs("p",{className:"text-lg sm:text-xl font-bold text-yellow-600",children:["$",V.pending.toFixed(2)]})]}),e.jsx(Ns,{className:"h-6 w-6 sm:h-8 sm:w-8 text-yellow-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Overdue"}),e.jsxs("p",{className:"text-lg sm:text-xl font-bold text-red-600",children:["$",V.overdue.toFixed(2)]})]}),e.jsx(Hs,{className:"h-6 w-6 sm:h-8 sm:w-8 text-red-600"})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6 mb-4 sm:mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(or,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search invoices...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base",value:n,onChange:B=>i(B.target.value)})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("select",{value:o,onChange:B=>l(B.target.value),className:"px-3 sm:px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base flex-1",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"overdue",children:"Overdue"})]}),e.jsxs("button",{className:"px-3 sm:px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 text-sm sm:text-base",children:[e.jsx(un,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"More Filters"})]})]})]})}),e.jsx("div",{className:"hidden md:block bg-white rounded-lg shadow-sm overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice"}),e.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),e.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),e.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(B=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(xs,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:B.id})]})}),e.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.customer}),e.jsx("div",{className:"text-sm text-gray-500",children:B.customerEmail})]})}),e.jsxs("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["$",B.amount.toFixed(2)]}),e.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(B.date).toLocaleDateString()}),e.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(B.dueDate).toLocaleDateString()}),e.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[R(B.status),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${F(B.status)}`,children:B.status.charAt(0).toUpperCase()+B.status.slice(1)})]})}),e.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{g(B),f(!0)},className:"text-blue-600 hover:text-blue-900",children:e.jsx(Or,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-green-600 hover:text-green-900",children:e.jsx(tr,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:e.jsx(ns,{className:"h-4 w-4"})})]})})]},B.id))})]})})}),e.jsx("div",{className:"md:hidden",children:r.map(B=>e.jsx(I,{invoice:B},B.id))}),r.length===0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[e.jsx(xs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No invoices found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:t.length===0?"Get started by creating your first invoice.":"Try adjusting your search or filter criteria."}),t.length===0&&e.jsxs("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2 mx-auto",children:[e.jsx(bs,{className:"h-4 w-4"}),"Create First Invoice"]})]}),e.jsx(S,{isOpen:d,onClose:()=>u(!1)}),h&&e.jsx(L,{invoice:p,onClose:()=>{f(!1),g(null)}})]})})},Rme=()=>{const[t,s]=N.useState([]),[r,a]=N.useState([]),[n,i]=N.useState(""),[o,l]=N.useState("all"),[d,u]=N.useState(!1),[h,f]=N.useState(!1),[p,g]=N.useState(null),[v,y]=N.useState(window.innerWidth<768),[b,_]=N.useState(!1),[k,A]=N.useState({});N.useEffect(()=>{const w=()=>{y(window.innerWidth<768)};return window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]),N.useEffect(()=>{const w=w1();s(w),a(w)},[]),N.useEffect(()=>{let w=t;n&&(w=w.filter(E=>E.returnNumber.toLowerCase().includes(n.toLowerCase())||E.supplier.toLowerCase().includes(n.toLowerCase())||E.originalGRN.toLowerCase().includes(n.toLowerCase()))),o!=="all"&&(w=w.filter(E=>E.status.toLowerCase()===o)),a(w)},[n,o,t]);const R=w=>{switch(w.toLowerCase()){case"approved":return e.jsx(vs,{className:"h-4 w-4 text-green-500"});case"pending":return e.jsx(Ns,{className:"h-4 w-4 text-yellow-500"});case"rejected":return e.jsx(Hs,{className:"h-4 w-4 text-red-500"});default:return e.jsx(ll,{className:"h-4 w-4 text-gray-500"})}},F=w=>{switch(w.toLowerCase()){case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},V=w=>{A(E=>({...E,[w]:!E[w]}))},S={total:r.reduce((w,E)=>w+E.totalAmount,0),approved:r.filter(w=>w.status.toLowerCase()==="approved").reduce((w,E)=>w+E.totalAmount,0),pending:r.filter(w=>w.status.toLowerCase()==="pending").reduce((w,E)=>w+E.totalAmount,0),count:r.length},L=w=>{iM(w);const E=w1();s(E),a(E),f(!1)},I=({onClose:w,onSave:E})=>{const[D,G]=N.useState({supplier:"",originalGRN:"",date:new Date().toISOString().split("T")[0],reason:"",status:"Pending",items:[{productName:"",quantity:1,unitPrice:0,total:0}]}),[K,X]=N.useState(0);N.useEffect(()=>{const O=D.items.reduce((z,q)=>z+q.total,0);X(O)},[D.items]);const se=(O,z)=>{G(q=>({...q,[O]:z}))},Z=(O,z,q)=>{const te=[...D.items];te[O][z]=q,(z==="quantity"||z==="unitPrice")&&(te[O].total=te[O].quantity*te[O].unitPrice),G(ge=>({...ge,items:te}))},ee=()=>{G(O=>({...O,items:[...O.items,{productName:"",quantity:1,unitPrice:0,total:0}]}))},ce=O=>{if(D.items.length>1){const z=D.items.filter((q,te)=>te!==O);G(q=>({...q,items:z}))}},U=O=>{if(O.preventDefault(),!D.supplier||!D.originalGRN||!D.reason){alert("Please fill in all required fields");return}if(D.items.some(q=>!q.productName||q.quantity<=0||q.unitPrice<=0)){alert("Please fill in all item details correctly");return}const z={...D,totalAmount:K};E(z)};return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 sticky top-0 bg-white",children:[e.jsx("h3",{className:"text-lg md:text-xl font-semibold",children:"Create New Purchase Return"}),e.jsx("button",{onClick:w,className:"text-gray-400 hover:text-gray-600",children:e.jsx(zt,{className:"h-5 w-5 md:h-6 md:w-6"})})]}),e.jsxs("form",{onSubmit:U,className:"p-4 md:p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier *"}),e.jsx("input",{type:"text",value:D.supplier,onChange:O=>se("supplier",O.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Original GRN *"}),e.jsx("input",{type:"text",value:D.originalGRN,onChange:O=>se("originalGRN",O.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Return Date"}),e.jsx("input",{type:"date",value:D.date,onChange:O=>se("date",O.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:D.status,onChange:O=>se("status",O.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Approved",children:"Approved"}),e.jsx("option",{value:"Rejected",children:"Rejected"})]})]}),e.jsxs("div",{className:"col-span-1 md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason *"}),e.jsx("textarea",{value:D.reason,onChange:O=>se("reason",O.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",rows:"3",placeholder:"Enter reason for return",required:!0})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 mb-4",children:[e.jsx("h4",{className:"text-base md:text-lg font-medium text-gray-700",children:"Return Items"}),e.jsxs("button",{type:"button",onClick:ee,className:"bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 flex items-center justify-center gap-2 text-sm w-full sm:w-auto",children:[e.jsx(bs,{className:"h-4 w-4"}),"Add Item"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-left",children:"Product Name *"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:"Qty *"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right",children:"Price *"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right",children:"Total"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:"Actions"})]})}),e.jsx("tbody",{children:D.items.map((O,z)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2",children:e.jsx("input",{type:"text",value:O.productName,onChange:q=>Z(z,"productName",q.target.value),className:"w-full border-0 focus:ring-0 focus:outline-none text-sm",placeholder:"Product name",required:!0})}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2",children:e.jsx("input",{type:"number",value:O.quantity,onChange:q=>Z(z,"quantity",parseInt(q.target.value)||0),className:"w-full border-0 focus:ring-0 focus:outline-none text-center text-sm",min:"1",required:!0})}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2",children:e.jsx("input",{type:"number",value:O.unitPrice,onChange:q=>Z(z,"unitPrice",parseFloat(q.target.value)||0),className:"w-full border-0 focus:ring-0 focus:outline-none text-right text-sm",step:"0.01",min:"0",required:!0})}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right font-medium text-sm",children:["$",O.total.toFixed(2)]}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:e.jsx("button",{type:"button",onClick:()=>ce(z),className:"text-red-600 hover:text-red-800 disabled:text-gray-400",disabled:D.items.length===1,children:e.jsx(ns,{className:"h-4 w-4"})})})]},z))}),e.jsx("tfoot",{children:e.jsxs("tr",{className:"bg-gray-100 font-bold",children:[e.jsx("td",{colSpan:"3",className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:"Total Amount:"}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:["$",K.toFixed(2)]}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2"})]})})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm md:text-base order-2 sm:order-1",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm md:text-base order-1 sm:order-2",children:"Create Purchase Return"})]})]})]})})},B=({returnItem:w,onClose:E})=>w?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 sticky top-0 bg-white",children:[e.jsxs("h3",{className:"text-lg md:text-xl font-semibold",children:["Purchase Return - ",w.returnNumber]}),e.jsx("button",{onClick:E,className:"text-gray-400 hover:text-gray-600",children:e.jsx(zt,{className:"h-5 w-5 md:h-6 md:w-6"})})]}),e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-3 text-sm md:text-base",children:"Return Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Return Number:"})," ",w.returnNumber]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Original GRN:"})," ",w.originalGRN]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",new Date(w.date).toLocaleDateString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Reason:"})," ",w.reason]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Status:"}),R(w.status),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${F(w.status)}`,children:w.status})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-3 text-sm md:text-base",children:"Supplier Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Supplier:"})," ",w.supplier]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Total Amount:"})," $",w.totalAmount.toFixed(2)]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-3 text-sm md:text-base",children:"Return Items"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-left",children:"Product"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:"Qty"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right",children:"Price"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right",children:"Total"})]})}),e.jsx("tbody",{children:w.items.map((D,G)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-sm",children:D.productName}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center text-sm",children:D.quantity}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:["$",D.unitPrice.toFixed(2)]}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:["$",D.total.toFixed(2)]})]},G))}),e.jsx("tfoot",{children:e.jsxs("tr",{className:"bg-gray-100 font-bold",children:[e.jsx("td",{colSpan:"3",className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:"Total Amount:"}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:["$",w.totalAmount.toFixed(2)]})]})})]})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:E,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm md:text-base w-full sm:w-auto",children:"Close"})})]})]})}):null,T=({returnItem:w})=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-3",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ll,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.returnNumber})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>V(w.id),className:"text-gray-400 hover:text-gray-600 p-1",children:e.jsx(T0,{className:"h-4 w-4"})}),k[w.id]&&e.jsxs("div",{className:"absolute right-0 top-6 bg-white border border-gray-200 rounded-lg shadow-lg z-10 min-w-32",children:[e.jsxs("button",{onClick:()=>{g(w),u(!0),A({})},className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 border-b border-gray-100",children:[e.jsx(Or,{className:"h-4 w-4"}),"View"]}),e.jsxs("button",{className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 border-b border-gray-100",children:[e.jsx(tr,{className:"h-4 w-4"}),"Edit"]}),e.jsxs("button",{className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-gray-50",children:[e.jsx(ns,{className:"h-4 w-4"}),"Delete"]})]})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Supplier:"}),e.jsx("span",{className:"font-medium",children:w.supplier})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"GRN Number:"}),e.jsx("span",{className:"text-xs font-mono",children:w.originalGRN})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Date:"}),e.jsx("span",{children:new Date(w.date).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Amount:"}),e.jsxs("span",{className:"font-medium",children:["$",w.totalAmount.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:"text-gray-600",children:"Reason:"}),e.jsx("span",{className:"text-right text-xs flex-1 ml-2",children:w.reason})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Status:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[R(w.status),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${F(w.status)}`,children:w.status})]})]})]})]});return e.jsx("div",{className:"min-h-screen bg-gray-50 p-3 md:p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 md:p-6 mb-4 md:mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Purchase Returns"}),e.jsx("p",{className:"text-gray-600 mt-1 text-sm md:text-base",children:"Manage returns to suppliers"})]}),e.jsxs("button",{onClick:()=>f(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2 text-sm md:text-base w-full sm:w-auto",children:[e.jsx(bs,{className:"h-4 w-4 md:h-5 md:w-5"}),"New Purchase Return"]})]})}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-6 mb-4 md:mb-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Total Returns"}),e.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:S.count})]}),e.jsx(ll,{className:"h-6 w-6 md:h-8 md:w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Total Value"}),e.jsxs("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:["$",S.total.toFixed(2)]})]}),e.jsx(Qs,{className:"h-6 w-6 md:h-8 md:w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Approved"}),e.jsxs("p",{className:"text-lg md:text-2xl font-bold text-green-600",children:["$",S.approved.toFixed(2)]})]}),e.jsx(vs,{className:"h-6 w-6 md:h-8 md:w-8 text-green-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Pending"}),e.jsxs("p",{className:"text-lg md:text-2xl font-bold text-yellow-600",children:["$",S.pending.toFixed(2)]})]}),e.jsx(Ns,{className:"h-6 w-6 md:h-8 md:w-8 text-yellow-600"})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 md:p-6 mb-4 md:mb-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(or,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search purchase returns...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",value:n,onChange:w=>i(w.target.value)})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("select",{value:o,onChange:w=>l(w.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"})]}),e.jsx("button",{onClick:()=>_(!b),className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 sm:hidden",children:e.jsx(un,{className:"h-4 w-4"})})]}),e.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center justify-center gap-2 text-sm md:text-base hidden sm:flex",children:[e.jsx(un,{className:"h-4 w-4"}),"More Filters"]})]}),b&&e.jsxs("div",{className:"sm:hidden space-y-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),e.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[e.jsx("option",{children:"All Time"}),e.jsx("option",{children:"Last 7 Days"}),e.jsx("option",{children:"Last 30 Days"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount Range"}),e.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[e.jsx("option",{children:"Any Amount"}),e.jsx("option",{children:"Under $100"}),e.jsx("option",{children:"$100 - $500"})]})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:v?e.jsx("div",{className:"p-4",children:r.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No purchase returns found"}):r.map(w=>e.jsx(T,{returnItem:w},w.id))}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Return Number"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Supplier"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Original GRN"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(w=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ll,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.returnNumber})]})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.supplier})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:w.originalGRN}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(w.date).toLocaleDateString()}),e.jsxs("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["$",w.totalAmount.toFixed(2)]}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500 max-w-xs truncate",children:w.reason}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[R(w.status),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${F(w.status)}`,children:w.status})]})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{g(w),u(!0)},className:"text-blue-600 hover:text-blue-900",children:e.jsx(Or,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-green-600 hover:text-green-900",children:e.jsx(tr,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:e.jsx(ns,{className:"h-4 w-4"})})]})})]},w.id))})]})})}),d&&e.jsx(B,{returnItem:p,onClose:()=>{u(!1),g(null)}}),h&&e.jsx(I,{onClose:()=>f(!1),onSave:L})]})})},Ome=()=>{const[t,s]=N.useState([]),[r,a]=N.useState([]),[n,i]=N.useState(""),[o,l]=N.useState("all"),[d,u]=N.useState(!1),[h,f]=N.useState(!1),[p,g]=N.useState(null),[v,y]=N.useState(window.innerWidth<768),[b,_]=N.useState(!1),[k,A]=N.useState({});N.useEffect(()=>{const w=()=>{y(window.innerWidth<768)};return window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]),N.useEffect(()=>{const w=hA();s(w),a(w)},[]),N.useEffect(()=>{let w=t;n&&(w=w.filter(E=>E.returnNumber.toLowerCase().includes(n.toLowerCase())||E.customer.toLowerCase().includes(n.toLowerCase())||E.originalInvoice.toLowerCase().includes(n.toLowerCase()))),o!=="all"&&(w=w.filter(E=>E.status.toLowerCase()===o)),a(w)},[n,o,t]);const R=w=>{switch(w.toLowerCase()){case"approved":return e.jsx(vs,{className:"h-4 w-4 text-green-500"});case"pending":return e.jsx(Ns,{className:"h-4 w-4 text-yellow-500"});case"rejected":return e.jsx(Hs,{className:"h-4 w-4 text-red-500"});default:return e.jsx(ll,{className:"h-4 w-4 text-gray-500"})}},F=w=>{switch(w.toLowerCase()){case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},V=w=>{A(E=>({...E,[w]:!E[w]}))},S={total:r.reduce((w,E)=>w+E.totalAmount,0),approved:r.filter(w=>w.status.toLowerCase()==="approved").reduce((w,E)=>w+E.totalAmount,0),pending:r.filter(w=>w.status.toLowerCase()==="pending").reduce((w,E)=>w+E.totalAmount,0),count:r.length},L=w=>{Aue(w);const E=hA();s(E),a(E),f(!1)},I=({onClose:w,onSave:E})=>{const[D,G]=N.useState({customer:"",originalInvoice:"",date:new Date().toISOString().split("T")[0],reason:"",status:"Pending",items:[{productName:"",quantity:1,unitPrice:0,total:0}]}),[K,X]=N.useState(0),[se]=N.useState(.1),[Z,ee]=N.useState(0),[ce,U]=N.useState(0);N.useEffect(()=>{const Q=D.items.reduce((oe,J)=>oe+J.total,0),ue=Q*se,ie=Q+ue;X(Q),ee(ue),U(ie)},[D.items,se]);const O=(Q,ue)=>{G(ie=>({...ie,[Q]:ue}))},z=(Q,ue,ie)=>{const oe=[...D.items];oe[Q][ue]=ie,(ue==="quantity"||ue==="unitPrice")&&(oe[Q].total=oe[Q].quantity*oe[Q].unitPrice),G(J=>({...J,items:oe}))},q=()=>{G(Q=>({...Q,items:[...Q.items,{productName:"",quantity:1,unitPrice:0,total:0}]}))},te=Q=>{if(D.items.length>1){const ue=D.items.filter((ie,oe)=>oe!==Q);G(ie=>({...ie,items:ue}))}},ge=Q=>{if(Q.preventDefault(),!D.customer||!D.originalInvoice||!D.reason){alert("Please fill in all required fields");return}if(D.items.some(ie=>!ie.productName||ie.quantity<=0||ie.unitPrice<=0)){alert("Please fill in all item details correctly");return}const ue={...D,subtotal:K,tax:Z,totalAmount:ce};E(ue)};return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 sticky top-0 bg-white",children:[e.jsx("h3",{className:"text-lg md:text-xl font-semibold",children:"Create New Sales Return"}),e.jsx("button",{onClick:w,className:"text-gray-400 hover:text-gray-600",children:e.jsx(zt,{className:"h-5 w-5 md:h-6 md:w-6"})})]}),e.jsxs("form",{onSubmit:ge,className:"p-4 md:p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer *"}),e.jsx("input",{type:"text",value:D.customer,onChange:Q=>O("customer",Q.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Original Invoice *"}),e.jsx("input",{type:"text",value:D.originalInvoice,onChange:Q=>O("originalInvoice",Q.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Return Date"}),e.jsx("input",{type:"date",value:D.date,onChange:Q=>O("date",Q.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:D.status,onChange:Q=>O("status",Q.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Approved",children:"Approved"}),e.jsx("option",{value:"Rejected",children:"Rejected"})]})]}),e.jsxs("div",{className:"col-span-1 md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason *"}),e.jsx("textarea",{value:D.reason,onChange:Q=>O("reason",Q.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",rows:"3",placeholder:"Enter reason for return",required:!0})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 mb-4",children:[e.jsx("h4",{className:"text-base md:text-lg font-medium text-gray-700",children:"Return Items"}),e.jsxs("button",{type:"button",onClick:q,className:"bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 flex items-center justify-center gap-2 text-sm w-full sm:w-auto",children:[e.jsx(bs,{className:"h-4 w-4"}),"Add Item"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-left",children:"Product Name *"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:"Qty *"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right",children:"Price *"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right",children:"Total"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:"Actions"})]})}),e.jsx("tbody",{children:D.items.map((Q,ue)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2",children:e.jsx("input",{type:"text",value:Q.productName,onChange:ie=>z(ue,"productName",ie.target.value),className:"w-full border-0 focus:ring-0 focus:outline-none text-sm",placeholder:"Product name",required:!0})}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2",children:e.jsx("input",{type:"number",value:Q.quantity,onChange:ie=>z(ue,"quantity",parseInt(ie.target.value)||0),className:"w-full border-0 focus:ring-0 focus:outline-none text-center text-sm",min:"1",required:!0})}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2",children:e.jsx("input",{type:"number",value:Q.unitPrice,onChange:ie=>z(ue,"unitPrice",parseFloat(ie.target.value)||0),className:"w-full border-0 focus:ring-0 focus:outline-none text-right text-sm",step:"0.01",min:"0",required:!0})}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right font-medium text-sm",children:["$",Q.total.toFixed(2)]}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:e.jsx("button",{type:"button",onClick:()=>te(ue),className:"text-red-600 hover:text-red-800 disabled:text-gray-400",disabled:D.items.length===1,children:e.jsx(ns,{className:"h-4 w-4"})})})]},ue))}),e.jsxs("tfoot",{children:[e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("td",{colSpan:"3",className:"border border-gray-300 px-2 md:px-4 py-2 text-right font-semibold text-sm",children:"Subtotal:"}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right font-semibold text-sm",children:["$",K.toFixed(2)]}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2"})]}),e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("td",{colSpan:"3",className:"border border-gray-300 px-2 md:px-4 py-2 text-right font-semibold text-sm",children:"Tax (10%):"}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right font-semibold text-sm",children:["$",Z.toFixed(2)]}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2"})]}),e.jsxs("tr",{className:"bg-gray-100 font-bold",children:[e.jsx("td",{colSpan:"3",className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:"Total Amount:"}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:["$",ce.toFixed(2)]}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2"})]})]})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm md:text-base order-2 sm:order-1",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm md:text-base order-1 sm:order-2",children:"Create Sales Return"})]})]})]})})},B=({returnItem:w,onClose:E})=>w?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 sticky top-0 bg-white",children:[e.jsxs("h3",{className:"text-lg md:text-xl font-semibold",children:["Sales Return - ",w.returnNumber]}),e.jsx("button",{onClick:E,className:"text-gray-400 hover:text-gray-600",children:e.jsx(zt,{className:"h-5 w-5 md:h-6 md:w-6"})})]}),e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-3 text-sm md:text-base",children:"Return Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Return Number:"})," ",w.returnNumber]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Original Invoice:"})," ",w.originalInvoice]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",new Date(w.date).toLocaleDateString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Reason:"})," ",w.reason]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Status:"}),R(w.status),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${F(w.status)}`,children:w.status})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-3 text-sm md:text-base",children:"Customer Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Customer:"})," ",w.customer]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Total Amount:"})," $",w.totalAmount.toFixed(2)]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-3 text-sm md:text-base",children:"Return Items"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-left",children:"Product"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:"Qty"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right",children:"Price"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right",children:"Total"})]})}),e.jsx("tbody",{children:w.items.map((D,G)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2",children:D.productName}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:D.quantity}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right",children:["$",D.unitPrice.toFixed(2)]}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right",children:["$",D.total.toFixed(2)]})]},G))}),e.jsxs("tfoot",{children:[e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("td",{colSpan:"3",className:"border border-gray-300 px-2 md:px-4 py-2 text-right font-semibold text-sm",children:"Subtotal:"}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right font-semibold text-sm",children:["$",w.subtotal.toFixed(2)]})]}),e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("td",{colSpan:"3",className:"border border-gray-300 px-2 md:px-4 py-2 text-right font-semibold text-sm",children:"Tax:"}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right font-semibold text-sm",children:["$",w.tax.toFixed(2)]})]}),e.jsxs("tr",{className:"bg-gray-100 font-bold",children:[e.jsx("td",{colSpan:"3",className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:"Total Amount:"}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:["$",w.totalAmount.toFixed(2)]})]})]})]})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:E,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm md:text-base w-full sm:w-auto",children:"Close"})})]})]})}):null,T=({returnItem:w})=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-3",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ll,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.returnNumber})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>V(w.id),className:"text-gray-400 hover:text-gray-600 p-1",children:e.jsx(T0,{className:"h-4 w-4"})}),k[w.id]&&e.jsxs("div",{className:"absolute right-0 top-6 bg-white border border-gray-200 rounded-lg shadow-lg z-10 min-w-32",children:[e.jsxs("button",{onClick:()=>{g(w),u(!0),A({})},className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 border-b border-gray-100",children:[e.jsx(Or,{className:"h-4 w-4"}),"View"]}),e.jsxs("button",{className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 border-b border-gray-100",children:[e.jsx(tr,{className:"h-4 w-4"}),"Edit"]}),e.jsxs("button",{className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-gray-50",children:[e.jsx(ns,{className:"h-4 w-4"}),"Delete"]})]})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Customer:"}),e.jsx("span",{className:"font-medium",children:w.customer})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Invoice:"}),e.jsx("span",{className:"text-xs font-mono",children:w.originalInvoice})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Date:"}),e.jsx("span",{children:new Date(w.date).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Amount:"}),e.jsxs("span",{className:"font-medium",children:["$",w.totalAmount.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:"text-gray-600",children:"Reason:"}),e.jsx("span",{className:"text-right text-xs flex-1 ml-2",children:w.reason})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Status:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[R(w.status),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${F(w.status)}`,children:w.status})]})]})]})]});return e.jsx("div",{className:"min-h-screen bg-gray-50 p-3 md:p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 md:p-6 mb-4 md:mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Sales Returns"}),e.jsx("p",{className:"text-gray-600 mt-1 text-sm md:text-base",children:"Manage and track customer returns"})]}),e.jsxs("button",{onClick:()=>f(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2 text-sm md:text-base w-full sm:w-auto",children:[e.jsx(bs,{className:"h-4 w-4 md:h-5 md:w-5"}),"New Sales Return"]})]})}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-6 mb-4 md:mb-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Total Returns"}),e.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:S.count})]}),e.jsx(ll,{className:"h-6 w-6 md:h-8 md:w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Total Value"}),e.jsxs("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:["$",S.total.toFixed(2)]})]}),e.jsx(Qs,{className:"h-6 w-6 md:h-8 md:w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Approved"}),e.jsxs("p",{className:"text-lg md:text-2xl font-bold text-green-600",children:["$",S.approved.toFixed(2)]})]}),e.jsx(vs,{className:"h-6 w-6 md:h-8 md:w-8 text-green-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Pending"}),e.jsxs("p",{className:"text-lg md:text-2xl font-bold text-yellow-600",children:["$",S.pending.toFixed(2)]})]}),e.jsx(Ns,{className:"h-6 w-6 md:h-8 md:w-8 text-yellow-600"})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 md:p-6 mb-4 md:mb-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(or,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search sales returns...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",value:n,onChange:w=>i(w.target.value)})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("select",{value:o,onChange:w=>l(w.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"})]}),e.jsx("button",{onClick:()=>_(!b),className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 sm:hidden",children:e.jsx(un,{className:"h-4 w-4"})})]}),e.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center justify-center gap-2 text-sm md:text-base hidden sm:flex",children:[e.jsx(un,{className:"h-4 w-4"}),"More Filters"]})]}),b&&e.jsxs("div",{className:"sm:hidden space-y-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),e.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[e.jsx("option",{children:"All Time"}),e.jsx("option",{children:"Last 7 Days"}),e.jsx("option",{children:"Last 30 Days"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount Range"}),e.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[e.jsx("option",{children:"Any Amount"}),e.jsx("option",{children:"Under $100"}),e.jsx("option",{children:"$100 - $500"})]})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:v?e.jsx("div",{className:"p-4",children:r.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No sales returns found"}):r.map(w=>e.jsx(T,{returnItem:w},w.id))}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Return Number"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Original Invoice"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(w=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ll,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.returnNumber})]})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.customer})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:w.originalInvoice}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(w.date).toLocaleDateString()}),e.jsxs("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["$",w.totalAmount.toFixed(2)]}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500 max-w-xs truncate",children:w.reason}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[R(w.status),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${F(w.status)}`,children:w.status})]})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{g(w),u(!0)},className:"text-blue-600 hover:text-blue-900",children:e.jsx(Or,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-green-600 hover:text-green-900",children:e.jsx(tr,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:e.jsx(ns,{className:"h-4 w-4"})})]})})]},w.id))})]})})}),d&&e.jsx(B,{returnItem:p,onClose:()=>{u(!1),g(null)}}),h&&e.jsx(I,{onClose:()=>f(!1),onSave:L})]})})},Ime=()=>{const[t,s]=N.useState([]),[r,a]=N.useState([]),[n,i]=N.useState(""),[o,l]=N.useState("all"),[d,u]=N.useState(!1),[h,f]=N.useState(!1),[p,g]=N.useState(null),[v,y]=N.useState(window.innerWidth<768),[b,_]=N.useState(!1),[k,A]=N.useState({});N.useEffect(()=>{const w=()=>{y(window.innerWidth<768)};return window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]),N.useEffect(()=>{const w=xA();s(w),a(w)},[]),N.useEffect(()=>{let w=t;n&&(w=w.filter(E=>E.grnNumber.toLowerCase().includes(n.toLowerCase())||E.supplier.toLowerCase().includes(n.toLowerCase())||E.purchaseOrder.toLowerCase().includes(n.toLowerCase()))),o!=="all"&&(w=w.filter(E=>E.status.toLowerCase()===o)),a(w)},[n,o,t]);const R=w=>{switch(w.toLowerCase()){case"received":return e.jsx(vs,{className:"h-4 w-4 text-green-500"});case"partial":return e.jsx(Ns,{className:"h-4 w-4 text-yellow-500"});case"pending":return e.jsx(Hs,{className:"h-4 w-4 text-blue-500"});default:return e.jsx(Dh,{className:"h-4 w-4 text-gray-500"})}},F=w=>{switch(w.toLowerCase()){case"received":return"bg-green-100 text-green-800";case"partial":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},V=w=>{A(E=>({...E,[w]:!E[w]}))},S={total:r.reduce((w,E)=>w+E.totalAmount,0),received:r.filter(w=>w.status.toLowerCase()==="received").reduce((w,E)=>w+E.totalAmount,0),partial:r.filter(w=>w.status.toLowerCase()==="partial").reduce((w,E)=>w+E.totalAmount,0),count:r.length},L=w=>{Eue(w);const E=xA();s(E),a(E),f(!1)},I=({onClose:w,onSave:E})=>{const[D,G]=N.useState({supplier:"",purchaseOrder:"",receivedDate:new Date().toISOString().split("T")[0],status:"Received",remarks:"",items:[{productName:"",orderedQty:1,receivedQty:1,unitPrice:0,total:0}]}),[K,X]=N.useState(0);N.useEffect(()=>{const O=D.items.reduce((z,q)=>z+q.total,0);X(O)},[D.items]);const se=(O,z)=>{G(q=>({...q,[O]:z}))},Z=(O,z,q)=>{const te=[...D.items];te[O][z]=q,(z==="receivedQty"||z==="unitPrice")&&(te[O].total=te[O].receivedQty*te[O].unitPrice),G(ge=>({...ge,items:te}))},ee=()=>{G(O=>({...O,items:[...O.items,{productName:"",orderedQty:1,receivedQty:1,unitPrice:0,total:0}]}))},ce=O=>{if(D.items.length>1){const z=D.items.filter((q,te)=>te!==O);G(q=>({...q,items:z}))}},U=O=>{if(O.preventDefault(),!D.supplier||!D.purchaseOrder){alert("Please fill in all required fields");return}if(D.items.some(q=>!q.productName||q.orderedQty<=0||q.receivedQty<=0||q.unitPrice<=0)){alert("Please fill in all item details correctly");return}const z={...D,totalAmount:K};E(z)};return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 sticky top-0 bg-white",children:[e.jsx("h3",{className:"text-lg md:text-xl font-semibold",children:"Create New GRN"}),e.jsx("button",{onClick:w,className:"text-gray-400 hover:text-gray-600",children:e.jsx(zt,{className:"h-5 w-5 md:h-6 md:w-6"})})]}),e.jsxs("form",{onSubmit:U,className:"p-4 md:p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier *"}),e.jsx("input",{type:"text",value:D.supplier,onChange:O=>se("supplier",O.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purchase Order *"}),e.jsx("input",{type:"text",value:D.purchaseOrder,onChange:O=>se("purchaseOrder",O.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Received Date"}),e.jsx("input",{type:"date",value:D.receivedDate,onChange:O=>se("receivedDate",O.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:D.status,onChange:O=>se("status",O.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",children:[e.jsx("option",{value:"Received",children:"Received"}),e.jsx("option",{value:"Partial",children:"Partial"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]}),e.jsxs("div",{className:"col-span-1 md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),e.jsx("textarea",{value:D.remarks,onChange:O=>se("remarks",O.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",rows:"3",placeholder:"Enter any remarks"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 mb-4",children:[e.jsx("h4",{className:"text-base md:text-lg font-medium text-gray-700",children:"GRN Items"}),e.jsxs("button",{type:"button",onClick:ee,className:"bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 flex items-center justify-center gap-2 text-sm w-full sm:w-auto",children:[e.jsx(bs,{className:"h-4 w-4"}),"Add Item"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-left",children:"Product *"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:"Ordered"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:"Received"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right",children:"Price *"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right",children:"Total"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:"Actions"})]})}),e.jsx("tbody",{children:D.items.map((O,z)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2",children:e.jsx("input",{type:"text",value:O.productName,onChange:q=>Z(z,"productName",q.target.value),className:"w-full border-0 focus:ring-0 focus:outline-none text-sm",placeholder:"Product name",required:!0})}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2",children:e.jsx("input",{type:"number",value:O.orderedQty,onChange:q=>Z(z,"orderedQty",parseInt(q.target.value)||0),className:"w-full border-0 focus:ring-0 focus:outline-none text-center text-sm",min:"1",required:!0})}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2",children:e.jsx("input",{type:"number",value:O.receivedQty,onChange:q=>Z(z,"receivedQty",parseInt(q.target.value)||0),className:"w-full border-0 focus:ring-0 focus:outline-none text-center text-sm",min:"0",required:!0})}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2",children:e.jsx("input",{type:"number",value:O.unitPrice,onChange:q=>Z(z,"unitPrice",parseFloat(q.target.value)||0),className:"w-full border-0 focus:ring-0 focus:outline-none text-right text-sm",step:"0.01",min:"0",required:!0})}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right font-medium text-sm",children:["$",O.total.toFixed(2)]}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:e.jsx("button",{type:"button",onClick:()=>ce(z),className:"text-red-600 hover:text-red-800 disabled:text-gray-400",disabled:D.items.length===1,children:e.jsx(ns,{className:"h-4 w-4"})})})]},z))}),e.jsx("tfoot",{children:e.jsxs("tr",{className:"bg-gray-100 font-bold",children:[e.jsx("td",{colSpan:"4",className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:"Total Amount:"}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:["$",K.toFixed(2)]}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2"})]})})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm md:text-base order-2 sm:order-1",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm md:text-base order-1 sm:order-2",children:"Create GRN"})]})]})]})})},B=({grn:w,onClose:E})=>w?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 sticky top-0 bg-white",children:[e.jsxs("h3",{className:"text-lg md:text-xl font-semibold",children:["GRN - ",w.grnNumber]}),e.jsx("button",{onClick:E,className:"text-gray-400 hover:text-gray-600",children:e.jsx(zt,{className:"h-5 w-5 md:h-6 md:w-6"})})]}),e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-3 text-sm md:text-base",children:"GRN Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"GRN Number:"})," ",w.grnNumber]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Purchase Order:"})," ",w.purchaseOrder]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Received Date:"})," ",new Date(w.receivedDate).toLocaleDateString()]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Status:"}),R(w.status),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${F(w.status)}`,children:w.status})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-3 text-sm md:text-base",children:"Supplier Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Supplier:"})," ",w.supplier]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Total Amount:"})," $",w.totalAmount.toFixed(2)]}),w.remarks&&e.jsxs("p",{children:[e.jsx("strong",{children:"Remarks:"})," ",w.remarks]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-3 text-sm md:text-base",children:"Received Items"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-left",children:"Product"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:"Ordered"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:"Received"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right",children:"Price"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right",children:"Total"})]})}),e.jsx("tbody",{children:w.items.map((D,G)=>e.jsxs("tr",{className:D.orderedQty!==D.receivedQty?"bg-yellow-50":"",children:[e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-sm",children:D.productName}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center text-sm",children:D.orderedQty}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center text-sm",children:e.jsx("span",{className:D.orderedQty!==D.receivedQty?"text-yellow-700 font-semibold":"",children:D.receivedQty})}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:["$",D.unitPrice.toFixed(2)]}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:["$",D.total.toFixed(2)]})]},G))}),e.jsx("tfoot",{children:e.jsxs("tr",{className:"bg-gray-100 font-bold",children:[e.jsx("td",{colSpan:"4",className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:"Total Amount:"}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:["$",w.totalAmount.toFixed(2)]})]})})]})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:E,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm md:text-base w-full sm:w-auto",children:"Close"})})]})]})}):null,T=({grn:w})=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-3",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Dh,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.grnNumber})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>V(w.id),className:"text-gray-400 hover:text-gray-600 p-1",children:e.jsx(T0,{className:"h-4 w-4"})}),k[w.id]&&e.jsxs("div",{className:"absolute right-0 top-6 bg-white border border-gray-200 rounded-lg shadow-lg z-10 min-w-32",children:[e.jsxs("button",{onClick:()=>{g(w),u(!0),A({})},className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 border-b border-gray-100",children:[e.jsx(Or,{className:"h-4 w-4"}),"View"]}),e.jsxs("button",{className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 border-b border-gray-100",children:[e.jsx(tr,{className:"h-4 w-4"}),"Edit"]}),e.jsxs("button",{className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-gray-50",children:[e.jsx(ns,{className:"h-4 w-4"}),"Delete"]})]})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Supplier:"}),e.jsx("span",{className:"font-medium",children:w.supplier})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"PO Number:"}),e.jsx("span",{className:"text-xs font-mono",children:w.purchaseOrder})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Date:"}),e.jsx("span",{children:new Date(w.receivedDate).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Amount:"}),e.jsxs("span",{className:"font-medium",children:["$",w.totalAmount.toFixed(2)]})]}),w.remarks&&e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:"text-gray-600",children:"Remarks:"}),e.jsx("span",{className:"text-right text-xs flex-1 ml-2",children:w.remarks})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Status:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[R(w.status),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${F(w.status)}`,children:w.status})]})]})]})]});return e.jsx("div",{className:"min-h-screen bg-gray-50 p-3 md:p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 md:p-6 mb-4 md:mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Goods Receipt Note (GRN)"}),e.jsx("p",{className:"text-gray-600 mt-1 text-sm md:text-base",children:"Track and manage received goods"})]}),e.jsxs("button",{onClick:()=>f(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2 text-sm md:text-base w-full sm:w-auto",children:[e.jsx(bs,{className:"h-4 w-4 md:h-5 md:w-5"}),"New GRN"]})]})}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-6 mb-4 md:mb-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Total GRNs"}),e.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:S.count})]}),e.jsx(Dh,{className:"h-6 w-6 md:h-8 md:w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Total Value"}),e.jsxs("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:["$",S.total.toFixed(2)]})]}),e.jsx(kA,{className:"h-6 w-6 md:h-8 md:w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Fully Received"}),e.jsxs("p",{className:"text-lg md:text-2xl font-bold text-green-600",children:["$",S.received.toFixed(2)]})]}),e.jsx(vs,{className:"h-6 w-6 md:h-8 md:w-8 text-green-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Partial Received"}),e.jsxs("p",{className:"text-lg md:text-2xl font-bold text-yellow-600",children:["$",S.partial.toFixed(2)]})]}),e.jsx(Ns,{className:"h-6 w-6 md:h-8 md:w-8 text-yellow-600"})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 md:p-6 mb-4 md:mb-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(or,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search GRN records...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",value:n,onChange:w=>i(w.target.value)})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("select",{value:o,onChange:w=>l(w.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"received",children:"Received"}),e.jsx("option",{value:"partial",children:"Partial"}),e.jsx("option",{value:"pending",children:"Pending"})]}),e.jsx("button",{onClick:()=>_(!b),className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 sm:hidden",children:e.jsx(un,{className:"h-4 w-4"})})]}),e.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center justify-center gap-2 text-sm md:text-base hidden sm:flex",children:[e.jsx(un,{className:"h-4 w-4"}),"More Filters"]})]}),b&&e.jsxs("div",{className:"sm:hidden space-y-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),e.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[e.jsx("option",{children:"All Time"}),e.jsx("option",{children:"Last 7 Days"}),e.jsx("option",{children:"Last 30 Days"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount Range"}),e.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[e.jsx("option",{children:"Any Amount"}),e.jsx("option",{children:"Under $100"}),e.jsx("option",{children:"$100 - $500"})]})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:v?e.jsx("div",{className:"p-4",children:r.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No GRN records found"}):r.map(w=>e.jsx(T,{grn:w},w.id))}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"GRN Number"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Supplier"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Purchase Order"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Received Date"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(w=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Dh,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.grnNumber})]})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.supplier})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:w.purchaseOrder}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(w.receivedDate).toLocaleDateString()}),e.jsxs("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["$",w.totalAmount.toFixed(2)]}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[R(w.status),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${F(w.status)}`,children:w.status})]})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{g(w),u(!0)},className:"text-blue-600 hover:text-blue-900",children:e.jsx(Or,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-green-600 hover:text-green-900",children:e.jsx(tr,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:e.jsx(ns,{className:"h-4 w-4"})})]})})]},w.id))})]})})}),d&&e.jsx(B,{grn:p,onClose:()=>{u(!1),g(null)}}),h&&e.jsx(I,{onClose:()=>f(!1),onSave:L})]})})},Bme=()=>{const[t,s]=N.useState([]),[r,a]=N.useState([]),[n,i]=N.useState(""),[o,l]=N.useState("all"),[d,u]=N.useState(!1),[h,f]=N.useState(!1),[p,g]=N.useState(null),[v,y]=N.useState(window.innerWidth<768),[b,_]=N.useState(!1),[k,A]=N.useState({});N.useEffect(()=>{const w=()=>{y(window.innerWidth<768)};return window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]),N.useEffect(()=>{const w=w1();s(w),a(w)},[]),N.useEffect(()=>{let w=t;n&&(w=w.filter(E=>E.returnNumber.toLowerCase().includes(n.toLowerCase())||E.supplier.toLowerCase().includes(n.toLowerCase())||E.originalGRN.toLowerCase().includes(n.toLowerCase()))),o!=="all"&&(w=w.filter(E=>E.status.toLowerCase()===o)),a(w)},[n,o,t]);const R=w=>{switch(w.toLowerCase()){case"approved":return e.jsx(vs,{className:"h-4 w-4 text-green-500"});case"pending":return e.jsx(Ns,{className:"h-4 w-4 text-yellow-500"});case"rejected":return e.jsx(Hs,{className:"h-4 w-4 text-red-500"});default:return e.jsx(ll,{className:"h-4 w-4 text-gray-500"})}},F=w=>{switch(w.toLowerCase()){case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},V=w=>{A(E=>({...E,[w]:!E[w]}))},S={total:r.reduce((w,E)=>w+E.totalAmount,0),approved:r.filter(w=>w.status.toLowerCase()==="approved").reduce((w,E)=>w+E.totalAmount,0),pending:r.filter(w=>w.status.toLowerCase()==="pending").reduce((w,E)=>w+E.totalAmount,0),count:r.length},L=w=>{iM(w);const E=w1();s(E),a(E),f(!1)},I=({onClose:w,onSave:E})=>{const[D,G]=N.useState({supplier:"",originalGRN:"",date:new Date().toISOString().split("T")[0],reason:"",status:"Pending",items:[{productName:"",quantity:1,unitPrice:0,total:0}]}),[K,X]=N.useState(0);N.useEffect(()=>{const O=D.items.reduce((z,q)=>z+q.total,0);X(O)},[D.items]);const se=(O,z)=>{G(q=>({...q,[O]:z}))},Z=(O,z,q)=>{const te=[...D.items];te[O][z]=q,(z==="quantity"||z==="unitPrice")&&(te[O].total=te[O].quantity*te[O].unitPrice),G(ge=>({...ge,items:te}))},ee=()=>{G(O=>({...O,items:[...O.items,{productName:"",quantity:1,unitPrice:0,total:0}]}))},ce=O=>{if(D.items.length>1){const z=D.items.filter((q,te)=>te!==O);G(q=>({...q,items:z}))}},U=O=>{if(O.preventDefault(),!D.supplier||!D.originalGRN||!D.reason){alert("Please fill in all required fields");return}if(D.items.some(q=>!q.productName||q.quantity<=0||q.unitPrice<=0)){alert("Please fill in all item details correctly");return}const z={...D,totalAmount:K};E(z)};return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 sticky top-0 bg-white",children:[e.jsx("h3",{className:"text-lg md:text-xl font-semibold",children:"Create New Purchase Return"}),e.jsx("button",{onClick:w,className:"text-gray-400 hover:text-gray-600",children:e.jsx(zt,{className:"h-5 w-5 md:h-6 md:w-6"})})]}),e.jsxs("form",{onSubmit:U,className:"p-4 md:p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier *"}),e.jsx("input",{type:"text",value:D.supplier,onChange:O=>se("supplier",O.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Original GRN *"}),e.jsx("input",{type:"text",value:D.originalGRN,onChange:O=>se("originalGRN",O.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Return Date"}),e.jsx("input",{type:"date",value:D.date,onChange:O=>se("date",O.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:D.status,onChange:O=>se("status",O.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Approved",children:"Approved"}),e.jsx("option",{value:"Rejected",children:"Rejected"})]})]}),e.jsxs("div",{className:"col-span-1 md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason *"}),e.jsx("textarea",{value:D.reason,onChange:O=>se("reason",O.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",rows:"3",placeholder:"Enter reason for return",required:!0})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 mb-4",children:[e.jsx("h4",{className:"text-base md:text-lg font-medium text-gray-700",children:"Return Items"}),e.jsxs("button",{type:"button",onClick:ee,className:"bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 flex items-center justify-center gap-2 text-sm w-full sm:w-auto",children:[e.jsx(bs,{className:"h-4 w-4"}),"Add Item"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-left",children:"Product Name *"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:"Qty *"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right",children:"Price *"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right",children:"Total"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:"Actions"})]})}),e.jsx("tbody",{children:D.items.map((O,z)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2",children:e.jsx("input",{type:"text",value:O.productName,onChange:q=>Z(z,"productName",q.target.value),className:"w-full border-0 focus:ring-0 focus:outline-none text-sm",placeholder:"Product name",required:!0})}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2",children:e.jsx("input",{type:"number",value:O.quantity,onChange:q=>Z(z,"quantity",parseInt(q.target.value)||0),className:"w-full border-0 focus:ring-0 focus:outline-none text-center text-sm",min:"1",required:!0})}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2",children:e.jsx("input",{type:"number",value:O.unitPrice,onChange:q=>Z(z,"unitPrice",parseFloat(q.target.value)||0),className:"w-full border-0 focus:ring-0 focus:outline-none text-right text-sm",step:"0.01",min:"0",required:!0})}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right font-medium text-sm",children:["$",O.total.toFixed(2)]}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:e.jsx("button",{type:"button",onClick:()=>ce(z),className:"text-red-600 hover:text-red-800 disabled:text-gray-400",disabled:D.items.length===1,children:e.jsx(ns,{className:"h-4 w-4"})})})]},z))}),e.jsx("tfoot",{children:e.jsxs("tr",{className:"bg-gray-100 font-bold",children:[e.jsx("td",{colSpan:"3",className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:"Total Amount:"}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:["$",K.toFixed(2)]}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2"})]})})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm md:text-base order-2 sm:order-1",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm md:text-base order-1 sm:order-2",children:"Create Purchase Return"})]})]})]})})},B=({returnItem:w,onClose:E})=>w?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 sticky top-0 bg-white",children:[e.jsxs("h3",{className:"text-lg md:text-xl font-semibold",children:["Purchase Return - ",w.returnNumber]}),e.jsx("button",{onClick:E,className:"text-gray-400 hover:text-gray-600",children:e.jsx(zt,{className:"h-5 w-5 md:h-6 md:w-6"})})]}),e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-3 text-sm md:text-base",children:"Return Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Return Number:"})," ",w.returnNumber]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Original GRN:"})," ",w.originalGRN]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",new Date(w.date).toLocaleDateString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Reason:"})," ",w.reason]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Status:"}),R(w.status),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${F(w.status)}`,children:w.status})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-3 text-sm md:text-base",children:"Supplier Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Supplier:"})," ",w.supplier]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Total Amount:"})," $",w.totalAmount.toFixed(2)]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-3 text-sm md:text-base",children:"Return Items"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-left",children:"Product"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:"Qty"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right",children:"Price"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right",children:"Total"})]})}),e.jsx("tbody",{children:w.items.map((D,G)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-sm",children:D.productName}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center text-sm",children:D.quantity}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:["$",D.unitPrice.toFixed(2)]}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:["$",D.total.toFixed(2)]})]},G))}),e.jsx("tfoot",{children:e.jsxs("tr",{className:"bg-gray-100 font-bold",children:[e.jsx("td",{colSpan:"3",className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:"Total Amount:"}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:["$",w.totalAmount.toFixed(2)]})]})})]})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:E,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm md:text-base w-full sm:w-auto",children:"Close"})})]})]})}):null,T=({returnItem:w})=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-3",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ll,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.returnNumber})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>V(w.id),className:"text-gray-400 hover:text-gray-600 p-1",children:e.jsx(T0,{className:"h-4 w-4"})}),k[w.id]&&e.jsxs("div",{className:"absolute right-0 top-6 bg-white border border-gray-200 rounded-lg shadow-lg z-10 min-w-32",children:[e.jsxs("button",{onClick:()=>{g(w),u(!0),A({})},className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 border-b border-gray-100",children:[e.jsx(Or,{className:"h-4 w-4"}),"View"]}),e.jsxs("button",{className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 border-b border-gray-100",children:[e.jsx(tr,{className:"h-4 w-4"}),"Edit"]}),e.jsxs("button",{className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-gray-50",children:[e.jsx(ns,{className:"h-4 w-4"}),"Delete"]})]})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Supplier:"}),e.jsx("span",{className:"font-medium",children:w.supplier})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"GRN Number:"}),e.jsx("span",{className:"text-xs font-mono",children:w.originalGRN})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Date:"}),e.jsx("span",{children:new Date(w.date).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Amount:"}),e.jsxs("span",{className:"font-medium",children:["$",w.totalAmount.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:"text-gray-600",children:"Reason:"}),e.jsx("span",{className:"text-right text-xs flex-1 ml-2",children:w.reason})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Status:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[R(w.status),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${F(w.status)}`,children:w.status})]})]})]})]});return e.jsx("div",{className:"min-h-screen bg-gray-50 p-3 md:p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 md:p-6 mb-4 md:mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Purchase Returns"}),e.jsx("p",{className:"text-gray-600 mt-1 text-sm md:text-base",children:"Manage returns to suppliers"})]}),e.jsxs("button",{onClick:()=>f(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2 text-sm md:text-base w-full sm:w-auto",children:[e.jsx(bs,{className:"h-4 w-4 md:h-5 md:w-5"}),"New Purchase Return"]})]})}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-6 mb-4 md:mb-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Total Returns"}),e.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:S.count})]}),e.jsx(ll,{className:"h-6 w-6 md:h-8 md:w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Total Value"}),e.jsxs("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:["$",S.total.toFixed(2)]})]}),e.jsx(Qs,{className:"h-6 w-6 md:h-8 md:w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Approved"}),e.jsxs("p",{className:"text-lg md:text-2xl font-bold text-green-600",children:["$",S.approved.toFixed(2)]})]}),e.jsx(vs,{className:"h-6 w-6 md:h-8 md:w-8 text-green-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Pending"}),e.jsxs("p",{className:"text-lg md:text-2xl font-bold text-yellow-600",children:["$",S.pending.toFixed(2)]})]}),e.jsx(Ns,{className:"h-6 w-6 md:h-8 md:w-8 text-yellow-600"})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 md:p-6 mb-4 md:mb-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(or,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search purchase returns...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",value:n,onChange:w=>i(w.target.value)})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("select",{value:o,onChange:w=>l(w.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"})]}),e.jsx("button",{onClick:()=>_(!b),className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 sm:hidden",children:e.jsx(un,{className:"h-4 w-4"})})]}),e.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center justify-center gap-2 text-sm md:text-base hidden sm:flex",children:[e.jsx(un,{className:"h-4 w-4"}),"More Filters"]})]}),b&&e.jsxs("div",{className:"sm:hidden space-y-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),e.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[e.jsx("option",{children:"All Time"}),e.jsx("option",{children:"Last 7 Days"}),e.jsx("option",{children:"Last 30 Days"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount Range"}),e.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[e.jsx("option",{children:"Any Amount"}),e.jsx("option",{children:"Under $100"}),e.jsx("option",{children:"$100 - $500"})]})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:v?e.jsx("div",{className:"p-4",children:r.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No purchase returns found"}):r.map(w=>e.jsx(T,{returnItem:w},w.id))}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Return Number"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Supplier"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Original GRN"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(w=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ll,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.returnNumber})]})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.supplier})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:w.originalGRN}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(w.date).toLocaleDateString()}),e.jsxs("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["$",w.totalAmount.toFixed(2)]}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500 max-w-xs truncate",children:w.reason}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[R(w.status),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${F(w.status)}`,children:w.status})]})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{g(w),u(!0)},className:"text-blue-600 hover:text-blue-900",children:e.jsx(Or,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-green-600 hover:text-green-900",children:e.jsx(tr,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:e.jsx(ns,{className:"h-4 w-4"})})]})})]},w.id))})]})})}),d&&e.jsx(B,{returnItem:p,onClose:()=>{u(!1),g(null)}}),h&&e.jsx(I,{onClose:()=>f(!1),onSave:L})]})})},zme=()=>{const[t,s]=N.useState([]),[r,a]=N.useState([]),[n,i]=N.useState(""),[o,l]=N.useState("all"),[d,u]=N.useState(!1),[h,f]=N.useState(!1),[p,g]=N.useState(null),[v,y]=N.useState(window.innerWidth<768),[b,_]=N.useState(!1),[k,A]=N.useState({});N.useEffect(()=>{const w=()=>{y(window.innerWidth<768)};return window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]),N.useEffect(()=>{const w=fA();s(w),a(w)},[]),N.useEffect(()=>{let w=t;n&&(w=w.filter(E=>E.orderNumber.toLowerCase().includes(n.toLowerCase())||E.supplier.toLowerCase().includes(n.toLowerCase()))),o!=="all"&&(w=w.filter(E=>E.status.toLowerCase()===o)),a(w)},[n,o,t]);const R=w=>{switch(w.toLowerCase()){case"received":return e.jsx(vs,{className:"h-4 w-4 text-green-500"});case"partial":return e.jsx(Ns,{className:"h-4 w-4 text-yellow-500"});case"pending":return e.jsx(Hs,{className:"h-4 w-4 text-blue-500"});case"cancelled":return e.jsx(Hs,{className:"h-4 w-4 text-red-500"});default:return e.jsx(yy,{className:"h-4 w-4 text-gray-500"})}},F=w=>{switch(w.toLowerCase()){case"received":return"bg-green-100 text-green-800";case"partial":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},V=w=>{A(E=>({...E,[w]:!E[w]}))},S={total:r.reduce((w,E)=>w+E.totalAmount,0),received:r.filter(w=>w.status.toLowerCase()==="received").reduce((w,E)=>w+E.totalAmount,0),pending:r.filter(w=>w.status.toLowerCase()==="pending").reduce((w,E)=>w+E.totalAmount,0),count:r.length},L=w=>{Tue(w);const E=fA();s(E),a(E),f(!1)},I=({onClose:w,onSave:E})=>{const[D,G]=N.useState({supplier:"",date:new Date().toISOString().split("T")[0],expectedDate:"",status:"Pending",items:[{productName:"",quantity:1,unitPrice:0,total:0}]}),[K,X]=N.useState(0),[se]=N.useState(.1),[Z,ee]=N.useState(0),[ce,U]=N.useState(0);N.useEffect(()=>{const Q=D.items.reduce((oe,J)=>oe+J.total,0),ue=Q*se,ie=Q+ue;X(Q),ee(ue),U(ie)},[D.items,se]);const O=(Q,ue)=>{G(ie=>({...ie,[Q]:ue}))},z=(Q,ue,ie)=>{const oe=[...D.items];oe[Q][ue]=ie,(ue==="quantity"||ue==="unitPrice")&&(oe[Q].total=oe[Q].quantity*oe[Q].unitPrice),G(J=>({...J,items:oe}))},q=()=>{G(Q=>({...Q,items:[...Q.items,{productName:"",quantity:1,unitPrice:0,total:0}]}))},te=Q=>{if(D.items.length>1){const ue=D.items.filter((ie,oe)=>oe!==Q);G(ie=>({...ie,items:ue}))}},ge=Q=>{if(Q.preventDefault(),!D.supplier||!D.expectedDate){alert("Please fill in all required fields");return}if(D.items.some(ie=>!ie.productName||ie.quantity<=0||ie.unitPrice<=0)){alert("Please fill in all item details correctly");return}const ue={...D,subtotal:K,tax:Z,totalAmount:ce};E(ue)};return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 sticky top-0 bg-white",children:[e.jsx("h3",{className:"text-lg md:text-xl font-semibold",children:"Create New Purchase Order"}),e.jsx("button",{onClick:w,className:"text-gray-400 hover:text-gray-600",children:e.jsx(zt,{className:"h-5 w-5 md:h-6 md:w-6"})})]}),e.jsxs("form",{onSubmit:ge,className:"p-4 md:p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier *"}),e.jsx("input",{type:"text",value:D.supplier,onChange:Q=>O("supplier",Q.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Date"}),e.jsx("input",{type:"date",value:D.date,onChange:Q=>O("date",Q.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Date *"}),e.jsx("input",{type:"date",value:D.expectedDate,onChange:Q=>O("expectedDate",Q.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:D.status,onChange:Q=>O("status",Q.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Partial",children:"Partial"}),e.jsx("option",{value:"Received",children:"Received"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 mb-4",children:[e.jsx("h4",{className:"text-base md:text-lg font-medium text-gray-700",children:"Order Items"}),e.jsxs("button",{type:"button",onClick:q,className:"bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 flex items-center justify-center gap-2 text-sm w-full sm:w-auto",children:[e.jsx(bs,{className:"h-4 w-4"}),"Add Item"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-left",children:"Product Name *"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:"Qty *"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right",children:"Price *"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right",children:"Total"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:"Actions"})]})}),e.jsx("tbody",{children:D.items.map((Q,ue)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2",children:e.jsx("input",{type:"text",value:Q.productName,onChange:ie=>z(ue,"productName",ie.target.value),className:"w-full border-0 focus:ring-0 focus:outline-none text-sm",placeholder:"Product name",required:!0})}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2",children:e.jsx("input",{type:"number",value:Q.quantity,onChange:ie=>z(ue,"quantity",parseInt(ie.target.value)||0),className:"w-full border-0 focus:ring-0 focus:outline-none text-center text-sm",min:"1",required:!0})}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2",children:e.jsx("input",{type:"number",value:Q.unitPrice,onChange:ie=>z(ue,"unitPrice",parseFloat(ie.target.value)||0),className:"w-full border-0 focus:ring-0 focus:outline-none text-right text-sm",step:"0.01",min:"0",required:!0})}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right font-medium text-sm",children:["$",Q.total.toFixed(2)]}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:e.jsx("button",{type:"button",onClick:()=>te(ue),className:"text-red-600 hover:text-red-800 disabled:text-gray-400",disabled:D.items.length===1,children:e.jsx(ns,{className:"h-4 w-4"})})})]},ue))}),e.jsxs("tfoot",{children:[e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("td",{colSpan:"3",className:"border border-gray-300 px-2 md:px-4 py-2 text-right font-semibold text-sm",children:"Subtotal:"}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right font-semibold text-sm",children:["$",K.toFixed(2)]}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2"})]}),e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("td",{colSpan:"3",className:"border border-gray-300 px-2 md:px-4 py-2 text-right font-semibold text-sm",children:"Tax (10%):"}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right font-semibold text-sm",children:["$",Z.toFixed(2)]}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2"})]}),e.jsxs("tr",{className:"bg-gray-100 font-bold",children:[e.jsx("td",{colSpan:"3",className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:"Total Amount:"}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:["$",ce.toFixed(2)]}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2"})]})]})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm md:text-base order-2 sm:order-1",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm md:text-base order-1 sm:order-2",children:"Create Purchase Order"})]})]})]})})},B=({order:w,onClose:E})=>w?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 sticky top-0 bg-white",children:[e.jsxs("h3",{className:"text-lg md:text-xl font-semibold",children:["Purchase Order - ",w.orderNumber]}),e.jsx("button",{onClick:E,className:"text-gray-400 hover:text-gray-600",children:e.jsx(zt,{className:"h-5 w-5 md:h-6 md:w-6"})})]}),e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-3 text-sm md:text-base",children:"Order Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Order Number:"})," ",w.orderNumber]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",new Date(w.date).toLocaleDateString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Expected Date:"})," ",new Date(w.expectedDate).toLocaleDateString()]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Status:"}),R(w.status),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${F(w.status)}`,children:w.status})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-3 text-sm md:text-base",children:"Supplier Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Supplier:"})," ",w.supplier]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Total Amount:"})," $",w.totalAmount.toFixed(2)]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-3 text-sm md:text-base",children:"Order Items"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-left",children:"Product"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:"Qty"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right",children:"Price"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right",children:"Total"})]})}),e.jsx("tbody",{children:w.items.map((D,G)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-sm",children:D.productName}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center text-sm",children:D.quantity}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:["$",D.unitPrice.toFixed(2)]}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:["$",D.total.toFixed(2)]})]},G))}),e.jsxs("tfoot",{children:[e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("td",{colSpan:"3",className:"border border-gray-300 px-2 md:px-4 py-2 text-right font-semibold text-sm",children:"Subtotal:"}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right font-semibold text-sm",children:["$",w.subtotal.toFixed(2)]})]}),e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("td",{colSpan:"3",className:"border border-gray-300 px-2 md:px-4 py-2 text-right font-semibold text-sm",children:"Tax:"}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right font-semibold text-sm",children:["$",w.tax.toFixed(2)]})]}),e.jsxs("tr",{className:"bg-gray-100 font-bold",children:[e.jsx("td",{colSpan:"3",className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:"Total Amount:"}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:["$",w.totalAmount.toFixed(2)]})]})]})]})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:E,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm md:text-base w-full sm:w-auto",children:"Close"})})]})]})}):null,T=({order:w})=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-3",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(yy,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.orderNumber})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>V(w.id),className:"text-gray-400 hover:text-gray-600 p-1",children:e.jsx(T0,{className:"h-4 w-4"})}),k[w.id]&&e.jsxs("div",{className:"absolute right-0 top-6 bg-white border border-gray-200 rounded-lg shadow-lg z-10 min-w-32",children:[e.jsxs("button",{onClick:()=>{g(w),u(!0),A({})},className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 border-b border-gray-100",children:[e.jsx(Or,{className:"h-4 w-4"}),"View"]}),e.jsxs("button",{className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 border-b border-gray-100",children:[e.jsx(tr,{className:"h-4 w-4"}),"Edit"]}),e.jsxs("button",{className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-gray-50",children:[e.jsx(ns,{className:"h-4 w-4"}),"Delete"]})]})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Supplier:"}),e.jsx("span",{className:"font-medium",children:w.supplier})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Date:"}),e.jsx("span",{children:new Date(w.date).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Expected Date:"}),e.jsx("span",{children:new Date(w.expectedDate).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Amount:"}),e.jsxs("span",{className:"font-medium",children:["$",w.totalAmount.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Status:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[R(w.status),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${F(w.status)}`,children:w.status})]})]})]})]});return e.jsx("div",{className:"min-h-screen bg-gray-50 p-3 md:p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 md:p-6 mb-4 md:mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Purchase Orders"}),e.jsx("p",{className:"text-gray-600 mt-1 text-sm md:text-base",children:"Manage and track your purchase orders"})]}),e.jsxs("button",{onClick:()=>f(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2 text-sm md:text-base w-full sm:w-auto",children:[e.jsx(bs,{className:"h-4 w-4 md:h-5 md:w-5"}),"New Purchase Order"]})]})}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-6 mb-4 md:mb-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Total Orders"}),e.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:S.count})]}),e.jsx(yy,{className:"h-6 w-6 md:h-8 md:w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Total Value"}),e.jsxs("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:["$",S.total.toFixed(2)]})]}),e.jsx(Qs,{className:"h-6 w-6 md:h-8 md:w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Received"}),e.jsxs("p",{className:"text-lg md:text-2xl font-bold text-green-600",children:["$",S.received.toFixed(2)]})]}),e.jsx(vs,{className:"h-6 w-6 md:h-8 md:w-8 text-green-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Pending"}),e.jsxs("p",{className:"text-lg md:text-2xl font-bold text-yellow-600",children:["$",S.pending.toFixed(2)]})]}),e.jsx(Ns,{className:"h-6 w-6 md:h-8 md:w-8 text-yellow-600"})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 md:p-6 mb-4 md:mb-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(or,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search purchase orders...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",value:n,onChange:w=>i(w.target.value)})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("select",{value:o,onChange:w=>l(w.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"partial",children:"Partial"}),e.jsx("option",{value:"received",children:"Received"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]}),e.jsx("button",{onClick:()=>_(!b),className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 sm:hidden",children:e.jsx(un,{className:"h-4 w-4"})})]}),e.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center justify-center gap-2 text-sm md:text-base hidden sm:flex",children:[e.jsx(un,{className:"h-4 w-4"}),"More Filters"]})]}),b&&e.jsxs("div",{className:"sm:hidden space-y-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),e.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[e.jsx("option",{children:"All Time"}),e.jsx("option",{children:"Last 7 Days"}),e.jsx("option",{children:"Last 30 Days"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount Range"}),e.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[e.jsx("option",{children:"Any Amount"}),e.jsx("option",{children:"Under $100"}),e.jsx("option",{children:"$100 - $500"})]})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:v?e.jsx("div",{className:"p-4",children:r.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No purchase orders found"}):r.map(w=>e.jsx(T,{order:w},w.id))}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order Number"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Supplier"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expected Date"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(w=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(yy,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.orderNumber})]})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.supplier})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(w.date).toLocaleDateString()}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(w.expectedDate).toLocaleDateString()}),e.jsxs("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["$",w.totalAmount.toFixed(2)]}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[R(w.status),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${F(w.status)}`,children:w.status})]})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{g(w),u(!0)},className:"text-blue-600 hover:text-blue-900",children:e.jsx(Or,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-green-600 hover:text-green-900",children:e.jsx(tr,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:e.jsx(ns,{className:"h-4 w-4"})})]})})]},w.id))})]})})}),d&&e.jsx(B,{order:p,onClose:()=>{u(!1),g(null)}}),h&&e.jsx(I,{onClose:()=>f(!1),onSave:L})]})})},$me=()=>{const[t,s]=N.useState([]),[r,a]=N.useState([]),[n,i]=N.useState(""),[o,l]=N.useState("all"),[d,u]=N.useState(!1),[h,f]=N.useState(!1),[p,g]=N.useState(null),[v,y]=N.useState(window.innerWidth<768),[b,_]=N.useState(!1),[k,A]=N.useState({});N.useEffect(()=>{const w=()=>{y(window.innerWidth<768)};return window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]),N.useEffect(()=>{const w=pA();s(w),a(w)},[]),N.useEffect(()=>{let w=t;n&&(w=w.filter(E=>E.transferNumber.toLowerCase().includes(n.toLowerCase())||E.fromLocation.toLowerCase().includes(n.toLowerCase())||E.toLocation.toLowerCase().includes(n.toLowerCase()))),o!=="all"&&(w=w.filter(E=>E.status.toLowerCase()===o)),a(w)},[n,o,t]);const R=w=>{switch(w.toLowerCase()){case"completed":return e.jsx(vs,{className:"h-4 w-4 text-green-500"});case"in transit":return e.jsx(Dh,{className:"h-4 w-4 text-blue-500"});case"pending":return e.jsx(Ns,{className:"h-4 w-4 text-yellow-500"});default:return e.jsx(gy,{className:"h-4 w-4 text-gray-500"})}},F=w=>{switch(w.toLowerCase()){case"completed":return"bg-green-100 text-green-800";case"in transit":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},V=w=>{A(E=>({...E,[w]:!E[w]}))},S={total:r.reduce((w,E)=>w+E.totalValue,0),completed:r.filter(w=>w.status.toLowerCase()==="completed").reduce((w,E)=>w+E.totalValue,0),inTransit:r.filter(w=>w.status.toLowerCase()==="in transit").reduce((w,E)=>w+E.totalValue,0),count:r.length},L=w=>{Due(w);const E=pA();s(E),a(E),f(!1)},I=({onClose:w,onSave:E})=>{const[D,G]=N.useState({fromLocation:"",toLocation:"",date:new Date().toISOString().split("T")[0],status:"Pending",transferredBy:"",receivedBy:"",remarks:"",items:[{productName:"",quantity:1,unitPrice:0,total:0}]}),[K,X]=N.useState(0);N.useEffect(()=>{const O=D.items.reduce((z,q)=>z+q.total,0);X(O)},[D.items]);const se=(O,z)=>{G(q=>({...q,[O]:z}))},Z=(O,z,q)=>{const te=[...D.items];te[O][z]=q,(z==="quantity"||z==="unitPrice")&&(te[O].total=te[O].quantity*te[O].unitPrice),G(ge=>({...ge,items:te}))},ee=()=>{G(O=>({...O,items:[...O.items,{productName:"",quantity:1,unitPrice:0,total:0}]}))},ce=O=>{if(D.items.length>1){const z=D.items.filter((q,te)=>te!==O);G(q=>({...q,items:z}))}},U=O=>{if(O.preventDefault(),!D.fromLocation||!D.toLocation||!D.transferredBy){alert("Please fill in all required fields");return}if(D.items.some(q=>!q.productName||q.quantity<=0||q.unitPrice<=0)){alert("Please fill in all item details correctly");return}const z={...D,totalValue:K};E(z)};return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 sticky top-0 bg-white",children:[e.jsx("h3",{className:"text-lg md:text-xl font-semibold",children:"Create New Stock Transfer"}),e.jsx("button",{onClick:w,className:"text-gray-400 hover:text-gray-600",children:e.jsx(zt,{className:"h-5 w-5 md:h-6 md:w-6"})})]}),e.jsxs("form",{onSubmit:U,className:"p-4 md:p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Location *"}),e.jsx("input",{type:"text",value:D.fromLocation,onChange:O=>se("fromLocation",O.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Location *"}),e.jsx("input",{type:"text",value:D.toLocation,onChange:O=>se("toLocation",O.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Date"}),e.jsx("input",{type:"date",value:D.date,onChange:O=>se("date",O.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:D.status,onChange:O=>se("status",O.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"In Transit",children:"In Transit"}),e.jsx("option",{value:"Completed",children:"Completed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transferred By *"}),e.jsx("input",{type:"text",value:D.transferredBy,onChange:O=>se("transferredBy",O.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Received By"}),e.jsx("input",{type:"text",value:D.receivedBy,onChange:O=>se("receivedBy",O.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",placeholder:"Leave empty if not yet received"})]}),e.jsxs("div",{className:"col-span-1 md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),e.jsx("textarea",{value:D.remarks,onChange:O=>se("remarks",O.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",rows:"3",placeholder:"Enter any remarks"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 mb-4",children:[e.jsx("h4",{className:"text-base md:text-lg font-medium text-gray-700",children:"Transfer Items"}),e.jsxs("button",{type:"button",onClick:ee,className:"bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 flex items-center justify-center gap-2 text-sm w-full sm:w-auto",children:[e.jsx(bs,{className:"h-4 w-4"}),"Add Item"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-left",children:"Product Name *"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:"Qty *"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right",children:"Price *"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right",children:"Total"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:"Actions"})]})}),e.jsx("tbody",{children:D.items.map((O,z)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2",children:e.jsx("input",{type:"text",value:O.productName,onChange:q=>Z(z,"productName",q.target.value),className:"w-full border-0 focus:ring-0 focus:outline-none text-sm",placeholder:"Product name",required:!0})}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2",children:e.jsx("input",{type:"number",value:O.quantity,onChange:q=>Z(z,"quantity",parseInt(q.target.value)||0),className:"w-full border-0 focus:ring-0 focus:outline-none text-center text-sm",min:"1",required:!0})}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2",children:e.jsx("input",{type:"number",value:O.unitPrice,onChange:q=>Z(z,"unitPrice",parseFloat(q.target.value)||0),className:"w-full border-0 focus:ring-0 focus:outline-none text-right text-sm",step:"0.01",min:"0",required:!0})}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right font-medium text-sm",children:["$",O.total.toFixed(2)]}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:e.jsx("button",{type:"button",onClick:()=>ce(z),className:"text-red-600 hover:text-red-800 disabled:text-gray-400",disabled:D.items.length===1,children:e.jsx(ns,{className:"h-4 w-4"})})})]},z))}),e.jsx("tfoot",{children:e.jsxs("tr",{className:"bg-gray-100 font-bold",children:[e.jsx("td",{colSpan:"3",className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:"Total Value:"}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:["$",K.toFixed(2)]}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2"})]})})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm md:text-base order-2 sm:order-1",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm md:text-base order-1 sm:order-2",children:"Create Stock Transfer"})]})]})]})})},B=({transfer:w,onClose:E})=>w?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 sticky top-0 bg-white",children:[e.jsxs("h3",{className:"text-lg md:text-xl font-semibold",children:["Stock Transfer - ",w.transferNumber]}),e.jsx("button",{onClick:E,className:"text-gray-400 hover:text-gray-600",children:e.jsx(zt,{className:"h-5 w-5 md:h-6 md:w-6"})})]}),e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-3 text-sm md:text-base",children:"Transfer Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Transfer Number:"})," ",w.transferNumber]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",new Date(w.date).toLocaleDateString()]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Status:"}),R(w.status),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${F(w.status)}`,children:w.status})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Total Value:"})," $",w.totalValue.toFixed(2)]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-3 text-sm md:text-base",children:"Location & Personnel"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"From:"})," ",w.fromLocation]}),e.jsxs("p",{children:[e.jsx("strong",{children:"To:"})," ",w.toLocation]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Transferred By:"})," ",w.transferredBy]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Received By:"})," ",w.receivedBy]}),w.remarks&&e.jsxs("p",{children:[e.jsx("strong",{children:"Remarks:"})," ",w.remarks]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-3 text-sm md:text-base",children:"Transfer Items"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-left",children:"Product"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:"Qty"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right",children:"Price"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right",children:"Total"})]})}),e.jsx("tbody",{children:w.items.map((D,G)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-sm",children:D.productName}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center text-sm",children:D.quantity}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:["$",D.unitPrice.toFixed(2)]}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:["$",D.total.toFixed(2)]})]},G))}),e.jsx("tfoot",{children:e.jsxs("tr",{className:"bg-gray-100 font-bold",children:[e.jsx("td",{colSpan:"3",className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:"Total Value:"}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:["$",w.totalValue.toFixed(2)]})]})})]})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:E,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm md:text-base w-full sm:w-auto",children:"Close"})})]})]})}):null,T=({transfer:w})=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-3",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(gy,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.transferNumber})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>V(w.id),className:"text-gray-400 hover:text-gray-600 p-1",children:e.jsx(T0,{className:"h-4 w-4"})}),k[w.id]&&e.jsxs("div",{className:"absolute right-0 top-6 bg-white border border-gray-200 rounded-lg shadow-lg z-10 min-w-32",children:[e.jsxs("button",{onClick:()=>{g(w),u(!0),A({})},className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 border-b border-gray-100",children:[e.jsx(Or,{className:"h-4 w-4"}),"View"]}),e.jsxs("button",{className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 border-b border-gray-100",children:[e.jsx(tr,{className:"h-4 w-4"}),"Edit"]}),e.jsxs("button",{className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-gray-50",children:[e.jsx(ns,{className:"h-4 w-4"}),"Delete"]})]})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"From:"}),e.jsx("span",{className:"font-medium",children:w.fromLocation})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"To:"}),e.jsx("span",{className:"font-medium",children:w.toLocation})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Date:"}),e.jsx("span",{children:new Date(w.date).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Value:"}),e.jsxs("span",{className:"font-medium",children:["$",w.totalValue.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Transferred By:"}),e.jsx("span",{children:w.transferredBy})]}),w.receivedBy&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Received By:"}),e.jsx("span",{children:w.receivedBy})]}),w.remarks&&e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:"text-gray-600",children:"Remarks:"}),e.jsx("span",{className:"text-right text-xs flex-1 ml-2",children:w.remarks})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Status:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[R(w.status),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${F(w.status)}`,children:w.status})]})]})]})]});return e.jsx("div",{className:"min-h-screen bg-gray-50 p-3 md:p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 md:p-6 mb-4 md:mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Stock Transfers"}),e.jsx("p",{className:"text-gray-600 mt-1 text-sm md:text-base",children:"Manage inter-location stock movements"})]}),e.jsxs("button",{onClick:()=>f(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2 text-sm md:text-base w-full sm:w-auto",children:[e.jsx(bs,{className:"h-4 w-4 md:h-5 md:w-5"}),"New Stock Transfer"]})]})}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-6 mb-4 md:mb-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Total Transfers"}),e.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:S.count})]}),e.jsx(gy,{className:"h-6 w-6 md:h-8 md:w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Total Value"}),e.jsxs("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:["$",S.total.toFixed(2)]})]}),e.jsx(xx,{className:"h-6 w-6 md:h-8 md:w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Completed"}),e.jsxs("p",{className:"text-lg md:text-2xl font-bold text-green-600",children:["$",S.completed.toFixed(2)]})]}),e.jsx(vs,{className:"h-6 w-6 md:h-8 md:w-8 text-green-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"In Transit"}),e.jsxs("p",{className:"text-lg md:text-2xl font-bold text-blue-600",children:["$",S.inTransit.toFixed(2)]})]}),e.jsx(Dh,{className:"h-6 w-6 md:h-8 md:w-8 text-blue-600"})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 md:p-6 mb-4 md:mb-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(or,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search stock transfers...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",value:n,onChange:w=>i(w.target.value)})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("select",{value:o,onChange:w=>l(w.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"in transit",children:"In Transit"}),e.jsx("option",{value:"completed",children:"Completed"})]}),e.jsx("button",{onClick:()=>_(!b),className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 sm:hidden",children:e.jsx(un,{className:"h-4 w-4"})})]}),e.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center justify-center gap-2 text-sm md:text-base hidden sm:flex",children:[e.jsx(un,{className:"h-4 w-4"}),"More Filters"]})]}),b&&e.jsxs("div",{className:"sm:hidden space-y-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),e.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[e.jsx("option",{children:"All Time"}),e.jsx("option",{children:"Last 7 Days"}),e.jsx("option",{children:"Last 30 Days"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Value Range"}),e.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[e.jsx("option",{children:"Any Value"}),e.jsx("option",{children:"Under $100"}),e.jsx("option",{children:"$100 - $500"})]})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:v?e.jsx("div",{className:"p-4",children:r.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No stock transfers found"}):r.map(w=>e.jsx(T,{transfer:w},w.id))}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transfer Number"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"From Location"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"To Location"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transferred By"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(w=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(gy,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.transferNumber})]})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.fromLocation})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.toLocation})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(w.date).toLocaleDateString()}),e.jsxs("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["$",w.totalValue.toFixed(2)]}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:w.transferredBy}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[R(w.status),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${F(w.status)}`,children:w.status})]})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{g(w),u(!0)},className:"text-blue-600 hover:text-blue-900",children:e.jsx(Or,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-green-600 hover:text-green-900",children:e.jsx(tr,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:e.jsx(ns,{className:"h-4 w-4"})})]})})]},w.id))})]})})}),d&&e.jsx(B,{transfer:p,onClose:()=>{u(!1),g(null)}}),h&&e.jsx(I,{onClose:()=>f(!1),onSave:L})]})})},Ume=()=>{const[t,s]=N.useState([]),[r,a]=N.useState([]),[n,i]=N.useState(""),[o,l]=N.useState("all"),[d,u]=N.useState(!1),[h,f]=N.useState(!1),[p,g]=N.useState(null),[v,y]=N.useState(window.innerWidth<768),[b,_]=N.useState(!1),[k,A]=N.useState({});N.useEffect(()=>{const E=()=>{y(window.innerWidth<768)};return window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]),N.useEffect(()=>{const E=gA();s(E),a(E)},[]),N.useEffect(()=>{let E=t;n&&(E=E.filter(D=>D.verificationNumber.toLowerCase().includes(n.toLowerCase())||D.location.toLowerCase().includes(n.toLowerCase())||D.verifiedBy.toLowerCase().includes(n.toLowerCase()))),o!=="all"&&(E=E.filter(D=>D.status.toLowerCase()===o)),a(E)},[n,o,t]);const R=E=>{switch(E.toLowerCase()){case"completed":return e.jsx(vs,{className:"h-4 w-4 text-green-500"});case"in progress":return e.jsx(Ns,{className:"h-4 w-4 text-blue-500"});case"pending":return e.jsx(j0,{className:"h-4 w-4 text-yellow-500"});default:return e.jsx(Gl,{className:"h-4 w-4 text-gray-500"})}},F=E=>{switch(E.toLowerCase()){case"completed":return"bg-green-100 text-green-800";case"in progress":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},V=E=>E>0?"text-green-600":E<0?"text-red-600":"text-gray-600",S=E=>{A(D=>({...D,[E]:!D[E]}))},L={totalVariance:r.reduce((E,D)=>E+(D.totalVarianceValue||0),0),completed:r.filter(E=>E.status.toLowerCase()==="completed").length,inProgress:r.filter(E=>E.status.toLowerCase()==="in progress").length,count:r.length},I=E=>{Pue(E);const D=gA();s(D),a(D),f(!1)},B=({onClose:E,onSave:D})=>{const[G,K]=N.useState({location:"",date:new Date().toISOString().split("T")[0],status:"Pending",verifiedBy:"",remarks:"",items:[{productName:"",systemQty:0,physicalQty:0,variance:0,unitPrice:0,varianceValue:0}]}),[X,se]=N.useState(0);N.useEffect(()=>{const z=G.items.reduce((q,te)=>q+(te.varianceValue||0),0);se(z)},[G.items]);const Z=(z,q)=>{K(te=>({...te,[z]:q}))},ee=(z,q,te)=>{const ge=[...G.items];if(ge[z][q]=te,q==="systemQty"||q==="physicalQty"||q==="unitPrice"){const Q=q==="systemQty"?te:ge[z].systemQty,ue=q==="physicalQty"?te:ge[z].physicalQty,ie=q==="unitPrice"?te:ge[z].unitPrice;ge[z].variance=ue-Q,ge[z].varianceValue=ge[z].variance*ie}K(Q=>({...Q,items:ge}))},ce=()=>{K(z=>({...z,items:[...z.items,{productName:"",systemQty:0,physicalQty:0,variance:0,unitPrice:0,varianceValue:0}]}))},U=z=>{if(G.items.length>1){const q=G.items.filter((te,ge)=>ge!==z);K(te=>({...te,items:q}))}},O=z=>{if(z.preventDefault(),!G.location||!G.verifiedBy){alert("Please fill in all required fields");return}if(G.items.some(te=>!te.productName||te.systemQty<0||te.physicalQty<0||te.unitPrice<=0)){alert("Please fill in all item details correctly");return}const q={...G,totalVarianceValue:X};D(q)};return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-5xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 sticky top-0 bg-white",children:[e.jsx("h3",{className:"text-lg md:text-xl font-semibold",children:"Create New Stock Verification"}),e.jsx("button",{onClick:E,className:"text-gray-400 hover:text-gray-600",children:e.jsx(zt,{className:"h-5 w-5 md:h-6 md:w-6"})})]}),e.jsxs("form",{onSubmit:O,className:"p-4 md:p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),e.jsx("input",{type:"text",value:G.location,onChange:z=>Z("location",z.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Verification Date"}),e.jsx("input",{type:"date",value:G.date,onChange:z=>Z("date",z.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Verified By *"}),e.jsx("input",{type:"text",value:G.verifiedBy,onChange:z=>Z("verifiedBy",z.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:G.status,onChange:z=>Z("status",z.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"In Progress",children:"In Progress"}),e.jsx("option",{value:"Completed",children:"Completed"})]})]}),e.jsxs("div",{className:"col-span-1 md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),e.jsx("textarea",{value:G.remarks,onChange:z=>Z("remarks",z.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",rows:"3",placeholder:"Enter any remarks"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 mb-4",children:[e.jsx("h4",{className:"text-base md:text-lg font-medium text-gray-700",children:"Verification Items"}),e.jsxs("button",{type:"button",onClick:ce,className:"bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 flex items-center justify-center gap-2 text-sm w-full sm:w-auto",children:[e.jsx(bs,{className:"h-4 w-4"}),"Add Item"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-left",children:"Product *"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:"System"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:"Physical"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:"Var"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right",children:"Price *"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right",children:"Value"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:"Actions"})]})}),e.jsx("tbody",{children:G.items.map((z,q)=>e.jsxs("tr",{className:z.variance!==0?"bg-yellow-50":"",children:[e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2",children:e.jsx("input",{type:"text",value:z.productName,onChange:te=>ee(q,"productName",te.target.value),className:"w-full border-0 focus:ring-0 focus:outline-none text-sm",placeholder:"Product name",required:!0})}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2",children:e.jsx("input",{type:"number",value:z.systemQty,onChange:te=>ee(q,"systemQty",parseInt(te.target.value)||0),className:"w-full border-0 focus:ring-0 focus:outline-none text-center text-sm",min:"0",required:!0})}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2",children:e.jsx("input",{type:"number",value:z.physicalQty,onChange:te=>ee(q,"physicalQty",parseInt(te.target.value)||0),className:"w-full border-0 focus:ring-0 focus:outline-none text-center text-sm",min:"0",required:!0})}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:e.jsxs("span",{className:`font-semibold text-sm ${z.variance>0?"text-green-600":z.variance<0?"text-red-600":"text-gray-600"}`,children:[z.variance>0?"+":"",z.variance]})}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2",children:e.jsx("input",{type:"number",value:z.unitPrice,onChange:te=>ee(q,"unitPrice",parseFloat(te.target.value)||0),className:"w-full border-0 focus:ring-0 focus:outline-none text-right text-sm",step:"0.01",min:"0",required:!0})}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right",children:e.jsxs("span",{className:`font-semibold text-sm ${z.varianceValue>0?"text-green-600":z.varianceValue<0?"text-red-600":"text-gray-600"}`,children:["$",z.varianceValue>0?"+":"",z.varianceValue.toFixed(2)]})}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:e.jsx("button",{type:"button",onClick:()=>U(q),className:"text-red-600 hover:text-red-800 disabled:text-gray-400",disabled:G.items.length===1,children:e.jsx(ns,{className:"h-4 w-4"})})})]},q))}),e.jsx("tfoot",{children:e.jsxs("tr",{className:"bg-gray-100 font-bold",children:[e.jsx("td",{colSpan:"5",className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:"Total Variance Value:"}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:e.jsxs("span",{className:`${X>0?"text-green-600":X<0?"text-red-600":"text-gray-600"}`,children:["$",X>0?"+":"",X.toFixed(2)]})}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2"})]})})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:E,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm md:text-base order-2 sm:order-1",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm md:text-base order-1 sm:order-2",children:"Create Stock Verification"})]})]})]})})},T=({verification:E,onClose:D})=>E?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-5xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 sticky top-0 bg-white",children:[e.jsxs("h3",{className:"text-lg md:text-xl font-semibold",children:["Stock Verification - ",E.verificationNumber]}),e.jsx("button",{onClick:D,className:"text-gray-400 hover:text-gray-600",children:e.jsx(zt,{className:"h-5 w-5 md:h-6 md:w-6"})})]}),e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-3 text-sm md:text-base",children:"Verification Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Verification Number:"})," ",E.verificationNumber]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Location:"})," ",E.location]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",new Date(E.date).toLocaleDateString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Verified By:"})," ",E.verifiedBy]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Status:"}),R(E.status),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${F(E.status)}`,children:E.status})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-3 text-sm md:text-base",children:"Variance Summary"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Total Variance Value:"}),e.jsxs("span",{className:`ml-2 font-semibold ${V(E.totalVarianceValue)}`,children:["$",E.totalVarianceValue?E.totalVarianceValue.toFixed(2):"0.00"]})]}),E.remarks&&e.jsxs("p",{children:[e.jsx("strong",{children:"Remarks:"})," ",E.remarks]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-3 text-sm md:text-base",children:"Verification Items"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-left",children:"Product"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:"System"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:"Physical"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center",children:"Var"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right",children:"Price"}),e.jsx("th",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right",children:"Value"})]})}),e.jsx("tbody",{children:E.items.map((G,K)=>e.jsxs("tr",{className:G.variance!==0?"bg-yellow-50":"",children:[e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-sm",children:G.productName}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center text-sm",children:G.systemQty}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center text-sm",children:G.physicalQty!==null?G.physicalQty:"Pending"}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-center text-sm",children:G.variance!==null?e.jsxs("span",{className:`font-semibold ${V(G.variance)}`,children:[G.variance>0?"+":"",G.variance]}):"Pending"}),e.jsxs("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:["$",G.unitPrice.toFixed(2)]}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:G.varianceValue!==null?e.jsxs("span",{className:`font-semibold ${V(G.varianceValue)}`,children:["$",G.varianceValue>0?"+":"",G.varianceValue.toFixed(2)]}):"Pending"})]},K))}),e.jsx("tfoot",{children:e.jsxs("tr",{className:"bg-gray-100 font-bold",children:[e.jsx("td",{colSpan:"5",className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:"Total Variance Value:"}),e.jsx("td",{className:"border border-gray-300 px-2 md:px-4 py-2 text-right text-sm",children:e.jsxs("span",{className:`${V(E.totalVarianceValue)}`,children:["$",E.totalVarianceValue?(E.totalVarianceValue>0?"+":"")+E.totalVarianceValue.toFixed(2):"0.00"]})})]})})]})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:D,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm md:text-base w-full sm:w-auto",children:"Close"})})]})]})}):null,w=({verification:E})=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-3",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Gl,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:E.verificationNumber})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>S(E.id),className:"text-gray-400 hover:text-gray-600 p-1",children:e.jsx(T0,{className:"h-4 w-4"})}),k[E.id]&&e.jsxs("div",{className:"absolute right-0 top-6 bg-white border border-gray-200 rounded-lg shadow-lg z-10 min-w-32",children:[e.jsxs("button",{onClick:()=>{g(E),u(!0),A({})},className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 border-b border-gray-100",children:[e.jsx(Or,{className:"h-4 w-4"}),"View"]}),e.jsxs("button",{className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 border-b border-gray-100",children:[e.jsx(tr,{className:"h-4 w-4"}),"Edit"]}),e.jsxs("button",{className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-gray-50",children:[e.jsx(ns,{className:"h-4 w-4"}),"Delete"]})]})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Location:"}),e.jsx("span",{className:"font-medium",children:E.location})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Date:"}),e.jsx("span",{children:new Date(E.date).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Verified By:"}),e.jsx("span",{children:E.verifiedBy})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Variance Value:"}),e.jsxs("span",{className:`font-semibold ${V(E.totalVarianceValue)}`,children:["$",E.totalVarianceValue?(E.totalVarianceValue>0?"+":"")+E.totalVarianceValue.toFixed(2):"0.00"]})]}),E.remarks&&e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:"text-gray-600",children:"Remarks:"}),e.jsx("span",{className:"text-right text-xs flex-1 ml-2",children:E.remarks})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Status:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[R(E.status),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${F(E.status)}`,children:E.status})]})]})]})]});return e.jsx("div",{className:"min-h-screen bg-gray-50 p-3 md:p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 md:p-6 mb-4 md:mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Stock Verification"}),e.jsx("p",{className:"text-gray-600 mt-1 text-sm md:text-base",children:"Verify physical stock against system records"})]}),e.jsxs("button",{onClick:()=>f(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2 text-sm md:text-base w-full sm:w-auto",children:[e.jsx(bs,{className:"h-4 w-4 md:h-5 md:w-5"}),"New Stock Verification"]})]})}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-6 mb-4 md:mb-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Total Verifications"}),e.jsx("p",{className:"text-lg md:text-2xl font-bold text-gray-900",children:L.count})]}),e.jsx(Gl,{className:"h-6 w-6 md:h-8 md:w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Total Variance"}),e.jsxs("p",{className:`text-lg md:text-2xl font-bold ${V(L.totalVariance)}`,children:["$",L.totalVariance>0?"+":"",L.totalVariance.toFixed(2)]})]}),e.jsx(kA,{className:"h-6 w-6 md:h-8 md:w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Completed"}),e.jsx("p",{className:"text-lg md:text-2xl font-bold text-green-600",children:L.completed})]}),e.jsx(vs,{className:"h-6 w-6 md:h-8 md:w-8 text-green-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"In Progress"}),e.jsx("p",{className:"text-lg md:text-2xl font-bold text-blue-600",children:L.inProgress})]}),e.jsx(Ns,{className:"h-6 w-6 md:h-8 md:w-8 text-blue-600"})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 md:p-6 mb-4 md:mb-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(or,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search stock verifications...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",value:n,onChange:E=>i(E.target.value)})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("select",{value:o,onChange:E=>l(E.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm md:text-base",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"in progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"})]}),e.jsx("button",{onClick:()=>_(!b),className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 sm:hidden",children:e.jsx(un,{className:"h-4 w-4"})})]}),e.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center justify-center gap-2 text-sm md:text-base hidden sm:flex",children:[e.jsx(un,{className:"h-4 w-4"}),"More Filters"]})]}),b&&e.jsxs("div",{className:"sm:hidden space-y-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),e.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[e.jsx("option",{children:"All Time"}),e.jsx("option",{children:"Last 7 Days"}),e.jsx("option",{children:"Last 30 Days"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Variance Range"}),e.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[e.jsx("option",{children:"Any Variance"}),e.jsx("option",{children:"Positive Only"}),e.jsx("option",{children:"Negative Only"}),e.jsx("option",{children:"No Variance"})]})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:v?e.jsx("div",{className:"p-4",children:r.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No stock verifications found"}):r.map(E=>e.jsx(w,{verification:E},E.id))}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Verification Number"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Verified By"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Variance Value"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(E=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Gl,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:E.verificationNumber})]})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(xx,{className:"h-4 w-4 text-gray-400 mr-1"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:E.location})]})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(E.date).toLocaleDateString()}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(er,{className:"h-4 w-4 text-gray-400 mr-1"}),e.jsx("span",{className:"text-sm text-gray-500",children:E.verifiedBy})]})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("span",{className:`${V(E.totalVarianceValue)}`,children:["$",E.totalVarianceValue?(E.totalVarianceValue>0?"+":"")+E.totalVarianceValue.toFixed(2):"0.00"]})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[R(E.status),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${F(E.status)}`,children:E.status})]})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{g(E),u(!0)},className:"text-blue-600 hover:text-blue-900",children:e.jsx(Or,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-green-600 hover:text-green-900",children:e.jsx(tr,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:e.jsx(ns,{className:"h-4 w-4"})})]})})]},E.id))})]})})}),d&&e.jsx(T,{verification:p,onClose:()=>{u(!1),g(null)}}),h&&e.jsx(B,{onClose:()=>f(!1),onSave:I})]})})},Vme=()=>{wm();const[t,s]=N.useState([]),[r,a]=N.useState([]),[n,i]=N.useState(!0),[o,l]=N.useState(""),[d,u]=N.useState(""),[h,f]=N.useState({start:"",end:""}),[p,g]=N.useState(!1),[v,y]=N.useState({description:"",amount:"",category:"",date:new Date().toISOString().split("T")[0],vendor:"",reference:""}),b=_ue();N.useEffect(()=>{_()},[]),N.useEffect(()=>{k()},[t,o,d,h]);const _=()=>{try{const S=Sue();s(S),i(!1)}catch(S){console.error("Error fetching expenses:",S),i(!1)}},k=()=>{let S=t;o&&(S=S.filter(L=>L.description.toLowerCase().includes(o.toLowerCase())||L.vendor.toLowerCase().includes(o.toLowerCase()))),d&&(S=S.filter(L=>L.category===d)),h.start&&(S=S.filter(L=>L.date>=h.start)),h.end&&(S=S.filter(L=>L.date<=h.end)),a(S)},A=()=>{if(v.description&&v.amount&&v.category){const S={id:Date.now(),...v,amount:parseFloat(v.amount),status:"Pending"};s([S,...t]),y({description:"",amount:"",category:"",date:new Date().toISOString().split("T")[0],vendor:"",reference:""}),g(!1)}},R=S=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(S),F=()=>r.reduce((S,L)=>S+L.amount,0);if(n)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx(hM,{size:"lg"})});const V=e.jsx(dr,{variant:"primary",size:"md",onClick:()=>g(!0),children:"Add New Expense"});return e.jsxs(jm,{title:"Expense Management",subtitle:"Track and manage company expenses",actions:V,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:e.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Expenses"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:R(F())})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Number of Expenses"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.length})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:e.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Expense"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:R(r.length?F()/r.length:0)})]})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),e.jsx("input",{type:"text",value:o,onChange:S=>l(S.target.value),placeholder:"Search expenses...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),e.jsxs("select",{value:d,onChange:S=>u(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Categories"}),b.map(S=>e.jsx("option",{value:S,children:S},S))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Date"}),e.jsx("input",{type:"date",value:h.start,onChange:S=>f({...h,start:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Date"}),e.jsx("input",{type:"date",value:h.end,onChange:S=>f({...h,end:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vendor"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(S=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:S.description}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:S.category})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:S.vendor}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:new Date(S.date).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 text-right font-medium",children:R(S.amount)}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${S.status==="Paid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:S.status})}),e.jsxs("td",{className:"px-6 py-4 text-right text-sm font-medium",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-3",children:"Edit"}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},S.id))})]})})}),p&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[e.jsx("div",{className:"px-6 py-4 border-b",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Add New Expense"})}),e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("input",{type:"text",value:v.description,onChange:S=>y({...v,description:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount"}),e.jsx("input",{type:"number",value:v.amount,onChange:S=>y({...v,amount:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),e.jsxs("select",{value:v.category,onChange:S=>y({...v,category:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select Category"}),b.map(S=>e.jsx("option",{value:S,children:S},S))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor"}),e.jsx("input",{type:"text",value:v.vendor,onChange:S=>y({...v,vendor:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),e.jsx("input",{type:"date",value:v.date,onChange:S=>y({...v,date:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference"}),e.jsx("input",{type:"text",value:v.reference,onChange:S=>y({...v,reference:S.target.value}),placeholder:"Invoice/Receipt number",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})}),e.jsxs("div",{className:"px-6 py-4 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:A,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Add Expense"})]})]})})]})},qme=()=>e.jsxs("div",{className:"reports",children:[e.jsx("h1",{children:"Reports"}),e.jsx("p",{children:"Generate, export, print reports."}),e.jsx("button",{children:"Generate Financial Report"}),e.jsx("button",{children:"Export to PDF"}),e.jsx("button",{children:"Print"})]}),Hme=()=>{const[t,s]=N.useState({companyName:"",currency:"USD",taxRate:0,fiscalYearStart:"01-01",timeZone:"UTC",dateFormat:"MM/DD/YYYY",numberFormat:"1,234.56"}),[r,a]=N.useState(!0),[n,i]=N.useState(!1),[o,l]=N.useState("company"),[d,u]=N.useState({type:"",text:""}),h=[{code:"USD",name:"US Dollar ($)"},{code:"EUR",name:"Euro ()"},{code:"GBP",name:"British Pound ()"},{code:"CAD",name:"Canadian Dollar (C$)"},{code:"AUD",name:"Australian Dollar (A$)"},{code:"JPY",name:"Japanese Yen ()"},{code:"CNY",name:"Chinese Yuan ()"}],f=["UTC","America/New_York","America/Chicago","America/Denver","America/Los_Angeles","Europe/London","Europe/Berlin","Asia/Tokyo","Asia/Shanghai","Australia/Sydney"],p=["MM/DD/YYYY","DD/MM/YYYY","YYYY-MM-DD","DD-MM-YYYY","MM-DD-YYYY"],g=["1,234.56","1.234,56","1 234.56","1234.56"];N.useEffect(()=>{v()},[]);const v=()=>{try{const k=hue();s({companyName:k.companyName||"",currency:k.currency||"USD",taxRate:k.taxRate||0,fiscalYearStart:"01-01",timeZone:"UTC",dateFormat:"MM/DD/YYYY",numberFormat:"1,234.56"}),a(!1)}catch(k){console.error("Error fetching settings:",k),a(!1)}},y=async()=>{i(!0);try{await Mue(t),u({type:"success",text:"Settings saved successfully!"}),setTimeout(()=>u({type:"",text:""}),3e3)}catch(k){console.error("Error saving settings:",k),u({type:"error",text:"Failed to save settings. Please try again."})}i(!1)},b=(k,A)=>{s({...t,[k]:A})},_=[{id:"company",name:"Company Info",icon:"building"},{id:"financial",name:"Financial",icon:"dollar-sign"},{id:"preferences",name:"Preferences",icon:"settings"},{id:"users",name:"User Management",icon:"users"}];return r?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Accounting Settings"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage company information, currency, tax, and preferences"})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:[d.text&&e.jsx("div",{className:`mb-6 p-4 rounded-md ${d.type==="success"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:d.text}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:_.map(k=>e.jsx("button",{onClick:()=>l(k.id),className:`py-4 px-1 border-b-2 font-medium text-sm ${o===k.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:k.name},k.id))})}),e.jsxs("div",{className:"p-6",children:[o==="company"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Company Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name"}),e.jsx("input",{type:"text",value:t.companyName,onChange:k=>b("companyName",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter company name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Registration Number"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Registration number"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Address"}),e.jsx("textarea",{rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Business address"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Information"}),e.jsx("input",{type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 mb-2",placeholder:"Email address"}),e.jsx("input",{type:"tel",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Phone number"})]})]})]}),o==="financial"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Financial Settings"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Currency"}),e.jsx("select",{value:t.currency,onChange:k=>b("currency",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:h.map(k=>e.jsx("option",{value:k.code,children:k.name},k.code))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Tax Rate (%)"}),e.jsx("input",{type:"number",step:"0.01",value:t.taxRate,onChange:k=>b("taxRate",parseFloat(k.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fiscal Year Start"}),e.jsxs("select",{value:t.fiscalYearStart,onChange:k=>b("fiscalYearStart",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"01-01",children:"January 1st"}),e.jsx("option",{value:"04-01",children:"April 1st"}),e.jsx("option",{value:"07-01",children:"July 1st"}),e.jsx("option",{value:"10-01",children:"October 1st"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number Format"}),e.jsx("select",{value:t.numberFormat,onChange:k=>b("numberFormat",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:g.map(k=>e.jsx("option",{value:k,children:k},k))})]})]})]}),o==="preferences"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"System Preferences"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Zone"}),e.jsx("select",{value:t.timeZone,onChange:k=>b("timeZone",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:f.map(k=>e.jsx("option",{value:k,children:k},k))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Format"}),e.jsx("select",{value:t.dateFormat,onChange:k=>b("dateFormat",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:p.map(k=>e.jsx("option",{value:k,children:k},k))})]})]}),e.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Notification Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"emailInvoices",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"emailInvoices",className:"ml-2 block text-sm text-gray-900",children:"Email invoice reminders"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"lowBalanceAlerts",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"lowBalanceAlerts",className:"ml-2 block text-sm text-gray-900",children:"Low balance alerts"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"monthlyReports",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"monthlyReports",className:"ml-2 block text-sm text-gray-900",children:"Monthly financial reports"})]})]})]})]}),o==="users"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"User Management"}),e.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Add User"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Permissions"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"John Doe"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"Administrator"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Full Access"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-3",children:"Edit"}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:"Remove"})]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"Jane Smith"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"Accountant"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Accounting Only"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-3",children:"Edit"}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:"Remove"})]})]})]})]})})]})]}),e.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end",children:e.jsx("button",{onClick:y,disabled:n,className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition-colors disabled:bg-blue-400",children:n?"Saving...":"Save Settings"})})]})]})]})},Wme=()=>{const[t,s]=N.useState([]),[r,a]=N.useState([]),[n,i]=N.useState([]),[o,l]=N.useState(!1),[d,u]=N.useState(null),[h,f]=N.useState(!1),[p,g]=N.useState({supplier:"",billNumber:"",billDate:"",dueDate:"",referenceNumber:"",description:"",amount:"",tax:"",account:"",center:"",status:"Pending"}),[v,y]=N.useState([{description:"",quantity:1,rate:0,amount:0}]);N.useEffect(()=>{b();const I=()=>{f(window.innerWidth<768)};return I(),window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]);const b=()=>{s(oM()),a(n2()),i(ld())},_=I=>{const{name:B,value:T}=I.target;g(w=>({...w,[B]:T}))},k=(I,B,T)=>{const w=[...v];w[I][B]=T,(B==="quantity"||B==="rate")&&(w[I].amount=w[I].quantity*w[I].rate),y(w);const E=w.reduce((G,K)=>G+K.amount,0),D=E*.1;g(G=>({...G,amount:E.toFixed(2),tax:D.toFixed(2)}))},A=()=>{y(I=>[...I,{description:"",quantity:1,rate:0,amount:0}])},R=I=>{v.length>1&&y(B=>B.filter((T,w)=>w!==I))},F=I=>{I.preventDefault();const B={...p,items:v,totalAmount:parseFloat(p.amount)+parseFloat(p.tax||0)};d?console.log("Update bill:",B):Bue(B),V(),b()},V=()=>{g({supplier:"",billNumber:"",billDate:"",dueDate:"",referenceNumber:"",description:"",amount:"",tax:"",account:"",center:"",status:"Pending"}),y([{description:"",quantity:1,rate:0,amount:0}]),l(!1),u(null)},S=I=>{var B;u(I),g({supplier:I.supplier,billNumber:I.billNumber,billDate:I.billDate,dueDate:I.dueDate,referenceNumber:I.referenceNumber||"",description:I.description||"",amount:I.amount.toString(),tax:((B=I.tax)==null?void 0:B.toString())||"",account:I.account||"",center:I.center||"",status:I.status}),y(I.items||[{description:"",quantity:1,rate:0,amount:0}]),l(!0)},L=I=>{switch(I){case"Paid":return"text-green-600 bg-green-100";case"Pending":return"text-yellow-600 bg-yellow-100";case"Overdue":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-800",children:"Supplier Bills"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage supplier bills and payments"})]}),e.jsxs("button",{onClick:()=>l(!0),className:"w-full sm:w-auto bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 text-sm md:text-base",children:[e.jsx(bs,{className:"h-4 w-4"}),"Enter New Bill"]})]}),!o&&e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:h?e.jsx("div",{className:"divide-y divide-gray-200",children:t.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(xs,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-sm",children:"No bills found."}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Create your first bill to get started."})]}):t.map(I=>{var B;return e.jsxs("div",{className:"p-4 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(xs,{className:"h-4 w-4 text-blue-500"}),e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:I.billNumber})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 mb-2",children:[e.jsx(er,{className:"h-3 w-3"}),e.jsx("span",{children:I.supplier})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>S(I),className:"text-indigo-600 hover:text-indigo-900 p-1",title:"Edit Bill",children:e.jsx(tr,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900 p-1",title:"Delete Bill",children:e.jsx(ns,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(ys,{className:"h-3 w-3"}),e.jsxs("span",{children:["Bill: ",I.billDate]})]}),e.jsx("div",{className:"flex items-center gap-1 text-gray-600",children:e.jsxs("span",{children:["Due: ",I.dueDate]})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium",children:[e.jsx(Qs,{className:"h-3 w-3 text-green-500"}),e.jsxs("span",{children:["$",(B=I.totalAmount)==null?void 0:B.toFixed(2)]})]}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${L(I.status)}`,children:I.status})]})]})]},I.id)})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bill No."}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Supplier"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(I=>{var B;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:I.billNumber}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:I.supplier}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:I.billDate}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:I.dueDate}),e.jsxs("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",(B=I.totalAmount)==null?void 0:B.toFixed(2)]}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${L(I.status)}`,children:I.status})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>S(I),className:"text-indigo-600 hover:text-indigo-900",children:"Edit"}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:"Delete"})]})})]},I.id)})})]})})}),o&&e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 md:p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-gray-800",children:d?"Edit Bill":"Enter New Bill"}),e.jsx("button",{onClick:V,className:"text-gray-500 hover:text-gray-700 p-1",children:e.jsx(zt,{className:"h-5 w-5 md:h-6 md:w-6"})})]}),e.jsxs("form",{onSubmit:F,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3 md:gap-6",children:[e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier*"}),e.jsxs("select",{name:"supplier",value:p.supplier,onChange:_,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:[e.jsx("option",{value:"",children:"Select Supplier"}),r.map(I=>e.jsx("option",{value:I.name,children:I.name},I.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bill Number*"}),e.jsx("input",{type:"text",name:"billNumber",value:p.billNumber,onChange:_,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bill Date*"}),e.jsx("input",{type:"date",name:"billDate",value:p.billDate,onChange:_,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date*"}),e.jsx("input",{type:"date",name:"dueDate",value:p.dueDate,onChange:_,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reference Number"}),e.jsx("input",{type:"text",name:"referenceNumber",value:p.referenceNumber,onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account"}),e.jsxs("select",{name:"account",value:p.account,onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:[e.jsx("option",{value:"",children:"Select Account"}),n.map(I=>e.jsx("option",{value:I.accountName,children:I.accountName},I.id))]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4",children:[e.jsx("h3",{className:"text-base md:text-lg font-medium text-gray-800",children:"Bill Items"}),e.jsxs("button",{type:"button",onClick:A,className:"w-full sm:w-auto bg-green-600 text-white px-3 py-2 rounded text-sm hover:bg-green-700 flex items-center justify-center gap-2",children:[e.jsx(bs,{className:"h-4 w-4"}),"Add Item"]})]}),v.map((I,B)=>e.jsxs("div",{className:"border border-gray-200 rounded p-4 mb-4 space-y-4 md:space-y-0 md:grid md:grid-cols-5 md:gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("input",{type:"text",value:I.description,onChange:T=>k(B,"description",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),e.jsx("input",{type:"number",value:I.quantity,onChange:T=>k(B,"quantity",parseFloat(T.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rate"}),e.jsx("input",{type:"number",step:"0.01",value:I.rate,onChange:T=>k(B,"rate",parseFloat(T.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount"}),e.jsx("input",{type:"number",step:"0.01",value:I.amount,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-sm"})]}),v.length>1&&e.jsx("button",{type:"button",onClick:()=>R(B),className:"bg-red-600 text-white p-2 rounded hover:bg-red-700 flex-shrink-0",title:"Remove Item",children:e.jsx(zt,{className:"h-4 w-4"})})]})]},B))]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subtotal"}),e.jsx("input",{type:"number",step:"0.01",value:p.amount,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tax"}),e.jsx("input",{type:"number",step:"0.01",value:p.tax,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Amount"}),e.jsx("input",{type:"number",step:"0.01",value:(parseFloat(p.amount||0)+parseFloat(p.tax||0)).toFixed(2),readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 font-semibold text-sm md:text-base"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:V,className:"w-full sm:w-auto px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 text-sm md:text-base",children:"Cancel"}),e.jsx("button",{type:"submit",className:"w-full sm:w-auto px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm md:text-base",children:d?"Update Bill":"Save Bill"})]})]})]})]})},Gme=()=>{const[t,s]=N.useState([]),[r,a]=N.useState([]),[n,i]=N.useState([]),[o,l]=N.useState([]),[d,u]=N.useState(!1),[h,f]=N.useState(null),[p,g]=N.useState(!1),[v,y]=N.useState({supplier:"",billNumber:"",paymentMethod:"Cash",referenceNumber:"",paymentDate:"",amount:"",description:"",account:"",status:"Pending"}),b=["Cash","Check","Bank Transfer","Credit Card","Online Transfer"];N.useEffect(()=>{_();const I=()=>{g(window.innerWidth<768)};return I(),window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]);const _=()=>{s(zue()),a(n2()),i(oM()),l(ld())},k=I=>{const{name:B,value:T}=I.target;if(y(w=>({...w,[B]:T})),B==="billNumber"){const w=n.find(E=>E.billNumber===T);w&&y(E=>{var D;return{...E,amount:((D=w.totalAmount)==null?void 0:D.toString())||"",supplier:w.supplier}})}},A=I=>{I.preventDefault();const B={...v,amount:parseFloat(v.amount)};h?console.log("Update payment:",B):$ue(B),R(),_()},R=()=>{y({supplier:"",billNumber:"",paymentMethod:"Cash",referenceNumber:"",paymentDate:"",amount:"",description:"",account:"",status:"Pending"}),u(!1),f(null)},F=I=>{f(I),y({supplier:I.supplier,billNumber:I.billNumber||"",paymentMethod:I.paymentMethod,referenceNumber:I.referenceNumber||"",paymentDate:I.paymentDate,amount:I.amount.toString(),description:I.description||"",account:I.account||"",status:I.status}),u(!0)},V=I=>{switch(I){case"Completed":return"text-green-600 bg-green-100";case"Pending":return"text-yellow-600 bg-yellow-100";case"Failed":return"text-red-600 bg-red-100";case"Cancelled":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},S=I=>{switch(I){case"Cash":return"text-green-600 bg-green-100";case"Check":return"text-blue-600 bg-blue-100";case"Bank Transfer":return"text-purple-600 bg-purple-100";case"Credit Card":return"text-orange-600 bg-orange-100";case"Online Transfer":return"text-indigo-600 bg-indigo-100";default:return"text-gray-600 bg-gray-100"}},L=I=>{switch(I){case"Cash":return"";case"Check":return"";case"Bank Transfer":return"";case"Credit Card":return"";case"Online Transfer":return"";default:return""}};return e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-800",children:"Payments"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage supplier payments and transactions"})]}),e.jsxs("button",{onClick:()=>u(!0),className:"w-full sm:w-auto bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 text-sm md:text-base",children:[e.jsx(bs,{className:"h-4 w-4"}),"Make Payment"]})]}),!d&&e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:p?e.jsx("div",{className:"divide-y divide-gray-200",children:t.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(Zl,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-sm",children:"No payments found."}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Create your first payment to get started."})]}):t.map(I=>{var B;return e.jsxs("div",{className:"p-4 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Zl,{className:"h-4 w-4 text-blue-500"}),e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:I.paymentId})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 mb-2",children:[e.jsx(er,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate",children:I.supplier})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>F(I),className:"text-indigo-600 hover:text-indigo-900 p-1",title:"Edit Payment",children:e.jsx(tr,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900 p-1",title:"Delete Payment",children:e.jsx(ns,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(ys,{className:"h-3 w-3"}),e.jsx("span",{children:I.paymentDate})]}),I.billNumber&&e.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(xs,{className:"h-3 w-3"}),e.jsx("span",{children:I.billNumber})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs font-medium text-gray-600",children:L(I.paymentMethod)}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S(I.paymentMethod)}`,children:I.paymentMethod})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium",children:[e.jsx(Qs,{className:"h-3 w-3 text-green-500"}),e.jsxs("span",{children:["$",(B=I.amount)==null?void 0:B.toFixed(2)]})]}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${V(I.status)}`,children:I.status})]})]})]})]},I.id)})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment ID"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Supplier"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bill No."}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Method"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(I=>{var B;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:I.paymentId}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:I.supplier}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:I.billNumber||"-"}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:I.paymentDate}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S(I.paymentMethod)}`,children:I.paymentMethod})}),e.jsxs("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",(B=I.amount)==null?void 0:B.toFixed(2)]}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${V(I.status)}`,children:I.status})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>F(I),className:"text-indigo-600 hover:text-indigo-900",children:"Edit"}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:"Delete"})]})})]},I.id)})})]})})}),d&&e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 md:p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-gray-800",children:h?"Edit Payment":"Make Payment"}),e.jsx("button",{onClick:R,className:"text-gray-500 hover:text-gray-700 p-1",children:e.jsx(zt,{className:"h-5 w-5 md:h-6 md:w-6"})})]}),e.jsxs("form",{onSubmit:A,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier*"}),e.jsxs("select",{name:"supplier",value:v.supplier,onChange:k,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:[e.jsx("option",{value:"",children:"Select Supplier"}),r.map(I=>e.jsx("option",{value:I.name,children:I.name},I.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bill Number"}),e.jsxs("select",{name:"billNumber",value:v.billNumber,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:[e.jsx("option",{value:"",children:"Select Bill (Optional)"}),n.filter(I=>!v.supplier||I.supplier===v.supplier).map(I=>{var B;return e.jsxs("option",{value:I.billNumber,children:[I.billNumber," - $",(B=I.totalAmount)==null?void 0:B.toFixed(2)]},I.id)})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method*"}),e.jsx("select",{name:"paymentMethod",value:v.paymentMethod,onChange:k,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:b.map(I=>e.jsx("option",{value:I,children:I},I))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Date*"}),e.jsx("input",{type:"date",name:"paymentDate",value:v.paymentDate,onChange:k,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount*"}),e.jsx("input",{type:"number",step:"0.01",name:"amount",value:v.amount,onChange:k,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reference Number"}),e.jsx("input",{type:"text",name:"referenceNumber",value:v.referenceNumber,onChange:k,placeholder:"Check number, transaction ID, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account"}),e.jsxs("select",{name:"account",value:v.account,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:[e.jsx("option",{value:"",children:"Select Account"}),o.map(I=>e.jsx("option",{value:I.accountName,children:I.accountName},I.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{name:"status",value:v.status,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Failed",children:"Failed"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{name:"description",value:v.description,onChange:k,rows:3,placeholder:"Payment description or notes...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:R,className:"w-full sm:w-auto px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 text-sm md:text-base",children:"Cancel"}),e.jsx("button",{type:"submit",className:"w-full sm:w-auto px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm md:text-base",children:h?"Update Payment":"Make Payment"})]})]})]})]})},Yme=()=>{const t=wm(),[s,r]=N.useState([]),[a,n]=N.useState([]),[i,o]=N.useState([]),[l,d]=N.useState(!1),[u,h]=N.useState(null),[f,p]=N.useState(!1),[g,v]=N.useState({supplier:"",paymentMethod:"Cash",referenceNumber:"",paymentDate:"",amount:"",purpose:"",description:"",account:"",status:"Active"}),y=["Cash","Check","Bank Transfer","Credit Card","Online Transfer"],b=["Purchase Order Advance","Service Contract Advance","Material Purchase","Equipment Purchase","Project Advance","Travel Advance","Other"];N.useEffect(()=>{_()},[]);const _=()=>{r(Uue()),n(n2()),o(ld())},k=S=>{const{name:L,value:I}=S.target;v(B=>({...B,[L]:I}))},A=S=>{S.preventDefault(),p(!0);const L={...g,amount:parseFloat(g.amount),remainingAmount:parseFloat(g.amount)};u?console.log("Update advance payment:",L):Vue(L),setTimeout(()=>{R(),_(),p(!1)},500)},R=()=>{v({supplier:"",paymentMethod:"Cash",referenceNumber:"",paymentDate:"",amount:"",purpose:"",description:"",account:"",status:"Active"}),d(!1),h(null)},F=S=>{h(S),v({supplier:S.supplier,paymentMethod:S.paymentMethod,referenceNumber:S.referenceNumber||"",paymentDate:S.paymentDate,amount:S.amount.toString(),purpose:S.purpose||"",description:S.description||"",account:S.account||"",status:S.status}),d(!0)},V=e.jsx(dr,{variant:"primary",size:t.isMobile?"sm":"md",onClick:()=>d(!0),children:"+ New Advance Payment"});return e.jsxs(jm,{title:"Advance Payments",subtitle:"Manage advance payments to suppliers and vendors",actions:V,children:[!l&&e.jsx(Pa,{children:t.isMobile?e.jsxs("div",{className:"space-y-4",children:[s.map(S=>{var L,I;return e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:S.supplier}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["ID: ",S.advanceId]})]}),e.jsx("div",{className:"ml-4 flex-shrink-0",children:e.jsx(qc,{variant:S.status==="Active"?"success":S.status==="Partially Adjusted"?"warning":S.status==="Fully Adjusted"?"info":"danger",size:"sm",children:S.status})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Date:"}),e.jsx("p",{className:"font-medium",children:S.paymentDate})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Purpose:"}),e.jsx("p",{className:"font-medium truncate",children:S.purpose})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Amount:"}),e.jsxs("p",{className:"font-medium text-green-600",children:["$",(L=S.amount)==null?void 0:L.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Remaining:"}),e.jsxs("p",{className:"font-medium text-blue-600",children:["$",(I=S.remainingAmount)==null?void 0:I.toFixed(2)]})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-gray-100",children:[e.jsx(qc,{variant:S.paymentMethod==="Cash"?"success":S.paymentMethod==="Check"?"info":S.paymentMethod==="Bank Transfer"?"default":S.paymentMethod==="Credit Card"?"warning":"default",size:"sm",children:S.paymentMethod}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(dr,{variant:"outline",size:"sm",onClick:()=>F(S),children:"Edit"}),e.jsx(dr,{variant:"success",size:"sm",children:"Adjust"})]})]})]},S.id)}),s.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-500",children:"No advance payments found."}),e.jsx(dr,{variant:"primary",size:"sm",onClick:()=>d(!0),className:"mt-4",children:"Create First Payment"})]})]}):e.jsxs(i2,{children:[e.jsxs(o2,{children:[e.jsx(Zr,{children:"Advance ID"}),e.jsx(Zr,{children:"Supplier"}),e.jsx(Zr,{children:"Date"}),e.jsx(Zr,{children:"Purpose"}),e.jsx(Zr,{children:"Method"}),e.jsx(Zr,{align:"right",children:"Amount"}),e.jsx(Zr,{align:"right",children:"Remaining"}),e.jsx(Zr,{children:"Status"}),e.jsx(Zr,{children:"Actions"})]}),e.jsx(l2,{children:s.map(S=>{var L,I;return e.jsxs(c2,{children:[e.jsx(ea,{children:e.jsx("span",{className:"font-medium",children:S.advanceId})}),e.jsx(ea,{truncate:!0,children:S.supplier}),e.jsx(ea,{children:S.paymentDate}),e.jsx(ea,{truncate:!0,children:S.purpose}),e.jsx(ea,{children:e.jsx(qc,{variant:S.paymentMethod==="Cash"?"success":S.paymentMethod==="Check"?"info":S.paymentMethod==="Bank Transfer"?"default":S.paymentMethod==="Credit Card"?"warning":"default",size:"sm",children:S.paymentMethod})}),e.jsx(ea,{align:"right",children:e.jsxs("span",{className:"font-medium text-green-600",children:["$",(L=S.amount)==null?void 0:L.toFixed(2)]})}),e.jsx(ea,{align:"right",children:e.jsxs("span",{className:"font-medium text-blue-600",children:["$",(I=S.remainingAmount)==null?void 0:I.toFixed(2)]})}),e.jsx(ea,{children:e.jsx(qc,{variant:S.status==="Active"?"success":S.status==="Partially Adjusted"?"warning":S.status==="Fully Adjusted"?"info":"danger",size:"sm",children:S.status})}),e.jsx(ea,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(dr,{variant:"outline",size:"sm",onClick:()=>F(S),children:"Edit"}),e.jsx(dr,{variant:"success",size:"sm",children:"Adjust"}),e.jsx(dr,{variant:"danger",size:"sm",children:"Cancel"})]})})]},S.id)})})]})}),l&&e.jsxs(Pa,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800",children:u?"Edit Advance Payment":"New Advance Payment"}),e.jsxs(dr,{variant:"secondary",size:t.isMobile?"sm":"md",onClick:R,children:[" ",t.isMobile?"":"Cancel"]})]}),e.jsxs("form",{onSubmit:A,className:"space-y-4 sm:space-y-6",children:[e.jsxs(Lo,{cols:t.isMobile?"grid-cols-1":"grid-cols-1 md:grid-cols-2",gap:"gap-4 sm:gap-6",children:[e.jsx(yn,{label:"Supplier",required:!0,children:e.jsxs($d,{name:"supplier",value:g.supplier,onChange:k,required:!0,children:[e.jsx("option",{value:"",children:"Select Supplier"}),a.map(S=>e.jsx("option",{value:S.name,children:S.name},S.id))]})}),e.jsx(yn,{label:"Payment Date",required:!0,children:e.jsx(Xd,{type:"date",name:"paymentDate",value:g.paymentDate,onChange:k,required:!0})})]}),e.jsxs(Lo,{cols:t.isMobile?"grid-cols-1":"grid-cols-1 md:grid-cols-2",gap:"gap-4 sm:gap-6",children:[e.jsx(yn,{label:"Purpose",required:!0,children:e.jsxs($d,{name:"purpose",value:g.purpose,onChange:k,required:!0,children:[e.jsx("option",{value:"",children:"Select Purpose"}),b.map(S=>e.jsx("option",{value:S,children:S},S))]})}),e.jsx(yn,{label:"Payment Method",required:!0,children:e.jsx($d,{name:"paymentMethod",value:g.paymentMethod,onChange:k,required:!0,children:y.map(S=>e.jsx("option",{value:S,children:S},S))})})]}),e.jsxs(Lo,{cols:t.isMobile?"grid-cols-1":"grid-cols-1 md:grid-cols-2",gap:"gap-4 sm:gap-6",children:[e.jsx(yn,{label:"Amount",required:!0,children:e.jsx(Xd,{type:"number",step:"0.01",name:"amount",value:g.amount,onChange:k,required:!0})}),e.jsx(yn,{label:"Reference Number",children:e.jsx(Xd,{type:"text",name:"referenceNumber",value:g.referenceNumber,onChange:k,placeholder:"Check number, transaction ID, etc."})})]}),e.jsxs(Lo,{cols:t.isMobile?"grid-cols-1":"grid-cols-1 md:grid-cols-2",gap:"gap-4 sm:gap-6",children:[e.jsx(yn,{label:"Account",children:e.jsxs($d,{name:"account",value:g.account,onChange:k,children:[e.jsx("option",{value:"",children:"Select Account"}),i.map(S=>e.jsx("option",{value:S.accountName,children:S.accountName},S.id))]})}),e.jsx(yn,{label:"Status",children:e.jsxs($d,{name:"status",value:g.status,onChange:k,children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Partially Adjusted",children:"Partially Adjusted"}),e.jsx("option",{value:"Fully Adjusted",children:"Fully Adjusted"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]})})]}),e.jsx(yn,{label:"Description",children:e.jsx(kme,{name:"description",value:g.description,onChange:k,rows:3,placeholder:"Additional notes about the advance payment..."})}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4 pt-4 sm:pt-6",children:[e.jsx(dr,{type:"button",variant:"secondary",size:(t.isMobile,"md"),onClick:R,fullWidth:t.isMobile,children:"Cancel"}),e.jsx(dr,{type:"submit",variant:"primary",size:(t.isMobile,"md"),loading:f,disabled:f,fullWidth:t.isMobile,children:u?"Update Advance Payment":"Create Advance Payment"})]})]})]})]})},Kme=()=>{const[t,s]=N.useState([]),[r,a]=N.useState([]),[n,i]=N.useState([]),[o,l]=N.useState(!1),[d,u]=N.useState(null),[h,f]=N.useState(!1),[p,g]=N.useState({customer:"",depositType:"Customer Payment",depositMethod:"Cash",referenceNumber:"",depositDate:"",amount:"",description:"",account:"",status:"Pending"}),[v,y]=N.useState([{description:"",amount:0}]),b=["Customer Payment","Loan Receipt","Interest Income","Dividend Income","Sale of Assets","Refund Received","Other Income"],_=["Cash","Check","Bank Transfer","Credit Card","Online Transfer","Wire Transfer"];N.useEffect(()=>{k();const E=()=>{f(window.innerWidth<768)};return E(),window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]);const k=()=>{s(que()),a(a2()),i(ld())},A=E=>{const{name:D,value:G}=E.target;g(K=>({...K,[D]:G}))},R=(E,D,G)=>{const K=[...v];K[E][D]=G,y(K);const X=K.reduce((se,Z)=>se+(parseFloat(Z.amount)||0),0);g(se=>({...se,amount:X.toFixed(2)}))},F=()=>{y(E=>[...E,{description:"",amount:0}])},V=E=>{if(v.length>1){const D=v.filter((K,X)=>X!==E);y(D);const G=D.reduce((K,X)=>K+(parseFloat(X.amount)||0),0);g(K=>({...K,amount:G.toFixed(2)}))}},S=E=>{E.preventDefault();const D={...p,amount:parseFloat(p.amount),items:v};d?console.log("Update deposit:",D):Hue(D),L(),k()},L=()=>{g({customer:"",depositType:"Customer Payment",depositMethod:"Cash",referenceNumber:"",depositDate:"",amount:"",description:"",account:"",status:"Pending"}),y([{description:"",amount:0}]),l(!1),u(null)},I=E=>{u(E),g({customer:E.customer||"",depositType:E.depositType,depositMethod:E.depositMethod,referenceNumber:E.referenceNumber||"",depositDate:E.depositDate,amount:E.amount.toString(),description:E.description||"",account:E.account||"",status:E.status}),y(E.items||[{description:"",amount:0}]),l(!0)},B=E=>{switch(E){case"Completed":return"text-green-600 bg-green-100";case"Pending":return"text-yellow-600 bg-yellow-100";case"Failed":return"text-red-600 bg-red-100";case"Cancelled":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},T=E=>{switch(E){case"Customer Payment":return"text-blue-600 bg-blue-100";case"Loan Receipt":return"text-purple-600 bg-purple-100";case"Interest Income":return"text-green-600 bg-green-100";case"Dividend Income":return"text-indigo-600 bg-indigo-100";default:return"text-gray-600 bg-gray-100"}},w=E=>{switch(E){case"Cash":return"";case"Check":return"";case"Bank Transfer":return"";case"Credit Card":return"";case"Online Transfer":return"";case"Wire Transfer":return"";default:return""}};return e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-800",children:"Make Deposit"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage deposits and income transactions"})]}),e.jsxs("button",{onClick:()=>l(!0),className:"w-full sm:w-auto bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 text-sm md:text-base",children:[e.jsx(bs,{className:"h-4 w-4"}),"Make New Deposit"]})]}),!o&&e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:h?e.jsx("div",{className:"divide-y divide-gray-200",children:t.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(Zl,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-sm",children:"No deposits found."}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Create your first deposit to get started."})]}):t.map(E=>{var D;return e.jsxs("div",{className:"p-4 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Zl,{className:"h-4 w-4 text-green-500"}),e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:E.depositId})]}),E.customer&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 mb-2",children:[e.jsx(er,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate",children:E.customer})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>I(E),className:"text-indigo-600 hover:text-indigo-900 p-1",title:"Edit Deposit",children:e.jsx(tr,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900 p-1",title:"Delete Deposit",children:e.jsx(ns,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(ys,{className:"h-3 w-3"}),e.jsx("span",{children:E.depositDate})]}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${T(E.depositType)}`,children:E.depositType})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs font-medium text-gray-600",children:w(E.depositMethod)}),e.jsx("span",{className:"text-xs text-gray-600",children:E.depositMethod})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium",children:[e.jsx(Qs,{className:"h-3 w-3 text-green-500"}),e.jsxs("span",{children:["$",(D=E.amount)==null?void 0:D.toFixed(2)]})]}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${B(E.status)}`,children:E.status})]})]})]})]},E.id)})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deposit ID"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer/Source"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Method"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(E=>{var D;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:E.depositId}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E.customer||"N/A"}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${T(E.depositType)}`,children:E.depositType})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E.depositDate}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E.depositMethod}),e.jsxs("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",(D=E.amount)==null?void 0:D.toFixed(2)]}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${B(E.status)}`,children:E.status})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>I(E),className:"text-indigo-600 hover:text-indigo-900",children:"Edit"}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:"Delete"})]})})]},E.id)})})]})})}),o&&e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 md:p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-gray-800",children:d?"Edit Deposit":"Make New Deposit"}),e.jsx("button",{onClick:L,className:"text-gray-500 hover:text-gray-700 p-1",children:e.jsx(zt,{className:"h-5 w-5 md:h-6 md:w-6"})})]}),e.jsxs("form",{onSubmit:S,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer/Source"}),e.jsxs("select",{name:"customer",value:p.customer,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:[e.jsx("option",{value:"",children:"Select Customer (Optional)"}),r.map(E=>e.jsx("option",{value:E.customerName,children:E.customerName},E.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deposit Type*"}),e.jsx("select",{name:"depositType",value:p.depositType,onChange:A,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:b.map(E=>e.jsx("option",{value:E,children:E},E))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deposit Method*"}),e.jsx("select",{name:"depositMethod",value:p.depositMethod,onChange:A,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:_.map(E=>e.jsx("option",{value:E,children:E},E))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deposit Date*"}),e.jsx("input",{type:"date",name:"depositDate",value:p.depositDate,onChange:A,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reference Number"}),e.jsx("input",{type:"text",name:"referenceNumber",value:p.referenceNumber,onChange:A,placeholder:"Check number, transaction ID, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account"}),e.jsxs("select",{name:"account",value:p.account,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:[e.jsx("option",{value:"",children:"Select Account"}),n.map(E=>e.jsx("option",{value:E.accountName,children:E.accountName},E.id))]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4",children:[e.jsx("h3",{className:"text-base md:text-lg font-medium text-gray-800",children:"Deposit Items"}),e.jsxs("button",{type:"button",onClick:F,className:"w-full sm:w-auto bg-green-600 text-white px-3 py-2 rounded text-sm hover:bg-green-700 flex items-center justify-center gap-2",children:[e.jsx(bs,{className:"h-4 w-4"}),"Add Item"]})]}),v.map((E,D)=>e.jsxs("div",{className:"border border-gray-200 rounded p-4 mb-4 space-y-4 md:space-y-0 md:grid md:grid-cols-3 md:gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("input",{type:"text",value:E.description,onChange:G=>R(D,"description",G.target.value),placeholder:"Deposit item description",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount"}),e.jsx("input",{type:"number",step:"0.01",value:E.amount,onChange:G=>R(D,"amount",parseFloat(G.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),v.length>1&&e.jsx("div",{className:"flex items-end",children:e.jsx("button",{type:"button",onClick:()=>V(D),className:"bg-red-600 text-white p-2 rounded hover:bg-red-700 flex-shrink-0",title:"Remove Item",children:e.jsx(zt,{className:"h-4 w-4"})})})]})]},D))]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Amount"}),e.jsx("input",{type:"number",step:"0.01",value:p.amount,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 font-semibold text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{name:"status",value:p.status,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Failed",children:"Failed"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{name:"description",value:p.description,onChange:A,rows:3,placeholder:"Additional notes about the deposit...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:L,className:"w-full sm:w-auto px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 text-sm md:text-base",children:"Cancel"}),e.jsx("button",{type:"submit",className:"w-full sm:w-auto px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm md:text-base",children:d?"Update Deposit":"Make Deposit"})]})]})]})]})},Xme=()=>{const[t,s]=N.useState([]),[r,a]=N.useState([]),[n,i]=N.useState([]),[o,l]=N.useState(!1),[d,u]=N.useState(null),[h,f]=N.useState(!1),[p,g]=N.useState({customer:"",receiptType:"Invoice Payment",paymentMethod:"Cash",referenceNumber:"",receiptDate:"",amount:"",description:"",account:"",invoiceNumber:"",status:"Received"}),[v,y]=N.useState([{description:"",amount:0}]),b=["Invoice Payment","Advance Payment","Loan Payment","Service Payment","Product Sale","Subscription Payment","Refund Payment","Other"],_=["Cash","Check","Bank Transfer","Credit Card","Online Transfer","Wire Transfer"];N.useEffect(()=>{k();const E=()=>{f(window.innerWidth<768)};return E(),window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]);const k=()=>{s(Wue()),a(a2()),i(ld())},A=E=>{const{name:D,value:G}=E.target;g(K=>({...K,[D]:G}))},R=(E,D,G)=>{const K=[...v];K[E][D]=G,y(K);const X=K.reduce((se,Z)=>se+(parseFloat(Z.amount)||0),0);g(se=>({...se,amount:X.toFixed(2)}))},F=()=>{y(E=>[...E,{description:"",amount:0}])},V=E=>{if(v.length>1){const D=v.filter((K,X)=>X!==E);y(D);const G=D.reduce((K,X)=>K+(parseFloat(X.amount)||0),0);g(K=>({...K,amount:G.toFixed(2)}))}},S=E=>{E.preventDefault();const D={...p,amount:parseFloat(p.amount),items:v};d?console.log("Update receipt:",D):Gue(D),L(),k()},L=()=>{g({customer:"",receiptType:"Invoice Payment",paymentMethod:"Cash",referenceNumber:"",receiptDate:"",amount:"",description:"",account:"",invoiceNumber:"",status:"Received"}),y([{description:"",amount:0}]),l(!1),u(null)},I=E=>{u(E),g({customer:E.customer,receiptType:E.receiptType,paymentMethod:E.paymentMethod,referenceNumber:E.referenceNumber||"",receiptDate:E.receiptDate,amount:E.amount.toString(),description:E.description||"",account:E.account||"",invoiceNumber:E.invoiceNumber||"",status:E.status}),y(E.items||[{description:"",amount:0}]),l(!0)},B=E=>{switch(E){case"Received":return"text-green-600 bg-green-100";case"Pending":return"text-yellow-600 bg-yellow-100";case"Cancelled":return"text-red-600 bg-red-100";case"Refunded":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},T=E=>{switch(E){case"Invoice Payment":return"text-blue-600 bg-blue-100";case"Advance Payment":return"text-purple-600 bg-purple-100";case"Service Payment":return"text-green-600 bg-green-100";case"Product Sale":return"text-indigo-600 bg-indigo-100";default:return"text-gray-600 bg-gray-100"}},w=E=>{switch(E){case"Cash":return"";case"Check":return"";case"Bank Transfer":return"";case"Credit Card":return"";case"Online Transfer":return"";case"Wire Transfer":return"";default:return""}};return e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-800",children:"Receipts"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage customer receipts and payments"})]}),e.jsxs("button",{onClick:()=>l(!0),className:"w-full sm:w-auto bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 text-sm md:text-base",children:[e.jsx(bs,{className:"h-4 w-4"}),"Create Receipt"]})]}),!o&&e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:h?e.jsx("div",{className:"divide-y divide-gray-200",children:t.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(xs,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-sm",children:"No receipts found."}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Create your first receipt to get started."})]}):t.map(E=>{var D;return e.jsxs("div",{className:"p-4 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(xs,{className:"h-4 w-4 text-green-500"}),e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:E.receiptId})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 mb-2",children:[e.jsx(er,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate",children:E.customer})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>I(E),className:"text-indigo-600 hover:text-indigo-900 p-1",title:"Edit Receipt",children:e.jsx(tr,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-green-600 hover:text-green-900 p-1",title:"Print Receipt",children:e.jsx(Kj,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900 p-1",title:"Delete Receipt",children:e.jsx(ns,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(ys,{className:"h-3 w-3"}),e.jsx("span",{children:E.receiptDate})]}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${T(E.receiptType)}`,children:E.receiptType})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs font-medium text-gray-600",children:w(E.paymentMethod)}),e.jsx("span",{className:"text-xs text-gray-600",children:E.paymentMethod})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium",children:[e.jsx(Qs,{className:"h-3 w-3 text-green-500"}),e.jsxs("span",{children:["$",(D=E.amount)==null?void 0:D.toFixed(2)]})]}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${B(E.status)}`,children:E.status})]})]})]})]},E.id)})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Receipt ID"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Method"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(E=>{var D;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:E.receiptId}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E.customer}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${T(E.receiptType)}`,children:E.receiptType})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E.receiptDate}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E.paymentMethod}),e.jsxs("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",(D=E.amount)==null?void 0:D.toFixed(2)]}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${B(E.status)}`,children:E.status})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>I(E),className:"text-indigo-600 hover:text-indigo-900",children:"Edit"}),e.jsx("button",{className:"text-green-600 hover:text-green-900",children:"Print"}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:"Delete"})]})})]},E.id)})})]})})}),o&&e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 md:p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-gray-800",children:d?"Edit Receipt":"Create Receipt"}),e.jsx("button",{onClick:L,className:"text-gray-500 hover:text-gray-700 p-1",children:e.jsx(zt,{className:"h-5 w-5 md:h-6 md:w-6"})})]}),e.jsxs("form",{onSubmit:S,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer*"}),e.jsxs("select",{name:"customer",value:p.customer,onChange:A,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:[e.jsx("option",{value:"",children:"Select Customer"}),r.map(E=>e.jsx("option",{value:E.customerName,children:E.customerName},E.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Receipt Type*"}),e.jsx("select",{name:"receiptType",value:p.receiptType,onChange:A,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:b.map(E=>e.jsx("option",{value:E,children:E},E))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method*"}),e.jsx("select",{name:"paymentMethod",value:p.paymentMethod,onChange:A,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:_.map(E=>e.jsx("option",{value:E,children:E},E))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Receipt Date*"}),e.jsx("input",{type:"date",name:"receiptDate",value:p.receiptDate,onChange:A,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Invoice Number"}),e.jsx("input",{type:"text",name:"invoiceNumber",value:p.invoiceNumber,onChange:A,placeholder:"Related invoice number (if applicable)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reference Number"}),e.jsx("input",{type:"text",name:"referenceNumber",value:p.referenceNumber,onChange:A,placeholder:"Check number, transaction ID, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4",children:[e.jsx("h3",{className:"text-base md:text-lg font-medium text-gray-800",children:"Receipt Items"}),e.jsxs("button",{type:"button",onClick:F,className:"w-full sm:w-auto bg-green-600 text-white px-3 py-2 rounded text-sm hover:bg-green-700 flex items-center justify-center gap-2",children:[e.jsx(bs,{className:"h-4 w-4"}),"Add Item"]})]}),v.map((E,D)=>e.jsxs("div",{className:"border border-gray-200 rounded p-4 mb-4 space-y-4 md:space-y-0 md:grid md:grid-cols-3 md:gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("input",{type:"text",value:E.description,onChange:G=>R(D,"description",G.target.value),placeholder:"Receipt item description",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount"}),e.jsx("input",{type:"number",step:"0.01",value:E.amount,onChange:G=>R(D,"amount",parseFloat(G.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),v.length>1&&e.jsx("div",{className:"flex items-end",children:e.jsx("button",{type:"button",onClick:()=>V(D),className:"bg-red-600 text-white p-2 rounded hover:bg-red-700 flex-shrink-0",title:"Remove Item",children:e.jsx(zt,{className:"h-4 w-4"})})})]})]},D))]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Amount"}),e.jsx("input",{type:"number",step:"0.01",value:p.amount,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 font-semibold text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account"}),e.jsxs("select",{name:"account",value:p.account,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:[e.jsx("option",{value:"",children:"Select Account"}),n.map(E=>e.jsx("option",{value:E.accountName,children:E.accountName},E.id))]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{name:"status",value:p.status,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:[e.jsx("option",{value:"Received",children:"Received"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"}),e.jsx("option",{value:"Refunded",children:"Refunded"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{name:"description",value:p.description,onChange:A,rows:3,placeholder:"Additional notes about the receipt...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:L,className:"w-full sm:w-auto px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 text-sm md:text-base",children:"Cancel"}),e.jsx("button",{type:"submit",className:"w-full sm:w-auto px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm md:text-base",children:d?"Update Receipt":"Create Receipt"})]})]})]})]})},Qme=()=>{const[t,s]=N.useState([]),[r,a]=N.useState([]),[n,i]=N.useState([]),[o,l]=N.useState(!1),[d,u]=N.useState(null),[h,f]=N.useState(!1),[p,g]=N.useState({provider:"",utilityType:"Electricity",billNumber:"",billDate:"",dueDate:"",servicePeriodFrom:"",servicePeriodTo:"",previousReading:"",currentReading:"",unitsConsumed:"",ratePerUnit:"",baseAmount:"",taxes:"",totalAmount:"",account:"",status:"Pending"}),v=["Electricity","Water","Gas","Internet","Phone","Cable TV","Waste Management","Sewage","Other"];N.useEffect(()=>{y();const S=()=>{f(window.innerWidth<768)};return S(),window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]),N.useEffect(()=>{if(p.previousReading&&p.currentReading){const S=parseFloat(p.currentReading)-parseFloat(p.previousReading);g(L=>({...L,unitsConsumed:S.toString()}))}},[p.previousReading,p.currentReading]),N.useEffect(()=>{if(p.unitsConsumed&&p.ratePerUnit){const S=parseFloat(p.unitsConsumed)*parseFloat(p.ratePerUnit),L=S*.1,I=S+L;g(B=>({...B,baseAmount:S.toFixed(2),taxes:L.toFixed(2),totalAmount:I.toFixed(2)}))}},[p.unitsConsumed,p.ratePerUnit]);const y=()=>{s(lM()),a(Kue()),i(ld())},b=S=>{const{name:L,value:I}=S.target;g(B=>({...B,[L]:I}))},_=S=>{S.preventDefault();const L={...p,previousReading:parseFloat(p.previousReading)||0,currentReading:parseFloat(p.currentReading)||0,unitsConsumed:parseFloat(p.unitsConsumed)||0,ratePerUnit:parseFloat(p.ratePerUnit)||0,baseAmount:parseFloat(p.baseAmount)||0,taxes:parseFloat(p.taxes)||0,totalAmount:parseFloat(p.totalAmount)||0};d?console.log("Update utility bill:",L):Yue(L),k(),y()},k=()=>{g({provider:"",utilityType:"Electricity",billNumber:"",billDate:"",dueDate:"",servicePeriodFrom:"",servicePeriodTo:"",previousReading:"",currentReading:"",unitsConsumed:"",ratePerUnit:"",baseAmount:"",taxes:"",totalAmount:"",account:"",status:"Pending"}),l(!1),u(null)},A=S=>{var L,I,B,T,w,E,D;u(S),g({provider:S.provider,utilityType:S.utilityType,billNumber:S.billNumber,billDate:S.billDate,dueDate:S.dueDate,servicePeriodFrom:S.servicePeriodFrom||"",servicePeriodTo:S.servicePeriodTo||"",previousReading:((L=S.previousReading)==null?void 0:L.toString())||"",currentReading:((I=S.currentReading)==null?void 0:I.toString())||"",unitsConsumed:((B=S.unitsConsumed)==null?void 0:B.toString())||"",ratePerUnit:((T=S.ratePerUnit)==null?void 0:T.toString())||"",baseAmount:((w=S.baseAmount)==null?void 0:w.toString())||"",taxes:((E=S.taxes)==null?void 0:E.toString())||"",totalAmount:((D=S.totalAmount)==null?void 0:D.toString())||"",account:S.account||"",status:S.status}),l(!0)},R=S=>{switch(S){case"Paid":return"text-green-600 bg-green-100";case"Pending":return"text-yellow-600 bg-yellow-100";case"Overdue":return"text-red-600 bg-red-100";case"Cancelled":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},F=S=>{switch(S){case"Electricity":return"text-yellow-600 bg-yellow-100";case"Water":return"text-blue-600 bg-blue-100";case"Gas":return"text-orange-600 bg-orange-100";case"Internet":return"text-purple-600 bg-purple-100";case"Phone":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},V=S=>{switch(S){case"Electricity":return e.jsx(Dw,{className:"h-4 w-4 text-yellow-500"});case"Water":return e.jsx(Aw,{className:"h-4 w-4 text-blue-500"});case"Gas":return e.jsx(_A,{className:"h-4 w-4 text-orange-500"});case"Internet":return e.jsx(DA,{className:"h-4 w-4 text-purple-500"});case"Phone":return e.jsx(Yl,{className:"h-4 w-4 text-green-500"});case"Cable TV":return e.jsx(T9,{className:"h-4 w-4 text-indigo-500"});case"Waste Management":return e.jsx(ns,{className:"h-4 w-4 text-gray-500"});case"Sewage":return e.jsx(Aw,{className:"h-4 w-4 text-brown-500"});default:return e.jsx(sx,{className:"h-4 w-4 text-gray-500"})}};return e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-800",children:"Utility Bills"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage utility bills and payments"})]}),e.jsxs("button",{onClick:()=>l(!0),className:"w-full sm:w-auto bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 text-sm md:text-base",children:[e.jsx(bs,{className:"h-4 w-4"}),"Create Utility Bill"]})]}),!o&&e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:h?e.jsx("div",{className:"divide-y divide-gray-200",children:t.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(Dw,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-sm",children:"No utility bills found."}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Create your first utility bill to get started."})]}):t.map(S=>{var L;return e.jsxs("div",{className:"p-4 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[V(S.utilityType),e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:S.billNumber})]}),e.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-600 mb-2",children:e.jsx("span",{className:"truncate",children:S.provider})})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>A(S),className:"text-indigo-600 hover:text-indigo-900 p-1",title:"Edit Bill",children:e.jsx(tr,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-green-600 hover:text-green-900 p-1",title:"Pay Bill",children:e.jsx(Qs,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900 p-1",title:"Delete Bill",children:e.jsx(ns,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(ys,{className:"h-3 w-3"}),e.jsxs("span",{children:["Bill: ",S.billDate]})]}),e.jsx("div",{className:"flex items-center gap-1 text-gray-600",children:e.jsxs("span",{children:["Due: ",S.dueDate]})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${F(S.utilityType)}`,children:S.utilityType})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium",children:[e.jsx(Qs,{className:"h-3 w-3 text-green-500"}),e.jsxs("span",{children:["$",(L=S.totalAmount)==null?void 0:L.toFixed(2)]})]}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${R(S.status)}`,children:S.status})]})]})]})]},S.id)})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bill No."}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Provider"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bill Date"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(S=>{var L;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:S.billNumber}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.provider}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${F(S.utilityType)}`,children:S.utilityType})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.billDate}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.dueDate}),e.jsxs("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",(L=S.totalAmount)==null?void 0:L.toFixed(2)]}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${R(S.status)}`,children:S.status})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>A(S),className:"text-indigo-600 hover:text-indigo-900",children:"Edit"}),e.jsx("button",{className:"text-green-600 hover:text-green-900",children:"Pay"}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:"Delete"})]})})]},S.id)})})]})})}),o&&e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 md:p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-gray-800",children:d?"Edit Utility Bill":"Create Utility Bill"}),e.jsx("button",{onClick:k,className:"text-gray-500 hover:text-gray-700 p-1",children:e.jsx(zt,{className:"h-5 w-5 md:h-6 md:w-6"})})]}),e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3 md:gap-6",children:[e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Provider*"}),e.jsxs("select",{name:"provider",value:p.provider,onChange:b,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:[e.jsx("option",{value:"",children:"Select Provider"}),r.map(S=>e.jsx("option",{value:S.name,children:S.name},S.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Utility Type*"}),e.jsx("select",{name:"utilityType",value:p.utilityType,onChange:b,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:v.map(S=>e.jsx("option",{value:S,children:S},S))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bill Number*"}),e.jsx("input",{type:"text",name:"billNumber",value:p.billNumber,onChange:b,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bill Date*"}),e.jsx("input",{type:"date",name:"billDate",value:p.billDate,onChange:b,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date*"}),e.jsx("input",{type:"date",name:"dueDate",value:p.dueDate,onChange:b,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Period From"}),e.jsx("input",{type:"date",name:"servicePeriodFrom",value:p.servicePeriodFrom,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Period To"}),e.jsx("input",{type:"date",name:"servicePeriodTo",value:p.servicePeriodTo,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Previous Reading"}),e.jsx("input",{type:"number",step:"0.01",name:"previousReading",value:p.previousReading,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Reading"}),e.jsx("input",{type:"number",step:"0.01",name:"currentReading",value:p.currentReading,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Units Consumed"}),e.jsx("input",{type:"number",step:"0.01",name:"unitsConsumed",value:p.unitsConsumed,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-sm md:text-base"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rate per Unit"}),e.jsx("input",{type:"number",step:"0.01",name:"ratePerUnit",value:p.ratePerUnit,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account"}),e.jsxs("select",{name:"account",value:p.account,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:[e.jsx("option",{value:"",children:"Select Account"}),n.map(S=>e.jsx("option",{value:S.accountName,children:S.accountName},S.id))]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Base Amount"}),e.jsx("input",{type:"number",step:"0.01",value:p.baseAmount,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Taxes"}),e.jsx("input",{type:"number",step:"0.01",value:p.taxes,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Amount"}),e.jsx("input",{type:"number",step:"0.01",value:p.totalAmount,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 font-semibold text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{name:"status",value:p.status,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Paid",children:"Paid"}),e.jsx("option",{value:"Overdue",children:"Overdue"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:k,className:"w-full sm:w-auto px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 text-sm md:text-base",children:"Cancel"}),e.jsx("button",{type:"submit",className:"w-full sm:w-auto px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm md:text-base",children:d?"Update Bill":"Create Bill"})]})]})]})]})},Jme=()=>{const[t,s]=N.useState([]),[r,a]=N.useState([]),[n,i]=N.useState([]),[o,l]=N.useState(!1),[d,u]=N.useState(null),[h,f]=N.useState(!1),[p,g]=N.useState({utilityBill:"",provider:"",utilityType:"",billAmount:"",paymentMethod:"Cash",referenceNumber:"",paymentDate:"",amountPaid:"",discountAmount:"",penaltyAmount:"",totalPayment:"",account:"",status:"Completed"}),v=["Cash","Check","Bank Transfer","Credit Card","Online Transfer","Wire Transfer"];N.useEffect(()=>{y();const L=()=>{f(window.innerWidth<768)};return L(),window.addEventListener("resize",L),()=>window.removeEventListener("resize",L)},[]),N.useEffect(()=>{const L=parseFloat(p.amountPaid)||0,I=parseFloat(p.discountAmount)||0,B=parseFloat(p.penaltyAmount)||0,T=L-I+B;g(w=>({...w,totalPayment:T.toFixed(2)}))},[p.amountPaid,p.discountAmount,p.penaltyAmount]);const y=()=>{s(Xue()),a(lM()),i(ld())},b=L=>{const{name:I,value:B}=L.target;if(g(T=>({...T,[I]:B})),I==="utilityBill"){const T=r.find(w=>w.billNumber===B);T&&g(w=>{var E,D;return{...w,provider:T.provider,utilityType:T.utilityType,billAmount:((E=T.totalAmount)==null?void 0:E.toString())||"",amountPaid:((D=T.totalAmount)==null?void 0:D.toString())||""}})}},_=L=>{L.preventDefault();const I={...p,billAmount:parseFloat(p.billAmount)||0,amountPaid:parseFloat(p.amountPaid)||0,discountAmount:parseFloat(p.discountAmount)||0,penaltyAmount:parseFloat(p.penaltyAmount)||0,totalPayment:parseFloat(p.totalPayment)||0};d?console.log("Update utility bill payment:",I):Que(I),k(),y()},k=()=>{g({utilityBill:"",provider:"",utilityType:"",billAmount:"",paymentMethod:"Cash",referenceNumber:"",paymentDate:"",amountPaid:"",discountAmount:"",penaltyAmount:"",totalPayment:"",account:"",status:"Completed"}),l(!1),u(null)},A=L=>{var I,B,T,w,E;u(L),g({utilityBill:L.utilityBill||"",provider:L.provider,utilityType:L.utilityType||"",billAmount:((I=L.billAmount)==null?void 0:I.toString())||"",paymentMethod:L.paymentMethod,referenceNumber:L.referenceNumber||"",paymentDate:L.paymentDate,amountPaid:((B=L.amountPaid)==null?void 0:B.toString())||"",discountAmount:((T=L.discountAmount)==null?void 0:T.toString())||"",penaltyAmount:((w=L.penaltyAmount)==null?void 0:w.toString())||"",totalPayment:((E=L.totalPayment)==null?void 0:E.toString())||"",account:L.account||"",status:L.status}),l(!0)},R=L=>{switch(L){case"Completed":return"text-green-600 bg-green-100";case"Pending":return"text-yellow-600 bg-yellow-100";case"Failed":return"text-red-600 bg-red-100";case"Cancelled":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},F=L=>{switch(L){case"Electricity":return"text-yellow-600 bg-yellow-100";case"Water":return"text-blue-600 bg-blue-100";case"Gas":return"text-orange-600 bg-orange-100";case"Internet":return"text-purple-600 bg-purple-100";case"Phone":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},V=L=>{switch(L){case"Electricity":return e.jsx(Dw,{className:"h-4 w-4 text-yellow-500"});case"Water":return e.jsx(Aw,{className:"h-4 w-4 text-blue-500"});case"Gas":return e.jsx(_A,{className:"h-4 w-4 text-orange-500"});case"Internet":return e.jsx(DA,{className:"h-4 w-4 text-purple-500"});case"Phone":return e.jsx(Yl,{className:"h-4 w-4 text-green-500"});default:return e.jsx(xs,{className:"h-4 w-4 text-gray-500"})}},S=L=>{switch(L){case"Cash":return"";case"Check":return"";case"Bank Transfer":return"";case"Credit Card":return"";case"Online Transfer":return"";case"Wire Transfer":return"";default:return""}};return e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-800",children:"Utility Bill Payments"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage utility bill payments and transactions"})]}),e.jsxs("button",{onClick:()=>l(!0),className:"w-full sm:w-auto bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 text-sm md:text-base",children:[e.jsx(bs,{className:"h-4 w-4"}),"Pay Utility Bill"]})]}),!o&&e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:h?e.jsx("div",{className:"divide-y divide-gray-200",children:t.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(Zl,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-sm",children:"No utility bill payments found."}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Create your first payment to get started."})]}):t.map(L=>{var I;return e.jsxs("div",{className:"p-4 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Zl,{className:"h-4 w-4 text-blue-500"}),e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:L.paymentId})]}),e.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-600 mb-2",children:e.jsx("span",{className:"truncate",children:L.provider})})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>A(L),className:"text-indigo-600 hover:text-indigo-900 p-1",title:"Edit Payment",children:e.jsx(tr,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-green-600 hover:text-green-900 p-1",title:"View Receipt",children:e.jsx(AA,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900 p-1",title:"Delete Payment",children:e.jsx(ns,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(ys,{className:"h-3 w-3"}),e.jsx("span",{children:L.paymentDate})]}),L.utilityBill&&e.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(xs,{className:"h-3 w-3"}),e.jsx("span",{children:L.utilityBill})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[V(L.utilityType),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${F(L.utilityType)}`,children:L.utilityType})]}),e.jsx("span",{className:"text-xs font-medium text-gray-600",children:S(L.paymentMethod)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium",children:[e.jsx(Qs,{className:"h-3 w-3 text-green-500"}),e.jsxs("span",{children:["$",(I=L.totalPayment)==null?void 0:I.toFixed(2)]})]}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${R(L.status)}`,children:L.status})]})]})]})]},L.id)})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment ID"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Provider"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bill No."}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Method"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(L=>{var I;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:L.paymentId}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:L.provider}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${F(L.utilityType)}`,children:L.utilityType})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:L.utilityBill||"-"}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:L.paymentDate}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:L.paymentMethod}),e.jsxs("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",(I=L.totalPayment)==null?void 0:I.toFixed(2)]}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${R(L.status)}`,children:L.status})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>A(L),className:"text-indigo-600 hover:text-indigo-900",children:"Edit"}),e.jsx("button",{className:"text-green-600 hover:text-green-900",children:"Receipt"}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:"Delete"})]})})]},L.id)})})]})})}),o&&e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 md:p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-gray-800",children:d?"Edit Utility Bill Payment":"Pay Utility Bill"}),e.jsx("button",{onClick:k,className:"text-gray-500 hover:text-gray-700 p-1",children:e.jsx(zt,{className:"h-5 w-5 md:h-6 md:w-6"})})]}),e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Utility Bill*"}),e.jsxs("select",{name:"utilityBill",value:p.utilityBill,onChange:b,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:[e.jsx("option",{value:"",children:"Select Utility Bill"}),r.filter(L=>L.status==="Pending"||L.status==="Overdue").map(L=>{var I;return e.jsxs("option",{value:L.billNumber,children:[L.billNumber," - ",L.provider," (",L.utilityType,") - $",(I=L.totalAmount)==null?void 0:I.toFixed(2)]},L.id)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Date*"}),e.jsx("input",{type:"date",name:"paymentDate",value:p.paymentDate,onChange:b,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Provider"}),e.jsx("input",{type:"text",value:p.provider,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Utility Type"}),e.jsx("input",{type:"text",value:p.utilityType,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bill Amount"}),e.jsx("input",{type:"number",step:"0.01",value:p.billAmount,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-sm md:text-base"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method*"}),e.jsx("select",{name:"paymentMethod",value:p.paymentMethod,onChange:b,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:v.map(L=>e.jsx("option",{value:L,children:L},L))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reference Number"}),e.jsx("input",{type:"text",name:"referenceNumber",value:p.referenceNumber,onChange:b,placeholder:"Check number, transaction ID, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount Paid*"}),e.jsx("input",{type:"number",step:"0.01",name:"amountPaid",value:p.amountPaid,onChange:b,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Amount"}),e.jsx("input",{type:"number",step:"0.01",name:"discountAmount",value:p.discountAmount,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Penalty Amount"}),e.jsx("input",{type:"number",step:"0.01",name:"penaltyAmount",value:p.penaltyAmount,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Payment"}),e.jsx("input",{type:"number",step:"0.01",value:p.totalPayment,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 font-semibold text-sm md:text-base"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account"}),e.jsxs("select",{name:"account",value:p.account,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:[e.jsx("option",{value:"",children:"Select Account"}),n.map(L=>e.jsx("option",{value:L.accountName,children:L.accountName},L.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{name:"status",value:p.status,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:[e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Failed",children:"Failed"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:k,className:"w-full sm:w-auto px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 text-sm md:text-base",children:"Cancel"}),e.jsx("button",{type:"submit",className:"w-full sm:w-auto px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm md:text-base",children:d?"Update Payment":"Make Payment"})]})]})]})]})},Zme=()=>{wm();const[t,s]=N.useState([]),[r,a]=N.useState([]),[n,i]=N.useState(!1),[o,l]=N.useState(null),[d,u]=N.useState(!1),[h,f]=N.useState({entryNumber:"",entryDate:"",description:"",reference:"",status:"Draft"}),[p,g]=N.useState([{account:"",description:"",debit:"",credit:""},{account:"",description:"",debit:"",credit:""}]);N.useEffect(()=>{v();const w=()=>{u(window.innerWidth<768)};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]);const v=()=>{s(Jue()),a(ld())},y=w=>{const{name:E,value:D}=w.target;f(G=>({...G,[E]:D}))},b=(w,E,D)=>{const G=[...p];G[w][E]=D,E==="debit"&&D?G[w].credit="":E==="credit"&&D&&(G[w].debit=""),g(G)},_=()=>{g(w=>[...w,{account:"",description:"",debit:"",credit:""}])},k=w=>{p.length>2&&g(E=>E.filter((D,G)=>G!==w))},A=()=>{const w=p.reduce((D,G)=>D+(parseFloat(G.debit)||0),0),E=p.reduce((D,G)=>D+(parseFloat(G.credit)||0),0);return{totalDebits:w,totalCredits:E}},R=()=>{const{totalDebits:w,totalCredits:E}=A();return Math.abs(w-E)<.01},F=w=>{if(w.preventDefault(),!R()){alert("Journal entry is not balanced. Total debits must equal total credits.");return}const{totalDebits:E}=A(),D={...h,lines:p.filter(G=>G.account&&(G.debit||G.credit)),totalAmount:E};o?console.log("Update journal entry:",D):Zue(D),V(),v()},V=()=>{f({entryNumber:"",entryDate:"",description:"",reference:"",status:"Draft"}),g([{account:"",description:"",debit:"",credit:""},{account:"",description:"",debit:"",credit:""}]),i(!1),l(null)},S=w=>{l(w),f({entryNumber:w.entryNumber,entryDate:w.entryDate,description:w.description||"",reference:w.reference||"",status:w.status}),g(w.lines||[{account:"",description:"",debit:"",credit:""},{account:"",description:"",debit:"",credit:""}]),i(!0)},L=w=>{switch(w){case"Posted":return"text-green-600 bg-green-100";case"Draft":return"text-yellow-600 bg-yellow-100";case"Cancelled":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},{totalDebits:I,totalCredits:B}=A(),T=e.jsx(dr,{variant:"primary",size:"md",onClick:()=>i(!0),children:"+ Create Journal Entry"});return e.jsxs(jm,{title:"Journal Entries",subtitle:"Manage general ledger journal entries",actions:T,children:[!n&&e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:d?e.jsx("div",{className:"divide-y divide-gray-200",children:t.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(xs,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-sm",children:"No journal entries found."}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Create your first journal entry to get started."})]}):t.map(w=>{var E;return e.jsxs("div",{className:"p-4 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(xs,{className:"h-4 w-4 text-blue-500"}),e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:w.entryNumber})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 mb-2",children:[e.jsx(ys,{className:"h-3 w-3"}),e.jsx("span",{children:w.entryDate})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>S(w),className:"text-indigo-600 hover:text-indigo-900 p-1",title:"Edit Entry",children:e.jsx(tr,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-green-600 hover:text-green-900 p-1",title:"Post Entry",children:e.jsx(vs,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900 p-1",title:"Delete Entry",children:e.jsx(ns,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs text-gray-600 line-clamp-2",children:w.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium",children:[e.jsx(Qs,{className:"h-3 w-3 text-green-500"}),e.jsxs("span",{children:["$",(E=w.totalAmount)==null?void 0:E.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[w.reference&&e.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:["Ref: ",w.reference]}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${L(w.status)}`,children:w.status})]})]})]})]},w.id)})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Entry No."}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reference"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(w=>{var E;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:w.entryNumber}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:w.entryDate}),e.jsx("td",{className:"px-4 md:px-6 py-4 text-sm text-gray-900 max-w-xs truncate",children:w.description}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:w.reference||"-"}),e.jsxs("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",(E=w.totalAmount)==null?void 0:E.toFixed(2)]}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${L(w.status)}`,children:w.status})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>S(w),className:"text-indigo-600 hover:text-indigo-900",children:"Edit"}),e.jsx("button",{className:"text-green-600 hover:text-green-900",children:"Post"}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:"Delete"})]})})]},w.id)})})]})})}),n&&e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 md:p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-gray-800",children:o?"Edit Journal Entry":"Create Journal Entry"}),e.jsx("button",{onClick:V,className:"text-gray-500 hover:text-gray-700 p-1",children:e.jsx(zt,{className:"h-5 w-5 md:h-6 md:w-6"})})]}),e.jsxs("form",{onSubmit:F,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Entry Number*"}),e.jsx("input",{type:"text",name:"entryNumber",value:h.entryNumber,onChange:y,required:!0,placeholder:"JE-001",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Entry Date*"}),e.jsx("input",{type:"date",name:"entryDate",value:h.entryDate,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reference"}),e.jsx("input",{type:"text",name:"reference",value:h.reference,onChange:y,placeholder:"Reference number or document",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{name:"status",value:h.status,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:[e.jsx("option",{value:"Draft",children:"Draft"}),e.jsx("option",{value:"Posted",children:"Posted"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description*"}),e.jsx("textarea",{name:"description",value:h.description,onChange:y,required:!0,rows:3,placeholder:"Description of the journal entry...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4",children:[e.jsx("h3",{className:"text-base md:text-lg font-medium text-gray-800",children:"Journal Entry Lines"}),e.jsxs("button",{type:"button",onClick:_,className:"w-full sm:w-auto bg-green-600 text-white px-3 py-2 rounded text-sm hover:bg-green-700 flex items-center justify-center gap-2",children:[e.jsx(bs,{className:"h-4 w-4"}),"Add Line"]})]}),d?e.jsx("div",{className:"space-y-4",children:p.map((w,E)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-700",children:["Line ",E+1]}),p.length>2&&e.jsx("button",{type:"button",onClick:()=>k(E),className:"bg-red-600 text-white p-1 rounded text-xs hover:bg-red-700",title:"Remove Line",children:e.jsx(zt,{className:"h-3 w-3"})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Account*"}),e.jsxs("select",{value:w.account,onChange:D=>b(E,"account",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"",children:"Select Account"}),r.map(D=>e.jsx("option",{value:D.accountName,children:D.accountName},D.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Description"}),e.jsx("input",{type:"text",value:w.description,onChange:D=>b(E,"description",D.target.value),placeholder:"Line description",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Debit"}),e.jsx("input",{type:"number",step:"0.01",value:w.debit,onChange:D=>b(E,"debit",D.target.value),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Credit"}),e.jsx("input",{type:"number",step:"0.01",value:w.credit,onChange:D=>b(E,"credit",D.target.value),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 text-sm"})]})]})]})]},E))}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full border border-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r",children:"Account"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r",children:"Description"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r",children:"Debit"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r",children:"Credit"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map((w,E)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 border-r",children:e.jsxs("select",{value:w.account,onChange:D=>b(E,"account",D.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"",children:"Select Account"}),r.map(D=>e.jsx("option",{value:D.accountName,children:D.accountName},D.id))]})}),e.jsx("td",{className:"px-4 py-3 border-r",children:e.jsx("input",{type:"text",value:w.description,onChange:D=>b(E,"description",D.target.value),placeholder:"Line description",className:"w-full px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 text-sm"})}),e.jsx("td",{className:"px-4 py-3 border-r",children:e.jsx("input",{type:"number",step:"0.01",value:w.debit,onChange:D=>b(E,"debit",D.target.value),placeholder:"0.00",className:"w-full px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 text-sm"})}),e.jsx("td",{className:"px-4 py-3 border-r",children:e.jsx("input",{type:"number",step:"0.01",value:w.credit,onChange:D=>b(E,"credit",D.target.value),placeholder:"0.00",className:"w-full px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 text-sm"})}),e.jsx("td",{className:"px-4 py-3",children:p.length>2&&e.jsx("button",{type:"button",onClick:()=>k(E),className:"bg-red-600 text-white px-2 py-1 rounded text-sm hover:bg-red-700",children:"Remove"})})]},E))})]})}),e.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Debits: "}),e.jsxs("span",{className:"text-sm font-semibold",children:["$",I.toFixed(2)]})]}),e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Credits: "}),e.jsxs("span",{className:"text-sm font-semibold",children:["$",B.toFixed(2)]})]}),e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Balance: "}),e.jsxs("span",{className:`text-sm font-semibold flex items-center justify-center md:justify-start gap-1 ${R()?"text-green-600":"text-red-600"}`,children:["$",Math.abs(I-B).toFixed(2),R()?e.jsx(vs,{className:"h-4 w-4"}):e.jsx(Jl,{className:"h-4 w-4"})]})]})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:V,className:"w-full sm:w-auto px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 text-sm md:text-base",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:!R(),className:`w-full sm:w-auto px-6 py-2 rounded-md text-white text-sm md:text-base ${R()?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"}`,children:o?"Update Entry":"Create Entry"})]})]})]})]})},e0e=()=>{const[t,s]=N.useState([]),[r,a]=N.useState([]),[n,i]=N.useState(0),[o,l]=N.useState(!1),[d,u]=N.useState(null),[h,f]=N.useState(!1),[p,g]=N.useState({transactionType:"Expense",description:"",category:"Office Supplies",amount:"",date:"",receivedBy:"",approvedBy:"",account:"",receipt:"",status:"Approved"}),v=["Expense","Replenishment","Return"],y=["Office Supplies","Travel & Transportation","Meals & Entertainment","Utilities","Postage & Shipping","Repairs & Maintenance","Miscellaneous","Emergency Expenses"];N.useEffect(()=>{b();const T=()=>{f(window.innerWidth<768)};return T(),window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]);const b=()=>{s(eme()),a(ld()),i(sme())},_=T=>{const{name:w,value:E}=T.target;g(D=>({...D,[w]:E}))},k=T=>{T.preventDefault();const w={...p,amount:parseFloat(p.amount)};d?console.log("Update petty cash transaction:",w):tme(w),A(),b()},A=()=>{g({transactionType:"Expense",description:"",category:"Office Supplies",amount:"",date:"",receivedBy:"",approvedBy:"",account:"",receipt:"",status:"Approved"}),l(!1),u(null)},R=T=>{u(T),g({transactionType:T.transactionType,description:T.description,category:T.category||"Office Supplies",amount:T.amount.toString(),date:T.date,receivedBy:T.receivedBy||"",approvedBy:T.approvedBy||"",account:T.account||"",receipt:T.receipt||"",status:T.status}),l(!0)},F=T=>{switch(T){case"Expense":return"text-red-600 bg-red-100";case"Replenishment":return"text-green-600 bg-green-100";case"Return":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}},V=T=>{switch(T){case"Expense":return e.jsx(rx,{className:"h-4 w-4 text-red-500"});case"Replenishment":return e.jsx(wi,{className:"h-4 w-4 text-green-500"});case"Return":return e.jsx(Qs,{className:"h-4 w-4 text-blue-500"});default:return e.jsx(Qs,{className:"h-4 w-4 text-gray-500"})}},S=T=>{switch(T){case"Approved":return"text-green-600 bg-green-100";case"Pending":return"text-yellow-600 bg-yellow-100";case"Rejected":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},L=T=>{switch(T){case"Approved":return e.jsx(vs,{className:"h-3 w-3"});case"Pending":return e.jsx(Ns,{className:"h-3 w-3"});case"Rejected":return e.jsx(Jl,{className:"h-3 w-3"});default:return e.jsx(Ns,{className:"h-3 w-3"})}},I=t.filter(T=>T.transactionType==="Expense").reduce((T,w)=>T+w.amount,0),B=t.filter(T=>T.transactionType==="Replenishment").reduce((T,w)=>T+w.amount,0);return e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-800",children:"Petty Cash Management"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Track and manage petty cash transactions"})]}),e.jsxs("button",{onClick:()=>l(!0),className:"w-full sm:w-auto bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 text-sm md:text-base",children:[e.jsx(bs,{className:"h-4 w-4"}),"Add Transaction"]})]}),!o&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Tw,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Current Balance"}),e.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["$",n.toFixed(2)]})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(rx,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Total Expenses"}),e.jsxs("p",{className:"text-lg font-semibold text-red-600",children:["$",I.toFixed(2)]})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(wi,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Total Replenishments"}),e.jsxs("p",{className:"text-lg font-semibold text-green-600",children:["$",B.toFixed(2)]})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(xs,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Transactions"}),e.jsx("p",{className:"text-lg font-semibold text-purple-600",children:t.length})]})]})})]}),!o&&e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:h?e.jsx("div",{className:"divide-y divide-gray-200",children:t.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(Tw,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-sm",children:"No petty cash transactions found."}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Create your first transaction to get started."})]}):t.map(T=>{var w;return e.jsxs("div",{className:"p-4 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[V(T.transactionType),e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:T.description})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 mb-2",children:[e.jsx(ys,{className:"h-3 w-3"}),e.jsx("span",{children:T.date})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>R(T),className:"text-indigo-600 hover:text-indigo-900 p-1",title:"Edit Transaction",children:e.jsx(tr,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-green-600 hover:text-green-900 p-1",title:"View Receipt",children:e.jsx(AA,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900 p-1",title:"Delete Transaction",children:e.jsx(ns,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-semibold rounded-full ${F(T.transactionType)}`,children:T.transactionType}),e.jsx("span",{className:"text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded",children:T.category})]}),e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-semibold rounded-full ${S(T.status)}`,children:[L(T.status),T.status]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[T.receivedBy&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(er,{className:"h-3 w-3"}),e.jsx("span",{children:T.receivedBy})]}),T.receipt&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(xs,{className:"h-3 w-3"}),e.jsxs("span",{children:["#",T.receipt]})]})]}),e.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${T.transactionType==="Expense"?"text-red-600":"text-green-600"}`,children:[e.jsx(Qs,{className:"h-3 w-3"}),e.jsxs("span",{children:[T.transactionType==="Expense"?"-":"+","$",(w=T.amount)==null?void 0:w.toFixed(2)]})]})]})]})]},T.id)})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Received By"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(T=>{var w;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.date}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${F(T.transactionType)}`,children:T.transactionType})}),e.jsx("td",{className:"px-4 md:px-6 py-4 text-sm text-gray-900 max-w-xs truncate",children:T.description}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.category}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("span",{className:T.transactionType==="Expense"?"text-red-600":"text-green-600",children:[T.transactionType==="Expense"?"-":"+","$",(w=T.amount)==null?void 0:w.toFixed(2)]})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.receivedBy||"-"}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S(T.status)}`,children:T.status})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>R(T),className:"text-indigo-600 hover:text-indigo-900",children:"Edit"}),e.jsx("button",{className:"text-green-600 hover:text-green-900",children:"Receipt"}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:"Delete"})]})})]},T.id)})})]})})}),o&&e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 md:p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-gray-800",children:d?"Edit Transaction":"Add Petty Cash Transaction"}),e.jsx("button",{onClick:A,className:"text-gray-500 hover:text-gray-700 p-1",children:e.jsx(zt,{className:"h-5 w-5 md:h-6 md:w-6"})})]}),e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transaction Type*"}),e.jsx("select",{name:"transactionType",value:p.transactionType,onChange:_,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:v.map(T=>e.jsx("option",{value:T,children:T},T))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date*"}),e.jsx("input",{type:"date",name:"date",value:p.date,onChange:_,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount*"}),e.jsx("input",{type:"number",step:"0.01",name:"amount",value:p.amount,onChange:_,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category*"}),e.jsx("select",{name:"category",value:p.category,onChange:_,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:y.map(T=>e.jsx("option",{value:T,children:T},T))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account"}),e.jsxs("select",{name:"account",value:p.account,onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:[e.jsx("option",{value:"",children:"Select Account"}),r.map(T=>e.jsx("option",{value:T.accountName,children:T.accountName},T.id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description*"}),e.jsx("textarea",{name:"description",value:p.description,onChange:_,required:!0,rows:3,placeholder:"Detailed description of the transaction...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Received By"}),e.jsx("input",{type:"text",name:"receivedBy",value:p.receivedBy,onChange:_,placeholder:"Name of person who received the cash",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Approved By"}),e.jsx("input",{type:"text",name:"approvedBy",value:p.approvedBy,onChange:_,placeholder:"Name of person who approved the transaction",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Receipt Number"}),e.jsx("input",{type:"text",name:"receipt",value:p.receipt,onChange:_,placeholder:"Receipt or voucher number",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{name:"status",value:p.status,onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:[e.jsx("option",{value:"Approved",children:"Approved"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Rejected",children:"Rejected"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:A,className:"w-full sm:w-auto px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 text-sm md:text-base",children:"Cancel"}),e.jsx("button",{type:"submit",className:"w-full sm:w-auto px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm md:text-base",children:d?"Update Transaction":"Add Transaction"})]})]})]})]})},t0e=()=>{const[t,s]=N.useState([]),[r,a]=N.useState([]),[n,i]=N.useState([]),[o,l]=N.useState([]),[d,u]=N.useState(!1),[h,f]=N.useState(null),[p,g]=N.useState(!1),[v,y]=N.useState({chequeNumber:"",chequeType:"Outgoing",payeeName:"",payeeType:"Supplier",bankAccount:"",issueDate:"",postDate:"",amount:"",amountInWords:"",description:"",reference:"",status:"Issued"}),b=["Outgoing","Incoming"],_=["Supplier","Customer","Employee","Other"],k=["Issued","Presented","Cleared","Cancelled","Bounced","Stale"];N.useEffect(()=>{A();const D=()=>{g(window.innerWidth<768)};return D(),window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]);const A=()=>{s(rme()),a(n2()),i(a2()),l(ld())},R=D=>{const G=parseFloat(D);if(isNaN(G))return"";if(G===0)return"Zero dollars only";const K=Math.floor(G),X=Math.round((G-K)*100);let se=`${K} dollars`;return X>0&&(se+=` and ${X} cents`),se+=" only",se},F=D=>{const{name:G,value:K}=D.target;y(X=>({...X,[G]:K})),G==="amount"&&y(X=>({...X,amountInWords:R(K)}))},V=D=>{D.preventDefault();const G={...v,amount:parseFloat(v.amount)};h?console.log("Update cheque:",G):ame(G),S(),A()},S=()=>{y({chequeNumber:"",chequeType:"Outgoing",payeeName:"",payeeType:"Supplier",bankAccount:"",issueDate:"",postDate:"",amount:"",amountInWords:"",description:"",reference:"",status:"Issued"}),u(!1),f(null)},L=D=>{f(D),y({chequeNumber:D.chequeNumber,chequeType:D.chequeType,payeeName:D.payeeName,payeeType:D.payeeType||"Supplier",bankAccount:D.bankAccount||"",issueDate:D.issueDate,postDate:D.postDate||"",amount:D.amount.toString(),amountInWords:D.amountInWords||"",description:D.description||"",reference:D.reference||"",status:D.status}),u(!0)},I=D=>{switch(D){case"Cleared":return"text-green-600 bg-green-100";case"Issued":return"text-blue-600 bg-blue-100";case"Presented":return"text-yellow-600 bg-yellow-100";case"Cancelled":return"text-gray-600 bg-gray-100";case"Bounced":return"text-red-600 bg-red-100";case"Stale":return"text-orange-600 bg-orange-100";default:return"text-gray-600 bg-gray-100"}},B=D=>{switch(D){case"Cleared":return e.jsx(vs,{className:"h-3 w-3"});case"Issued":return e.jsx(xs,{className:"h-3 w-3"});case"Presented":return e.jsx(Ns,{className:"h-3 w-3"});case"Cancelled":return e.jsx(r6,{className:"h-3 w-3"});case"Bounced":return e.jsx(Hs,{className:"h-3 w-3"});case"Stale":return e.jsx(Ns,{className:"h-3 w-3"});default:return e.jsx(xs,{className:"h-3 w-3"})}},T=D=>{switch(D){case"Outgoing":return"text-red-600 bg-red-100";case"Incoming":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},w=D=>{switch(D){case"Outgoing":return e.jsx(Qs,{className:"h-4 w-4 text-red-500"});case"Incoming":return e.jsx(Qs,{className:"h-4 w-4 text-green-500"});default:return e.jsx(Qs,{className:"h-4 w-4 text-gray-500"})}},E=()=>{switch(v.payeeType){case"Supplier":return r.map(D=>({id:D.id,name:D.name}));case"Customer":return n.map(D=>({id:D.id,name:D.customerName}));case"Employee":return[];default:return[]}};return e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-800",children:"Cheque Management"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage cheque issuance and tracking"})]}),e.jsxs("button",{onClick:()=>u(!0),className:"w-full sm:w-auto bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 text-sm md:text-base",children:[e.jsx(bs,{className:"h-4 w-4"}),"Create Cheque"]})]}),!d&&e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:p?e.jsx("div",{className:"divide-y divide-gray-200",children:t.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(xs,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-sm",children:"No cheques found."}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Create your first cheque to get started."})]}):t.map(D=>{var G;return e.jsxs("div",{className:"p-4 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[w(D.chequeType),e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:D.chequeNumber})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 mb-2",children:[e.jsx(er,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate",children:D.payeeName})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>L(D),className:"text-indigo-600 hover:text-indigo-900 p-1",title:"Edit Cheque",children:e.jsx(tr,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-green-600 hover:text-green-900 p-1",title:"Print Cheque",children:e.jsx(Kj,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900 p-1",title:"Cancel Cheque",children:e.jsx(r6,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[e.jsx(ys,{className:"h-3 w-3"}),e.jsxs("span",{children:["Issue: ",D.issueDate]})]}),D.postDate&&e.jsx("div",{className:"flex items-center gap-1 text-gray-600",children:e.jsxs("span",{children:["Post: ",D.postDate]})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-semibold rounded-full ${T(D.chequeType)}`,children:D.chequeType})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium",children:[e.jsx(Qs,{className:"h-3 w-3 text-green-500"}),e.jsxs("span",{children:["$",(G=D.amount)==null?void 0:G.toFixed(2)]})]}),e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-semibold rounded-full ${I(D.status)}`,children:[B(D.status),D.status]})]})]})]})]},D.id)})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cheque No."}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payee"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Issue Date"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Post Date"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(D=>{var G;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:D.chequeNumber}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${T(D.chequeType)}`,children:D.chequeType})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D.payeeName}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D.issueDate}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D.postDate||"-"}),e.jsxs("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",(G=D.amount)==null?void 0:G.toFixed(2)]}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${I(D.status)}`,children:D.status})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>L(D),className:"text-indigo-600 hover:text-indigo-900",children:"Edit"}),e.jsx("button",{className:"text-green-600 hover:text-green-900",children:"Print"}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:"Cancel"})]})})]},D.id)})})]})})}),d&&e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 md:p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-gray-800",children:h?"Edit Cheque":"Create Cheque"}),e.jsx("button",{onClick:S,className:"text-gray-500 hover:text-gray-700 p-1",children:e.jsx(zt,{className:"h-5 w-5 md:h-6 md:w-6"})})]}),e.jsxs("form",{onSubmit:V,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cheque Number*"}),e.jsx("input",{type:"text",name:"chequeNumber",value:v.chequeNumber,onChange:F,required:!0,placeholder:"CHQ001",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cheque Type*"}),e.jsx("select",{name:"chequeType",value:v.chequeType,onChange:F,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:b.map(D=>e.jsx("option",{value:D,children:D},D))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payee Type*"}),e.jsx("select",{name:"payeeType",value:v.payeeType,onChange:F,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:_.map(D=>e.jsx("option",{value:D,children:D},D))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payee Name*"}),v.payeeType==="Other"?e.jsx("input",{type:"text",name:"payeeName",value:v.payeeName,onChange:F,required:!0,placeholder:"Enter payee name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"}):e.jsxs("select",{name:"payeeName",value:v.payeeName,onChange:F,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:[e.jsxs("option",{value:"",children:["Select ",v.payeeType]}),E().map(D=>e.jsx("option",{value:D.name,children:D.name},D.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Account"}),e.jsxs("select",{name:"bankAccount",value:v.bankAccount,onChange:F,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:[e.jsx("option",{value:"",children:"Select Bank Account"}),o.filter(D=>D.accountSubCategory==="Current Assets").map(D=>e.jsx("option",{value:D.accountName,children:D.accountName},D.id))]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Issue Date*"}),e.jsx("input",{type:"date",name:"issueDate",value:v.issueDate,onChange:F,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Post Date"}),e.jsx("input",{type:"date",name:"postDate",value:v.postDate,onChange:F,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount*"}),e.jsx("input",{type:"number",step:"0.01",name:"amount",value:v.amount,onChange:F,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reference"}),e.jsx("input",{type:"text",name:"reference",value:v.reference,onChange:F,placeholder:"Invoice number, bill reference, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount in Words"}),e.jsx("input",{type:"text",name:"amountInWords",value:v.amountInWords,onChange:F,placeholder:"Amount will be auto-converted to words",className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-sm md:text-base",readOnly:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{name:"description",value:v.description,onChange:F,rows:3,placeholder:"Purpose of payment...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsx("select",{name:"status",value:v.status,onChange:F,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm md:text-base",children:k.map(D=>e.jsx("option",{value:D,children:D},D))})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:S,className:"w-full sm:w-auto px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 text-sm md:text-base",children:"Cancel"}),e.jsx("button",{type:"submit",className:"w-full sm:w-auto px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm md:text-base",children:h?"Update Cheque":"Create Cheque"})]})]})]})]})},s0e=()=>{const t=wm(),[s,r]=N.useState([]),[a,n]=N.useState([]),[i,o]=N.useState(""),[l,d]=N.useState(""),[u,h]=N.useState(""),[f,p]=N.useState(!1),[g,v]=N.useState(null),[y,b]=N.useState(!1),_=[{id:1,bankAccount:"Commercial Bank - Current Account",accountNumber:"8001234567",reconciliationDate:"2024-09-30",statementBalance:125e3,bookBalance:123500,difference:1500,status:"pending",outstandingDeposits:2500,outstandingChecks:1e3,createdBy:"John Doe",createdDate:"2024-09-30"},{id:2,bankAccount:"Peoples Bank - Savings Account",accountNumber:"5001987654",reconciliationDate:"2024-09-29",statementBalance:85e3,bookBalance:85e3,difference:0,status:"reconciled",outstandingDeposits:0,outstandingChecks:0,createdBy:"Jane Smith",createdDate:"2024-09-29"},{id:3,bankAccount:"Bank of Ceylon - Current Account",accountNumber:"3007654321",reconciliationDate:"2024-09-28",statementBalance:67500,bookBalance:68200,difference:-700,status:"discrepancy",outstandingDeposits:1200,outstandingChecks:1900,createdBy:"Mike Johnson",createdDate:"2024-09-28"}];N.useEffect(()=>{r(_),n(_)},[]),N.useEffect(()=>{let V=s;i&&(V=V.filter(S=>S.bankAccount.toLowerCase().includes(i.toLowerCase())||S.accountNumber.includes(i)||S.createdBy.toLowerCase().includes(i.toLowerCase()))),l&&(V=V.filter(S=>S.bankAccount===l)),u&&(V=V.filter(S=>S.status===u)),n(V)},[i,l,u,s]);const k=V=>{switch(V){case"reconciled":return e.jsx(vs,{className:"h-4 w-4 text-green-500"});case"pending":return e.jsx(Hs,{className:"h-4 w-4 text-yellow-500"});case"discrepancy":return e.jsx(Jl,{className:"h-4 w-4 text-red-500"});default:return e.jsx(Hs,{className:"h-4 w-4 text-gray-500"})}},A=V=>new Intl.NumberFormat("en-US",{style:"currency",currency:"LKR",minimumFractionDigits:2}).format(V),R=[...new Set(s.map(V=>V.bankAccount))],F=e.jsxs(dr,{variant:"primary",size:t.isMobile?"sm":"md",onClick:()=>p(!0),children:[e.jsx(bs,{className:"h-4 w-4"}),t.isMobile?"":"New Reconciliation"]});return e.jsxs(jm,{title:"Bank Reconciliation",subtitle:"Reconcile bank statements with book records",actions:F,children:[e.jsx(Pa,{className:"mb-4 sm:mb-6",children:e.jsxs(Lo,{cols:t.isMobile?"grid-cols-1":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",gap:"gap-4",children:[e.jsx(yn,{children:e.jsxs("div",{className:"relative",children:[e.jsx(or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(Xd,{type:"text",placeholder:"Search reconciliations...",value:i,onChange:V=>o(V.target.value),className:"pl-10"})]})}),e.jsx(yn,{children:e.jsxs($d,{value:l,onChange:V=>d(V.target.value),children:[e.jsx("option",{value:"",children:"All Banks"}),R.map(V=>e.jsx("option",{value:V,children:V},V))]})}),e.jsx(yn,{children:e.jsxs($d,{value:u,onChange:V=>h(V.target.value),children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"reconciled",children:"Reconciled"}),e.jsx("option",{value:"discrepancy",children:"Discrepancy"})]})}),e.jsx(yn,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(dr,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(Mn,{className:"h-4 w-4"}),t.isMobile?"":"Export"]}),e.jsxs(dr,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(hl,{className:"h-4 w-4"}),t.isMobile?"":"Import"]})]})})]})}),e.jsxs(Lo,{cols:t.isMobile?"grid-cols-1":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",gap:"gap-4 sm:gap-6",className:"mb-4 sm:mb-6",children:[e.jsx(Pa,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:"Total Reconciliations"}),e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900 truncate",children:s.length})]}),e.jsx(Kn,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-500 flex-shrink-0 ml-2"})]})}),e.jsx(Pa,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:"Reconciled"}),e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600 truncate",children:s.filter(V=>V.status==="reconciled").length})]}),e.jsx(vs,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-500 flex-shrink-0 ml-2"})]})}),e.jsx(Pa,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:"Pending"}),e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-yellow-600 truncate",children:s.filter(V=>V.status==="pending").length})]}),e.jsx(Hs,{className:"h-6 w-6 sm:h-8 sm:w-8 text-yellow-500 flex-shrink-0 ml-2"})]})}),e.jsx(Pa,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:"Discrepancies"}),e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-red-600 truncate",children:s.filter(V=>V.status==="discrepancy").length})]}),e.jsx(Jl,{className:"h-6 w-6 sm:h-8 sm:w-8 text-red-500 flex-shrink-0 ml-2"})]})})]}),e.jsx(Pa,{children:t.isMobile?e.jsxs("div",{className:"space-y-4",children:[a.map(V=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:V.bankAccount}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:V.accountNumber})]}),e.jsx("div",{className:"ml-4 flex-shrink-0",children:e.jsxs(qc,{variant:V.status==="reconciled"?"success":V.status==="pending"?"warning":"danger",size:"sm",children:[k(V.status),V.status]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Date:"}),e.jsx("p",{className:"font-medium",children:new Date(V.reconciliationDate).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Statement Balance:"}),e.jsx("p",{className:"font-medium",children:A(V.statementBalance)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Book Balance:"}),e.jsx("p",{className:"font-medium",children:A(V.bookBalance)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Difference:"}),e.jsx("p",{className:`font-medium ${V.difference===0?"text-green-600":V.difference>0?"text-blue-600":"text-red-600"}`,children:A(V.difference)})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-gray-100",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["By: ",V.createdBy]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(dr,{variant:"outline",size:"sm",onClick:()=>v(V),children:e.jsx(tr,{className:"h-3 w-3"})}),e.jsx(dr,{variant:"danger",size:"sm",children:e.jsx(ns,{className:"h-3 w-3"})})]})]})]},V.id)),a.length===0&&e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"No bank reconciliations found."})})]}):e.jsxs(i2,{children:[e.jsxs(o2,{children:[e.jsx(Zr,{children:"Bank Account"}),e.jsx(Zr,{children:"Reconciliation Date"}),e.jsx(Zr,{align:"right",children:"Statement Balance"}),e.jsx(Zr,{align:"right",children:"Book Balance"}),e.jsx(Zr,{align:"right",children:"Difference"}),e.jsx(Zr,{children:"Status"}),e.jsx(Zr,{children:"Created By"}),e.jsx(Zr,{children:"Actions"})]}),e.jsx(l2,{children:a.map(V=>e.jsxs(c2,{children:[e.jsx(ea,{children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:V.bankAccount}),e.jsx("div",{className:"text-sm text-gray-500",children:V.accountNumber})]})}),e.jsx(ea,{children:new Date(V.reconciliationDate).toLocaleDateString()}),e.jsx(ea,{align:"right",children:A(V.statementBalance)}),e.jsx(ea,{align:"right",children:A(V.bookBalance)}),e.jsx(ea,{align:"right",children:e.jsx("span",{className:`font-medium ${V.difference===0?"text-green-600":V.difference>0?"text-blue-600":"text-red-600"}`,children:A(V.difference)})}),e.jsx(ea,{children:e.jsxs(qc,{variant:V.status==="reconciled"?"success":V.status==="pending"?"warning":"danger",size:"sm",children:[k(V.status),V.status]})}),e.jsx(ea,{children:V.createdBy}),e.jsx(ea,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(dr,{variant:"outline",size:"sm",onClick:()=>v(V),children:e.jsx(tr,{className:"h-4 w-4"})}),e.jsx(dr,{variant:"danger",size:"sm",children:e.jsx(ns,{className:"h-4 w-4"})})]})})]},V.id))})]})}),e.jsxs(mM,{isOpen:f,onClose:()=>p(!1),title:"New Bank Reconciliation",size:"md",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Bank reconciliation form would be implemented here."}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(dr,{variant:"secondary",onClick:()=>p(!1),children:"Cancel"}),e.jsx(dr,{variant:"primary",children:"Save"})]})]})]})},as=({module:t,action:s,children:r,fallback:a=null})=>{const{hasPermission:n}=rd();return n(t,s)?r:a};class r0e{constructor(){this.isOpen=!1,this.listeners=[],this.setIsOpen=this.setIsOpen.bind(this),this.toggle=this.toggle.bind(this),this.close=this.close.bind(this),this.open=this.open.bind(this),this.handleOutsideClick=this.handleOutsideClick.bind(this),this.subscribe=this.subscribe.bind(this),this.unsubscribe=this.unsubscribe.bind(this),typeof window<"u"&&this.setupEventListeners()}setupEventListeners(){document.addEventListener("mousedown",this.handleOutsideClick),document.addEventListener("touchstart",this.handleOutsideClick)}handleOutsideClick(s){}setIsOpen(s){this.isOpen=s,this.notifyListeners()}toggle(){this.setIsOpen(!this.isOpen)}close(){this.setIsOpen(!1)}open(){this.setIsOpen(!0)}subscribe(s){return this.listeners.push(s),()=>this.unsubscribe(s)}unsubscribe(s){const r=this.listeners.indexOf(s);r>-1&&this.listeners.splice(r,1)}notifyListeners(){this.listeners.forEach(s=>s(this.isOpen))}isOutsideClick(s){const r=document.querySelector("[data-sidebar]"),a=document.querySelector("[data-hamburger]");return r&&!r.contains(s.target)&&a&&!a.contains(s.target)}shouldShowOverlay(s,r){return(s||r)&&this.isOpen}handleBreakpointChange(s){s&&this.close()}}const bg=new r0e,a0e=()=>bg.toggle(),n0e=()=>bg.close(),i0e=t=>bg.isOutsideClick(t),o0e=t=>bg.handleBreakpointChange(t);Zp.register($b,Ub,sp,KE,QE,GE,Vf,tp,qd);const l0e=()=>{const[t,s]=N.useState([{name:"Total Employees",value:"-",change:"-",icon:ta},{name:"Present Today",value:"-",change:"-",icon:cn},{name:"On Leave",value:"-",change:"-",icon:ys},{name:"Departments",value:"-",change:"-",icon:Kn}]);return N.useEffect(()=>{async function r(){try{const a=await ul.fetchEmployees(),n=await ix(),i=await Eo.fetchTodayStats();s([{name:"Total Employees",value:a.length,change:"+12%",icon:ta},{name:"Present Today",value:i.present,change:"+2.3%",icon:cn},{name:"On Leave",value:i.on_leave,change:"-5.4%",icon:ys},{name:"Departments",value:n.length,change:"+1",icon:Kn}])}catch(a){console.error("Error fetching dashboard stats:",a)}}r()},[]),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:t.map((r,a)=>e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl hover:scale-105 transition-all duration-300 border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600 mb-1",children:r.name}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.value}),e.jsxs("p",{className:`text-sm mt-3 font-semibold ${r.change.startsWith("+")?"text-green-600":"text-red-600"}`,children:[r.change," from last month"]})]}),e.jsx("div",{className:"bg-blue-100 p-4 rounded-2xl shadow-lg",children:e.jsx(r.icon,{className:"h-8 w-8 text-blue-600"})})]})},a))})},c0e=()=>{const[t,s]=N.useState({labels:[],datasets:[]}),[r,a]=N.useState({labels:[],datasets:[]});return N.useEffect(()=>{async function n(){try{const i=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];let o=[],l=[];for(let p=0;p<7;p++){const g=new Date;g.setDate(g.getDate()-(6-p));const v=g.toISOString().slice(0,10),y=await Eo.getTimeCardsByDate(v),b=new Set;y.forEach(k=>{k.status==="IN"&&b.add(k.employee_id)});const _=await ul.fetchEmployees();o.push(b.size),l.push(_.length-b.size)}s({labels:i,datasets:[{label:"Present",data:o,backgroundColor:"rgba(16, 185, 129, 0.8)",borderColor:"rgba(16, 185, 129, 1)",borderWidth:2,borderRadius:8,borderSkipped:!1},{label:"Absent",data:l,backgroundColor:"rgba(239, 68, 68, 0.8)",borderColor:"rgba(239, 68, 68, 1)",borderWidth:2,borderRadius:8,borderSkipped:!1}]});const d=await ix(),u=await ul.fetchEmployees(),h=d.map(p=>p.name),f=d.map(p=>u.filter(g=>{var v;return((v=g.organization)==null?void 0:v.department)===p.name}).length);a({labels:h,datasets:[{data:f,backgroundColor:["rgba(239, 68, 68, 0.8)","rgba(59, 130, 246, 0.8)","rgba(251, 191, 36, 0.8)","rgba(16, 185, 129, 0.8)","rgba(139, 92, 246, 0.8)","rgba(251, 146, 60, 0.8)"],borderColor:["rgba(239, 68, 68, 1)","rgba(59, 130, 246, 1)","rgba(251, 191, 36, 1)","rgba(16, 185, 129, 1)","rgba(139, 92, 246, 1)","rgba(251, 146, 60, 1)"],borderWidth:2}]})}catch(i){console.error("Error fetching chart data:",i)}}n()},[]),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-gray-200 hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"bg-blue-100 p-2 rounded-xl mr-3",children:e.jsx(Ns,{className:"h-6 w-6 text-blue-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Weekly Attendance"})]}),e.jsx("div",{className:"h-80",children:e.jsx(t8,{data:t,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,font:{size:12,weight:"bold"}}}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{callback:function(n){return n.toLocaleString()},font:{size:11}}},x:{grid:{display:!1},ticks:{font:{size:11}}}}}})})]}),e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-gray-200 hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"bg-green-100 p-2 rounded-xl mr-3",children:e.jsx(Kn,{className:"h-6 w-6 text-green-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Department Distribution"})]}),e.jsx("div",{className:"h-80",children:e.jsx(dU,{data:r,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{usePointStyle:!0,padding:20,font:{size:12,weight:"bold"}}}}}})})]})]})},d0e=({setActiveItem:t})=>{const s=[{icon:ta,label:"Add Employee",action:"employeeMaster",color:"from-blue-500 to-blue-600",iconBg:"bg-blue-100",iconColor:"text-blue-600"},{icon:ys,label:"Leave",action:"leaveMaster",color:"from-green-500 to-green-600",iconBg:"bg-green-100",iconColor:"text-green-600"},{icon:Ns,label:"Time Cards",action:"TimeCard",color:"from-yellow-500 to-yellow-600",iconBg:"bg-yellow-100",iconColor:"text-yellow-600"},{icon:Qs,label:"Loan",action:"employeeLoan",color:"from-purple-500 to-purple-600",iconBg:"bg-purple-100",iconColor:"text-purple-600"},{icon:ed,label:"Leave Calendar",action:"leavecalendar",color:"from-pink-500 to-pink-600",iconBg:"bg-pink-100",iconColor:"text-pink-600"}];return e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-gray-200 mb-8",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-6",children:"Quick Actions"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:s.map((r,a)=>e.jsxs("button",{onClick:()=>t(r.action),className:"group flex flex-col items-center justify-center p-6 rounded-xl bg-gradient-to-br from-gray-50 to-gray-100 hover:from-white hover:to-gray-50 transition-all duration-300 shadow-md hover:shadow-lg hover:scale-105",children:[e.jsx("div",{className:`${r.iconBg} p-3 rounded-xl mb-3 group-hover:scale-110 transition-transform duration-300`,children:e.jsx(r.icon,{className:`h-6 w-6 ${r.iconColor}`})}),e.jsx("span",{className:"text-sm font-semibold text-gray-700 group-hover:text-gray-900 transition-colors duration-300",children:r.label})]},a))})]})},u0e=({user:t,onLogout:s})=>{const[r,a]=N.useState("dashboard"),[n,i]=N.useState(!1),o=uM();N.useEffect(()=>{const f=bg.subscribe(p=>{i(p)});return()=>f()},[]),N.useEffect(()=>{o0e(o.isDesktop)},[o.isDesktop]),N.useEffect(()=>{const f=p=>{(o.isMobile||o.isTablet)&&n&&i0e(p)&&n0e()};return document.addEventListener("mousedown",f),document.addEventListener("touchstart",f),()=>{document.removeEventListener("mousedown",f),document.removeEventListener("touchstart",f)}},[n,o.isMobile,o.isTablet]);const l=()=>{a0e()},d=nc(),u=Z1();N.useEffect(()=>{const f=d.pathname.split("/").filter(Boolean);if(f[0]==="dashboard"&&f[1]==="pms"&&f[2]==="evaluation")a("employeeEvaluation");else{const p=f[1]||"dashboard";p!==r&&a(p)}},[d.pathname]);const h=f=>{a(f),f==="dashboard"?u("/dashboard",{replace:!1}):f==="employeeEvaluation"?u("/dashboard/pms/evaluation",{replace:!1}):u(`/dashboard/${f}`,{replace:!1})};return N.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"auto"})},[r]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[e.jsx(xU,{user:t,onLogout:s,activeItem:r,setActiveItem:h,isOpen:n,setIsOpen:i}),e.jsxs("div",{className:"flex-1 flex flex-col lg:ml-0",children:[e.jsx("nav",{className:"bg-white shadow-lg border-b border-gray-200 flex-shrink-0 z-10",children:e.jsx("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8",children:e.jsxs("div",{className:"flex justify-between h-14 sm:h-16",children:[e.jsx("div",{className:"flex items-center lg:hidden",children:e.jsx("button",{"data-hamburger":!0,onClick:l,className:"text-gray-500 hover:text-gray-700 focus:outline-none p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),e.jsx("div",{className:"hidden lg:flex items-center",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx(Kn,{className:"h-5 w-5 text-white"})}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"HRM Dashboard"})]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-gray-700 flex items-center gap-2",children:["Welcome, ",t.name,e.jsxs("span",{className:"inline-flex items-center gap-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white text-sm font-semibold px-3 py-1 rounded-full",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M10 2a4 4 0 00-4 4v1H4a2 2 0 00-2 2v2h16V9a2 2 0 00-2-2h-2V6a4 4 0 00-4-4zm-2 5V6a2 2 0 114 0v1H8zm-4 6v3a2 2 0 002 2h8a2 2 0 002-2v-3H4z"})}),t.role]})]}),e.jsx(CO,{}),e.jsx("button",{onClick:s,className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:"Logout"})]})]})})}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"py-3 sm:py-4 lg:py-6 px-3 sm:px-4 lg:px-6 xl:px-8",children:r==="employeeMaster"?e.jsx(as,{module:"employeeMaster",action:"view",children:e.jsx(t_,{})}):r==="employeeAdd"?e.jsx(as,{module:"employeeAdd",action:"view",children:e.jsx(EH,{})}):r==="show"?e.jsx(as,{module:"show",action:"view",children:e.jsx(TH,{})}):r==="EmployeeMaster"?e.jsx(as,{module:"EmployeeMaster",action:"view",children:e.jsx(t_,{})}):r==="createNewDeduction"?e.jsx(as,{module:"createNewDeduction",action:"view",children:e.jsx(OH,{})}):r==="shiftTime"?e.jsx(as,{module:"shiftTime",action:"view",children:e.jsx(zH,{})}):r==="createNewAllowance"?e.jsx(as,{module:"createNewAllowance",action:"view",children:e.jsx(YH,{})}):r==="employeeLoan"?e.jsx(as,{module:"employeeLoan",action:"view",children:e.jsx(ZH,{})}):r==="viewLoans"?e.jsx(as,{module:"viewLoans",action:"view",children:e.jsx(lae,{})}):r==="noPayManagement"?e.jsx(as,{module:"noPayManagement",action:"view",children:e.jsx(qse,{})}):r==="hrLeaveApproval"?e.jsx(as,{module:"hrLeaveApproval",action:"view",children:e.jsx(nae,{})}):r==="leaveApproval"?e.jsx(as,{module:"leaveApproval",action:"view",children:e.jsx(aae,{})}):r==="leaveMaster"?e.jsx(as,{module:"leaveMaster",action:"view",children:e.jsx(jte,{})}):r==="TimeCard"?e.jsx(as,{module:"TimeCard",action:"view",children:e.jsx(ste,{})}):r==="Overtime"?e.jsx(as,{module:"Overtime",action:"view",children:e.jsx(ite,{})}):r==="departmentMaster"?e.jsx(as,{module:"departmentMaster",action:"view",children:e.jsx(lte,{})}):r==="grouproster"?e.jsx(as,{module:"grouproster",action:"view",children:e.jsx(xte,{})}):r==="leavecalendar"?e.jsx(as,{module:"leavecalendar",action:"view",children:e.jsx(Hse,{})}):r==="SalaryProcessPage"?e.jsx(as,{module:"SalaryProcessPage",action:"view",children:e.jsx(rae,{})}):r==="termination"?e.jsx(as,{module:"termination",action:"view",children:e.jsx(oae,{})}):r==="SalaryPage"?e.jsx(as,{module:"SalaryPage",action:"view",children:e.jsx(cae,{})}):r==="resignation"?e.jsx(as,{module:"resignation",action:"view",children:e.jsx(iae,{})}):r==="userManagement"?e.jsx(as,{module:"userManagement",action:"view",children:e.jsx(dae,{})}):r==="pmsDashboard"?e.jsx(as,{module:"pmsDashboard",action:"view",children:e.jsx(mae,{})}):r==="performanceReviews"?e.jsx(as,{module:"performanceReviews",action:"view",children:e.jsx(Mae,{})}):r==="kpis"?e.jsx(as,{module:"kpis",action:"view",children:e.jsx(Uae,{})}):r==="employeeEvaluation"?e.jsx(qae,{}):r==="PerformanceAppraisal"?e.jsx(as,{module:"PerformanceAppraisal",action:"view",children:e.jsx(Vae,{})}):r==="taskApproval"?e.jsx(as,{module:"taskApproval",action:"view",children:e.jsx(Xae,{})}):r==="myKPIs"?e.jsx(as,{module:"myKPIs",action:"view",children:e.jsx(Gae,{})}):r==="lms"?e.jsx(as,{module:"lms",action:"view",children:e.jsx(Of,{})}):r==="lmsDashboard"?e.jsx(as,{module:"lms",action:"view",children:e.jsx(Of,{initialView:"dashboard"})}):r==="manageExams"?e.jsx(as,{module:"manageExams",action:"view",children:e.jsx(Of,{initialView:"exams"})}):r==="manageCourses"?e.jsx(as,{module:"manageCourses",action:"view",children:e.jsx(Of,{initialView:"manage"})}):r==="myProgress"?e.jsx(as,{module:"myProgress",action:"view",children:e.jsx(Of,{initialView:"progress"})}):r==="lmsUserStats"?e.jsx(as,{module:"lmsUserStats",action:"view",children:e.jsx(nue,{})}):r==="accountingDashboard"?e.jsx(as,{module:"accountingDashboard",action:"view",children:e.jsx(dme,{setActiveItem:a})}):r==="customer"?e.jsx(as,{module:"customer",action:"view",children:e.jsx(wme,{})}):r==="center"?e.jsx(as,{module:"center",action:"view",children:e.jsx(Eme,{})}):r==="chartOfAccounts"?e.jsx(as,{module:"chartOfAccounts",action:"view",children:e.jsx(ume,{})}):r==="accountList"?e.jsx(as,{module:"accountList",action:"view",children:e.jsx(vme,{})}):r==="transactions"?e.jsx(as,{module:"transactions",action:"view",children:e.jsx(vA,{})}):r==="transactionsList"?e.jsx(as,{module:"transactionsList",action:"view",children:e.jsx(vA,{})}):r==="ledger"?e.jsx(as,{module:"ledger",action:"view",children:e.jsx(Tme,{})}):r==="trialBalance"?e.jsx(as,{module:"trialBalance",action:"view",children:e.jsx(Dme,{})}):r==="incomeStatement"?e.jsx(as,{module:"incomeStatement",action:"view",children:e.jsx(Pme,{})}):r==="balanceSheet"?e.jsx(as,{module:"balanceSheet",action:"view",children:e.jsx(Mme,{})}):r==="cashFlowStatement"?e.jsx(as,{module:"cashFlowStatement",action:"view",children:e.jsx(Lme,{})}):r==="invoices"?e.jsx(as,{module:"invoices",action:"view",children:e.jsx(Fme,{})}):r==="salesOrder"?e.jsx(as,{module:"salesOrder",action:"view",children:e.jsx(Rme,{})}):r==="salesReturn"?e.jsx(as,{module:"salesReturn",action:"view",children:e.jsx(Ome,{})}):r==="grn"?e.jsx(as,{module:"grn",action:"view",children:e.jsx(Ime,{})}):r==="purchaseReturn"?e.jsx(as,{module:"purchaseReturn",action:"view",children:e.jsx(Bme,{})}):r==="purchaseOrder"?e.jsx(as,{module:"purchaseOrder",action:"view",children:e.jsx(zme,{})}):r==="stockTransfer"?e.jsx(as,{module:"stockTransfer",action:"view",children:e.jsx($me,{})}):r==="stockVerification"?e.jsx(as,{module:"stockVerification",action:"view",children:e.jsx(Ume,{})}):r==="expenses"?e.jsx(as,{module:"expenses",action:"view",children:e.jsx(Vme,{})}):r==="accountingReports"?e.jsx(as,{module:"accountingReports",action:"view",children:e.jsx(qme,{})}):r==="accountingSettings"?e.jsx(as,{module:"accountingSettings",action:"view",children:e.jsx(Hme,{})}):r==="supplierEnterBill"?e.jsx(as,{module:"supplierEnterBill",action:"view",children:e.jsx(Wme,{})}):r==="payment"?e.jsx(as,{module:"payment",action:"view",children:e.jsx(Gme,{})}):r==="advancePayment"?e.jsx(as,{module:"advancePayment",action:"view",children:e.jsx(Yme,{})}):r==="makeDeposit"?e.jsx(as,{module:"makeDeposit",action:"view",children:e.jsx(Kme,{})}):r==="receipt"?e.jsx(as,{module:"receipt",action:"view",children:e.jsx(Xme,{})}):r==="createUtilityBill"?e.jsx(as,{module:"createUtilityBill",action:"view",children:e.jsx(Qme,{})}):r==="utilityBillPayment"?e.jsx(as,{module:"utilityBillPayment",action:"view",children:e.jsx(Jme,{})}):r==="journalEntry"?e.jsx(as,{module:"journalEntry",action:"view",children:e.jsx(Zme,{})}):r==="pettyCash"?e.jsx(as,{module:"pettyCash",action:"view",children:e.jsx(e0e,{})}):r==="cheque"?e.jsx(as,{module:"cheque",action:"view",children:e.jsx(t0e,{})}):r==="bankReconciliation"?e.jsx(as,{module:"bankReconciliation",action:"view",children:e.jsx(s0e,{})}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"HRM Dashboard"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Welcome to your comprehensive HR management system"})]}),e.jsx(l0e,{}),e.jsx(d0e,{setActiveItem:a}),e.jsx(c0e,{}),e.jsx("div",{className:"flex justify-center"})]})})})]})]})},m0e=({message:t})=>t?e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm animate-in slide-in-from-top-1 duration-300",children:t}):null,h0e=({isLogin:t,formData:s,onChange:r,onSubmit:a,loading:n,error:i,errors:o={},showPassword:l,togglePassword:d,showConfirmPassword:u,toggleConfirmPassword:h})=>e.jsxs("div",{className:"space-y-6",children:[i&&e.jsx(m0e,{message:i}),!t&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(er,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"name",name:"name",type:"text",required:!t,value:s.name||"",onChange:r,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors duration-200",placeholder:"Enter your full name"})]}),o.name&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:o.name[0]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(hx,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:s.email||"",onChange:r,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors duration-200",placeholder:"Enter your email"})]}),o.email&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:o.email[0]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(i6,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"password",name:"password",type:l?"text":"password",required:!0,value:s.password||"",onChange:r,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors duration-200",placeholder:"Enter your password"}),e.jsx("button",{type:"button",onClick:d,className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:l?e.jsx(Ew,{className:"h-5 w-5"}):e.jsx(Or,{className:"h-5 w-5"})})]}),o.password&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:o.password[0]})]}),!t&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(i6,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:u?"text":"password",required:!t,value:s.confirmPassword||"",onChange:r,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors duration-200",placeholder:"Confirm your password"}),e.jsx("button",{type:"button",onClick:h,className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:u?e.jsx(Ew,{className:"h-5 w-5"}):e.jsx(Or,{className:"h-5 w-5"})})]}),o.confirmPassword&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:o.confirmPassword[0]})]}),e.jsx("button",{type:"button",onClick:a,disabled:n,className:"w-full bg-indigo-600 text-white py-3 px-4 rounded-lg hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center gap-2 font-medium",children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),t?"Signing In...":"Creating Account..."]}):e.jsxs(e.Fragment,{children:[t?"Sign In":"Create Account",e.jsx(zL,{className:"h-5 w-5"})]})})]}),x0e=({onSuccess:t,loading:s})=>{const[r,a]=N.useState({email:"",password:""}),[n,i]=N.useState(!1),[o,l]=N.useState({}),[d,u]=N.useState(!1),h=p=>{a({...r,[p.target.name]:p.target.value}),l(g=>({...g,[p.target.name]:null}))},f=async()=>{if(t){const p=await t(r);p!=null&&p.errors&&l(p.errors)}};return e.jsx(Wn.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:1.2},children:e.jsx(h0e,{isLogin:!0,formData:r,onChange:h,onSubmit:f,loading:n||s,errors:o,showPassword:d,togglePassword:()=>u(!d)})})};function f0e({onSuccess:t}){const[s,r]=N.useState(null),[a,n]=N.useState(!1),[i,o]=N.useState(!1),[l]=N.useState(new Date().getFullYear());N.useEffect(()=>{o(!0)},[]);const d=async f=>{var p,g,v,y;n(!0),r(null);try{await uU(f);const b=await qb();return Yw(b),t&&t(),{}}catch(b){const _=(g=(p=b==null?void 0:b.response)==null?void 0:p.data)==null?void 0:g.errors;return _?{errors:_}:(r(((y=(v=b==null?void 0:b.response)==null?void 0:v.data)==null?void 0:y.message)||"Login failed. Please check your credentials."),{})}finally{n(!1)}},u={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5,when:"beforeChildren",staggerChildren:.2}}},h={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5}}};return e.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row min-h-screen",children:[e.jsxs(Wn.div,{className:"bg-gradient-to-br from-blue-700 via-blue-600 to-indigo-800 text-white lg:w-1/2 p-8 lg:p-12 flex flex-col justify-between relative overflow-hidden",initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.7,ease:"easeOut"},children:[e.jsx("div",{className:"absolute -bottom-24 -left-24 w-64 h-64 rounded-full bg-blue-500 opacity-20"}),e.jsx("div",{className:"absolute top-1/4 -right-16 w-40 h-40 rounded-full bg-indigo-400 opacity-20"}),e.jsx("div",{className:"absolute bottom-1/3 right-1/3 w-24 h-24 rounded-full bg-white opacity-10"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx(Wn.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5,duration:.5},className:"mb-8",children:e.jsx("img",{src:"./logo.png",alt:"HRM System Logo",className:"h-16 w-auto"})}),e.jsx(Wn.h1,{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-6",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7,duration:.5},children:"HRM System"}),e.jsx(Wn.p,{className:"text-lg lg:text-xl text-blue-100 mb-8 max-w-md",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9,duration:.5},children:"Streamline your human resources management with our comprehensive platform."})]}),e.jsxs(Wn.div,{variants:u,initial:"hidden",animate:i?"visible":"hidden",className:"relative z-10 space-y-6 mt-auto",children:[e.jsxs(Wn.div,{variants:h,className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-3 rounded-xl",children:e.jsx(ta,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Employee Management"}),e.jsx("p",{className:"text-blue-100",children:"Manage your workforce efficiently"})]})]}),e.jsxs(Wn.div,{variants:h,className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-3 rounded-xl",children:e.jsx(P0,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Secure & Reliable"}),e.jsx("p",{className:"text-blue-100",children:"Enterprise-grade security"})]})]}),e.jsxs(Wn.div,{variants:h,className:"pt-8 text-sm text-blue-100 border-t border-blue-400/30 mt-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(hx,{className:"h-4 w-4"}),e.jsx("span",{children:"info@cybernetic.lk"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Yl,{className:"h-4 w-4"}),e.jsx("span",{children:"+94 70 250 5007"})]})]})]})]}),e.jsxs(Wn.div,{className:"flex-1 flex flex-col justify-between p-8 lg:p-12 bg-gray-50",initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.7,delay:.3,ease:"easeOut"},children:[e.jsxs(Wn.div,{className:"max-w-md w-full mx-auto mt-auto mb-auto",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8,duration:.5},children:[e.jsxs("div",{className:"bg-white py-8 px-8 rounded-2xl shadow-xl border border-gray-100",children:[e.jsxs(Wn.div,{className:"mb-8 text-center",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1,duration:.5},children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome back"}),e.jsx("p",{className:"text-gray-600",children:"Please sign in to your account"})]}),s&&e.jsxs(Wn.div,{className:"mb-6 p-4 bg-red-50 border-l-4 border-red-500 text-red-700 text-sm rounded-md",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:[e.jsx("p",{className:"font-medium",children:"Login Error"}),e.jsx("p",{children:s})]}),e.jsx(x0e,{onSuccess:d,loading:a}),e.jsx(Wn.div,{className:"mt-6 text-center text-sm text-gray-500",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5,duration:.5},children:e.jsx("p",{children:"Need help? Contact your system administrator"})})]}),e.jsxs(Wn.div,{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg flex items-center",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.7,duration:.5},children:[e.jsx("div",{className:"bg-blue-100 rounded-full p-2 mr-3",children:e.jsx(UF,{size:18,className:"text-blue-700"})}),e.jsx("div",{children:e.jsx("p",{className:"text-sm text-blue-700",children:"Forgot your password? Please contact the IT department to reset your credentials."})})]})]}),e.jsxs(Wn.div,{className:"text-center text-sm text-gray-500 mt-8 pt-4 border-t border-gray-200",initial:{opacity:0},animate:{opacity:1},transition:{delay:2,duration:.5},children:[e.jsxs("p",{children:[" ",l," Cybernetic IT Deparment. All rights reserved."]}),e.jsxs("div",{className:"flex justify-center gap-4 mt-2",children:[e.jsx("a",{href:"#",className:"text-gray-600 hover:text-blue-600 transition-colors",children:"Privacy Policy"}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("a",{href:"#",className:"text-gray-600 hover:text-blue-600 transition-colors",children:"Terms of Service"}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("a",{href:"#",className:"text-gray-600 hover:text-blue-600 transition-colors",children:"Help"})]})]})]})]})}function wA(){const[t,s]=N.useState(rp()),r=Z1(),a=nc(),{setAuthUser:n,clearAuth:i}=rd();N.useEffect(()=>{async function d(){try{const u=await qb();s(u),Yw(u),r("/dashboard",{replace:!0})}catch{s(null),Bv()}}t?a.pathname.startsWith("/dashboard")||r("/dashboard",{replace:!0}):d()},[]);const o=async()=>{try{const d=await qb();s(d),Yw(d),n(d);const u=a.state&&a.state.from||"/dashboard";r(u)}catch{s(null),Bv(),i()}},l=async()=>{try{await mU(),localStorage.removeItem("employeeFormData")}catch{}Bv(),s(null),i(),r("/",{replace:!0})};return t?e.jsx(u0e,{user:t,onLogout:l}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-slate-100",children:e.jsx("div",{className:"flex min-h-screen",children:e.jsx(f0e,{onSuccess:o})})})}function p0e(){return e.jsxs($ne,{children:[e.jsx(jb,{path:"/",element:e.jsx(wA,{})}),e.jsx(jb,{path:"/dashboard/*",element:e.jsx(wA,{})}),e.jsx(jb,{path:"*",element:e.jsx(Bne,{to:"/",replace:!0})})]})}function g0e(){const{pathname:t,search:s,hash:r}=nc();return N.useEffect(()=>{if(r){const a=document.querySelector(r);if(a){a.scrollIntoView({behavior:"auto",block:"start"});return}}window.scrollTo({top:0,left:0,behavior:"auto"})},[t,s,r]),null}kL.createRoot(document.getElementById("root")).render(e.jsx(N.StrictMode,{children:e.jsx(die,{children:e.jsxs(hU,{children:[e.jsx(g0e,{}),e.jsx(p0e,{})]})})}));export{qr as _,b0e as c,jA as g};
